parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"J4Nk":[function(require,module,exports) {
"use strict";var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;function n(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function o(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(r){return t[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}module.exports=o()?Object.assign:function(o,c){for(var a,i,s=n(o),f=1;f<arguments.length;f++){for(var u in a=Object(arguments[f]))t.call(a,u)&&(s[u]=a[u]);if(r){i=r(a);for(var b=0;b<i.length;b++)e.call(a,i[b])&&(s[i[b]]=a[i[b]])}}return s};
},{}],"awqi":[function(require,module,exports) {
"use strict";var e=require("object-assign"),r="function"==typeof Symbol&&Symbol.for,t=r?Symbol.for("react.element"):60103,n=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,f=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,i=r?Symbol.for("react.forward_ref"):60112,a=r?Symbol.for("react.suspense"):60113;r&&Symbol.for("react.suspense_list");var s=r?Symbol.for("react.memo"):60115,p=r?Symbol.for("react.lazy"):60116;r&&Symbol.for("react.fundamental"),r&&Symbol.for("react.responder"),r&&Symbol.for("react.scope");var y="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)r+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function h(e,r,t){this.props=e,this.context=r,this.refs=v,this.updater=t||m}function b(){}function S(e,r,t){this.props=e,this.context=r,this.refs=v,this.updater=t||m}h.prototype.isReactComponent={},h.prototype.setState=function(e,r){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,r,"setState")},h.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=h.prototype;var _=S.prototype=new b;_.constructor=S,e(_,h.prototype),_.isPureReactComponent=!0;var k={current:null},$={current:null},g=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function C(e,r,n){var o,u={},f=null,l=null;if(null!=r)for(o in void 0!==r.ref&&(l=r.ref),void 0!==r.key&&(f=""+r.key),r)g.call(r,o)&&!w.hasOwnProperty(o)&&(u[o]=r[o]);var c=arguments.length-2;if(1===c)u.children=n;else if(1<c){for(var i=Array(c),a=0;a<c;a++)i[a]=arguments[a+2];u.children=i}if(e&&e.defaultProps)for(o in c=e.defaultProps)void 0===u[o]&&(u[o]=c[o]);return{$$typeof:t,type:e,key:f,ref:l,props:u,_owner:$.current}}function E(e,r){return{$$typeof:t,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function R(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}function x(e){var r={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return r[e]})}var P=/\/+/g,j=[];function O(e,r,t,n){if(j.length){var o=j.pop();return o.result=e,o.keyPrefix=r,o.func=t,o.context=n,o.count=0,o}return{result:e,keyPrefix:r,func:t,context:n,count:0}}function A(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>j.length&&j.push(e)}function I(e,r,o,u){var f=typeof e;"undefined"!==f&&"boolean"!==f||(e=null);var l=!1;if(null===e)l=!0;else switch(f){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case t:case n:l=!0}}if(l)return o(u,e,""===r?"."+q(e,0):r),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var i=r+q(f=e[c],c);l+=I(f,i,o,u)}else if(null===e||"object"!=typeof e?i=null:i="function"==typeof(i=y&&e[y]||e["@@iterator"])?i:null,"function"==typeof i)for(e=i.call(e),c=0;!(f=e.next()).done;)l+=I(f=f.value,i=r+q(f,c++),o,u);else if("object"===f)throw o=""+e,Error(d(31,"[object Object]"===o?"object with keys {"+Object.keys(e).join(", ")+"}":o,""));return l}function U(e,r,t){return null==e?0:I(e,"",r,t)}function q(e,r){return"object"==typeof e&&null!==e&&null!=e.key?x(e.key):r.toString(36)}function F(e,r){e.func.call(e.context,r,e.count++)}function L(e,r,t){var n=e.result,o=e.keyPrefix;e=e.func.call(e.context,r,e.count++),Array.isArray(e)?M(e,n,t,function(e){return e}):null!=e&&(R(e)&&(e=E(e,o+(!e.key||r&&r.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+t)),n.push(e))}function M(e,r,t,n,o){var u="";null!=t&&(u=(""+t).replace(P,"$&/")+"/"),U(e,L,r=O(r,u,n,o)),A(r)}function D(){var e=k.current;if(null===e)throw Error(d(321));return e}var V={Children:{map:function(e,r,t){if(null==e)return e;var n=[];return M(e,n,null,r,t),n},forEach:function(e,r,t){if(null==e)return e;U(e,F,r=O(null,null,r,t)),A(r)},count:function(e){return U(e,function(){return null},null)},toArray:function(e){var r=[];return M(e,r,null,function(e){return e}),r},only:function(e){if(!R(e))throw Error(d(143));return e}},createRef:function(){return{current:null}},Component:h,PureComponent:S,createContext:function(e,r){return void 0===r&&(r=null),(e={$$typeof:c,_calculateChangedBits:r,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:i,render:e}},lazy:function(e){return{$$typeof:p,_ctor:e,_status:-1,_result:null}},memo:function(e,r){return{$$typeof:s,type:e,compare:void 0===r?null:r}},useCallback:function(e,r){return D().useCallback(e,r)},useContext:function(e,r){return D().useContext(e,r)},useEffect:function(e,r){return D().useEffect(e,r)},useImperativeHandle:function(e,r,t){return D().useImperativeHandle(e,r,t)},useDebugValue:function(){},useLayoutEffect:function(e,r){return D().useLayoutEffect(e,r)},useMemo:function(e,r){return D().useMemo(e,r)},useReducer:function(e,r,t){return D().useReducer(e,r,t)},useRef:function(e){return D().useRef(e)},useState:function(e){return D().useState(e)},Fragment:o,Profiler:f,StrictMode:u,Suspense:a,createElement:C,cloneElement:function(r,n,o){if(null==r)throw Error(d(267,r));var u=e({},r.props),f=r.key,l=r.ref,c=r._owner;if(null!=n){if(void 0!==n.ref&&(l=n.ref,c=$.current),void 0!==n.key&&(f=""+n.key),r.type&&r.type.defaultProps)var i=r.type.defaultProps;for(a in n)g.call(n,a)&&!w.hasOwnProperty(a)&&(u[a]=void 0===n[a]&&void 0!==i?i[a]:n[a])}var a=arguments.length-2;if(1===a)u.children=o;else if(1<a){i=Array(a);for(var s=0;s<a;s++)i[s]=arguments[s+2];u.children=i}return{$$typeof:t,type:r.type,key:f,ref:l,props:u,_owner:c}},createFactory:function(e){var r=C.bind(null,e);return r.type=e,r},isValidElement:R,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:k,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:$,IsSomeRendererActing:{current:!1},assign:e}},B={default:V},N=B&&V||B;module.exports=N.default||N;
},{"object-assign":"J4Nk"}],"n8MK":[function(require,module,exports) {
"use strict";module.exports=require("./cjs/react.production.min.js");
},{"./cjs/react.production.min.js":"awqi"}],"IvPb":[function(require,module,exports) {
"use strict";var e,t,n,r,o;if(Object.defineProperty(exports,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var a=null,l=null,i=function(){if(null!==a)try{var e=exports.unstable_now();a(!0,e),a=null}catch(t){throw setTimeout(i,0),t}},u=Date.now();exports.unstable_now=function(){return Date.now()-u},e=function(t){null!==a?setTimeout(e,0,t):(a=t,setTimeout(i,0))},t=function(e,t){l=setTimeout(e,t)},n=function(){clearTimeout(l)},r=function(){return!1},o=exports.unstable_forceFrameRate=function(){}}else{var s=window.performance,c=window.Date,f=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var b=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof s&&"function"==typeof s.now)exports.unstable_now=function(){return s.now()};else{var d=c.now();exports.unstable_now=function(){return c.now()-d}}var v=!1,x=null,w=-1,m=5,y=0;r=function(){return exports.unstable_now()>=y},o=function(){},exports.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):m=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,h=_.port2;_.port1.onmessage=function(){if(null!==x){var e=exports.unstable_now();y=e+m;try{x(!0,e)?h.postMessage(null):(v=!1,x=null)}catch(t){throw h.postMessage(null),t}}else v=!1},e=function(e){x=e,v||(v=!0,h.postMessage(null))},t=function(e,t){w=f(function(){e(exports.unstable_now())},t)},n=function(){p(w),w=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=Math.floor((n-1)/2),o=e[r];if(!(void 0!==o&&0<M(o,t)))break e;e[r]=t,e[n]=o,n=r}}function T(e){return void 0===(e=e[0])?null:e}function g(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var a=2*(r+1)-1,l=e[a],i=a+1,u=e[i];if(void 0!==l&&0>M(l,n))void 0!==u&&0>M(u,l)?(e[r]=u,e[i]=n,r=i):(e[r]=l,e[a]=n,r=a);else{if(!(void 0!==u&&0>M(u,n)))break e;e[r]=u,e[i]=n,r=i}}}return t}return null}function M(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var P=[],F=[],I=1,C=null,A=3,L=!1,j=!1,q=!1;function D(e){for(var t=T(F);null!==t;){if(null===t.callback)g(F);else{if(!(t.startTime<=e))break;g(F),t.sortIndex=t.expirationTime,k(P,t)}t=T(F)}}function R(n){if(q=!1,D(n),!j)if(null!==T(P))j=!0,e(E);else{var r=T(F);null!==r&&t(R,r.startTime-n)}}function E(e,o){j=!1,q&&(q=!1,n()),L=!0;var a=A;try{for(D(o),C=T(P);null!==C&&(!(C.expirationTime>o)||e&&!r());){var l=C.callback;if(null!==l){C.callback=null,A=C.priorityLevel;var i=l(C.expirationTime<=o);o=exports.unstable_now(),"function"==typeof i?C.callback=i:C===T(P)&&g(P),D(o)}else g(P);C=T(P)}if(null!==C)var u=!0;else{var s=T(F);null!==s&&t(R,s.startTime-o),u=!1}return u}finally{C=null,A=a,L=!1}}function N(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=o;exports.unstable_ImmediatePriority=1,exports.unstable_UserBlockingPriority=2,exports.unstable_NormalPriority=3,exports.unstable_IdlePriority=5,exports.unstable_LowPriority=4,exports.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},exports.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},exports.unstable_scheduleCallback=function(r,o,a){var l=exports.unstable_now();if("object"==typeof a&&null!==a){var i=a.delay;i="number"==typeof i&&0<i?l+i:l,a="number"==typeof a.timeout?a.timeout:N(r)}else a=N(r),i=l;return r={id:I++,callback:o,priorityLevel:r,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>l?(r.sortIndex=i,k(F,r),null===T(P)&&r===T(F)&&(q?n():q=!0,t(R,i-l))):(r.sortIndex=a,k(P,r),j||L||(j=!0,e(E))),r},exports.unstable_cancelCallback=function(e){e.callback=null},exports.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}},exports.unstable_getCurrentPriorityLevel=function(){return A},exports.unstable_shouldYield=function(){var e=exports.unstable_now();D(e);var t=T(P);return t!==C&&null!==C&&null!==t&&null!==t.callback&&t.startTime<=e&&t.expirationTime<C.expirationTime||r()},exports.unstable_requestPaint=B,exports.unstable_continueExecution=function(){j||L||(j=!0,e(E))},exports.unstable_pauseExecution=function(){},exports.unstable_getFirstCallbackNode=function(){return T(P)},exports.unstable_Profiling=null;
},{}],"MDSO":[function(require,module,exports) {
"use strict";module.exports=require("./cjs/scheduler.production.min.js");
},{"./cjs/scheduler.production.min.js":"IvPb"}],"i17t":[function(require,module,exports) {
"use strict";var e=require("react"),t=require("object-assign"),n=require("scheduler");function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!e)throw Error(r(227));var l=null,a={};function i(){if(l)for(var e in a){var t=a[e],n=l.indexOf(e);if(!(-1<n))throw Error(r(96,e));if(!u[n]){if(!t.extractEvents)throw Error(r(97,e));for(var i in u[n]=t,n=t.eventTypes){var s=void 0,f=n[i],d=t,p=i;if(c.hasOwnProperty(p))throw Error(r(99,p));c[p]=f;var m=f.phasedRegistrationNames;if(m){for(s in m)m.hasOwnProperty(s)&&o(m[s],d,p);s=!0}else f.registrationName?(o(f.registrationName,d,p),s=!0):s=!1;if(!s)throw Error(r(98,i,e))}}}}function o(e,t,n){if(s[e])throw Error(r(100,e));s[e]=t,f[e]=t.eventTypes[n].dependencies}var u=[],c={},s={},f={};function d(e,t,n,r,l,a,i,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(s){this.onError(s)}}var p=!1,m=null,h=!1,v=null,g={onError:function(e){p=!0,m=e}};function y(e,t,n,r,l,a,i,o,u){p=!1,m=null,d.apply(g,arguments)}function b(e,t,n,l,a,i,o,u,c){if(y.apply(this,arguments),p){if(!p)throw Error(r(198));var s=m;p=!1,m=null,h||(h=!0,v=s)}}var k=null,w=null,E=null;function x(e,t,n){var r=e.type||"unknown-event";e.currentTarget=E(n),b(r,t,void 0,e),e.currentTarget=null}function T(e,t){if(null==t)throw Error(r(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function S(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var C=null;function P(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)x(e,t[r],n[r]);else t&&x(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function _(e){if(null!==e&&(C=T(C,e)),e=C,C=null,e){if(S(e,P),C)throw Error(r(95));if(h)throw e=v,h=!1,v=null,e}}var N={injectEventPluginOrder:function(e){if(l)throw Error(r(101));l=Array.prototype.slice.call(e),i()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var l=e[t];if(!a.hasOwnProperty(t)||a[t]!==l){if(a[t])throw Error(r(102,t));a[t]=l,n=!0}}n&&i()}};function z(e,t){var n=e.stateNode;if(!n)return null;var l=k(n);if(!l)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(l=!l.disabled)||(l=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!l;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;M.hasOwnProperty("ReactCurrentDispatcher")||(M.ReactCurrentDispatcher={current:null}),M.hasOwnProperty("ReactCurrentBatchConfig")||(M.ReactCurrentBatchConfig={suspense:null});var O=/^(.*)[\\\/]/,U="function"==typeof Symbol&&Symbol.for,I=U?Symbol.for("react.element"):60103,F=U?Symbol.for("react.portal"):60106,D=U?Symbol.for("react.fragment"):60107,R=U?Symbol.for("react.strict_mode"):60108,L=U?Symbol.for("react.profiler"):60114,A=U?Symbol.for("react.provider"):60109,W=U?Symbol.for("react.context"):60110,V=U?Symbol.for("react.concurrent_mode"):60111,j=U?Symbol.for("react.forward_ref"):60112,B=U?Symbol.for("react.suspense"):60113,H=U?Symbol.for("react.suspense_list"):60120,Q=U?Symbol.for("react.memo"):60115,K=U?Symbol.for("react.lazy"):60116;U&&Symbol.for("react.fundamental"),U&&Symbol.for("react.responder"),U&&Symbol.for("react.scope");var $="function"==typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=$&&e[$]||e["@@iterator"])?e:null}function Y(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}function X(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case D:return"Fragment";case F:return"Portal";case L:return"Profiler";case R:return"StrictMode";case B:return"Suspense";case H:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case W:return"Context.Consumer";case A:return"Context.Provider";case j:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Q:return X(e.type);case K:if(e=1===e._status?e._result:null)return X(e)}return null}function G(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,l=e._debugSource,a=X(e.type);n=null,r&&(n=X(r.type)),r=a,a="",l?a=" (at "+l.fileName.replace(O,"")+":"+l.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}var Z=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),J=null,ee=null,te=null;function ne(e){if(e=w(e)){if("function"!=typeof J)throw Error(r(280));var t=k(e.stateNode);J(e.stateNode,e.type,t)}}function re(e){ee?te?te.push(e):te=[e]:ee=e}function le(){if(ee){var e=ee,t=te;if(te=ee=null,ne(e),t)for(e=0;e<t.length;e++)ne(t[e])}}function ae(e,t){return e(t)}function ie(e,t,n,r){return e(t,n,r)}function oe(){}var ue=ae,ce=!1,se=!1;function fe(){null===ee&&null===te||(oe(),le())}new Map;var de=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pe=Object.prototype.hasOwnProperty,me={},he={};function ve(e){return!!pe.call(he,e)||!pe.call(me,e)&&(de.test(e)?he[e]=!0:(me[e]=!0,!1))}function ge(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function ye(e,t,n,r){if(null==t||ge(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function be(e,t,n,r,l,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new be(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new be(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new be(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new be(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new be(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new be(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){ke[e]=new be(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){ke[e]=new be(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){ke[e]=new be(e,5,!1,e.toLowerCase(),null,!1)});var we=/[\-:]([a-z])/g;function Ee(e){return e[1].toUpperCase()}function xe(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Te(e,t,n,r){var l=ke.hasOwnProperty(t)?ke[t]:null;(null!==l?0===l.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(ye(t,n,l,r)&&(n=null),r||null===l?ve(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=null===n?3!==l.type&&"":n:(t=l.attributeName,r=l.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(l=l.type)||4===l&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function Se(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ce(e){var t=Se(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pe(e){e._valueTracker||(e._valueTracker=Ce(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Se(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ne(e,n){var r=n.checked;return t({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ze(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=xe(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Me(e,t){null!=(t=t.checked)&&Te(e,"checked",t,!1)}function Oe(e,t){Me(e,t);var n=xe(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ie(e,t.type,xe(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ue(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ie(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Fe(t){var n="";return e.Children.forEach(t,function(e){null!=e&&(n+=e)}),n}function De(e,n){return e=t({children:void 0},n),(n=Fe(n.children))&&(e.children=n),e}function Re(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xe(n),t=null,l=0;l<e.length;l++){if(e[l].value===n)return e[l].selected=!0,void(r&&(e[l].defaultSelected=!0));null!==t||e[l].disabled||(t=e[l])}null!==t&&(t.selected=!0)}}function Le(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(r(91));return t({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ae(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw Error(r(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(r(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:xe(n)}}function We(e,t){var n=xe(t.value),r=xe(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ve(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(we,Ee);ke[t]=new be(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(we,Ee);ke[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(we,Ee);ke[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new be(e,1,!1,e.toLowerCase(),null,!1)}),ke.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){ke[e]=new be(e,1,!1,e.toLowerCase(),null,!0)});var je={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Be(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Be(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Qe,Ke=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==je.svg||"innerHTML"in e)e.innerHTML=t;else{for((Qe=Qe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $e(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function qe(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ye={animationend:qe("Animation","AnimationEnd"),animationiteration:qe("Animation","AnimationIteration"),animationstart:qe("Animation","AnimationStart"),transitionend:qe("Transition","TransitionEnd")},Xe={},Ge={};function Ze(e){if(Xe[e])return Xe[e];if(!Ye[e])return e;var t,n=Ye[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ge)return Xe[e]=n[t];return e}Z&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete Ye.animationend.animation,delete Ye.animationiteration.animation,delete Ye.animationstart.animation),"TransitionEvent"in window||delete Ye.transitionend.transition);var Je=Ze("animationend"),et=Ze("animationiteration"),tt=Ze("animationstart"),nt=Ze("transitionend"),rt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function lt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function at(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function it(e){if(lt(e)!==e)throw Error(r(188))}function ot(e){var t=e.alternate;if(!t){if(null===(t=lt(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(l=a.return)){n=l;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return it(a),e;if(i===l)return it(a),t;i=i.sibling}throw Error(r(188))}if(n.return!==l.return)n=a,l=i;else{for(var o=!1,u=a.child;u;){if(u===n){o=!0,n=a,l=i;break}if(u===l){o=!0,l=a,n=i;break}u=u.sibling}if(!o){for(u=i.child;u;){if(u===n){o=!0,n=i,l=a;break}if(u===l){o=!0,l=i,n=a;break}u=u.sibling}if(!o)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}function ut(e){if(!(e=ot(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var ct,st,ft,dt=!1,pt=[],mt=null,ht=null,vt=null,gt=new Map,yt=new Map,bt=[],kt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),wt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Et(e){var t=Vn(e);kt.forEach(function(n){jn(n,e,t)}),wt.forEach(function(n){jn(n,e,t)})}function xt(e,t,n,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r}}function Tt(e,t){switch(e){case"focus":case"blur":mt=null;break;case"dragenter":case"dragleave":ht=null;break;case"mouseover":case"mouseout":vt=null;break;case"pointerover":case"pointerout":gt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yt.delete(t.pointerId)}}function St(e,t,n,r,l){return null===e||e.nativeEvent!==l?(e=xt(t,n,r,l),null!==t&&(null!==(t=wr(t))&&st(t)),e):(e.eventSystemFlags|=r,e)}function Ct(e,t,n,r){switch(t){case"focus":return mt=St(mt,e,t,n,r),!0;case"dragenter":return ht=St(ht,e,t,n,r),!0;case"mouseover":return vt=St(vt,e,t,n,r),!0;case"pointerover":var l=r.pointerId;return gt.set(l,St(gt.get(l)||null,e,t,n,r)),!0;case"gotpointercapture":return l=r.pointerId,yt.set(l,St(yt.get(l)||null,e,t,n,r)),!0}return!1}function Pt(e){var t=kr(e.target);if(null!==t){var r=lt(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=at(r)))return e.blockedOn=t,void n.unstable_runWithPriority(e.priority,function(){ft(r)})}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function _t(e){if(null!==e.blockedOn)return!1;var t=Ln(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null!==t){var n=wr(t);return null!==n&&st(n),e.blockedOn=t,!1}return!0}function Nt(e,t,n){_t(e)&&n.delete(t)}function zt(){for(dt=!1;0<pt.length;){var e=pt[0];if(null!==e.blockedOn){null!==(e=wr(e.blockedOn))&&ct(e);break}var t=Ln(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:pt.shift()}null!==mt&&_t(mt)&&(mt=null),null!==ht&&_t(ht)&&(ht=null),null!==vt&&_t(vt)&&(vt=null),gt.forEach(Nt),yt.forEach(Nt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,dt||(dt=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zt)))}function Ot(e){function t(t){return Mt(t,e)}if(0<pt.length){Mt(pt[0],e);for(var n=1;n<pt.length;n++){var r=pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==mt&&Mt(mt,e),null!==ht&&Mt(ht,e),null!==vt&&Mt(vt,e),gt.forEach(t),yt.forEach(t),n=0;n<bt.length;n++)(r=bt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<bt.length&&null===(n=bt[0]).blockedOn;)Pt(n),null===n.blockedOn&&bt.shift()}function Ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function It(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Ft(e,t,n){(t=z(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=T(n._dispatchListeners,t),n._dispatchInstances=T(n._dispatchInstances,e))}function Dt(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=It(t);for(t=n.length;0<t--;)Ft(n[t],"captured",e);for(t=0;t<n.length;t++)Ft(n[t],"bubbled",e)}}function Rt(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=z(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=T(n._dispatchListeners,t),n._dispatchInstances=T(n._dispatchInstances,e))}function Lt(e){e&&e.dispatchConfig.registrationName&&Rt(e._targetInst,null,e)}function At(e){S(e,Dt)}function Wt(){return!0}function Vt(){return!1}function jt(e,t,n,r){for(var l in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(l)&&((t=e[l])?this[l]=t(n):"target"===l?this.target=r:this[l]=n[l]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Wt:Vt,this.isPropagationStopped=Vt,this}function Bt(e,t,n,r){if(this.eventPool.length){var l=this.eventPool.pop();return this.call(l,e,t,n,r),l}return new this(e,t,n,r)}function Ht(e){if(!(e instanceof this))throw Error(r(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Qt(e){e.eventPool=[],e.getPooled=Bt,e.release=Ht}t(jt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){this.isPersistent=Wt},isPersistent:Vt,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Vt,this._dispatchInstances=this._dispatchListeners=null}}),jt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},jt.extend=function(e){function n(){}function r(){return l.apply(this,arguments)}var l=this;n.prototype=l.prototype;var a=new n;return t(a,r.prototype),r.prototype=a,r.prototype.constructor=r,r.Interface=t({},l.Interface,e),r.extend=l.extend,Qt(r),r},Qt(jt);var Kt=jt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),$t=jt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qt=jt.extend({view:null,detail:null}),Yt=qt.extend({relatedTarget:null});function Xt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Gt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function en(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Jt[e])&&!!t[e]}function tn(){return en}for(var nn=qt.extend({key:function(e){if(e.key){var t=Gt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zt[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:tn,charCode:function(e){return"keypress"===e.type?Xt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),rn=0,ln=0,an=!1,on=!1,un=qt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:tn,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=rn;return rn=e.screenX,an?"mousemove"===e.type?e.screenX-t:0:(an=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=ln;return ln=e.screenY,on?"mousemove"===e.type?e.screenY-t:0:(on=!0,0)}}),cn=un.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),sn=un.extend({dataTransfer:null}),fn=qt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:tn}),dn=jt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),pn=un.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),mn=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Je,"animationEnd",2],[et,"animationIteration",2],[tt,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[nt,"transitionEnd",2],["waiting","waiting",2]],hn={},vn={},gn=0;gn<mn.length;gn++){var yn=mn[gn],bn=yn[0],kn=yn[1],wn=yn[2],En="on"+(kn[0].toUpperCase()+kn.slice(1)),xn={phasedRegistrationNames:{bubbled:En,captured:En+"Capture"},dependencies:[bn],eventPriority:wn};hn[kn]=xn,vn[bn]=xn}var Tn={eventTypes:hn,getEventPriority:function(e){return void 0!==(e=vn[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var l=vn[e];if(!l)return null;switch(e){case"keypress":if(0===Xt(n))return null;case"keydown":case"keyup":e=nn;break;case"blur":case"focus":e=Yt;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=fn;break;case Je:case et:case tt:e=Kt;break;case nt:e=dn;break;case"scroll":e=qt;break;case"wheel":e=pn;break;case"copy":case"cut":case"paste":e=$t;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=cn;break;default:e=jt}return At(t=e.getPooled(l,t,n,r)),t}},Sn=n.unstable_UserBlockingPriority,Cn=n.unstable_runWithPriority,Pn=Tn.getEventPriority,_n=10,Nn=[];function zn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=kr(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var l=Ut(e.nativeEvent);r=e.topLevelType;for(var a=e.nativeEvent,i=e.eventSystemFlags,o=null,c=0;c<u.length;c++){var s=u[c];s&&(s=s.extractEvents(r,t,a,l,i))&&(o=T(o,s))}_(o)}}var Mn=!0;function On(e,t){Un(t,e,!1)}function Un(e,t,n){switch(Pn(t)){case 0:var r=In.bind(null,t,1);break;case 1:r=Fn.bind(null,t,1);break;default:r=Rn.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function In(e,t,n){ce||oe();var r=Rn,l=ce;ce=!0;try{ie(r,e,t,n)}finally{(ce=l)||fe()}}function Fn(e,t,n){Cn(Sn,Rn.bind(null,e,t,n))}function Dn(e,t,n,r){if(Nn.length){var l=Nn.pop();l.topLevelType=e,l.eventSystemFlags=t,l.nativeEvent=n,l.targetInst=r,e=l}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:r,ancestors:[]};try{if(t=zn,n=e,se)t(n,void 0);else{se=!0;try{ue(t,n,void 0)}finally{se=!1,fe()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,Nn.length<_n&&Nn.push(e)}}function Rn(e,t,n){if(Mn)if(0<pt.length&&-1<kt.indexOf(e))e=xt(null,e,t,n),pt.push(e);else{var r=Ln(e,t,n);null===r?Tt(e,n):-1<kt.indexOf(e)?(e=xt(r,e,t,n),pt.push(e)):Ct(r,e,t,n)||(Tt(e,n),Dn(e,t,n,null))}}function Ln(e,t,n){var r=Ut(n);if(null!==(r=kr(r))){var l=lt(r);if(null===l)r=null;else{var a=l.tag;if(13===a){if(null!==(r=at(l)))return r;r=null}else if(3===a){if(l.stateNode.hydrate)return 3===l.tag?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return Dn(e,t,n,r),null}function An(e){if(!Z)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var Wn=new("function"==typeof WeakMap?WeakMap:Map);function Vn(e){var t=Wn.get(e);return void 0===t&&(t=new Set,Wn.set(e,t)),t}function jn(e,t,n){if(!n.has(e)){switch(e){case"scroll":Un(t,"scroll",!0);break;case"focus":case"blur":Un(t,"focus",!0),Un(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":An(e)&&Un(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===rt.indexOf(e)&&On(e,t)}n.add(e)}}var Bn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hn=["Webkit","ms","Moz","O"];function Qn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Bn.hasOwnProperty(e)&&Bn[e]?(""+t).trim():t+"px"}function Kn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),l=Qn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}Object.keys(Bn).forEach(function(e){Hn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bn[t]=Bn[e]})});var $n=t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qn(e,t){if(t){if($n[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62,""))}}function Yn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Xn(e,t){var n=Vn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=f[t];for(var r=0;r<t.length;r++)jn(t[r],e,n)}function Gn(){}function Zn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function er(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function tr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function nr(){for(var e=window,t=Zn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Zn((e=t.contentWindow).document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var lr="$",ar="/$",ir="$?",or="$!",ur=null,cr=null;function sr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function fr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var dr="function"==typeof setTimeout?setTimeout:void 0,pr="function"==typeof clearTimeout?clearTimeout:void 0;function mr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function hr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===lr||n===or||n===ir){if(0===t)return e;t--}else n===ar&&t++}e=e.previousSibling}return null}var vr=Math.random().toString(36).slice(2),gr="__reactInternalInstance$"+vr,yr="__reactEventHandlers$"+vr,br="__reactContainere$"+vr;function kr(e){var t=e[gr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[br]||n[gr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=hr(e);null!==e;){if(n=e[gr])return n;e=hr(e)}return t}n=(e=n).parentNode}return null}function wr(e){return!(e=e[gr]||e[br])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Er(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function xr(e){return e[yr]||null}var Tr=null,Sr=null,Cr=null;function Pr(){if(Cr)return Cr;var e,t,n=Sr,r=n.length,l="value"in Tr?Tr.value:Tr.textContent,a=l.length;for(e=0;e<r&&n[e]===l[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===l[a-t];t++);return Cr=l.slice(e,1<t?1-t:void 0)}var _r=jt.extend({data:null}),Nr=jt.extend({data:null}),zr=[9,13,27,32],Mr=Z&&"CompositionEvent"in window,Or=null;Z&&"documentMode"in document&&(Or=document.documentMode);var Ur=Z&&"TextEvent"in window&&!Or,Ir=Z&&(!Mr||Or&&8<Or&&11>=Or),Fr=String.fromCharCode(32),Dr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Rr=!1;function Lr(e,t){switch(e){case"keyup":return-1!==zr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Ar(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Wr=!1;function Vr(e,t){switch(e){case"compositionend":return Ar(t);case"keypress":return 32!==t.which?null:(Rr=!0,Fr);case"textInput":return(e=t.data)===Fr&&Rr?null:e;default:return null}}function jr(e,t){if(Wr)return"compositionend"===e||!Mr&&Lr(e,t)?(e=Pr(),Cr=Sr=Tr=null,Wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ir&&"ko"!==t.locale?null:t.data;default:return null}}var Br={eventTypes:Dr,extractEvents:function(e,t,n,r){var l;if(Mr)e:{switch(e){case"compositionstart":var a=Dr.compositionStart;break e;case"compositionend":a=Dr.compositionEnd;break e;case"compositionupdate":a=Dr.compositionUpdate;break e}a=void 0}else Wr?Lr(e,n)&&(a=Dr.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=Dr.compositionStart);return a?(Ir&&"ko"!==n.locale&&(Wr||a!==Dr.compositionStart?a===Dr.compositionEnd&&Wr&&(l=Pr()):(Sr="value"in(Tr=r)?Tr.value:Tr.textContent,Wr=!0)),a=_r.getPooled(a,t,n,r),l?a.data=l:null!==(l=Ar(n))&&(a.data=l),At(a),l=a):l=null,(e=Ur?Vr(e,n):jr(e,n))?((t=Nr.getPooled(Dr.beforeInput,t,n,r)).data=e,At(t)):t=null,null===l?t:null===t?l:[l,t]}},Hr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hr[e.type]:"textarea"===t}var Kr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function $r(e,t,n){return(e=jt.getPooled(Kr.change,e,t,n)).type="change",re(n),At(e),e}var qr=null,Yr=null;function Xr(e){_(e)}function Gr(e){if(_e(Er(e)))return e}function Zr(e,t){if("change"===e)return t}var Jr=!1;function el(){qr&&(qr.detachEvent("onpropertychange",tl),Yr=qr=null)}function tl(e){if("value"===e.propertyName&&Gr(Yr))if(e=$r(Yr,e,Ut(e)),ce)_(e);else{ce=!0;try{ae(Xr,e)}finally{ce=!1,fe()}}}function nl(e,t,n){"focus"===e?(el(),Yr=n,(qr=t).attachEvent("onpropertychange",tl)):"blur"===e&&el()}function rl(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gr(Yr)}function ll(e,t){if("click"===e)return Gr(t)}function al(e,t){if("input"===e||"change"===e)return Gr(t)}Z&&(Jr=An("input")&&(!document.documentMode||9<document.documentMode));var il,ol={eventTypes:Kr,_isInputEventSupported:Jr,extractEvents:function(e,t,n,r){var l=t?Er(t):window,a=l.nodeName&&l.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===l.type)var i=Zr;else if(Qr(l))if(Jr)i=al;else{i=rl;var o=nl}else(a=l.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(i=ll);if(i&&(i=i(e,t)))return $r(i,n,r);o&&o(e,l,t),"blur"===e&&(e=l._wrapperState)&&e.controlled&&"number"===l.type&&Ie(l,"number",l.value)}},ul={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},cl={eventTypes:ul,extractEvents:function(e,t,n,r,l){var a="mouseover"===e||"pointerover"===e,i="mouseout"===e||"pointerout"===e;if(a&&0==(32&l)&&(n.relatedTarget||n.fromElement)||!i&&!a)return null;if(l=r.window===r?r:(l=r.ownerDocument)?l.defaultView||l.parentWindow:window,i?(i=t,null!==(t=(t=n.relatedTarget||n.toElement)?kr(t):null)&&(t!==(a=lt(t))||5!==t.tag&&6!==t.tag)&&(t=null)):i=null,i===t)return null;if("mouseout"===e||"mouseover"===e)var o=un,u=ul.mouseLeave,c=ul.mouseEnter,s="mouse";else"pointerout"!==e&&"pointerover"!==e||(o=cn,u=ul.pointerLeave,c=ul.pointerEnter,s="pointer");if(e=null==i?l:Er(i),l=null==t?l:Er(t),(u=o.getPooled(u,i,n,r)).type=s+"leave",u.target=e,u.relatedTarget=l,(r=o.getPooled(c,t,n,r)).type=s+"enter",r.target=l,r.relatedTarget=e,s=t,(o=i)&&s)e:{for(e=s,i=0,t=c=o;t;t=It(t))i++;for(t=0,l=e;l;l=It(l))t++;for(;0<i-t;)c=It(c),i--;for(;0<t-i;)e=It(e),t--;for(;i--;){if(c===e||c===e.alternate)break e;c=It(c),e=It(e)}c=null}else c=null;for(e=c,c=[];o&&o!==e&&(null===(i=o.alternate)||i!==e);)c.push(o),o=It(o);for(o=[];s&&s!==e&&(null===(i=s.alternate)||i!==e);)o.push(s),s=It(s);for(s=0;s<c.length;s++)Rt(c[s],"bubbled",u);for(s=o.length;0<s--;)Rt(o[s],"captured",r);return n===il?(il=null,[u]):(il=n,[u,r])}};function sl(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var fl="function"==typeof Object.is?Object.is:sl,dl=Object.prototype.hasOwnProperty;function pl(e,t){if(fl(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!dl.call(t,n[r])||!fl(e[n[r]],t[n[r]]))return!1;return!0}var ml=Z&&"documentMode"in document&&11>=document.documentMode,hl={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},vl=null,gl=null,yl=null,bl=!1;function kl(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return bl||null==vl||vl!==Zn(n)?null:("selectionStart"in(n=vl)&&rr(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yl&&pl(yl,n)?null:(yl=n,(e=jt.getPooled(hl.select,gl,e,t)).type="select",e.target=vl,At(e),e))}var wl={eventTypes:hl,extractEvents:function(e,t,n,r){var l,a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(l=!a)){e:{a=Vn(a),l=f.onSelect;for(var i=0;i<l.length;i++)if(!a.has(l[i])){a=!1;break e}a=!0}l=!a}if(l)return null;switch(a=t?Er(t):window,e){case"focus":(Qr(a)||"true"===a.contentEditable)&&(vl=a,gl=t,yl=null);break;case"blur":yl=gl=vl=null;break;case"mousedown":bl=!0;break;case"contextmenu":case"mouseup":case"dragend":return bl=!1,kl(n,r);case"selectionchange":if(ml)break;case"keydown":case"keyup":return kl(n,r)}return null}};N.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));var El=wr;k=xr,w=El,E=Er,N.injectEventPluginsByName({SimpleEventPlugin:Tn,EnterLeaveEventPlugin:cl,ChangeEventPlugin:ol,SelectEventPlugin:wl,BeforeInputEventPlugin:Br}),new Set;var xl=[],Tl=-1;function Sl(e){0>Tl||(e.current=xl[Tl],xl[Tl]=null,Tl--)}function Cl(e,t){xl[++Tl]=e.current,e.current=t}var Pl={},_l={current:Pl},Nl={current:!1},zl=Pl;function Ml(e,t){var n=e.type.contextTypes;if(!n)return Pl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l,a={};for(l in n)a[l]=t[l];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ol(e){return null!=(e=e.childContextTypes)}function Ul(e){Sl(Nl,e),Sl(_l,e)}function Il(e){Sl(Nl,e),Sl(_l,e)}function Fl(e,t,n){if(_l.current!==Pl)throw Error(r(168));Cl(_l,t,e),Cl(Nl,n,e)}function Dl(e,n,l){var a=e.stateNode;if(e=n.childContextTypes,"function"!=typeof a.getChildContext)return l;for(var i in a=a.getChildContext())if(!(i in e))throw Error(r(108,X(n)||"Unknown",i));return t({},l,{},a)}function Rl(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Pl,zl=_l.current,Cl(_l,t,e),Cl(Nl,Nl.current,e),!0}function Ll(e,t,n){var l=e.stateNode;if(!l)throw Error(r(169));n?(t=Dl(e,t,zl),l.__reactInternalMemoizedMergedChildContext=t,Sl(Nl,e),Sl(_l,e),Cl(_l,t,e)):Sl(Nl,e),Cl(Nl,n,e)}var Al=n.unstable_runWithPriority,Wl=n.unstable_scheduleCallback,Vl=n.unstable_cancelCallback,jl=n.unstable_shouldYield,Bl=n.unstable_requestPaint,Hl=n.unstable_now,Ql=n.unstable_getCurrentPriorityLevel,Kl=n.unstable_ImmediatePriority,$l=n.unstable_UserBlockingPriority,ql=n.unstable_NormalPriority,Yl=n.unstable_LowPriority,Xl=n.unstable_IdlePriority,Gl={},Zl=void 0!==Bl?Bl:function(){},Jl=null,ea=null,ta=!1,na=Hl(),ra=1e4>na?Hl:function(){return Hl()-na};function la(){switch(Ql()){case Kl:return 99;case $l:return 98;case ql:return 97;case Yl:return 96;case Xl:return 95;default:throw Error(r(332))}}function aa(e){switch(e){case 99:return Kl;case 98:return $l;case 97:return ql;case 96:return Yl;case 95:return Xl;default:throw Error(r(332))}}function ia(e,t){return e=aa(e),Al(e,t)}function oa(e,t,n){return e=aa(e),Wl(e,t,n)}function ua(e){return null===Jl?(Jl=[e],ea=Wl(Kl,sa)):Jl.push(e),Gl}function ca(){if(null!==ea){var e=ea;ea=null,Vl(e)}sa()}function sa(){if(!ta&&null!==Jl){ta=!0;var e=0;try{var t=Jl;ia(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),Jl=null}catch(n){throw null!==Jl&&(Jl=Jl.slice(e+1)),Wl(Kl,ca),n}finally{ta=!1}}}var fa=3;function da(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function pa(e,n){if(e&&e.defaultProps)for(var r in n=t({},n),e=e.defaultProps)void 0===n[r]&&(n[r]=e[r]);return n}var ma={current:null},ha=null,va=null,ga=null;function ya(){ga=va=ha=null}function ba(e,t){var n=e.type._context;Cl(ma,n._currentValue,e),n._currentValue=t}function ka(e){var t=ma.current;Sl(ma,e),e.type._context._currentValue=t}function wa(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Ea(e,t){ha=e,ga=va=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(no=!0),e.firstContext=null)}function xa(e,t){if(ga!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(ga=e,t=1073741823),t={context:e,observedBits:t,next:null},null===va){if(null===ha)throw Error(r(308));va=t,ha.dependencies={expirationTime:0,firstContext:t,responders:null}}else va=va.next=t;return e._currentValue}var Ta=!1;function Sa(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ca(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Pa(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function _a(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Na(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,l=null;null===r&&(r=e.updateQueue=Sa(e.memoizedState))}else r=e.updateQueue,l=n.updateQueue,null===r?null===l?(r=e.updateQueue=Sa(e.memoizedState),l=n.updateQueue=Sa(n.memoizedState)):r=e.updateQueue=Ca(l):null===l&&(l=n.updateQueue=Ca(r));null===l||r===l?_a(r,t):null===r.lastUpdate||null===l.lastUpdate?(_a(r,t),_a(l,t)):(_a(r,t),l.lastUpdate=t)}function za(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Sa(e.memoizedState):Ma(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Ma(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Ca(t)),t}function Oa(e,n,r,l,a,i){switch(r.tag){case 1:return"function"==typeof(e=r.payload)?e.call(i,l,a):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null==(a="function"==typeof(e=r.payload)?e.call(i,l,a):e))break;return t({},l,a);case 2:Ta=!0}return l}function Ua(e,t,n,r,l){Ta=!1;for(var a=(t=Ma(e,t)).baseState,i=null,o=0,u=t.firstUpdate,c=a;null!==u;){var s=u.expirationTime;s<l?(null===i&&(i=u,a=c),o<s&&(o=s)):(Vu(s,u.suspenseConfig),c=Oa(e,t,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(s=null,u=t.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<l?(null===s&&(s=u,null===i&&(a=c)),o<f&&(o=f)):(c=Oa(e,t,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===i&&(t.lastUpdate=null),null===s?t.lastCapturedUpdate=null:e.effectTag|=32,null===i&&null===s&&(a=c),t.baseState=a,t.firstUpdate=i,t.firstCapturedUpdate=s,ju(o),e.expirationTime=o,e.memoizedState=c}function Ia(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Fa(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Fa(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Fa(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var l=t;if("function"!=typeof n)throw Error(r(191,n));n.call(l)}e=e.nextEffect}}var Da=M.ReactCurrentBatchConfig,Ra=(new e.Component).refs;function La(e,n,r,l){r=null==(r=r(l,n=e.memoizedState))?n:t({},n,r),e.memoizedState=r,null!==(l=e.updateQueue)&&0===e.expirationTime&&(l.baseState=r)}var Aa={isMounted:function(e){return!!(e=e._reactInternalFiber)&&lt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Pu(),l=Da.suspense;(l=Pa(r=_u(r,e,l),l)).payload=t,null!=n&&(l.callback=n),Na(e,l),Nu(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Pu(),l=Da.suspense;(l=Pa(r=_u(r,e,l),l)).tag=1,l.payload=t,null!=n&&(l.callback=n),Na(e,l),Nu(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Pu(),r=Da.suspense;(r=Pa(n=_u(n,e,r),r)).tag=2,null!=t&&(r.callback=t),Na(e,r),Nu(e,n)}};function Wa(e,t,n,r,l,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!pl(n,r)||!pl(l,a))}function Va(e,t,n){var r=!1,l=Pl,a=t.contextType;return"object"==typeof a&&null!==a?a=xa(a):(l=Ol(t)?zl:_l.current,a=(r=null!=(r=t.contextTypes))?Ml(e,l):Pl),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Aa,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function ja(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Aa.enqueueReplaceState(t,t.state,null)}function Ba(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs=Ra;var a=t.contextType;"object"==typeof a&&null!==a?l.context=xa(a):(a=Ol(t)?zl:_l.current,l.context=Ml(e,a)),null!==(a=e.updateQueue)&&(Ua(e,a,n,l,r),l.state=e.memoizedState),"function"==typeof(a=t.getDerivedStateFromProps)&&(La(e,t,a,n),l.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof l.getSnapshotBeforeUpdate||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||(t=l.state,"function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),t!==l.state&&Aa.enqueueReplaceState(l,l.state,null),null!==(a=e.updateQueue)&&(Ua(e,a,n,l,r),l.state=e.memoizedState)),"function"==typeof l.componentDidMount&&(e.effectTag|=4)}var Ha=Array.isArray;function Qa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var l=n.stateNode}if(!l)throw Error(r(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=l.refs;t===Ra&&(t=l.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Ka(e,t){if("textarea"!==e.type)throw Error(r(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function $a(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function l(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t,n){return(e=sc(e,t,n)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function o(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=pc(n,e.mode,r)).return=e,t):((t=a(t,n,r)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props,r)).ref=Qa(e,t,n),r.return=e,r):((r=fc(n.type,n.key,n.props,null,e.mode,r)).ref=Qa(e,t,n),r.return=e,r)}function s(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=mc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[],r)).return=e,t)}function f(e,t,n,r,l){return null===t||7!==t.tag?((t=dc(n,e.mode,r,l)).return=e,t):((t=a(t,n,r)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=pc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case I:return(n=fc(t.type,t.key,t.props,null,e.mode,n)).ref=Qa(e,null,t),n.return=e,n;case F:return(t=mc(t,e.mode,n)).return=e,t}if(Ha(t)||q(t))return(t=dc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function p(e,t,n,r){var l=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==l?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case I:return n.key===l?n.type===D?f(e,t,n.props.children,r,l):c(e,t,n,r):null;case F:return n.key===l?s(e,t,n,r):null}if(Ha(n)||q(n))return null!==l?null:f(e,t,n,r,null);Ka(e,n)}return null}function m(e,t,n,r,l){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,l);if("object"==typeof r&&null!==r){switch(r.$$typeof){case I:return e=e.get(null===r.key?n:r.key)||null,r.type===D?f(t,e,r.props.children,l,r.key):c(t,e,r,l);case F:return s(t,e=e.get(null===r.key?n:r.key)||null,r,l)}if(Ha(r)||q(r))return f(t,e=e.get(n)||null,r,l,null);Ka(t,r)}return null}function h(r,a,o,u){for(var c=null,s=null,f=a,h=a=0,v=null;null!==f&&h<o.length;h++){f.index>h?(v=f,f=null):v=f.sibling;var g=p(r,f,o[h],u);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(r,f),a=i(g,a,h),null===s?c=g:s.sibling=g,s=g,f=v}if(h===o.length)return n(r,f),c;if(null===f){for(;h<o.length;h++)null!==(f=d(r,o[h],u))&&(a=i(f,a,h),null===s?c=f:s.sibling=f,s=f);return c}for(f=l(r,f);h<o.length;h++)null!==(v=m(f,r,h,o[h],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?h:v.key),a=i(v,a,h),null===s?c=v:s.sibling=v,s=v);return e&&f.forEach(function(e){return t(r,e)}),c}function v(a,o,u,c){var s=q(u);if("function"!=typeof s)throw Error(r(150));if(null==(u=s.call(u)))throw Error(r(151));for(var f=s=null,h=o,v=o=0,g=null,y=u.next();null!==h&&!y.done;v++,y=u.next()){h.index>v?(g=h,h=null):g=h.sibling;var b=p(a,h,y.value,c);if(null===b){null===h&&(h=g);break}e&&h&&null===b.alternate&&t(a,h),o=i(b,o,v),null===f?s=b:f.sibling=b,f=b,h=g}if(y.done)return n(a,h),s;if(null===h){for(;!y.done;v++,y=u.next())null!==(y=d(a,y.value,c))&&(o=i(y,o,v),null===f?s=y:f.sibling=y,f=y);return s}for(h=l(a,h);!y.done;v++,y=u.next())null!==(y=m(h,a,v,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?v:y.key),o=i(y,o,v),null===f?s=y:f.sibling=y,f=y);return e&&h.forEach(function(e){return t(a,e)}),s}return function(e,l,i,u){var c="object"==typeof i&&null!==i&&i.type===D&&null===i.key;c&&(i=i.props.children);var s="object"==typeof i&&null!==i;if(s)switch(i.$$typeof){case I:e:{for(s=i.key,c=l;null!==c;){if(c.key===s){if(7===c.tag?i.type===D:c.elementType===i.type){n(e,c.sibling),(l=a(c,i.type===D?i.props.children:i.props,u)).ref=Qa(e,c,i),l.return=e,e=l;break e}n(e,c);break}t(e,c),c=c.sibling}i.type===D?((l=dc(i.props.children,e.mode,u,i.key)).return=e,e=l):((u=fc(i.type,i.key,i.props,null,e.mode,u)).ref=Qa(e,l,i),u.return=e,e=u)}return o(e);case F:e:{for(c=i.key;null!==l;){if(l.key===c){if(4===l.tag&&l.stateNode.containerInfo===i.containerInfo&&l.stateNode.implementation===i.implementation){n(e,l.sibling),(l=a(l,i.children||[],u)).return=e,e=l;break e}n(e,l);break}t(e,l),l=l.sibling}(l=mc(i,e.mode,u)).return=e,e=l}return o(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==l&&6===l.tag?(n(e,l.sibling),(l=a(l,i,u)).return=e,e=l):(n(e,l),(l=pc(i,e.mode,u)).return=e,e=l),o(e);if(Ha(i))return h(e,l,i,u);if(q(i))return v(e,l,i,u);if(s&&Ka(e,i),void 0===i&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(r(152,e.displayName||e.name||"Component"))}return n(e,l)}}var qa=$a(!0),Ya=$a(!1),Xa={},Ga={current:Xa},Za={current:Xa},Ja={current:Xa};function ei(e){if(e===Xa)throw Error(r(174));return e}function ti(e,t){Cl(Ja,t,e),Cl(Za,e,e),Cl(Ga,Xa,e);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:He(null,"");break;default:t=He(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Sl(Ga,e),Cl(Ga,t,e)}function ni(e){Sl(Ga,e),Sl(Za,e),Sl(Ja,e)}function ri(e){ei(Ja.current);var t=ei(Ga.current),n=He(t,e.type);t!==n&&(Cl(Za,e,e),Cl(Ga,n,e))}function li(e){Za.current===e&&(Sl(Ga,e),Sl(Za,e))}var ai={current:0};function ii(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===ir||n.data===or))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function oi(e,t){return{responder:e,props:t}}var ui=M.ReactCurrentDispatcher,ci=M.ReactCurrentBatchConfig,si=0,fi=null,di=null,pi=null,mi=null,hi=null,vi=null,gi=0,yi=null,bi=0,ki=!1,wi=null,Ei=0;function xi(){throw Error(r(321))}function Ti(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fl(e[n],t[n]))return!1;return!0}function Si(e,t,n,l,a,i){if(si=i,fi=t,pi=null!==e?e.memoizedState:null,ui.current=null===pi?Hi:Qi,t=n(l,a),ki){do{ki=!1,Ei+=1,pi=null!==e?e.memoizedState:null,vi=mi,yi=hi=di=null,ui.current=Qi,t=n(l,a)}while(ki);wi=null,Ei=0}if(ui.current=Bi,(e=fi).memoizedState=mi,e.expirationTime=gi,e.updateQueue=yi,e.effectTag|=bi,e=null!==di&&null!==di.next,si=0,vi=hi=mi=pi=di=fi=null,gi=0,yi=null,bi=0,e)throw Error(r(300));return t}function Ci(){ui.current=Bi,si=0,vi=hi=mi=pi=di=fi=null,gi=0,yi=null,bi=0,ki=!1,wi=null,Ei=0}function Pi(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===hi?mi=hi=e:hi=hi.next=e,hi}function _i(){if(null!==vi)vi=(hi=vi).next,pi=null!==(di=pi)?di.next:null;else{if(null===pi)throw Error(r(310));var e={memoizedState:(di=pi).memoizedState,baseState:di.baseState,queue:di.queue,baseUpdate:di.baseUpdate,next:null};hi=null===hi?mi=e:hi.next=e,pi=di.next}return hi}function Ni(e,t){return"function"==typeof t?t(e):t}function zi(e){var t=_i(),n=t.queue;if(null===n)throw Error(r(311));if(n.lastRenderedReducer=e,0<Ei){var l=n.dispatch;if(null!==wi){var a=wi.get(n);if(void 0!==a){wi.delete(n);var i=t.memoizedState;do{i=e(i,a.action),a=a.next}while(null!==a);return fl(i,t.memoizedState)||(no=!0),t.memoizedState=i,t.baseUpdate===n.last&&(t.baseState=i),n.lastRenderedState=i,[i,l]}}return[t.memoizedState,l]}l=n.last;var o=t.baseUpdate;if(i=t.baseState,null!==o?(null!==l&&(l.next=null),l=o.next):l=null!==l?l.next:null,null!==l){var u=a=null,c=l,s=!1;do{var f=c.expirationTime;f<si?(s||(s=!0,u=o,a=i),f>gi&&ju(gi=f)):(Vu(f,c.suspenseConfig),i=c.eagerReducer===e?c.eagerState:e(i,c.action)),o=c,c=c.next}while(null!==c&&c!==l);s||(u=o,a=i),fl(i,t.memoizedState)||(no=!0),t.memoizedState=i,t.baseUpdate=u,t.baseState=a,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function Mi(e){var t=Pi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:e}).dispatch=ji.bind(null,fi,e),[t.memoizedState,e]}function Oi(e){return zi(Ni,e)}function Ui(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===yi?(yi={lastEffect:null}).lastEffect=e.next=e:null===(t=yi.lastEffect)?yi.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,yi.lastEffect=e),e}function Ii(e,t,n,r){var l=Pi();bi|=e,l.memoizedState=Ui(t,n,void 0,void 0===r?null:r)}function Fi(e,t,n,r){var l=_i();r=void 0===r?null:r;var a=void 0;if(null!==di){var i=di.memoizedState;if(a=i.destroy,null!==r&&Ti(r,i.deps))return void Ui(0,n,a,r)}bi|=e,l.memoizedState=Ui(t,n,a,r)}function Di(e,t){return Ii(516,192,e,t)}function Ri(e,t){return Fi(516,192,e,t)}function Li(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ai(){}function Wi(e,t){return Pi().memoizedState=[e,void 0===t?null:t],e}function Vi(e,t){var n=_i();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ti(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ji(e,t,n){if(!(25>Ei))throw Error(r(301));var l=e.alternate;if(e===fi||null!==l&&l===fi)if(ki=!0,e={expirationTime:si,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===wi&&(wi=new Map),void 0===(n=wi.get(t)))wi.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var a=Pu(),i=Da.suspense;i={expirationTime:a=_u(a,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.last;if(null===o)i.next=i;else{var u=o.next;null!==u&&(i.next=u),o.next=i}if(t.last=i,0===e.expirationTime&&(null===l||0===l.expirationTime)&&null!==(l=t.lastRenderedReducer))try{var c=t.lastRenderedState,s=l(c,n);if(i.eagerReducer=l,i.eagerState=s,fl(s,c))return}catch(f){}Nu(e,a)}}var Bi={readContext:xa,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useResponder:xi,useDeferredValue:xi,useTransition:xi},Hi={readContext:xa,useCallback:Wi,useContext:xa,useEffect:Di,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ii(4,36,Li.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ii(4,36,e,t)},useMemo:function(e,t){var n=Pi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ji.bind(null,fi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Pi().memoizedState=e},useState:Mi,useDebugValue:Ai,useResponder:oi,useDeferredValue:function(e,t){var r=Mi(e),l=r[0],a=r[1];return Di(function(){n.unstable_next(function(){var n=ci.suspense;ci.suspense=void 0===t?null:t;try{a(e)}finally{ci.suspense=n}})},[e,t]),l},useTransition:function(e){var t=Mi(!1),r=t[0],l=t[1];return[Wi(function(t){l(!0),n.unstable_next(function(){var n=ci.suspense;ci.suspense=void 0===e?null:e;try{l(!1),t()}finally{ci.suspense=n}})},[e,r]),r]}},Qi={readContext:xa,useCallback:Vi,useContext:xa,useEffect:Ri,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Fi(4,36,Li.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fi(4,36,e,t)},useMemo:function(e,t){var n=_i();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ti(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:zi,useRef:function(){return _i().memoizedState},useState:Oi,useDebugValue:Ai,useResponder:oi,useDeferredValue:function(e,t){var r=Oi(e),l=r[0],a=r[1];return Ri(function(){n.unstable_next(function(){var n=ci.suspense;ci.suspense=void 0===t?null:t;try{a(e)}finally{ci.suspense=n}})},[e,t]),l},useTransition:function(e){var t=Oi(!1),r=t[0],l=t[1];return[Vi(function(t){l(!0),n.unstable_next(function(){var n=ci.suspense;ci.suspense=void 0===e?null:e;try{l(!1),t()}finally{ci.suspense=n}})},[e,r]),r]}},Ki=null,$i=null,qi=!1;function Yi(e,t){var n=oc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Xi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Gi(e){if(qi){var t=$i;if(t){var n=t;if(!Xi(e,t)){if(!(t=mr(n.nextSibling))||!Xi(e,t))return e.effectTag=-1025&e.effectTag|2,qi=!1,void(Ki=e);Yi(Ki,n)}Ki=e,$i=mr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,qi=!1,Ki=e}}function Zi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ki=e}function Ji(e){if(e!==Ki)return!1;if(!qi)return Zi(e),qi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!fr(t,e.memoizedProps))for(t=$i;t;)Yi(e,t),t=mr(t.nextSibling);if(Zi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===ar){if(0===t){$i=mr(e.nextSibling);break e}t--}else n!==lr&&n!==or&&n!==ir||t++}e=e.nextSibling}$i=null}}else $i=Ki?mr(e.stateNode.nextSibling):null;return!0}function eo(){$i=Ki=null,qi=!1}var to=M.ReactCurrentOwner,no=!1;function ro(e,t,n,r){t.child=null===e?Ya(t,null,n,r):qa(t,e.child,n,r)}function lo(e,t,n,r,l){n=n.render;var a=t.ref;return Ea(t,l),r=Si(e,t,n,r,a,l),null===e||no?(t.effectTag|=1,ro(e,t,r,l),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=l&&(e.expirationTime=0),Eo(e,t,l))}function ao(e,t,n,r,l,a){if(null===e){var i=n.type;return"function"!=typeof i||uc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=fc(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,io(e,t,i,r,l,a))}return i=e.child,l<a&&(l=i.memoizedProps,(n=null!==(n=n.compare)?n:pl)(l,r)&&e.ref===t.ref)?Eo(e,t,a):(t.effectTag|=1,(e=sc(i,r,a)).ref=t.ref,e.return=t,t.child=e)}function io(e,t,n,r,l,a){return null!==e&&pl(e.memoizedProps,r)&&e.ref===t.ref&&(no=!1,l<a)?Eo(e,t,a):uo(e,t,n,r,a)}function oo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function uo(e,t,n,r,l){var a=Ol(n)?zl:_l.current;return a=Ml(t,a),Ea(t,l),n=Si(e,t,n,r,a,l),null===e||no?(t.effectTag|=1,ro(e,t,n,l),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=l&&(e.expirationTime=0),Eo(e,t,l))}function co(e,t,n,r,l){if(Ol(n)){var a=!0;Rl(t)}else a=!1;if(Ea(t,l),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Va(t,n,r,l),Ba(t,n,r,l),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var u=i.context,c=n.contextType;"object"==typeof c&&null!==c?c=xa(c):c=Ml(t,c=Ol(n)?zl:_l.current);var s=n.getDerivedStateFromProps,f="function"==typeof s||"function"==typeof i.getSnapshotBeforeUpdate;f||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==r||u!==c)&&ja(t,i,r,c),Ta=!1;var d=t.memoizedState;u=i.state=d;var p=t.updateQueue;null!==p&&(Ua(t,p,r,i,l),u=t.memoizedState),o!==r||d!==u||Nl.current||Ta?("function"==typeof s&&(La(t,n,s,r),u=t.memoizedState),(o=Ta||Wa(t,n,o,r,d,u,c))?(f||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.effectTag|=4)):("function"==typeof i.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=c,r=o):("function"==typeof i.componentDidMount&&(t.effectTag|=4),r=!1)}else i=t.stateNode,o=t.memoizedProps,i.props=t.type===t.elementType?o:pa(t.type,o),u=i.context,"object"==typeof(c=n.contextType)&&null!==c?c=xa(c):c=Ml(t,c=Ol(n)?zl:_l.current),(f="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==r||u!==c)&&ja(t,i,r,c),Ta=!1,u=t.memoizedState,d=i.state=u,null!==(p=t.updateQueue)&&(Ua(t,p,r,i,l),d=t.memoizedState),o!==r||u!==d||Nl.current||Ta?("function"==typeof s&&(La(t,n,s,r),d=t.memoizedState),(s=Ta||Wa(t,n,o,r,u,d,c))?(f||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,d,c),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,d,c)),"function"==typeof i.componentDidUpdate&&(t.effectTag|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),i.props=r,i.state=d,i.context=c,r=s):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return so(e,t,n,r,a,l)}function so(e,t,n,r,l,a){oo(e,t);var i=0!=(64&t.effectTag);if(!r&&!i)return l&&Ll(t,n,!1),Eo(e,t,a);r=t.stateNode,to.current=t;var o=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&i?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,o,a)):ro(e,t,o,a),t.memoizedState=r.state,l&&Ll(t,n,!0),t.child}function fo(e){var t=e.stateNode;t.pendingContext?Fl(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fl(e,t.context,!1),ti(e,t.containerInfo)}var po,mo,ho,vo,go={dehydrated:null,retryTime:0};function yo(e,t,n){var r,l=t.mode,a=t.pendingProps,i=ai.current,o=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&i)&&(null===e||null!==e.memoizedState)),r?(o=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(i|=1),Cl(ai,1&i,t),null===e){if(void 0!==a.fallback&&Gi(t),o){if(o=a.fallback,(a=dc(null,l,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=dc(o,l,n,null)).return=t,a.sibling=n,t.memoizedState=go,t.child=a,n}return l=a.children,t.memoizedState=null,t.child=Ya(t,null,l,n)}if(null!==e.memoizedState){if(l=(e=e.child).sibling,o){if(a=a.fallback,(n=sc(e,e.pendingProps,0)).return=t,0==(2&t.mode)&&(o=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=o;null!==o;)o.return=n,o=o.sibling;return(l=sc(l,a,l.expirationTime)).return=t,n.sibling=l,n.childExpirationTime=0,t.memoizedState=go,t.child=n,l}return n=qa(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,o){if(o=a.fallback,(a=dc(null,l,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=dc(o,l,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=go,t.child=a,n}return t.memoizedState=null,t.child=qa(t,e,a.children,n)}function bo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),wa(e.return,t)}function ko(e,t,n,r,l,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:l,lastEffect:a}:(i.isBackwards=t,i.rendering=null,i.last=r,i.tail=n,i.tailExpiration=0,i.tailMode=l,i.lastEffect=a)}function wo(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(ro(e,t,r.children,n),0!=(2&(r=ai.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&bo(e,n);else if(19===e.tag)bo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Cl(ai,r,t),0==(2&t.mode))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;null!==n;)null!==(e=n.alternate)&&null===ii(e)&&(l=n),n=n.sibling;null===(n=l)?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ko(t,!1,l,n,a,t.lastEffect);break;case"backwards":for(n=null,l=t.child,t.child=null;null!==l;){if(null!==(e=l.alternate)&&null===ii(e)){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ko(t,!0,n,null,a,t.lastEffect);break;case"together":ko(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Eo(e,t,n){null!==e&&(t.dependencies=e.dependencies);var l=t.expirationTime;if(0!==l&&ju(l),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=sc(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=sc(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function xo(e){e.effectTag|=4}function To(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function So(e){switch(e.tag){case 1:Ol(e.type)&&Ul(e);var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(ni(e),Il(e),0!=(64&(t=e.effectTag)))throw Error(r(285));return e.effectTag=-4097&t|64,e;case 5:return li(e),null;case 13:return Sl(ai,e),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return Sl(ai,e),null;case 4:return ni(e),null;case 10:return ka(e),null;default:return null}}function Co(e,t){return{value:e,source:t,stack:G(t)}}po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},mo=function(){},ho=function(e,n,r,l,a){var i=e.memoizedProps;if(i!==l){var o,u,c=n.stateNode;switch(ei(Ga.current),e=null,r){case"input":i=Ne(c,i),l=Ne(c,l),e=[];break;case"option":i=De(c,i),l=De(c,l),e=[];break;case"select":i=t({},i,{value:void 0}),l=t({},l,{value:void 0}),e=[];break;case"textarea":i=Le(c,i),l=Le(c,l),e=[];break;default:"function"!=typeof i.onClick&&"function"==typeof l.onClick&&(c.onclick=Gn)}for(o in qn(r,l),r=null,i)if(!l.hasOwnProperty(o)&&i.hasOwnProperty(o)&&null!=i[o])if("style"===o)for(u in c=i[o])c.hasOwnProperty(u)&&(r||(r={}),r[u]="");else"dangerouslySetInnerHTML"!==o&&"children"!==o&&"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?e||(e=[]):(e=e||[]).push(o,null));for(o in l){var f=l[o];if(c=null!=i?i[o]:void 0,l.hasOwnProperty(o)&&f!==c&&(null!=f||null!=c))if("style"===o)if(c){for(u in c)!c.hasOwnProperty(u)||f&&f.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in f)f.hasOwnProperty(u)&&c[u]!==f[u]&&(r||(r={}),r[u]=f[u])}else r||(e||(e=[]),e.push(o,r)),r=f;else"dangerouslySetInnerHTML"===o?(f=f?f.__html:void 0,c=c?c.__html:void 0,null!=f&&c!==f&&(e=e||[]).push(o,""+f)):"children"===o?c===f||"string"!=typeof f&&"number"!=typeof f||(e=e||[]).push(o,""+f):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&(s.hasOwnProperty(o)?(null!=f&&Xn(a,o),e||c===f||(e=[])):(e=e||[]).push(o,f))}r&&(e=e||[]).push("style",r),a=e,(n.updateQueue=a)&&xo(n)}},vo=function(e,t,n,r){n!==r&&xo(t)};var Po="function"==typeof WeakSet?WeakSet:Set;function _o(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=G(n)),null!==n&&X(n.type),t=t.value,null!==e&&1===e.tag&&X(e.type);try{console.error(t)}catch(l){setTimeout(function(){throw l})}}function No(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){ec(e,n)}}function zo(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(n){ec(e,n)}else t.current=null}function Mo(e,t){switch(t.tag){case 0:case 11:case 15:Oo(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,l=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:pa(t.type,n),l),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}function Oo(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!=(r.tag&e)){var l=r.destroy;r.destroy=void 0,void 0!==l&&l()}0!=(r.tag&t)&&(l=r.create,r.destroy=l()),r=r.next}while(r!==n)}}function Uo(e,t,n){switch("function"==typeof lc&&lc(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;ia(97<n?97:n,function(){var e=r;do{var n=e.destroy;if(void 0!==n){var l=t;try{n()}catch(a){ec(l,a)}}e=e.next}while(e!==r)})}break;case 1:zo(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&No(t,n);break;case 5:zo(t);break;case 4:Ro(e,t,n)}}function Io(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&Io(t)}function Fo(e){return 5===e.tag||3===e.tag||4===e.tag}function Do(e){e:{for(var t=e.return;null!==t;){if(Fo(t)){var n=t;break e}t=t.return}throw Error(r(160))}switch(t=n.stateNode,n.tag){case 5:var l=!1;break;case 3:case 4:t=t.containerInfo,l=!0;break;default:throw Error(r(161))}16&n.effectTag&&($e(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Fo(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var a=e;;){var i=5===a.tag||6===a.tag;if(i){var o=i?a.stateNode:a.stateNode.instance;if(n)if(l){var u=o;o=n,8===(i=t).nodeType?i.parentNode.insertBefore(u,o):i.insertBefore(u,o)}else t.insertBefore(o,n);else l?(8===(u=t).nodeType?(i=u.parentNode).insertBefore(o,u):(i=u).appendChild(o),null!=(u=u._reactRootContainer)||null!==i.onclick||(i.onclick=Gn)):t.appendChild(o)}else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}function Ro(e,t,n){for(var l,a,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(r(160));switch(l=o.stateNode,o.tag){case 5:a=!1;break e;case 3:case 4:l=l.containerInfo,a=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var u=e,c=i,s=n,f=c;;)if(Uo(u,f,s),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a?(u=l,c=i.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):l.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){l=i.stateNode.containerInfo,a=!0,i.child.return=i,i=i.child;continue}}else if(Uo(e,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Lo(e,t){switch(t.tag){case 0:case 11:case 14:case 15:Oo(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var l=t.memoizedProps,a=null!==e?e.memoizedProps:l;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[yr]=l,"input"===e&&"radio"===l.type&&null!=l.name&&Me(n,l),Yn(e,a),t=Yn(e,l),a=0;a<i.length;a+=2){var o=i[a],u=i[a+1];"style"===o?Kn(n,u):"dangerouslySetInnerHTML"===o?Ke(n,u):"children"===o?$e(n,u):Te(n,o,u,t)}switch(e){case"input":Oe(n,l);break;case"textarea":We(n,l);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!l.multiple,null!=(e=l.value)?Re(n,!!l.multiple,e,!1):t!==!!l.multiple&&(null!=l.defaultValue?Re(n,!!l.multiple,l.defaultValue,!0):Re(n,!!l.multiple,l.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw Error(r(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,Ot(t.containerInfo));break;case 12:break;case 13:if(n=t,null===t.memoizedState?l=!1:(l=!0,n=t.child,mu=ra()),null!==n)e:for(e=n;;){if(5===e.tag)i=e.stateNode,l?"function"==typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=e.stateNode,a=null!=(a=e.memoizedProps.style)&&a.hasOwnProperty("display")?a.display:null,i.style.display=Qn("display",a));else if(6===e.tag)e.stateNode.nodeValue=l?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(i=e.child.sibling).return=e,e=i;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}Ao(t);break;case 19:Ao(t);break;case 17:case 20:case 21:break;default:throw Error(r(163))}}function Ao(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Po),t.forEach(function(t){var r=nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}var Wo="function"==typeof WeakMap?WeakMap:Map;function Vo(e,t,n){(n=Pa(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gu||(gu=!0,yu=r),_o(e,t)},n}function jo(e,t,n){(n=Pa(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var l=t.value;n.payload=function(){return _o(e,t),r(l)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===bu?bu=new Set([this]):bu.add(this),_o(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Bo,Ho=Math.ceil,Qo=M.ReactCurrentDispatcher,Ko=M.ReactCurrentOwner,$o=0,qo=8,Yo=16,Xo=32,Go=0,Zo=1,Jo=2,eu=3,tu=4,nu=5,ru=$o,lu=null,au=null,iu=0,ou=Go,uu=null,cu=1073741823,su=1073741823,fu=null,du=0,pu=!1,mu=0,hu=500,vu=null,gu=!1,yu=null,bu=null,ku=!1,wu=null,Eu=90,xu=null,Tu=0,Su=null,Cu=0;function Pu(){return(ru&(Yo|Xo))!==$o?1073741821-(ra()/10|0):0!==Cu?Cu:Cu=1073741821-(ra()/10|0)}function _u(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var l=la();if(0==(4&t))return 99===l?1073741823:1073741822;if((ru&Yo)!==$o)return iu;if(null!==n)e=da(e,0|n.timeoutMs||5e3,250);else switch(l){case 99:e=1073741823;break;case 98:e=da(e,150,100);break;case 97:case 96:e=da(e,5e3,250);break;case 95:e=2;break;default:throw Error(r(326))}return null!==lu&&e===iu&&--e,e}function Nu(e,t){if(50<Tu)throw Tu=0,Su=null,Error(r(185));if(null!==(e=zu(e,t))){var n=la();1073741823===t?(ru&qo)!==$o&&(ru&(Yo|Xo))===$o?Iu(e):(Ou(e),ru===$o&&ca()):Ou(e),(4&ru)===$o||98!==n&&99!==n||(null===xu?xu=new Map([[e,t]]):(void 0===(n=xu.get(e))||n>t)&&xu.set(e,t))}}function zu(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,l=null;if(null===r&&3===e.tag)l=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){l=r.stateNode;break}r=r.return}return null!==l&&(lu===l&&(ju(t),ou===tu&&gc(l,iu)),yc(l,t)),l}function Mu(e){var t=e.lastExpiredTime;return 0!==t?t:vc(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function Ou(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=ua(Iu.bind(null,e));else{var t=Mu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Pu();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var l=e.callbackPriority;if(e.callbackExpirationTime===t&&l>=r)return;n!==Gl&&Vl(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?ua(Iu.bind(null,e)):oa(r,Uu.bind(null,e),{timeout:10*(1073741821-t)-ra()}),e.callbackNode=t}}}function Uu(e,t){if(Cu=0,t)return bc(e,t=Pu()),Ou(e),null;var n=Mu(e);if(0!==n){if(t=e.callbackNode,(ru&(Yo|Xo))!==$o)throw Error(r(327));if(Gu(),e===lu&&n===iu||Lu(e,n),null!==au){var l=ru;ru|=Yo;for(var a=Wu(e);;)try{Hu();break}catch(u){Au(e,u)}if(ya(),ru=l,Qo.current=a,ou===Zo)throw t=uu,Lu(e,n),gc(e,n),Ou(e),t;if(null===au)switch(a=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,l=ou,lu=null,l){case Go:case Zo:throw Error(r(345));case Jo:bc(e,2<n?2:n);break;case eu:if(gc(e,n),n===(l=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=$u(a)),1073741823===cu&&10<(a=mu+hu-ra())){if(pu){var i=e.lastPingedTime;if(0===i||i>=n){e.lastPingedTime=n,Lu(e,n);break}}if(0!==(i=Mu(e))&&i!==n)break;if(0!==l&&l!==n){e.lastPingedTime=l;break}e.timeoutHandle=dr(qu.bind(null,e),a);break}qu(e);break;case tu:if(gc(e,n),n===(l=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=$u(a)),pu&&(0===(a=e.lastPingedTime)||a>=n)){e.lastPingedTime=n,Lu(e,n);break}if(0!==(a=Mu(e))&&a!==n)break;if(0!==l&&l!==n){e.lastPingedTime=l;break}if(1073741823!==su?l=10*(1073741821-su)-ra():1073741823===cu?l=0:(l=10*(1073741821-cu)-5e3,0>(l=(a=ra())-l)&&(l=0),(n=10*(1073741821-n)-a)<(l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Ho(l/1960))-l)&&(l=n)),10<l){e.timeoutHandle=dr(qu.bind(null,e),l);break}qu(e);break;case nu:if(1073741823!==cu&&null!==fu){i=cu;var o=fu;if(0>=(l=0|o.busyMinDurationMs)?l=0:(a=0|o.busyDelayMs,l=(i=ra()-(10*(1073741821-i)-(0|o.timeoutMs||5e3)))<=a?0:a+l-i),10<l){gc(e,n),e.timeoutHandle=dr(qu.bind(null,e),l);break}}qu(e);break;default:throw Error(r(329))}if(Ou(e),e.callbackNode===t)return Uu.bind(null,e)}}return null}function Iu(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)qu(e);else{if((ru&(Yo|Xo))!==$o)throw Error(r(327));if(Gu(),e===lu&&t===iu||Lu(e,t),null!==au){var n=ru;ru|=Yo;for(var l=Wu(e);;)try{Bu();break}catch(a){Au(e,a)}if(ya(),ru=n,Qo.current=l,ou===Zo)throw n=uu,Lu(e,t),gc(e,t),Ou(e),n;if(null!==au)throw Error(r(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,lu=null,qu(e),Ou(e)}}return null}function Fu(){if(null!==xu){var e=xu;xu=null,e.forEach(function(e,t){bc(t,e),Ou(t)}),ca()}}function Du(e,t){var n=ru;ru|=1;try{return e(t)}finally{(ru=n)===$o&&ca()}}function Ru(e,t){var n=ru;ru&=-2,ru|=qo;try{return e(t)}finally{(ru=n)===$o&&ca()}}function Lu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,pr(n)),null!==au)for(n=au.return;null!==n;){var r=n;switch(r.tag){case 1:var l=r.type.childContextTypes;null!=l&&Ul(r);break;case 3:ni(r),Il(r);break;case 5:li(r);break;case 4:ni(r);break;case 13:case 19:Sl(ai,r);break;case 10:ka(r)}n=n.return}lu=e,au=sc(e.current,null,t),iu=t,ou=Go,uu=null,su=cu=1073741823,fu=null,du=0,pu=!1}function Au(e,t){for(;;){try{if(ya(),Ci(),null===au||null===au.return)return ou=Zo,uu=t,null;e:{var n=e,r=au.return,l=au,a=t;if(t=iu,l.effectTag|=2048,l.firstEffect=l.lastEffect=null,null!==a&&"object"==typeof a&&"function"==typeof a.then){var i=a,o=0!=(1&ai.current),u=r;do{var c;if(c=13===u.tag){var s=u.memoizedState;if(null!==s)c=null!==s.dehydrated;else{var f=u.memoizedProps;c=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!o)}}if(c){var d=u.updateQueue;if(null===d){var p=new Set;p.add(i),u.updateQueue=p}else d.add(i);if(0==(2&u.mode)){if(u.effectTag|=64,l.effectTag&=-2981,1===l.tag)if(null===l.alternate)l.tag=17;else{var m=Pa(1073741823,null);m.tag=2,Na(l,m)}l.expirationTime=1073741823;break e}a=void 0,l=t;var h=n.pingCache;if(null===h?(h=n.pingCache=new Wo,a=new Set,h.set(i,a)):void 0===(a=h.get(i))&&(a=new Set,h.set(i,a)),!a.has(l)){a.add(l);var v=tc.bind(null,n,i,l);i.then(v,v)}u.effectTag|=4096,u.expirationTime=t;break e}u=u.return}while(null!==u);a=Error((X(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+G(l))}ou!==nu&&(ou=Jo),a=Co(a,l),u=r;do{switch(u.tag){case 3:i=a,u.effectTag|=4096,u.expirationTime=t,za(u,Vo(u,i,t));break e;case 1:i=a;var g=u.type,y=u.stateNode;if(0==(64&u.effectTag)&&("function"==typeof g.getDerivedStateFromError||null!==y&&"function"==typeof y.componentDidCatch&&(null===bu||!bu.has(y)))){u.effectTag|=4096,u.expirationTime=t,za(u,jo(u,i,t));break e}}u=u.return}while(null!==u)}au=Ku(au)}catch(b){t=b;continue}break}}function Wu(){var e=Qo.current;return Qo.current=Bi,null===e?Bi:e}function Vu(e,t){e<cu&&2<e&&(cu=e),null!==t&&e<su&&2<e&&(su=e,fu=t)}function ju(e){e>du&&(du=e)}function Bu(){for(;null!==au;)au=Qu(au)}function Hu(){for(;null!==au&&!jl();)au=Qu(au)}function Qu(e){var t=Bo(e.alternate,e,iu);return e.memoizedProps=e.pendingProps,null===t&&(t=Ku(e)),Ko.current=null,t}function Ku(e){au=e;do{var n=au.alternate;if(e=au.return,0==(2048&au.effectTag)){e:{var l=n,a=iu,i=(n=au).pendingProps;switch(n.tag){case 2:case 16:break;case 15:case 0:break;case 1:Ol(n.type)&&Ul(n);break;case 3:ni(n),Il(n),(i=n.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===l||null===l.child)&&Ji(n)&&xo(n),mo(n);break;case 5:li(n),a=ei(Ja.current);var o=n.type;if(null!==l&&null!=n.stateNode)ho(l,n,o,i,a),l.ref!==n.ref&&(n.effectTag|=128);else if(i){var u=ei(Ga.current);if(Ji(n)){var c=(i=n).stateNode;l=i.type;var f=i.memoizedProps,d=a;switch(c[gr]=i,c[yr]=f,o=void 0,a=c,l){case"iframe":case"object":case"embed":On("load",a);break;case"video":case"audio":for(c=0;c<rt.length;c++)On(rt[c],a);break;case"source":On("error",a);break;case"img":case"image":case"link":On("error",a),On("load",a);break;case"form":On("reset",a),On("submit",a);break;case"details":On("toggle",a);break;case"input":ze(a,f),On("invalid",a),Xn(d,"onChange");break;case"select":a._wrapperState={wasMultiple:!!f.multiple},On("invalid",a),Xn(d,"onChange");break;case"textarea":Ae(a,f),On("invalid",a),Xn(d,"onChange")}for(o in qn(l,f),c=null,f)f.hasOwnProperty(o)&&(u=f[o],"children"===o?"string"==typeof u?a.textContent!==u&&(c=["children",u]):"number"==typeof u&&a.textContent!==""+u&&(c=["children",""+u]):s.hasOwnProperty(o)&&null!=u&&Xn(d,o));switch(l){case"input":Pe(a),Ue(a,f,!0);break;case"textarea":Pe(a),Ve(a,f);break;case"select":case"option":break;default:"function"==typeof f.onClick&&(a.onclick=Gn)}o=c,i.updateQueue=o,(i=null!==o)&&xo(n)}else{l=n,d=o,f=i,c=9===a.nodeType?a:a.ownerDocument,u===je.html&&(u=Be(d)),u===je.html?"script"===d?((f=c.createElement("div")).innerHTML="<script><\/script>",c=f.removeChild(f.firstChild)):"string"==typeof f.is?c=c.createElement(d,{is:f.is}):(c=c.createElement(d),"select"===d&&(d=c,f.multiple?d.multiple=!0:f.size&&(d.size=f.size))):c=c.createElementNS(u,d),(f=c)[gr]=l,f[yr]=i,po(f,n,!1,!1),n.stateNode=f;var p=a,m=Yn(d=o,l=i);switch(d){case"iframe":case"object":case"embed":On("load",f),a=l;break;case"video":case"audio":for(a=0;a<rt.length;a++)On(rt[a],f);a=l;break;case"source":On("error",f),a=l;break;case"img":case"image":case"link":On("error",f),On("load",f),a=l;break;case"form":On("reset",f),On("submit",f),a=l;break;case"details":On("toggle",f),a=l;break;case"input":ze(f,l),a=Ne(f,l),On("invalid",f),Xn(p,"onChange");break;case"option":a=De(f,l);break;case"select":f._wrapperState={wasMultiple:!!l.multiple},a=t({},l,{value:void 0}),On("invalid",f),Xn(p,"onChange");break;case"textarea":Ae(f,l),a=Le(f,l),On("invalid",f),Xn(p,"onChange");break;default:a=l}qn(d,a),c=void 0,u=d;var h=f,v=a;for(c in v)if(v.hasOwnProperty(c)){var g=v[c];"style"===c?Kn(h,g):"dangerouslySetInnerHTML"===c?null!=(g=g?g.__html:void 0)&&Ke(h,g):"children"===c?"string"==typeof g?("textarea"!==u||""!==g)&&$e(h,g):"number"==typeof g&&$e(h,""+g):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?null!=g&&Xn(p,c):null!=g&&Te(h,c,g,m))}switch(d){case"input":Pe(f),Ue(f,l,!1);break;case"textarea":Pe(f),Ve(f,l);break;case"option":null!=l.value&&f.setAttribute("value",""+xe(l.value));break;case"select":(a=f).multiple=!!l.multiple,null!=(f=l.value)?Re(a,!!l.multiple,f,!1):null!=l.defaultValue&&Re(a,!!l.multiple,l.defaultValue,!0);break;default:"function"==typeof a.onClick&&(f.onclick=Gn)}(i=sr(o,i))&&xo(n)}null!==n.ref&&(n.effectTag|=128)}else if(null===n.stateNode)throw Error(r(166));break;case 6:if(l&&null!=n.stateNode)vo(l,n,l.memoizedProps,i);else{if("string"!=typeof i&&null===n.stateNode)throw Error(r(166));a=ei(Ja.current),ei(Ga.current),Ji(n)?(o=(i=n).stateNode,a=i.memoizedProps,o[gr]=i,(i=o.nodeValue!==a)&&xo(n)):(o=n,(i=(9===a.nodeType?a:a.ownerDocument).createTextNode(i))[gr]=o,n.stateNode=i)}break;case 11:break;case 13:if(Sl(ai,n),i=n.memoizedState,0!=(64&n.effectTag)){n.expirationTime=a;break e}i=null!==i,o=!1,null===l?void 0!==n.memoizedProps.fallback&&Ji(n):(o=null!==(a=l.memoizedState),i||null===a||null!==(a=l.child.sibling)&&(null!==(f=n.firstEffect)?(n.firstEffect=a,a.nextEffect=f):(n.firstEffect=n.lastEffect=a,a.nextEffect=null),a.effectTag=8)),i&&!o&&0!=(2&n.mode)&&(null===l&&!0!==n.memoizedProps.unstable_avoidThisFallback||0!=(1&ai.current)?ou===Go&&(ou=eu):(ou!==Go&&ou!==eu||(ou=tu),0!==du&&null!==lu&&(gc(lu,iu),yc(lu,du)))),(i||o)&&(n.effectTag|=4);break;case 7:case 8:case 12:break;case 4:ni(n),mo(n);break;case 10:ka(n);break;case 9:case 14:break;case 17:Ol(n.type)&&Ul(n);break;case 19:if(Sl(ai,n),null===(i=n.memoizedState))break;if(o=0!=(64&n.effectTag),null===(f=i.rendering)){if(o)To(i,!1);else if(ou!==Go||null!==l&&0!=(64&l.effectTag))for(l=n.child;null!==l;){if(null!==(f=ii(l))){for(n.effectTag|=64,To(i,!1),null!==(o=f.updateQueue)&&(n.updateQueue=o,n.effectTag|=4),null===i.lastEffect&&(n.firstEffect=null),n.lastEffect=i.lastEffect,i=a,o=n.child;null!==o;)l=i,(a=o).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(f=a.alternate)?(a.childExpirationTime=0,a.expirationTime=l,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=f.childExpirationTime,a.expirationTime=f.expirationTime,a.child=f.child,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,l=f.dependencies,a.dependencies=null===l?null:{expirationTime:l.expirationTime,firstContext:l.firstContext,responders:l.responders}),o=o.sibling;Cl(ai,1&ai.current|2,n),n=n.child;break e}l=l.sibling}}else{if(!o)if(null!==(l=ii(f))){if(n.effectTag|=64,o=!0,null!==(a=l.updateQueue)&&(n.updateQueue=a,n.effectTag|=4),To(i,!0),null===i.tail&&"hidden"===i.tailMode&&!f.alternate){null!==(n=n.lastEffect=i.lastEffect)&&(n.nextEffect=null);break}}else ra()>i.tailExpiration&&1<a&&(n.effectTag|=64,o=!0,To(i,!1),n.expirationTime=n.childExpirationTime=a-1);i.isBackwards?(f.sibling=n.child,n.child=f):(null!==(a=i.last)?a.sibling=f:n.child=f,i.last=f)}if(null!==i.tail){0===i.tailExpiration&&(i.tailExpiration=ra()+500),a=i.tail,i.rendering=a,i.tail=a.sibling,i.lastEffect=n.lastEffect,a.sibling=null,i=ai.current,Cl(ai,i=o?1&i|2:1&i,n),n=a;break e}break;case 20:case 21:break;default:throw Error(r(156,n.tag))}n=null}if(i=au,1===iu||1!==i.childExpirationTime){for(o=0,a=i.child;null!==a;)(l=a.expirationTime)>o&&(o=l),(f=a.childExpirationTime)>o&&(o=f),a=a.sibling;i.childExpirationTime=o}if(null!==n)return n;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=au.firstEffect),null!==au.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=au.firstEffect),e.lastEffect=au.lastEffect),1<au.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=au:e.firstEffect=au,e.lastEffect=au))}else{if(null!==(n=So(au,iu)))return n.effectTag&=2047,n;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(n=au.sibling))return n;au=e}while(null!==au);return ou===Go&&(ou=nu),null}function $u(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function qu(e){var t=la();return ia(99,Yu.bind(null,e,t)),null}function Yu(e,t){do{Gu()}while(null!==wu);if((ru&(Yo|Xo))!==$o)throw Error(r(327));var n=e.finishedWork,l=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var a=$u(n);if(e.firstPendingTime=a,l<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:l<=e.firstSuspendedTime&&(e.firstSuspendedTime=l-1),l<=e.lastPingedTime&&(e.lastPingedTime=0),l<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===lu&&(au=lu=null,iu=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,a=n.firstEffect):a=n:a=n.firstEffect,null!==a){var i=ru;ru|=Xo,Ko.current=null,ur=Mn;var o=nr();if(rr(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{var c=(u=(u=o.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var s=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(F){u=null;break e}var d=0,p=-1,m=-1,h=0,v=0,g=o,y=null;t:for(;;){for(var b;g!==u||0!==s&&3!==g.nodeType||(p=d+s),g!==f||0!==c&&3!==g.nodeType||(m=d+c),3===g.nodeType&&(d+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===o)break t;if(y===u&&++h===s&&(p=d),y===f&&++v===c&&(m=d),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}u=-1===p||-1===m?null:{start:p,end:m}}else u=null}u=u||{start:0,end:0}}else u=null;cr={focusedElem:o,selectionRange:u},Mn=!1,vu=a;do{try{Xu()}catch(F){if(null===vu)throw Error(r(330));ec(vu,F),vu=vu.nextEffect}}while(null!==vu);vu=a;do{try{for(o=e,u=t;null!==vu;){var k=vu.effectTag;if(16&k&&$e(vu.stateNode,""),128&k){var w=vu.alternate;if(null!==w){var E=w.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&k){case 2:Do(vu),vu.effectTag&=-3;break;case 6:Do(vu),vu.effectTag&=-3,Lo(vu.alternate,vu);break;case 1024:vu.effectTag&=-1025;break;case 1028:vu.effectTag&=-1025,Lo(vu.alternate,vu);break;case 4:Lo(vu.alternate,vu);break;case 8:Ro(o,s=vu,u),Io(s)}vu=vu.nextEffect}}catch(F){if(null===vu)throw Error(r(330));ec(vu,F),vu=vu.nextEffect}}while(null!==vu);if(E=cr,w=nr(),k=E.focusedElem,u=E.selectionRange,w!==k&&k&&k.ownerDocument&&tr(k.ownerDocument.documentElement,k)){null!==u&&rr(k)&&(w=u.start,void 0===(E=u.end)&&(E=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(E,k.value.length)):(E=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),s=k.textContent.length,o=Math.min(u.start,s),u=void 0===u.end?o:Math.min(u.end,s),!E.extend&&o>u&&(s=u,u=o,o=s),s=er(k,o),f=er(k,u),s&&f&&(1!==E.rangeCount||E.anchorNode!==s.node||E.anchorOffset!==s.offset||E.focusNode!==f.node||E.focusOffset!==f.offset)&&((w=w.createRange()).setStart(s.node,s.offset),E.removeAllRanges(),o>u?(E.addRange(w),E.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),E.addRange(w))))),w=[];for(E=k;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof k.focus&&k.focus(),k=0;k<w.length;k++)(E=w[k]).element.scrollLeft=E.left,E.element.scrollTop=E.top}cr=null,Mn=!!ur,ur=null,e.current=n,vu=a;do{try{for(k=l;null!==vu;){var x=vu.effectTag;if(36&x){var T=vu.alternate;switch(E=k,(w=vu).tag){case 0:case 11:case 15:Oo(16,32,w);break;case 1:var S=w.stateNode;if(4&w.effectTag)if(null===T)S.componentDidMount();else{var C=w.elementType===w.type?T.memoizedProps:pa(w.type,T.memoizedProps);S.componentDidUpdate(C,T.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var P=w.updateQueue;null!==P&&Ia(w,P,S,E);break;case 3:var _=w.updateQueue;if(null!==_){if(o=null,null!==w.child)switch(w.child.tag){case 5:o=w.child.stateNode;break;case 1:o=w.child.stateNode}Ia(w,_,o,E)}break;case 5:var N=w.stateNode;null===T&&4&w.effectTag&&sr(w.type,w.memoizedProps)&&N.focus();break;case 6:case 4:case 12:break;case 13:if(null===w.memoizedState){var z=w.alternate;if(null!==z){var M=z.memoizedState;if(null!==M){var O=M.dehydrated;null!==O&&Ot(O)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(r(163))}}if(128&x){w=void 0;var U=vu.ref;if(null!==U){var I=vu.stateNode;switch(vu.tag){case 5:w=I;break;default:w=I}"function"==typeof U?U(w):U.current=w}}vu=vu.nextEffect}}catch(F){if(null===vu)throw Error(r(330));ec(vu,F),vu=vu.nextEffect}}while(null!==vu);vu=null,Zl(),ru=i}else e.current=n;if(ku)ku=!1,wu=e,Eu=t;else for(vu=a;null!==vu;)t=vu.nextEffect,vu.nextEffect=null,vu=t;if(0===(t=e.firstPendingTime)&&(bu=null),1073741823===t?e===Su?Tu++:(Tu=0,Su=e):Tu=0,"function"==typeof rc&&rc(n.stateNode,l),Ou(e),gu)throw gu=!1,e=yu,yu=null,e;return(ru&qo)!==$o?null:(ca(),null)}function Xu(){for(;null!==vu;){var e=vu.effectTag;0!=(256&e)&&Mo(vu.alternate,vu),0==(512&e)||ku||(ku=!0,oa(97,function(){return Gu(),null})),vu=vu.nextEffect}}function Gu(){if(90!==Eu){var e=97<Eu?97:Eu;return Eu=90,ia(e,Zu)}}function Zu(){if(null===wu)return!1;var e=wu;if(wu=null,(ru&(Yo|Xo))!==$o)throw Error(r(331));var t=ru;for(ru|=Xo,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:Oo(128,0,n),Oo(0,64,n)}}catch(l){if(null===e)throw Error(r(330));ec(e,l)}n=e.nextEffect,e.nextEffect=null,e=n}return ru=t,ca(),!0}function Ju(e,t,n){Na(e,t=Vo(e,t=Co(n,t),1073741823)),null!==(e=zu(e,1073741823))&&Ou(e)}function ec(e,t){if(3===e.tag)Ju(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ju(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===bu||!bu.has(r))){Na(n,e=jo(n,e=Co(t,e),1073741823)),null!==(n=zu(n,1073741823))&&Ou(n);break}}n=n.return}}function tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),lu===e&&iu===n?ou===tu||ou===eu&&1073741823===cu&&ra()-mu<hu?Lu(e,iu):pu=!0:vc(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),Ou(e)))}function nc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=_u(t=Pu(),e,null)),null!==(e=zu(e,t))&&Ou(e)}Bo=function(e,t,n){var l=t.expirationTime;if(null!==e){var a=t.pendingProps;if(e.memoizedProps!==a||Nl.current)no=!0;else{if(l<n){switch(no=!1,t.tag){case 3:fo(t),eo();break;case 5:if(ri(t),4&t.mode&&1!==n&&a.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Ol(t.type)&&Rl(t);break;case 4:ti(t,t.stateNode.containerInfo);break;case 10:ba(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(l=t.child.childExpirationTime)&&l>=n?yo(e,t,n):(Cl(ai,1&ai.current,t),null!==(t=Eo(e,t,n))?t.sibling:null);Cl(ai,1&ai.current,t);break;case 19:if(l=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(l)return wo(e,t,n);t.effectTag|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null),Cl(ai,ai.current,t),!l)return null}return Eo(e,t,n)}no=!1}}else no=!1;switch(t.expirationTime=0,t.tag){case 2:if(l=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,a=Ml(t,_l.current),Ea(t,n),a=Si(null,t,l,e,a,n),t.effectTag|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){if(t.tag=1,Ci(),Ol(l)){var i=!0;Rl(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null;var o=l.getDerivedStateFromProps;"function"==typeof o&&La(t,l,o,e),a.updater=Aa,t.stateNode=a,a._reactInternalFiber=t,Ba(t,l,e,n),t=so(null,t,l,!0,i,n)}else t.tag=0,ro(null,t,a,n),t=t.child;return t;case 16:if(a=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,Y(a),1!==a._status)throw a._result;switch(a=a._result,t.type=a,i=t.tag=cc(a),e=pa(a,e),i){case 0:t=uo(null,t,a,e,n);break;case 1:t=co(null,t,a,e,n);break;case 11:t=lo(null,t,a,e,n);break;case 14:t=ao(null,t,a,pa(a.type,e),l,n);break;default:throw Error(r(306,a,""))}return t;case 0:return l=t.type,a=t.pendingProps,uo(e,t,l,a=t.elementType===l?a:pa(l,a),n);case 1:return l=t.type,a=t.pendingProps,co(e,t,l,a=t.elementType===l?a:pa(l,a),n);case 3:if(fo(t),null===(l=t.updateQueue))throw Error(r(282));if(a=null!==(a=t.memoizedState)?a.element:null,Ua(t,l,t.pendingProps,null,n),(l=t.memoizedState.element)===a)eo(),t=Eo(e,t,n);else{if((a=t.stateNode.hydrate)&&($i=mr(t.stateNode.containerInfo.firstChild),Ki=t,a=qi=!0),a)for(n=Ya(t,null,l,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else ro(e,t,l,n),eo();t=t.child}return t;case 5:return ri(t),null===e&&Gi(t),l=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,fr(l,a)?o=null:null!==i&&fr(l,i)&&(t.effectTag|=16),oo(e,t),4&t.mode&&1!==n&&a.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(ro(e,t,o,n),t=t.child),t;case 6:return null===e&&Gi(t),null;case 13:return yo(e,t,n);case 4:return ti(t,t.stateNode.containerInfo),l=t.pendingProps,null===e?t.child=qa(t,null,l,n):ro(e,t,l,n),t.child;case 11:return l=t.type,a=t.pendingProps,lo(e,t,l,a=t.elementType===l?a:pa(l,a),n);case 7:return ro(e,t,t.pendingProps,n),t.child;case 8:case 12:return ro(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(l=t.type._context,a=t.pendingProps,o=t.memoizedProps,ba(t,i=a.value),null!==o){var u=o.value;if(0===(i=fl(u,i)?0:0|("function"==typeof l._calculateChangedBits?l._calculateChangedBits(u,i):1073741823))){if(o.children===a.children&&!Nl.current){t=Eo(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){o=u.child;for(var s=c.firstContext;null!==s;){if(s.context===l&&0!=(s.observedBits&i)){1===u.tag&&((s=Pa(n,null)).tag=2,Na(u,s)),u.expirationTime<n&&(u.expirationTime=n),null!==(s=u.alternate)&&s.expirationTime<n&&(s.expirationTime=n),wa(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}s=s.next}}else o=10===u.tag&&u.type===t.type?null:u.child;if(null!==o)o.return=u;else for(o=u;null!==o;){if(o===t){o=null;break}if(null!==(u=o.sibling)){u.return=o.return,o=u;break}o=o.return}u=o}}ro(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,l=(i=t.pendingProps).children,Ea(t,n),l=l(a=xa(a,i.unstable_observedBits)),t.effectTag|=1,ro(e,t,l,n),t.child;case 14:return i=pa(a=t.type,t.pendingProps),ao(e,t,a,i=pa(a.type,i),l,n);case 15:return io(e,t,t.type,t.pendingProps,l,n);case 17:return l=t.type,a=t.pendingProps,a=t.elementType===l?a:pa(l,a),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Ol(l)?(e=!0,Rl(t)):e=!1,Ea(t,n),Va(t,l,a,n),Ba(t,l,a,n),so(null,t,l,!0,e,n);case 19:return wo(e,t,n)}throw Error(r(156,t.tag))};var rc=null,lc=null;function ac(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);rc=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(r){}},lc=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}return!0}function ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function oc(e,t,n,r){return new ic(e,t,n,r)}function uc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function cc(e){if("function"==typeof e)return uc(e)?1:0;if(null!=e){if((e=e.$$typeof)===j)return 11;if(e===Q)return 14}return 2}function sc(e,t){var n=e.alternate;return null===n?((n=oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fc(e,t,n,l,a,i){var o=2;if(l=e,"function"==typeof e)uc(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case D:return dc(n.children,a,i,t);case V:o=8,a|=7;break;case R:o=8,a|=1;break;case L:return(e=oc(12,n,t,8|a)).elementType=L,e.type=L,e.expirationTime=i,e;case B:return(e=oc(13,n,t,a)).type=B,e.elementType=B,e.expirationTime=i,e;case H:return(e=oc(19,n,t,a)).elementType=H,e.expirationTime=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case A:o=10;break e;case W:o=9;break e;case j:o=11;break e;case Q:o=14;break e;case K:o=16,l=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=oc(o,n,t,a)).elementType=e,t.type=l,t.expirationTime=i,t}function dc(e,t,n,r){return(e=oc(7,e,r,t)).expirationTime=n,e}function pc(e,t,n){return(e=oc(6,e,null,t)).expirationTime=n,e}function mc(e,t,n){return(t=oc(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hc(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function vc(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function gc(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function yc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function bc(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function kc(e,t,n,l){var a=t.current,i=Pu(),o=Da.suspense;i=_u(i,a,o);e:if(n){t:{if(lt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(r(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Ol(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(r(171))}if(1===n.tag){var c=n.type;if(Ol(c)){n=Dl(n,c,u);break e}}n=u}else n=Pl;return null===t.context?t.context=n:t.pendingContext=n,(t=Pa(i,o)).payload={element:e},null!==(l=void 0===l?null:l)&&(t.callback=l),Na(a,t),Nu(a,i),i}function wc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ec(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function xc(e,t){Ec(e,t),(e=e.alternate)&&Ec(e,t)}function Tc(e,t,n){var r=new hc(e,t,n=null!=n&&!0===n.hydrate),l=oc(3,null,null,2===t?7:1===t?3:0);r.current=l,l.stateNode=r,e[br]=r.current,n&&0!==t&&Et(9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Sc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Cc(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Tc(e,0,t?{hydrate:!0}:void 0)}function Pc(e,t,n,r,l){var a=n._reactRootContainer;if(a){var i=a._internalRoot;if("function"==typeof l){var o=l;l=function(){var e=wc(i);o.call(e)}}kc(t,i,e,l)}else{if(a=n._reactRootContainer=Cc(n,r),i=a._internalRoot,"function"==typeof l){var u=l;l=function(){var e=wc(i);u.call(e)}}Ru(function(){kc(t,i,e,l)})}return wc(i)}function _c(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:F,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Nc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Sc(t))throw Error(r(200));return _c(e,t,null,n)}Tc.prototype.render=function(e,t){kc(e,this._internalRoot,null,void 0===t?null:t)},Tc.prototype.unmount=function(e){var t=this._internalRoot,n=void 0===e?null:e,r=t.containerInfo;kc(null,t,null,function(){r[br]=null,null!==n&&n()})},ct=function(e){if(13===e.tag){var t=da(Pu(),150,100);Nu(e,t),xc(e,t)}},st=function(e){if(13===e.tag){Pu();var t=fa++;Nu(e,t),xc(e,t)}},ft=function(e){if(13===e.tag){var t=Pu();Nu(e,t=_u(t,e,null)),xc(e,t)}},J=function(e,t,n){switch(t){case"input":if(Oe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var a=xr(l);if(!a)throw Error(r(90));_e(l),Oe(l,a)}}}break;case"textarea":We(e,n);break;case"select":null!=(t=n.value)&&Re(e,!!n.multiple,t,!1)}},ae=Du,ie=function(e,t,n,r){var l=ru;ru|=4;try{return ia(98,e.bind(null,t,n,r))}finally{(ru=l)===$o&&ca()}},oe=function(){(ru&(1|Yo|Xo))===$o&&(Fu(),Gu())},ue=function(e,t){var n=ru;ru|=2;try{return e(t)}finally{(ru=n)===$o&&ca()}};var zc={createPortal:Nc,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw Error(r(268,Object.keys(e)))}return e=null===(e=ut(t))?null:e.stateNode},hydrate:function(e,t,n){if(!Sc(t))throw Error(r(200));return Pc(null,e,t,!0,n)},render:function(e,t,n){if(!Sc(t))throw Error(r(200));return Pc(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,l){if(!Sc(n))throw Error(r(200));if(null==e||void 0===e._reactInternalFiber)throw Error(r(38));return Pc(e,t,n,!1,l)},unmountComponentAtNode:function(e){if(!Sc(e))throw Error(r(40));return!!e._reactRootContainer&&(Ru(function(){Pc(null,null,e,!1,function(){e._reactRootContainer=null,e[br]=null})}),!0)},unstable_createPortal:function(){return Nc.apply(void 0,arguments)},unstable_batchedUpdates:Du,flushSync:function(e,t){if((ru&(Yo|Xo))!==$o)throw Error(r(187));var n=ru;ru|=1;try{return ia(99,e.bind(null,t))}finally{ru=n,ca()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[wr,Er,xr,N.injectEventPluginsByName,c,At,function(e){S(e,Lt)},re,le,Rn,_,Gu,{current:!1}]}};!function(e){var n=e.findFiberByHostInstance;ac(t({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ut(e))?null:e.stateNode},findFiberByHostInstance:function(e){return n?n(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:kr,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"});var Mc={default:zc},Oc=Mc&&zc||Mc;module.exports=Oc.default||Oc;
},{"react":"n8MK","object-assign":"J4Nk","scheduler":"MDSO"}],"NKHc":[function(require,module,exports) {
"use strict";function _(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(O){console.error(O)}}}_(),module.exports=require("./cjs/react-dom.production.min.js");
},{"./cjs/react-dom.production.min.js":"i17t"}],"Mw4w":[function(require,module,exports) {
"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e={"[object Array]":"array","[object Date]":"date","[object Object]":"object","[object String]":"string","[object Null]":"null"},n=function(n){var r=Object.prototype.toString.call(n);return"object"===(void 0===n?"undefined":t(n))?e[r]||"object":void 0===n?"undefined":t(n)},r=function(t){return"boolean"==typeof t},o=function(t){return f(t)&&-1!==t.toString().indexOf("e")},i=function(t){return"date"===n(t)},c=function(t){return null!=t},u=function(t){return"function"==typeof t},s=function(t){return"string"==typeof t},f=function(t){return"number"==typeof t&&isFinite(t)||!isNaN(t-parseFloat(t))},p=function(t){return"object"===n(t)},b=function(t){var e;for(e in t)return!1;return!0},l=function(t){if(!t||"[object Object]"!==Object.prototype.toString.call(t))return!1;var e=Object.getPrototypeOf(t),n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return"function"==typeof n&&Object.toString.call(n)===Object.toString.call(Object)},a=function(t){return-1===["object","array","function"].indexOf(n(t))},y=function(t){return null!=t&&t===t.window},j=function(t){return!(!t.jquery&&!t.dxRenderer)},x=function(t){return t&&u(t.then)},d=function(t){return t&&u(t.done)&&u(t.fail)};exports.isBoolean=r,exports.isExponential=o,exports.isDate=i,exports.isDefined=c,exports.isFunction=u,exports.isString=s,exports.isNumeric=f,exports.isObject=p,exports.isEmptyObject=b,exports.isPlainObject=l,exports.isPrimitive=a,exports.isWindow=y,exports.isRenderer=j,exports.isPromise=x,exports.isDeferred=d,exports.type=n;
},{}],"FHcO":[function(require,module,exports) {
"use strict";var r=function(r,e){if(Array.isArray(r))return r.map(e);var n=[];for(var a in r)n.push(e(r[a],a));return n},e=function(r,e){if(r){if("length"in r)for(var n=0;n<r.length&&!1!==e.call(r[n],n,r[n]);n++);else for(var a in r)if(!1===e.call(r[a],a,r[a]))break;return r}},n=function(r,e){if(r&&"length"in r&&0!==r.length)for(var n=r.length-1;n>=0&&!1!==e.call(r[n],n,r[n]);n--);};exports.map=r,exports.each=e,exports.reverseEach=n;
},{}],"nJyT":[function(require,module,exports) {
"use strict";var n=require("./type").isFunction,r=function(){},o=function(o){return"undefined"!=typeof console&&n(console[o])?console[o].bind(console):r},e={info:o("info"),warn:o("warn"),error:o("error")},t=function(){function n(n,r){if(!n)throw new Error(r)}return{assert:n,assertParam:function(r,o){n(null!=r,o)}}}();exports.logger=e,exports.debug=t;
},{"./type":"Mw4w"}],"ac8T":[function(require,module,exports) {
"use strict";var r=require("./type").isPlainObject,e=function(r,e,t){for(var o in r=r||{},e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=e[o];o in r&&!t||(r[o]=n)}return r},t=function e(t){var o=1,n=!1;for("boolean"==typeof(t=t||{})&&(n=t,t=arguments[1]||{},o++);o<arguments.length;o++){var a=arguments[o];if(null!=a)for(var i in a){var f,p=t[i],s=a[i],v=!1;"__proto__"!==i&&t!==s&&(n&&s&&(r(s)||(v=Array.isArray(s)))?(f=v?p&&Array.isArray(p)?p:[]:p&&r(p)?p:{},t[i]=e(n,f,s)):void 0!==s&&(t[i]=s))}}return t};exports.extend=t,exports.extendFromObject=e;
},{"./type":"Mw4w"}],"X4J5":[function(require,module,exports) {
"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=require("./type"),r=function(){var e=[new RegExp("&","g"),new RegExp('"',"g"),new RegExp("'","g"),new RegExp("<","g"),new RegExp(">","g")];return function(t){return String(t).replace(e[0],"&amp;").replace(e[1],"&quot;").replace(e[2],"&#39;").replace(e[3],"&lt;").replace(e[4],"&gt;")}}(),n=function(t){switch(void 0===t?"undefined":e(t)){case"string":return t.split(/\s+/,4);case"object":return[t.x||t.h||t.left,t.y||t.v||t.top,t.x||t.h||t.right,t.y||t.v||t.bottom];case"number":return[t];default:return t}},o=function(e){var t=n(e),r=parseInt(t&&t[0],10),o=parseInt(t&&t[1],10),i=parseInt(t&&t[2],10),p=parseInt(t&&t[3],10);return isFinite(r)||(r=0),isFinite(o)||(o=r),isFinite(i)||(i=r),isFinite(p)||(p=o),{top:o,right:i,bottom:p,left:r}},i=function(){var e,r,n,o=arguments[0],i=[].slice.call(arguments).slice(1);if(t.isFunction(o))return o.apply(this,i);for(var p=0;p<i.length;p++)r=new RegExp("\\{"+p+"\\}","gm"),n=i[p],"string"===t.type(n)&&n.indexOf("$")>=0&&(e="$".replace("$","$$").length,n=n.replace("$",1===e?"$$$$":"$$")),o=o.replace(r,n);return o},p=function(e,t,r){return e.replace(new RegExp("("+(t+"").replace(/([+*?.[^\]$(){}><|=!:])/g,"\\$1")+")","gi"),r)},c=function(){var e=/\s/g;return function(t){return!t||!t.replace(e,"")}}();exports.encodeHtml=r,exports.quadToObject=o,exports.format=i,exports.replaceAll=p,exports.isEmpty=c;
},{"./type":"Mw4w"}],"jn0C":[function(require,module,exports) {
"use strict";module.exports="19.2.5";
},{}],"Z4UQ":[function(require,module,exports) {
"use strict";var r=require("./extend").extend,e=require("./console"),t=require("./string"),n=require("../version"),i="http://js.devexpress.com/error/"+n.split(".").slice(0,2).join("_")+"/";module.exports=function(n,o){var u={ERROR_MESSAGES:r(o,n),Error:function(){return a([].slice.call(arguments))},log:function(r){var t="log";/^E\d+$/.test(r)?t="error":/^W\d+$/.test(r)&&(t="warn"),e.logger[t]("log"===t?r:c([].slice.call(arguments)))}},c=function(r){var e=r[0];return r=r.slice(1),s(e,l(e,r))},l=function(r,e){return e=[u.ERROR_MESSAGES[r]].concat(e),t.format.apply(this,e).replace(/\.*\s*?$/,"")},s=function(r,e){return t.format.apply(this,["{0} - {1}. See:\n{2}",r,e,f(r)])},a=function(e){var t,n,i,o;return t=e[0],e=e.slice(1),n=l(t,e),o=f(t),i=s(t,n),r(new Error(i),{__id:t,__details:n,url:o})},f=function(r){return i+r};return u};
},{"./extend":"ac8T","./console":"nJyT","./string":"X4J5","../version":"jn0C"}],"BdzT":[function(require,module,exports) {
"use strict";var e=require("./utils/error");module.exports=e({E0001:"Method is not implemented",E0002:"Member name collision: {0}",E0003:"A class must be instantiated using the 'new' keyword",E0004:"The NAME property of the component is not specified",E0005:"Unknown device",E0006:"Unknown endpoint key is requested",E0007:"'Invalidate' method is called outside the update transaction",E0008:"Type of the option name is not appropriate to create an action",E0009:"Component '{0}' has not been initialized for an element",E0010:"Animation configuration with the '{0}' type requires '{1}' configuration as {2}",E0011:"Unknown animation type '{0}'",E0012:"jQuery version is too old. Please upgrade jQuery to 1.10.0 or later",E0013:"KnockoutJS version is too old. Please upgrade KnockoutJS to 2.3.0 or later",E0014:"The 'release' method shouldn't be called for an unlocked Lock object",E0015:"Queued task returned an unexpected result",E0017:"Event namespace is not defined",E0018:"DevExpress.ui.DevExpressPopup widget is required",E0020:"Template engine '{0}' is not supported",E0021:"Unknown theme is set: {0}",E0022:"LINK[rel=DevExpress-theme] tags must go before DevExpress included scripts",E0023:"Template name is not specified",E0024:"DevExtreme bundle already included",E0025:"Unexpected argument type",E0100:"Unknown validation type is detected",E0101:"Misconfigured range validation rule is detected",E0102:"Misconfigured comparison validation rule is detected",E0103:"validationCallback of an asynchronous rule should return a jQuery or a native promise",E0110:"Unknown validation group is detected",E0120:"Adapter for a DevExpressValidator component cannot be configured",E0121:"The 'customItem' field of the 'onCustomItemCreating' function's parameter should contain a custom item or Promise that is resolved after the item is created.",W0000:"'{0}' is deprecated in {1}. {2}",W0001:"{0} - '{1}' option is deprecated in {2}. {3}",W0002:"{0} - '{1}' method is deprecated in {2}. {3}",W0003:"{0} - '{1}' property is deprecated in {2}. {3}",W0004:"Timeout for theme loading is over: {0}",W0005:"'{0}' event is deprecated in {1}. {2}",W0006:"Invalid recurrence rule: '{0}'",W0007:"'{0}' Globalize culture is not defined",W0008:"Invalid view name: '{0}'",W0009:"Invalid time zone name: '{0}'",W0010:"{0} is deprecated in {1}. {2}",W0011:"Number parsing is invoked while the parser is not defined",W0012:"Date parsing is invoked while the parser is not defined",W0013:"'{0}' file is deprecated in {1}. {2}",W0014:"{0} - '{1}' type is deprecated in {2}. {3}",W0015:"Instead of returning a value from the '{0}' function, write it into the '{1}' field of the function's parameter.",W0016:'The "{0}" option does not accept the "{1}" value since v.{2}. {3}.'});
},{"./utils/error":"Z4UQ"}],"YpjV":[function(require,module,exports) {
"use strict";var t=require("./errors"),r=require("./utils/type"),s=function(t,r,s){return function(){var i=this.callBase;this.callBase=t[r];try{return s.apply(this,arguments)}finally{this.callBase=i}}},i=function(t){var r=function(){};return r.prototype=t.prototype,new r},o=function(t){var r,i,o;if(!t)return this;for(i in t)o=t[i],r="function"==typeof this.prototype[i]&&"function"==typeof o,this.prototype[i]=r?s(this.parent.prototype,i,o):o;return this},n=function(){var t,r,s,i=Object.prototype.hasOwnProperty.bind(this);for(!i("_includedCtors")&&!i("_includedPostCtors")&&(this._includedCtors=this._includedCtors.slice(0),this._includedPostCtors=this._includedPostCtors.slice(0)),s=0;s<arguments.length;s++)for(r in(t=arguments[s]).ctor&&this._includedCtors.push(t.ctor),t.postCtor&&this._includedPostCtors.push(t.postCtor),t)"ctor"!==r&&"postCtor"!==r&&(this.prototype[r]=t[r]);return this},e=function(t){if(!Object.prototype.hasOwnProperty.bind(this)("parent")&&this.parent){var r=Object.getPrototypeOf(this);return r===t||r.subclassOf(t)}return this.parent===t||!(!this.parent||!this.parent.subclassOf)&&this.parent.subclassOf(t)},c=function(){throw t.Error("E0001")},u=function(){var t=Object.prototype.hasOwnProperty;return function(r,s){for(var i in r){if(!t.call(r,i))return;s[i]=r[i]}}}(),h=function(){};h.inherit=function(s){var h=function(){if(!this||r.isWindow(this)||"function"!=typeof this.constructor)throw t.Error("E0003");var s,i=this.ctor,o=this.constructor._includedCtors,n=this.constructor._includedPostCtors;for(s=0;s<o.length;s++)o[s].call(this);for(i&&i.apply(this,arguments),s=0;s<n.length;s++)n[s].call(this)};return h.prototype=i(this),u(this,h),h.inherit=this.inherit,h.abstract=c,h.redefine=o,h.include=n,h.subclassOf=e,h.parent=this,h._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],h._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],h.prototype.constructor=h,h.redefine(s),h},h.abstract=c,module.exports=h;
},{"./errors":"BdzT","./utils/type":"Mw4w"}],"NtCB":[function(require,module,exports) {
"use strict";module.exports=function(e){var n=require("./extend").extend,t=require("./type").isFunction,i=require("./iterator").each,r=require("../class").inherit(e),u=r,c=new u(e),o={},s=function(n,r){i(n,function(n){t(c[n])?!r&&e[n]||(e[n]=function(){return c[n].apply(e,arguments)}):(r&&(o[n]=e[n]),e[n]=c[n])})};return s(e,!0),e.inject=function(e){u=u.inherit(e),c=new u,s(e)},e.resetInjection=function(){n(e,o),u=r,c=new r},e};
},{"./extend":"ac8T","./type":"Mw4w","./iterator":"FHcO","../class":"YpjV"}],"SPUa":[function(require,module,exports) {
"use strict";var r=require("./console").logger,e=require("./dependency_injector");module.exports=e({isWrapped:function(){return!1},isWritableWrapped:function(){return!1},wrap:function(r){return r},unwrap:function(r){return r},assign:function(){r.error("Method 'assign' should not be used for not wrapped variables. Use 'isWrapped' method for ensuring.")}});
},{"./console":"nJyT","./dependency_injector":"NtCB"}],"jPX0":[function(require,module,exports) {
"use strict";var r=require("./type"),e=require("./variable_wrapper"),t=function(){function r(){}return function(e){return r.prototype=e,new r}}(),n=function(e,t){var n,i,o=[];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&o.push(n);for(o.sort(function(e,t){var n=r.isNumeric(e),i=r.isNumeric(t);return n&&i?e-t:n&&!i?-1:!n&&i?1:e<t?-1:e>t?1:0}),i=0;i<o.length;i++)t(n=o[i],e[n])},i=function(r,t,n,i){!i&&e.isWrapped(r[t])?e.assign(r[t],n):r[t]=n},o=function e(t,n,o,a){var c,u;for(var p in n)if(c=t[p],u=n[p],"__proto__"!==p&&t!==u){if(r.isPlainObject(u))u=e((o?r.isObject(c):r.isPlainObject(c))?c:{},u,o,a);void 0!==u&&c!==u&&i(t,p,u,a)}return t};exports.clone=t,exports.orderEach=n,exports.deepExtendArraySafe=o;
},{"./type":"Mw4w","./variable_wrapper":"SPUa"}],"iRjc":[function(require,module,exports) {
"use strict";var e=require("./utils/extend"),t=a(e),o=require("./errors"),r=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var i={rtlEnabled:!1,defaultCurrency:"USD",oDataFilterToLower:!0,serverDecimalSeparator:".",decimalSeparator:".",thousandsSeparator:",",forceIsoDateParsing:!0,wrapActionsBeforeExecute:!0,useLegacyStoreResult:!1,useJQuery:void 0,editorStylingMode:void 0,useLegacyVisibleIndex:!1,floatingActionButtonConfig:{icon:"add",closeIcon:"close",label:"",position:{at:"right bottom",my:"right bottom",offset:{x:-16,y:-16}},maxSpeedDialActionCount:5,shading:!1,direction:"auto"},optionsParser:function(e){"{"!==e.trim().charAt(0)&&(e="{"+e+"}");try{return new Function("return "+e)()}catch(t){throw r.default.Error("E3018",t,e)}}},n=["decimalSeparator","thousandsSeparator"],s=function(){if(!arguments.length)return i;var e=arguments.length<=0?void 0:arguments[0];n.forEach(function(t){if(e[t]){var o="Now, the "+t+" is selected based on the specified locale.";r.default.log("W0003","config",t,"19.2",o)}}),t.default.extend(i,e)};"undefined"!=typeof DevExpress&&DevExpress.config&&s(DevExpress.config),module.exports=s,module.exports.default=module.exports;
},{"./utils/extend":"ac8T","./errors":"BdzT"}],"uivT":[function(require,module,exports) {
"use strict";var r=require("./type").isDefined,t=require("./iterator").each,n=require("./object"),e=require("../config"),i=function(r){return Array.isArray(r)&&!r.length},u=function(r){return Array.isArray(r)?r:[r]},o=function(r,n){if(!Array.isArray(r)||0===r.length||!Array.isArray(n)||0===n.length)return[];var e=[];return t(r,function(r,t){-1!==f(t,n)&&e.push(t)}),e},s=function(r,n){if(!Array.isArray(r)||0===r.length)return[];if(!Array.isArray(n)||0===n.length)return r.slice();var e=[];return t(r,function(r,t){-1===f(t,n)&&e.push(t)}),e},a=function(i,u,o,s){var a={},f=0,c=e().useLegacyVisibleIndex;return t(i,function(r,t){(r=t[u])>=0?(a[r]=a[r]||[],t===o?a[r].unshift(t):a[r].push(t)):t[u]=void 0}),c||t(i,function(){if(!r(this[u])&&(!s||s(this))){for(;a[f];)f++;a[f]=[this],f++}}),f=0,n.orderEach(a,function(r,n){t(n,function(){r>=0&&(this[u]=f++)})}),c&&t(i,function(){r(this[u])||s&&!s(this)||(this[u]=f++)}),f},f=function(r,t){return t?(Array.isArray(t)?t:t.toArray()).indexOf(r):-1},c=function(r,t){for(var n=0;n<t.length;n++)r[r.length]=t[n];return r},h=function(r,t){for(var n=0;n<r.length;n++)if(t(r[n]))return r[n]};exports.isEmpty=i,exports.wrapToArray=u,exports.intersection=o,exports.removeDuplicates=s,exports.normalizeIndexes=a,exports.inArray=f,exports.merge=c,exports.find=h;
},{"./type":"Mw4w","./iterator":"FHcO","./object":"jPX0","../config":"iRjc"}],"tQQP":[function(require,module,exports) {
"use strict";var t=require("./class"),r=t.inherit({ctor:function(t){t&&(t=String(t)),this._value=this._normalize(t||this._generate())},_normalize:function(t){for(t=t.replace(/[^a-f0-9]/gi,"").toLowerCase();t.length<32;)t+="0";return[t.substr(0,8),t.substr(8,4),t.substr(12,4),t.substr(16,4),t.substr(20,12)].join("-")},_generate:function(){for(var t="",r=0;r<32;r++)t+=Math.round(15*Math.random()).toString(16);return t},toString:function(){return this._value},valueOf:function(){return this._value},toJSON:function(){return this._value}});module.exports=r,module.exports.default=module.exports;
},{"./class":"YpjV"}],"gtoU":[function(require,module,exports) {
"use strict";var i=function(i){this._options=i||{},this._list=[],this._queue=[],this._firing=!1,this._fired=!1,this._firingIndexes=[]};i.prototype._fireCore=function(i,t){var e=this._firingIndexes,r=this._list,s=this._options.stopOnFalse,n=e.length;for(e[n]=0;e[n]<r.length;e[n]++){if(!1===r[e[n]].apply(i,t)&&s)break}e.pop()},i.prototype.add=function(i){return"function"!=typeof i||this._options.unique&&this.has(i)||this._list.push(i),this},i.prototype.remove=function(i){var t=this._list,e=this._firingIndexes,r=t.indexOf(i);if(r>-1&&(t.splice(r,1),this._firing&&e.length))for(var s=0;s<e.length;s++)r<=e[s]&&e[s]--;return this},i.prototype.has=function(i){var t=this._list;return i?t.indexOf(i)>-1:!!t.length},i.prototype.empty=function(i){return this._list=[],this},i.prototype.fireWith=function(i,t){var e=this._queue;if(t=(t=t||[]).slice?t.slice():t,this._options.syncStrategy)this._firing=!0,this._fireCore(i,t);else{if(e.push([i,t]),this._firing)return;for(this._firing=!0;e.length;){var r=e.shift();this._fireCore(r[0],r[1])}}return this._firing=!1,this._fired=!0,this},i.prototype.fire=function(){this.fireWith(this,arguments)},i.prototype.fired=function(){return this._fired};var t=function(t){return new i(t)};module.exports=t;
},{}],"g5TB":[function(require,module,exports) {
"use strict";var e=require("../utils/type"),t=e.isPromise,i=e.isDeferred,r=require("../utils/extend").extend,n=require("../utils/callbacks"),s=[{method:"resolve",handler:"done",state:"resolved"},{method:"reject",handler:"fail",state:"rejected"},{method:"notify",handler:"progress"}],o=function(){var h=this;this._state="pending",this._promise={},s.forEach(function(e){var t=e.method;this[t+"Callbacks"]=new n,this[t]=function(){return this[t+"With"](this._promise,arguments)}.bind(this),this._promise[e.handler]=function(e){if(!e)return this;var i=h[t+"Callbacks"];return i.fired()?e.apply(h[t+"Context"],h[t+"Args"]):i.add(function(t,i){e.apply(t,i)}.bind(this)),this}}.bind(this)),this._promise.always=function(e){return this.done(e).fail(e)},this._promise.catch=function(e){return this.then(null,e)},this._promise.then=function(r,n){var s=new o;return["done","fail"].forEach(function(o){var h="done"===o?r:n;this[o](function(){if(h){var r=h&&h.apply(this,arguments);i(r)?r.done(s.resolve).fail(s.reject):t(r)?r.then(s.resolve,s.reject):s.resolve.apply(this,e.isDefined(r)?[r]:arguments)}else s["done"===o?"resolve":"reject"].apply(this,arguments)})}.bind(this)),s.promise()},this._promise.state=function(){return h._state},this._promise.promise=function(e){return e?r(e,h._promise):h._promise},this._promise.promise(this)};s.forEach(function(e){var t=e.method,i=e.state;o.prototype[t+"With"]=function(e,r){var n=this[t+"Callbacks"];return"pending"===this.state()&&(this[t+"Args"]=r,this[t+"Context"]=e,i&&(this._state=i),n.fire(e,r)),this}}),exports.fromPromise=function(e,r){if(i(e))return e;if(t(e)){var n=new o;return e.then(function(){n.resolveWith.apply(n,[r].concat([[].slice.call(arguments)]))},function(){n.rejectWith.apply(n,[r].concat([[].slice.call(arguments)]))}),n}return(new o).resolveWith(r,[e])};var h=function(){if(1===arguments.length)return exports.fromPromise(arguments[0]);for(var e=[].slice.call(arguments),t=[],r=0,n=new o,s=function(i){return function(s){t[i]=this,e[i]=arguments.length>1?[].slice.call(arguments):s,++r===e.length&&n.resolveWith(t,e)}},h=0;h<e.length;h++)i(e[h])?e[h].promise().done(s(h)).fail(n.reject):r++;return r===e.length&&n.resolveWith(t,e),n.promise()};exports.setStrategy=function(e){o=e.Deferred,h=e.when},exports.Deferred=function(){return new o},exports.when=function(){return h.apply(this,arguments)};
},{"../utils/type":"Mw4w","../utils/extend":"ac8T","../utils/callbacks":"gtoU"}],"YLhW":[function(require,module,exports) {
"use strict";var r=require("../errors"),e=require("../class"),n=require("./object"),t=require("./type"),i=require("./iterator").each,a=require("./variable_wrapper"),u=a.unwrap,s=a.isWrapped,o=a.assign,f=function(r){return r.replace(/\[/g,".").replace(/\]/g,"")},c=function(r,e,n){return n=n||{},v("this"===e?r:r[e],n)},l=function(e,n,t,i){if("this"===n)throw new r.Error("E4016");var a=e[n];i.unwrapObservables&&s(a)?o(a,t):e[n]=t},p=function(r){return(r=r||{}).unwrapObservables=void 0===r.unwrapObservables||r.unwrapObservables,r},v=function(r,e){return e.unwrapObservables?u(r):r},b=function(r){if(arguments.length>1&&(r=[].slice.call(arguments)),!r||"this"===r)return function(r){return r};if("string"==typeof r){var e=(r=f(r)).split(".");return function(r,n){for(var i=(n=p(n)).functionsAsIs,a=("defaultValue"in n),u=v(r,n),s=0;s<e.length;s++){if(!u){if(null==u&&a)return n.defaultValue;break}var o=e[s];if(a&&t.isObject(u)&&!(o in u))return n.defaultValue;var f=v(u[o],n);!i&&t.isFunction(f)&&(f=f.call(u)),u=f}return u}}return Array.isArray(r)?h(r):t.isFunction(r)?r:void 0},h=function(r){for(var e={},n=0,t=r.length;n<t;n++){var a=r[n];e[a]=b(a)}return function(r,n){var t;return i(e,function(e){var i,a,u,s,o,f=this(r,n);if(void 0!==f){for(i=t||(t={}),s=(a=e.split(".")).length-1,o=0;o<s;o++)(u=a[o])in i||(i[u]={}),i=i[u];i[a[s]]=f}}),t}},g=function(r,e,n,i){if(t.isDefined(n))return n;var a={};return l(r,e,a,i),a},d=function(r){var e=(r=f(r||"this").split(".")).length-1;return function(i,a,u){u=p(u);var o=v(i,u);r.forEach(function(r,i){var f=c(o,r,u),p=!u.functionsAsIs&&t.isFunction(f)&&!s(f);i===e?u.merge&&t.isPlainObject(a)&&(!t.isDefined(f)||t.isPlainObject(f))?(f=g(o,r,f,u),n.deepExtendArraySafe(f,a,!1,!0)):p?o[r](a):l(o,r,a,u):(f=g(o,r,f,u),p&&(f=f.call(o)),o=f)})}},w=function(r,n){return r instanceof Date?r.getTime():r&&r instanceof e&&r.valueOf?r.valueOf():n||"string"!=typeof r?r:r.toLowerCase()};exports.compileGetter=b,exports.compileSetter=d,exports.toComparable=w,exports.bracketsToDots=f;
},{"../errors":"BdzT","../class":"YpjV","./object":"jPX0","./type":"Mw4w","./iterator":"FHcO","./variable_wrapper":"SPUa"}],"GcQA":[function(require,module,exports) {
"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e=require("../config"),t=s(e),n=require("../guid"),o=s(n),i=require("../utils/deferred"),u=require("./data"),a=require("./iterator"),f=require("./type");function s(r){return r&&r.__esModule?r:{default:r}}var c=function(r,e){return(0,f.isDefined)(r)?r:e},p=function(r,e){var t=new i.Deferred,n=e||this,o=void 0,u={promise:t.promise(),abort:function(){clearTimeout(o),t.rejectWith(n)}};return o=(arguments[2]||setTimeout)(function(){var e=r.call(n);e&&e.done&&(0,f.isFunction)(e.done)?e.done(function(){t.resolveWith(n)}):t.resolveWith(n)},"number"==typeof e?e:0),u},l=[],d=[],h=[],y=void 0,v=function(r,e,t){if(y&&y!==r)return l.push(e),d.push(r),t=t||new i.Deferred,h.push(t),t;var n=y,o=h.length;y=r;var u=e();return u||(h.length>o?u=i.when.apply(this,h.slice(o)):t&&t.resolve()),y=n,t&&u&&u.done&&u.done(t.resolve).fail(t.reject),!y&&l.length&&("render"===d.shift()?g:m)(l.shift(),h.shift()),u||(0,i.when)()},g=function(r,e){return v("render",r,e)},m=function(r,e){return v("update",r,e)},x=function(r){return function(){var e=this;return v("render",function(){return r.call(e)})}},b=function(r){return function(){var e=this;return v("update",function(){return r.call(e)})}},S=function(r,e,t){var n=[],o=0;return(0,a.each)(e,function(e,i){var u=0,f=t?t(i):i;(0,a.each)(r,function(r,e){var t=f[r];if(void 0!==t){if(!A(t,e))return u=-1,!1;u++}}),u<o||(u>o&&(n.length=0,o=u),n.push(i))}),n},A=function(r,e){if(Array.isArray(r)&&Array.isArray(e)){var t=!1;return(0,a.each)(r,function(r,n){if(n!==e[r])return t=!0,!1}),!t}return r===e},_=function(e){switch(void 0===e?"undefined":r(e)){case"string":return e.split(/\s+/,2);case"object":return[e.x||e.h,e.y||e.v];case"number":return[e];default:return e}},j=function(r){var e=(0,f.isString)(r)?r:r.toString(),t=e.match(/[^a-zA-Z0-9_]/g);return t&&(0,a.each)(t,function(r,t){e=e.replace(t,"__"+t.charCodeAt()+"__")}),e},D=function(r){var e=r.match(/__\d+__/g);return e&&e.forEach(function(e){var t=parseInt(e.replace("__",""));r=r.replace(e,String.fromCharCode(t))}),r},q=function(r,e){var t=_(r),n=e?parseFloat(t&&t[0]):parseInt(t&&t[0],10),o=e?parseFloat(t&&t[1]):parseInt(t&&t[1],10);return isFinite(n)||(n=0),isFinite(o)||(o=n),{h:n,v:o}},w=function(r){if(r instanceof o.default)return r.toString();if((0,f.isObject)(r)||Array.isArray(r))try{var e=JSON.stringify(r);return"{}"===e?r:e}catch(t){return r}return r},O=function(r){return r.replace(/[[\]{}\-()*+?.\\^$|\s]/g,"\\$&")},C=function(r){var e=(0,t.default)().serverDecimalSeparator;return(0,f.isDefined)(r)&&(r=r.toString().replace(".",e)),r},F=function(){},z=function(){return(new i.Deferred).resolve().promise()},I=function(r,e,t){for(var n=[],o=!t,i=0;i<r.length;i++)!!e(r[i],i)===o&&n.push(r[i]);return n},K=function(r,e,t){if(r.length!==e.length)return!1;for(var n=0;n<r.length;n++)if(!W(r[n],e[n],t+1))return!1;return!0},R=function(r,e,t){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&!W(r[n],e[n],t+1))return!1;for(var o in e)if(!(o in r))return!1;return!0},T=3,W=function(r,e,t){return t=t||0,(r=(0,u.toComparable)(r,!0))===(e=(0,u.toComparable)(e,!0))||t>=T||((0,f.isObject)(r)&&(0,f.isObject)(e)?R(r,e,t):!(!Array.isArray(r)||!Array.isArray(e))&&K(r,e,t))};exports.ensureDefined=c,exports.executeAsync=p,exports.deferRender=g,exports.deferRenderer=x,exports.deferUpdate=m,exports.deferUpdater=b,exports.pairToObject=q,exports.splitPair=_,exports.findBestMatches=S,exports.normalizeKey=j,exports.denormalizeKey=D,exports.getKeyHash=w,exports.escapeRegExp=O,exports.applyServerDecimalSeparator=C,exports.noop=F,exports.asyncNoop=z,exports.grep=I,exports.equalByValue=W;
},{"../config":"iRjc","../guid":"tQQP","../utils/deferred":"g5TB","./data":"YLhW","./iterator":"FHcO","./type":"Mw4w"}],"RRDy":[function(require,module,exports) {
"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=require("./utils/dependency_injector"),n=r(t),o=require("./utils/common");function r(e){return e&&e.__esModule?e:{default:e}}var u=1,c=3,i=9,s={querySelectorAll:function(e,t){return e.querySelectorAll(t)},elementMatches:function(e,t){var n=this;return(e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(t){var o=e.document||e.ownerDocument;if(!o)return!1;for(var r=n.querySelectorAll(o,t),u=0;u<r.length;u++)if(r[u]===e)return!0}).call(e,t)},createElement:function(e,t){return(t=t||this._document).createElement(e)},createElementNS:function(e,t,n){return(n=n||this._document).createElementNS(e,t)},createTextNode:function(e,t){return(t=t||this._document).createTextNode(e)},isNode:function(t){return"object"===(void 0===t?"undefined":e(t))&&"nodeType"in t},isElementNode:function(e){return e&&e.nodeType===u},isTextNode:function(e){return e&&e.nodeType===c},isDocument:function(e){return e&&e.nodeType===i},removeElement:function(e){var t=e&&e.parentNode;t&&t.removeChild(e)},insertElement:function(e,t,n){e&&t&&e!==t&&(n?e.insertBefore(t,n):e.appendChild(t))},getAttribute:function(e,t){return e.getAttribute(t)},setAttribute:function(e,t,n){e.setAttribute(t,n)},removeAttribute:function(e,t){e.removeAttribute(t)},setProperty:function(e,t,n){e[t]=n},setText:function(e,t){e&&(e.textContent=t)},setClass:function(e,t,n){if(1===e.nodeType&&t)if(e.classList)n?e.classList.add(t):e.classList.remove(t);else{var o="string"==typeof e.className,r=o?e.className:this.getAttribute(e,"class")||"",u=r.split(" "),c=u.indexOf(t),i=void 0;n&&c<0&&(i=r?r+" "+t:t),!n&&c>=0&&(u.splice(c,1),i=u.join(" ")),void 0!==i&&(o?e.className=i:this.setAttribute(e,"class",i))}},setStyle:function(e,t,n){e.style[t]=n||""},_document:"undefined"==typeof document?void 0:document,getDocument:function(){return this._document},getActiveElement:function(){return this._document.activeElement},getBody:function(){return this._document.body},createDocumentFragment:function(){return this._document.createDocumentFragment()},getDocumentElement:function(){return this._document.documentElement},getLocation:function(){return this._document.location},getSelection:function(){return this._document.selection},getReadyState:function(){return this._document.readyState},getHead:function(){return this._document.head},hasDocumentProperty:function(e){return e in this._document},listen:function(e,t,n,r){return e&&"addEventListener"in e?(e.addEventListener(t,n,r),function(){e.removeEventListener(t,n)}):o.noop}};module.exports=(0,n.default)(s);
},{"./utils/dependency_injector":"NtCB","./utils/common":"GcQA"}],"NXH3":[function(require,module,exports) {
"use strict";var n=require("../dom_adapter"),t="undefined"!=typeof window,e=t&&window;e||((e={}).window=e),module.exports={hasWindow:function(){return t},getWindow:function(){return e},hasProperty:function(n){return this.hasWindow()&&n in e},defaultScreenFactorFunc:function(n){return n<768?"xs":n<992?"sm":n<1200?"md":"lg"},getCurrentScreenFactor:function(t){return(t||this.defaultScreenFactorFunc)(n.getDocumentElement().clientWidth)},getNavigator:function(){return this.hasWindow()?e.navigator:{userAgent:""}}};
},{"../dom_adapter":"RRDy"}],"AMGk":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/array").inArray,i=require("../../core/utils/window"),r=i.hasWindow()?i.getWindow().WeakMap:WeakMap;r||(r=function(){var i=[],r=[];this.set=function(t,n){var s=e(t,i);-1===s?(i.push(t),r.push(n)):r[s]=n},this.get=function(t){var n=e(t,i);if(-1!==n)return r[n]},this.has=function(r){return-1!==e(r,i)},this.delete=function(t){var n=e(t,i);-1!==n&&(i.splice(n,1),r.splice(n,1))}}),module.exports=r;
},{"../../core/utils/array":"uivT","../../core/utils/window":"NXH3"}],"S8Wn":[function(require,module,exports) {
"use strict";var e=require("../core/utils/iterator").each,i=require("./utils/callbacks"),r=function(){var r=[],t=i();this.add=function(i){e(r,function(e,r){i.apply(i,r)}),t.add(i)},this.remove=function(e){t.remove(e)},this.fire=function(){r.push(arguments),t.fire.apply(t,arguments)}};module.exports=r;
},{"../core/utils/iterator":"FHcO","./utils/callbacks":"gtoU"}],"jxq3":[function(require,module,exports) {
"use strict";var e=require("../../core/memorized_callbacks");module.exports=new e;
},{"../../core/memorized_callbacks":"S8Wn"}],"bh6Z":[function(require,module,exports) {
"use strict";var e=["pageX","pageY","screenX","screenY","clientX","clientY"],t=function(e,t){if(t[e]&&!t.touches||!t.touches)return t[e];var n=t.touches.length?t.touches:t.changedTouches;return n.length?n[0][e]:void 0};module.exports=function(n){e.forEach(function(e){n(e,function(n){return t(e,n)})},this)};
},{}],"hqaQ":[function(require,module,exports) {
"use strict";var t=function(t){var n,r=function(){return n=t.apply(this,arguments),r=function(){return n},n};return function(){return r.apply(this,arguments)}};module.exports=t;
},{}],"oNrb":[function(require,module,exports) {
"use strict";var e,t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=require("./event_registrator_callbacks"),r=require("../../core/utils/extend").extend,o=require("../../core/dom_adapter"),i=require("../../core/utils/window"),a=i.getWindow(),l=require("../../core/utils/dependency_injector"),c=require("../../core/utils/type"),u=require("../../core/utils/callbacks"),p=c.isWindow,f=c.isFunction,s=c.isString,d=require("../../core/errors"),v=require("../../core/polyfills/weak_map"),g=require("../../events/core/hook_touch_props"),h=require("../../core/utils/call_once"),y="dxEmptyEventType",m={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},E={focusin:"focus",focusout:"blur"},b=["blur","focus","load"],w=["touchmove","wheel","mousewheel","touchstart"],O=function(e,t){return!p(e)&&"#document"!==e.nodeName&&o.elementMatches(e,t)},j=new v,H=0,P=function(){var e={};return n.add(function(t,n){e[t]=n}),{getField:function(t,n){return e[t]&&e[t][n]},callMethod:function(t,n,r,o){return e[t]&&e[t][n]&&e[t][n].apply(r,o)}}}(),S=function e(t,n){var r=t[0];if(r)if(o.isNode(r)||p(r))n.apply(W,t);else{if(s(r)||!("length"in r))throw d.Error("E0025");var i=Array.prototype.slice.call(t,0);Array.prototype.forEach.call(r,function(t){i[0]=t,e(i,n)})}},T=function(e){return function(){S(arguments,e)}},q=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,!0}});a.addEventListener("test",null,t)}catch(n){}return e},x=h(q),k=function(t,n){var r=j.get(t),i=(n=n||"").split("."),a=i.slice(1),l=!!i[0];n=i[0]||y,r||(r={},j.set(t,r)),r[n]||(r[n]={handleObjects:[],nativeHandler:null});var c=r[n];return{addHandler:function(r,i,u){var p=function(e,o){var i,a,l=[e],c=e.currentTarget,p=e.relatedTarget;n in m&&(i=p&&c&&(p===c||c.contains(p))),void 0!==o&&l.push(o),P.callMethod(n,"handle",t,[e,u]),i||(a=r.apply(c,l)),!1===a&&(e.preventDefault(),e.stopPropagation())},f={handler:r,wrappedHandler:function(n,r){if(!e||n.type!==e)if(n.data=u,n.delegateTarget=t,i)for(var o=n.target;o&&o!==t;)O(o,i)&&(n.currentTarget=o,p(n,r)),o=o.parentNode;else n.currentTarget=n.delegateTarget||n.target,p(n,r)},selector:i,type:n,data:u,namespace:a.join("."),namespaces:a,guid:++H};c.handleObjects.push(f);var s,d=1===c.handleObjects.length&&l;d&&(d=!P.callMethod(n,"setup",t,[u,a,r])),d&&(c.nativeHandler=M(n),x()&&w.indexOf(n)>-1&&(s={passive:!1}),c.removeListener=o.listen(t,m[n]||n,c.nativeHandler,s)),P.callMethod(n,"add",t,[f])},removeHandler:function(e,o){var i=function(n){var i,l=r[n];l.handleObjects.length?(l.handleObjects=l.handleObjects.filter(function(r){var l=a.length&&!_(r.namespaces,a)||e&&r.handler!==e||o&&r.selector!==o;return l||(i=r.handler,P.callMethod(n,"remove",t,[r])),l}),!l.handleObjects.length&&n!==y&&(P.callMethod(n,"teardown",t,[a,i]),l.nativeHandler&&l.removeListener(),delete r[n])):delete r[n]};if(l)i(n);else for(var c in r)i(c);0===Object.keys(r).length&&j.delete(t)},callHandlers:function(e,t){var n=!1,o=function(r){n||a.length&&!_(r.namespaces,a)||(r.wrappedHandler(e,t),n=e.isImmediatePropagationStopped())};c.handleObjects.forEach(o),a.length&&r[y]&&r[y].handleObjects.forEach(o)}}},M=function(e){return function(t,n){var r=k(this,e);t=W.Event(t),r.callHandlers(t,n)}},_=function(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])<0)return!1;return!0},N=function(e){return function(t,n,r,o,i){i||(i=o,o=void 0),"string"!=typeof r&&(o=r,r=void 0),i||"string"!=typeof n||(i=o||r,r=void 0,o=void 0),e(t,n,r,o,i)}},A=function(e){return function(t,n,r,o){"function"==typeof r&&(o=r,r=void 0),e(t,n,r,o)}},D=function(e){return function(t,n,r){"string"==typeof n&&(n={type:n}),n.target||(n.target=t),n.currentTarget=t,n.delegateTarget||(n.delegateTarget=t),!n.type&&n.originalEvent&&(n.type=n.originalEvent.type),e(t,n instanceof W.Event?n:W.Event(n),r)}},F=function(e){return function(t,n){if(!(this instanceof W.Event))return new W.Event(t,n);t||(t={}),"string"==typeof t&&(t={type:t}),n||(n={}),e.call(this,t,n)}},I=function(e){var n=function(t,n){if(n&&n.indexOf(" ")>-1){var r=Array.prototype.slice.call(arguments,0);n.split(" ").forEach(function(t){r[1]=t,e.apply(this,r)})}else e.apply(this,arguments)};return function(e,r){if("object"===(void 0===r?"undefined":t(r))){var o=Array.prototype.slice.call(arguments,0);for(var i in r)o[1]=i,o[o.length-1]=r[i],n.apply(this,o)}else n.apply(this,arguments)}},C=function(t,n){var r=E[t]||t;(function(e,t){return"click"===e&&"a"===t.localName})(t,n)||f(n[r])&&(e=t,n[r](),e=void 0)},L=function(e){if(function(e){return null==e.which&&0===e.type.indexOf("key")}(e))return null!=e.charCode?e.charCode:e.keyCode;if(function(e){return!e.which&&void 0!==e.button&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(e.type)}(e)){return{1:1,2:3,3:1,4:2}[e.button]}return e.which},W=l({on:T(N(I(function(e,t,n,r,o){k(e,t).addHandler(o,n,r)}))),one:T(N(function(e,t,n,r,o){W.on(e,t,n,r,function r(){W.off(e,t,n,r),o.apply(this,arguments)})})),off:T(A(I(function(e,t,n,r){k(e,t).removeHandler(r,n)}))),trigger:T(D(function(e,t,n){var o=t.type,i=k(e,t.type);if(P.callMethod(o,"trigger",e,[t,n]),i.callHandlers(t,n),!(P.getField(o,"noBubble")||t.isPropagationStopped()||-1!==b.indexOf(o))){var l=[];!function e(t){var n=t.parentNode;n&&(l.push(n),e(n))}(e),l.push(a);for(var c=0;l[c]&&!t.isPropagationStopped();){k(l[c],t.type).callHandlers(r(t,{currentTarget:l[c]}),n),c++}}(e.nodeType||p(e))&&(P.callMethod(o,"_default",e,[t,n]),C(o,e))})),triggerHandler:T(D(function(e,t,n){k(e,t.type).callHandlers(t,n)}))}),B=function(e){e&&(W.Event=e,W.Event.prototype=e.prototype)};B(F(function(e,t){var n=this,o=!1,l=!1,c=!1;r(n,e),(e instanceof W.Event||i.hasWindow()&&e instanceof a.Event)&&(n.originalEvent=e,n.currentTarget=void 0),e instanceof W.Event||r(n,{isPropagationStopped:function(){return!!(o||n.originalEvent&&n.originalEvent.propagationStopped)},stopPropagation:function(){o=!0,n.originalEvent&&n.originalEvent.stopPropagation()},isImmediatePropagationStopped:function(){return l},stopImmediatePropagation:function(){this.stopPropagation(),l=!0,n.originalEvent&&n.originalEvent.stopImmediatePropagation()},isDefaultPrevented:function(){return!!(c||n.originalEvent&&n.originalEvent.defaultPrevented)},preventDefault:function(){c=!0,n.originalEvent&&n.originalEvent.preventDefault()}}),G("which",L,n),0===e.type.indexOf("touch")&&(delete t.pageX,delete t.pageY),r(n,t),n.guid=++H}));var G=function(e,t,n){Object.defineProperty(n||W.Event.prototype,e,{enumerable:!0,configurable:!0,get:function(){return this.originalEvent&&t(this.originalEvent)},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})};g(G);var X=u(),Y=u();W.set=function(e){X.fire(),W.inject(e),B(e.Event),Y.fire()},W.subscribeGlobal=function(){S(arguments,N(function(){var e=arguments;W.on.apply(this,e),X.add(function(){var t=Array.prototype.slice.call(e,0);t.splice(3,1),W.off.apply(this,t)}),Y.add(function(){W.on.apply(this,e)})}))},W.forcePassiveFalseEventNames=w,W.passiveEventHandlersSupported=x,module.exports=W;
},{"./event_registrator_callbacks":"jxq3","../../core/utils/extend":"ac8T","../../core/dom_adapter":"RRDy","../../core/utils/window":"NXH3","../../core/utils/dependency_injector":"NtCB","../../core/utils/type":"Mw4w","../../core/utils/callbacks":"gtoU","../../core/errors":"BdzT","../../core/polyfills/weak_map":"AMGk","../../events/core/hook_touch_props":"bh6Z","../../core/utils/call_once":"hqaQ"}],"yYfn":[function(require,module,exports) {
"use strict";var e,t=require("./polyfills/weak_map"),a=require("./dom_adapter"),n=require("../events/core/events_engine"),r=require("./memorized_callbacks"),o=new t,i=new r,c=function(){},l=function(){},s=exports.setDataStrategy=function(t){i.fire(t);var a=(e=t).cleanData;e.cleanData=function(e){c(e);var t=a.call(this,e);return l(e),t}};s({data:function(){var e=arguments[0],t=arguments[1],a=arguments[2];if(e){var n=o.get(e);return n||(n={},o.set(e,n)),void 0===t?n:2===arguments.length?n[t]:(n[t]=a,a)}},removeData:function(e,t){if(e)if(void 0===t)o.delete(e);else{var a=o.get(e);a&&delete a[t]}},cleanData:function(e){for(var t=0;t<e.length;t++)n.off(e[t]),o.delete(e[t])}}),exports.setDataStrategy=s,exports.getDataStrategy=function(){return e},exports.data=function(){return e.data.apply(this,arguments)},exports.strategyChanging=i,exports.beforeCleanData=function(e){c=e},exports.afterCleanData=function(e){l=e},exports.cleanData=function(t){return e.cleanData.call(this,t)},exports.removeData=function(t,a){return e.removeData.call(this,t,a)},exports.cleanDataRecursive=function(t,n){if(a.isElementNode(t)){var r=t.getElementsByTagName("*");e.cleanData(r),n&&e.cleanData([t])}};
},{"./polyfills/weak_map":"AMGk","./dom_adapter":"RRDy","../events/core/events_engine":"oNrb","./memorized_callbacks":"S8Wn"}],"i2nR":[function(require,module,exports) {
"use strict";var r=require("./iterator").map,e=function(r){return null==r?"":String(r)},t=function(r){return e(r).charAt(0).toUpperCase()+r.substr(1)},n=function(r){return e(r).replace(/([a-z\d])([A-Z])/g,"$1 $2").split(/[\s_-]+/)},o=function(e){return r(n(e),function(r){return r.toLowerCase()}).join("-")},u=function(r){return o(r).replace(/-/g,"_")},i=function(e,o){return r(n(e),function(r,e){return r=r.toLowerCase(),(o||e>0)&&(r=t(r)),r}).join("")},s=function(r){return t(o(r).replace(/-/g," "))},c=function(e){return r(n(e),function(r){return t(r.toLowerCase())}).join(" ")},a=["0","1","2","3","4","5","6","7","8","9"],p=function(r){var e,t,n=[],o=!1,u=!1;for(e=0;e<r.length;e++)u=(t=r.charAt(e))===t.toUpperCase()&&"-"!==t&&")"!==t&&"/"!==t||t in a,"_"===t||"."===t?(t=" ",u=!0):0===e?(t=t.toUpperCase(),u=!0):!o&&u&&n.length>0&&n.push(" "),n.push(t),o=u;return n.join("")};exports.dasherize=o,exports.camelize=i,exports.humanize=s,exports.titleize=c,exports.underscore=u,exports.captionize=p;
},{"./iterator":"FHcO"}],"DyYH":[function(require,module,exports) {
"use strict";var e=require("./inflector").camelize,r=require("./call_once"),t=require("./type"),i=require("../dom_adapter"),n=["","Webkit","Moz","O","Ms"],o={"":"",Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-"},u=r(function(){return i.createElement("dx").style}),f=function(r,t){var i;r=e(r,!0);for(var o=0,u=n.length;o<u;o++){var f=n[o],s=f+r;if(void 0===(i=t(e(s),f))&&(i=t(s,f)),void 0!==i)break}return i||""},s=function(e){if(e in u())return e;var r=e;e=e.charAt(0).toUpperCase()+e.substr(1);for(var t=1;t<n.length;t++){var i=n[t].toLowerCase()+e;if(i in u())return i}return r},c=function(e){return f(e,function(e,r){if(e in u())return o[r]})},a=["fillOpacity","columnCount","flexGrow","flexShrink","fontWeight","lineHeight","opacity","zIndex","zoom"],l=function(e,r){return t.isNumeric(r)&&-1===a.indexOf(e)&&(r+="px"),r},p=function(e,r,i){if(e){i=t.isNumeric(i)?i+="px":i;for(var n=0;n<e.length;++n)e[n].style[r]=i}},x=function(e,r){p(e,"width",r)},h=function(e,r){p(e,"height",r)};exports.styleProp=s,exports.stylePropPrefix=c,exports.normalizeStyleProp=l,exports.setWidth=x,exports.setHeight=h;
},{"./inflector":"i2nR","./call_once":"hqaQ","./type":"Mw4w","../dom_adapter":"RRDy"}],"v9LC":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/window").getWindow(),t=require("../utils/type"),r=["auto","none","inherit","initial"],n=function(e,t){var r=0;return t.forEach(function(t){r+=parseFloat(e[t])||0}),r},i=function(e,t){var r="width"===e?"Left":"Top",i="width"===e?"Right":"Bottom";return{padding:n(t,["padding"+r,"padding"+i]),border:n(t,["border"+r+"Width","border"+i+"Width"]),margin:n(t,["margin"+r,"margin"+i])}},o=function(e,t,r){var n=t[e];return"border-box"===t.boxSizing&&n.length&&"%"!==n[n.length-1]?r.border+r.padding:0},a=function(t,r,n){var a=e.getComputedStyle(t),d=i(r,a),g=t.getClientRects().length,u=t.getBoundingClientRect()[r],s=g?u:0;return s<=0?(s=parseFloat(a[r]||t.style[r])||0,s-=o(r,a,d)):s-=d.padding+d.border,n.paddings&&(s+=d.padding),n.borders&&(s+=d.border),n.margins&&(s+=d.margin),s},d=function(e){return t.isWindow(e)?e.innerHeight:e.offsetHeight},g=function(e,t){return e.indexOf("px")>0?e=parseInt(e.replace("px","")):e.indexOf("%")>0?e=parseInt(e.replace("%",""))*d(t)/100:isNaN(e)||(e=parseInt(e)),e},u=function(e,n,i){return e?r.indexOf(e)>-1?n?null:e:(t.isString(e)&&(e=g(e,i)),t.isNumeric(e)?Math.max(0,e+n):"calc("+e+(n<0?" - ":" ")+Math.abs(n)+"px)"):null},s=function(e,t,r){var n=u(e,t,r);return null!==n?n:"none"},p=function(e,t,r){var n=u(e,t,r);return null!==n?n:0},f=function(t,r){if(!t)return 0;var n=i("height",e.getComputedStyle(t));return n.padding+n.border+(r?n.margin:0)},l=function(e){if(e){var t=e.getBoundingClientRect();if(t.height)return t.height}return 0};exports.getSize=a,exports.getElementBoxParams=i,exports.addOffsetToMaxHeight=s,exports.addOffsetToMinHeight=p,exports.getVerticalOffsets=f,exports.getVisibleHeight=l,exports.parseHeight=g;
},{"../../core/utils/window":"NXH3","../utils/type":"Mw4w"}],"MlaD":[function(require,module,exports) {
"use strict";var t=require("./array").merge,a=require("../dom_adapter"),e=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,r={default:{tagsCount:0,startTags:"",endTags:""},thead:{tagsCount:1,startTags:"<table>",endTags:"</table>"},td:{tagsCount:3,startTags:"<table><tbody><tr>",endTags:"</tr></tbody></table>"},col:{tagsCount:2,startTags:"<table><colgroup>",endTags:"</colgroup></table>"},tr:{tagsCount:2,startTags:"<table><tbody>",endTags:"</tbody></table>"}};r.tbody=r.colgroup=r.caption=r.tfoot=r.thead,r.th=r.td;var s=function(s){if("string"!=typeof s)return null;var o=a.createDocumentFragment().appendChild(a.createElement("div")),n=e.exec(s),d=n&&n[1].toLowerCase(),g=r[d]||r.default;o.innerHTML=g.startTags+s+g.endTags;for(var l=0;l<g.tagsCount;l++)o=o.lastChild;return t([],o.childNodes)},o=function(t){var a=e.exec(t);return a&&a[1]in r};exports.parseHTML=s,exports.isTablePart=o;
},{"./array":"uivT","../dom_adapter":"RRDy"}],"i9Y2":[function(require,module,exports) {
"use strict";var t=require("./element_data"),e=require("./dom_adapter"),i=require("./utils/window"),r=i.getWindow(),n=require("./utils/type"),s=require("./utils/style"),o=require("./utils/size"),h=require("./utils/html_parser"),p=function(t,e){return new l(t,e)},l=function(t,i){return t?"string"==typeof t?"body"===t?(this[0]=i?i.body:e.getBody(),this.length=1,this):(i=i||e.getDocument(),"<"===t[0]?(this[0]=e.createElement(t.slice(1,-1),i),this.length=1,this):([].push.apply(this,e.querySelectorAll(i,t)),this)):e.isNode(t)||n.isWindow(t)?(this[0]=t,this.length=1,this):Array.isArray(t)?([].push.apply(this,t),this):p(t.toArray?t.toArray():[t]):(this.length=0,this)};p.fn={dxRenderer:!0},l.prototype=p.fn;var f=function(t,e){for(var i=0;i<this.length;i++){var r=p(this[i]);r[t].apply(r,e)}return this},u=function(t,i,r){null!=r?e.setAttribute(t,i,r):e.removeAttribute(t,i)};l.prototype.show=function(){return this.toggle(!0)},l.prototype.hide=function(){return this.toggle(!1)},l.prototype.toggle=function(t){return this[0]&&this.toggleClass("dx-state-invisible",!t),this},l.prototype.attr=function(t,e){if(this.length>1&&arguments.length>1)return f.call(this,"attr",arguments);if(!this[0])return n.isObject(t)||void 0!==e?this:void 0;if(!this[0].getAttribute)return this.prop(t,e);if("string"==typeof t&&1===arguments.length){var i=this[0].getAttribute(t);return null==i?void 0:i}if(n.isPlainObject(t))for(var r in t)this.attr(r,t[r]);else u(this[0],t,e);return this},l.prototype.removeAttr=function(t){return this[0]&&e.removeAttribute(this[0],t),this},l.prototype.prop=function(t,i){if(!this[0])return this;if("string"==typeof t&&1===arguments.length)return this[0][t];if(n.isPlainObject(t))for(var r in t)this.prop(r,t[r]);else e.setProperty(this[0],t,i);return this},l.prototype.addClass=function(t){return this.toggleClass(t,!0)},l.prototype.removeClass=function(t){return this.toggleClass(t,!1)},l.prototype.hasClass=function(t){if(!this[0]||void 0===this[0].className)return!1;for(var i=t.split(" "),r=0;r<i.length;r++){if(this[0].classList){if(this[0].classList.contains(i[r]))return!0}else if(((n.isString(this[0].className)?this[0].className:e.getAttribute(this[0],"class"))||"").split(" ").indexOf(i[r])>=0)return!0}return!1},l.prototype.toggleClass=function(t,i){if(this.length>1)return f.call(this,"toggleClass",arguments);if(!this[0]||!t)return this;i=void 0===i?!this.hasClass(t):i;for(var r=t.split(" "),n=0;n<r.length;n++)e.setClass(this[0],r[n],i);return this},["width","height","outerWidth","outerHeight","innerWidth","innerHeight"].forEach(function(t){var i=t.toLowerCase().indexOf("width")>=0?"Width":"Height",s=i.toLowerCase(),h=0===t.indexOf("outer"),p=0===t.indexOf("inner");l.prototype[t]=function(l){if(this.length>1&&arguments.length>0)return f.call(this,t,arguments);var u=this[0];if(u){if(n.isWindow(u))return h?u["inner"+i]:e.getDocumentElement()["client"+i];if(e.isDocument(u)){var a=e.getDocumentElement(),c=e.getBody();return Math.max(c["scroll"+i],c["offset"+i],a["scroll"+i],a["offset"+i],a["client"+i])}if(0===arguments.length||"boolean"==typeof l){var d={paddings:p||h,borders:h,margins:l};return o.getSize(u,s,d)}if(null==l)return this;if(n.isNumeric(l)){var g=r.getComputedStyle(u),y=o.getElementBoxParams(s,g),v="border-box"===g.boxSizing;l=Number(l),h?l-=v?0:y.border+y.padding:p?l+=v?y.border:-y.padding:v&&(l+=y.border+y.padding)}return l+=n.isNumeric(l)?"px":"",e.setStyle(u,s,l),this}}}),l.prototype.html=function(t){return arguments.length?(this.empty(),"string"==typeof t&&!h.isTablePart(t)||"number"==typeof t?(this[0].innerHTML=t,this):this.append(h.parseHTML(t))):this[0].innerHTML};var a=function(t,i){if(this[0]&&t){"string"==typeof t?t=h.parseHTML(t):t.nodeType?t=[t]:n.isNumeric(t)&&(t=[e.createTextNode(t)]);for(var r=0;r<t.length;r++){var s=t[r],o=this[0];"TABLE"===o.tagName&&"TR"===s.tagName&&o.tBodies&&o.tBodies.length&&(o=o.tBodies[0]),e.insertElement(o,s.nodeType?s:s[0],i)}}},c=function(t,e){if(this[0]&&this[0].style&&!(null===e||"number"==typeof e&&isNaN(e))){t=s.styleProp(t);for(var i=0;i<this.length;i++)this[i].style[t]=s.normalizeStyleProp(t,e)}};l.prototype.css=function(t,e){if(n.isString(t)){if(2!==arguments.length){if(!this[0])return;t=s.styleProp(t);var i=r.getComputedStyle(this[0])[t]||this[0].style[t];return n.isNumeric(i)?i.toString():i}c.call(this,t,e)}else if(n.isPlainObject(t))for(var o in t)c.call(this,o,t[o]);return this},l.prototype.prepend=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.prepend(arguments[e]);return this}return a.apply(this,[t,this[0].firstChild]),this},l.prototype.append=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.append(arguments[e]);return this}return a.apply(this,[t]),this},l.prototype.prependTo=function(t){return(t=p(t))[0]&&e.insertElement(t[0],this[0],t[0].firstChild),this},l.prototype.appendTo=function(t){return this.length>1?f.call(this,"appendTo",arguments):(e.insertElement(p(t)[0],this[0]),this)},l.prototype.insertBefore=function(t){return t&&t[0]&&e.insertElement(t[0].parentNode,this[0],t[0]),this},l.prototype.insertAfter=function(t){return t&&t[0]&&e.insertElement(t[0].parentNode,this[0],t[0].nextSibling),this},l.prototype.before=function(t){return this[0]&&e.insertElement(this[0].parentNode,t[0],this[0]),this},l.prototype.after=function(t){return this[0]&&e.insertElement(this[0].parentNode,t[0],this[0].nextSibling),this},l.prototype.wrap=function(t){if(this[0]){var e=p(t);e.insertBefore(this),e.append(this)}return this},l.prototype.wrapInner=function(t){var e=this.contents();return e.length?e.wrap(t):this.append(t),this},l.prototype.replaceWith=function(t){if(t&&t[0])return t.is(this)?this:(t.insertBefore(this),this.remove(),t)},l.prototype.remove=function(){return this.length>1?f.call(this,"remove",arguments):(t.cleanDataRecursive(this[0],!0),e.removeElement(this[0]),this)},l.prototype.detach=function(){return this.length>1?f.call(this,"detach",arguments):(e.removeElement(this[0]),this)},l.prototype.empty=function(){return this.length>1?f.call(this,"empty",arguments):(t.cleanDataRecursive(this[0]),e.setText(this[0],""),this)},l.prototype.clone=function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e].cloneNode(!0));return p(t)},l.prototype.text=function(i){if(!arguments.length){for(var r="",s=0;s<this.length;s++)r+=this[s]&&this[s].textContent||"";return r}var o=n.isFunction(i)?i():i;return t.cleanDataRecursive(this[0],!1),e.setText(this[0],n.isDefined(o)?o:""),this},l.prototype.val=function(t){return 1===arguments.length?this.prop("value",n.isDefined(t)?t:""):this.prop("value")},l.prototype.contents=function(){if(!this[0])return p();var t=[];return t.push.apply(t,this[0].childNodes),p(t)},l.prototype.find=function(t){var i=p();if(!t)return i;var r,n=[];if("string"==typeof t)for(t=t.trim(),r=0;r<this.length;r++){var s=this[r];if(e.isElementNode(s)){var o=s.getAttribute("id"),h=o||"dx-query-children";o||u(s,"id",h);var l=(h="[id='"+h+"'] ")+t.replace(/([^\\])(,)/g,"$1, "+h);n.push.apply(n,e.querySelectorAll(s,l)),u(s,"id",o)}else e.isDocument(s)&&n.push.apply(n,e.querySelectorAll(s,t))}else for(r=0;r<this.length;r++)t=e.isNode(t)?t:t[0],this[r]!==t&&this[r].contains(t)&&n.push(t);return i.add(n)};var d=function(t,e){return!e.nodeType||!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)};l.prototype.filter=function(t){if(!t)return p();if(":visible"===t)return this.filter(d);if(":hidden"===t)return this.filter(function(t,e){return!d(t,e)});for(var i=[],r=0;r<this.length;r++){var s=this[r];if(e.isElementNode(s)&&"string"===n.type(t))e.elementMatches(s,t)&&i.push(s);else if(e.isNode(t)||n.isWindow(t))t===s&&i.push(s);else if(n.isFunction(t))t.call(s,r,s)&&i.push(s);else for(var o=0;o<t.length;o++)t[o]===s&&i.push(s)}return p(i)},l.prototype.not=function(t){for(var e=[],i=this.filter(t).toArray(),r=0;r<this.length;r++)-1===i.indexOf(this[r])&&e.push(this[r]);return p(e)},l.prototype.is=function(t){return!!this.filter(t).length},l.prototype.children=function(t){for(var i=[],r=0;r<this.length;r++)for(var n=this[r]?this[r].childNodes:[],s=0;s<n.length;s++)e.isElementNode(n[s])&&i.push(n[s]);return i=p(i),t?i.filter(t):i},l.prototype.siblings=function(){var t=this[0];if(!t||!t.parentNode)return p();for(var i=[],r=t.parentNode.childNodes||[],n=0;n<r.length;n++){var s=r[n];e.isElementNode(s)&&s!==t&&i.push(s)}return p(i)},l.prototype.each=function(t){for(var e=0;e<this.length&&!1!==t.call(this[e],e,this[e]);e++);},l.prototype.index=function(t){return t?(t=p(t),this.toArray().indexOf(t[0])):this.parent().children().index(this)},l.prototype.get=function(t){return this[t<0?this.length+t:t]},l.prototype.eq=function(t){return t=t<0?this.length+t:t,p(this[t])},l.prototype.first=function(){return this.eq(0)},l.prototype.last=function(){return this.eq(-1)},l.prototype.parent=function(t){if(!this[0])return p();var e=p(this[0].parentNode);return!t||e.is(t)?e:p()},l.prototype.parents=function(t){for(var i=[],r=this.parent();r&&r[0]&&!e.isDocument(r[0]);)e.isElementNode(r[0])&&(!t||t&&r.is(t))&&i.push(r.get(0)),r=r.parent();return p(i)},l.prototype.closest=function(t){if(this.is(t))return this;for(var e=this.parent();e&&e.length;){if(e.is(t))return e;e=e.parent()}return p()},l.prototype.next=function(t){if(!this[0])return p();var e=p(this[0].nextSibling);if(!arguments.length)return e;for(;e&&e.length;){if(e.is(t))return e;e=e.next()}return p()},l.prototype.prev=function(){return this[0]?p(this[0].previousSibling):p()},l.prototype.add=function(t){for(var e=p(t),i=this.toArray(),r=0;r<e.length;r++){var n=e[r];-1===i.indexOf(n)&&i.push(n)}return p(i)};var g=[];l.prototype.splice=function(){return p(g.splice.apply(this,arguments))},l.prototype.slice=function(){return p(g.slice.apply(this,arguments))},l.prototype.toArray=function(){return g.slice.call(this)};var y=function(t){return n.isWindow(t)?t:t.defaultView};l.prototype.offset=function(){if(this[0]){if(!this[0].getClientRects().length)return{top:0,left:0};var t=this[0].getBoundingClientRect(),e=y(this[0].ownerDocument),i=this[0].ownerDocument.documentElement;return{top:t.top+e.pageYOffset-i.clientTop,left:t.left+e.pageXOffset-i.clientLeft}}},l.prototype.offsetParent=function(){if(!this[0])return p();for(var t=p(this[0].offsetParent);t[0]&&"static"===t.css("position");)t=p(t[0].offsetParent);return t=t[0]?t:p(e.getDocumentElement())},l.prototype.position=function(){if(this[0]){var t,e=parseFloat(this.css("marginTop")),i=parseFloat(this.css("marginLeft"));if("fixed"===this.css("position"))return{top:(t=this[0].getBoundingClientRect()).top-e,left:t.left-i};t=this.offset();var r=this.offsetParent(),n={top:0,left:0};return"HTML"!==r[0].nodeName&&(n=r.offset()),n={top:n.top+parseFloat(r.css("borderTopWidth")),left:n.left+parseFloat(r.css("borderLeftWidth"))},{top:t.top-n.top-e,left:t.left-n.left-i}}},[{name:"scrollLeft",offsetProp:"pageXOffset",scrollWindow:function(t,e){t.scrollTo(e,t.pageYOffset)}},{name:"scrollTop",offsetProp:"pageYOffset",scrollWindow:function(t,e){t.scrollTo(t.pageXOffset,e)}}].forEach(function(t){var e=t.name;l.prototype[e]=function(i){if(this[0]){var r=y(this[0]);return void 0===i?r?r[t.offsetProp]:this[0][e]:(r?t.scrollWindow(r,i):this[0][e]=i,this)}}}),l.prototype.data=function(e,i){if(this[0])return arguments.length<2?t.data.call(p,this[0],e):(t.data.call(p,this[0],e,i),this)},l.prototype.removeData=function(e){return this[0]&&t.removeData(this[0],e),this};var v=function(){return p.apply(this,arguments)};Object.defineProperty(v,"fn",{enumerable:!0,configurable:!0,get:function(){return p.fn},set:function(t){p.fn=t}}),module.exports={set:function(t){p=t},get:function(){return v}};
},{"./element_data":"yYfn","./dom_adapter":"RRDy","./utils/window":"NXH3","./utils/type":"Mw4w","./utils/style":"DyYH","./utils/size":"v9LC","./utils/html_parser":"MlaD"}],"qxFQ":[function(require,module,exports) {
"use strict";var e=require("./renderer_base");module.exports=e.get();
},{"./renderer_base":"i9Y2"}],"aRqE":[function(require,module,exports) {
"use strict";var e=require("./memorized_callbacks");module.exports=new e;
},{"./memorized_callbacks":"S8Wn"}],"czcP":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/iterator").each,r=require("./event_registrator_callbacks"),t=function(t,i){var n={};"noBubble"in i&&(n.noBubble=i.noBubble),"bindType"in i&&(n.bindType=i.bindType),"delegateType"in i&&(n.delegateType=i.delegateType),e(["setup","teardown","add","remove","trigger","handle","_default","dispose"],function(e,r){i[r]&&(n[r]=function(){var e=[].slice.call(arguments);return e.unshift(this),i[r].apply(i,e)})}),r.fire(t,n)};t.callbacks=r,module.exports=t;
},{"../../core/utils/iterator":"FHcO","./event_registrator_callbacks":"jxq3"}],"zNXU":[function(require,module,exports) {
"use strict";var e=require("./renderer"),r=require("./element_data").beforeCleanData,n=require("../events/core/events_engine"),t=require("../events/core/event_registrator"),o="dxremove",a="dxRemoveEvent";r(function(r){r=[].slice.call(r);for(var t=0;t<r.length;t++){var i=e(r[t]);i.prop(a)&&(i[0][a]=null,n.triggerHandler(i,o))}}),t(o,{noBubble:!0,setup:function(r){e(r).prop(a,!0)}}),module.exports=o;
},{"./renderer":"qxFQ","./element_data":"yYfn","../events/core/events_engine":"oNrb","../events/core/event_registrator":"czcP"}],"exJN":[function(require,module,exports) {
"use strict";var e=require("../../core/element_data"),t=require("../../events/core/events_engine"),n=require("../polyfills/weak_map"),r=require("./type").isDefined,a=require("../remove_event"),o="dxComponents",i="dxPrivateComponent",s=new n,u=0,c=exports.name=function(e,t){if(!r(t)){if(!s.has(e)){var n=i+u++;return s.set(e,n),n}return s.get(e)}s.set(e,t)};exports.attachInstanceToElement=function(n,r,i){var s=e.data(n.get(0)),u=c(r.constructor);s[u]=r,i&&t.one(n,a,function(){i.call(r)}),s[o]||(s[o]=[]),s[o].push(u)},exports.getInstanceByElement=function(t,n){var r=c(n);return e.data(t.get(0),r)};
},{"../../core/element_data":"yYfn","../../events/core/events_engine":"oNrb","../polyfills/weak_map":"AMGk","./type":"Mw4w","../remove_event":"zNXU"}],"g3fO":[function(require,module,exports) {
"use strict";var e=require("./renderer"),r=require("./component_registrator_callbacks"),t=require("./errors"),i=require("./utils/public_component"),n=function(e,t,n){n?t[e]=n:n=t,i.name(n,e),r.fire(e,n)},o=function(r,i){e.fn[r]=function(e){var n;if("string"==typeof e){var o=e,s=[].slice.call(arguments).slice(1);this.each(function(){var e=i.getInstance(this);if(!e)throw t.Error("E0009",r);var c=e[o].apply(e,s);void 0===n&&(n=c)})}else this.each(function(){var r=i.getInstance(this);r?r.option(e):new i(this,e)}),n=this;return n}};r.add(o),module.exports=n;
},{"./renderer":"qxFQ","./component_registrator_callbacks":"aRqE","./errors":"BdzT","./utils/public_component":"exJN"}],"Bpfv":[function(require,module,exports) {
"use strict";var e=require("./renderer"),t=require("./config"),r=require("./utils/window").getWindow(),i=require("./utils/type"),n=require("./utils/iterator").each,a=require("./class"),c=require("./errors"),o=a.inherit({ctor:function(e,t){t=t||{},this._action=e,this._context=t.context||r,this._beforeExecute=t.beforeExecute,this._afterExecute=t.afterExecute,this._component=t.component,this._validatingTargetName=t.validatingTargetName;var i=this._excludeValidators={};if(t.excludeValidators)for(var n=0;n<t.excludeValidators.length;n++)i[t.excludeValidators[n]]=!0},execute:function(){var e={action:this._action,args:Array.prototype.slice.call(arguments),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},r=this._beforeExecute,i=this._afterExecute,n=e.args[0]||{};if("jQueryEvent"in n||!n.event||!t().useJQuery||Object.defineProperty(n,"jQueryEvent",{get:function(){return c.log("W0003","Handler argument","jQueryEvent","17.2","Use the 'event' field instead"),n.event},set:function(e){c.log("W0003","Handler argument","jQueryEvent","17.2","Use the 'event' field instead"),n.event=e}}),this._validateAction(e)&&(r&&r.call(this._context,e),!e.cancel)){var a=this._executeAction(e);if(!n.cancel)return i&&i.call(this._context,e),a}},_validateAction:function(e){var t=this._excludeValidators,r=o.executors;for(var i in r)if(!t[i]){var n=r[i];if(n.validate&&n.validate(e),e.cancel)return!1}return!0},_executeAction:function(e){var t,r=o.executors;for(var i in r){var n=r[i];if(n.execute&&n.execute(e),e.handled){t=e.result;break}}return t}});o.executors={},o.registerExecutor=function(e,t){i.isPlainObject(e)?n(e,o.registerExecutor):o.executors[e]=t},o.unregisterExecutor=function(){var e=[].slice.call(arguments);n(e,function(){delete o.executors[this]})},o.registerExecutor({undefined:{execute:function(e){e.action||(e.result=void 0,e.handled=!0)}},func:{execute:function(e){i.isFunction(e.action)&&(e.result=e.action.call(e.context,e.args[0]),e.handled=!0)}}});var u=function(t){return function(r){if(r.args.length){var i=r.args[0],n=i[r.validatingTargetName]||i.element;n&&t(e(n))&&(r.cancel=!0)}}};o.registerExecutor({disabled:{validate:u(function(e){return e.is(".dx-state-disabled, .dx-state-disabled *")})},readOnly:{validate:u(function(e){return e.is(".dx-state-readonly, .dx-state-readonly *")})}}),module.exports=o;
},{"./renderer":"qxFQ","./config":"iRjc","./utils/window":"NXH3","./utils/type":"Mw4w","./utils/iterator":"FHcO","./class":"YpjV","./errors":"BdzT"}],"vDwZ":[function(require,module,exports) {
"use strict";var e,t=require("../../core/renderer"),n=require("../../core/config"),r=require("../../core/dom_adapter"),i=require("./window"),o=i.getWindow(),a=require("../../events/core/events_engine"),s=require("./array").inArray,d=require("./type"),c=d.isDefined,l=d.isRenderer,p=require("../../core/utils/html_parser"),u=function(){var e=r.getActiveElement(),t=r.getBody();if(e&&e!==t&&e.blur)try{e.blur()}catch(n){t.blur()}},g=function(){var e=o.getSelection();if(e&&"Caret"!==e.type)if(e.empty)e.empty();else if(e.removeAllRanges)try{e.removeAllRanges()}catch(t){}},f=function(e,n){var r=t(e),i=t(n);if(r[0]===i[0])return r[0];for(var o=r.parents(),a=i.parents(),s=-Math.min(o.length,a.length);s<0;s++)if(o.get(s)===a.get(s))return o.get(s)},v=function(e){return function(n){for(var r=t(n||"body"),i=r.filter(".dx-visibility-change-handler").add(r.find(".dx-visibility-change-handler")),o=0;o<i.length;o++)a.triggerHandler(i[o],e)}},m=function(){var e=0;return function(t){return(t||"")+e++}}(),h="data-options",x=function(e){var r=t(e).attr(h)||"";return n().optionsParser(r)},y=function(e,n){var r=[],i="["+h+"]";return e.find(i).add(e.filter(i)).each(function(e,i){var o=t(i),a=x(i);for(var d in a)(!n||s(d,n)>-1)&&o[d]&&(o[d](a[d]),r.push(o[d]("instance")))}),r},b=function(e){if(!o.WinJS)return t(p.parseHTML(e));var n=t("<div>");return o.WinJS.Utilities.setInnerHTMLUnsafe(n.get(0),e),n.contents()},S=function(e){var n=(e=t(e)).length&&e.filter(function(){var e=t(this);return e.is("script[type]")&&e.attr("type").indexOf("script")<0});return n.length?n.eq(0).html():(e=t("<div>").append(e)).html()},E=function e(n){var r=c(n)&&(n.nodeType||l(n))?t(n):t("<div>").html(n).contents();return 1===r.length&&(r.is("script")?r=e(r.html().trim()):r.is("table")&&(r=r.children("tbody").contents())),r},T=function(e,t){var n=e.originalEvent&&e.originalEvent.clipboardData||o.clipboardData;if(1===arguments.length)return n&&n.getData("Text");n&&n.setData("Text",t)},q=function(e,t){return!!t&&(t=r.isTextNode(t)?t.parentNode:t,r.isDocument(e)?e.documentElement.contains(t):e.contains(t))},w=function(t){return e(t)},D=function(t){e=t};D(function(e){return e&&e.get(0)});var R=function(e,n,r){var i=o.getComputedStyle(t(e).get(0)),a=r&&r.includePaddings;return t("<div>").text(n).css({fontStyle:i.fontStyle,fontVariant:i.fontVariant,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFamily:i.fontFamily,letterSpacing:i.letterSpacing,border:i.border,paddingTop:a?i.paddingTop:"",paddingRight:a?i.paddingRight:"",paddingBottom:a?i.paddingBottom:"",paddingLeft:a?i.paddingLeft:"",visibility:"hidden",whiteSpace:"nowrap",position:"absolute",float:"left"})};exports.setPublicElementWrapper=D,exports.resetActiveElement=u,exports.createMarkupFromString=b,exports.triggerShownEvent=v("dxshown"),exports.triggerHidingEvent=v("dxhiding"),exports.triggerResizeEvent=v("dxresize"),exports.getElementOptions=x,exports.createComponents=y,exports.extractTemplateMarkup=S,exports.normalizeTemplateElement=E,exports.clearSelection=g,exports.uniqueId=m,exports.closestCommonParent=f,exports.clipboardText=T,exports.contains=q,exports.getPublicElement=w,exports.createTextElementHiddenCopy=R;
},{"../../core/renderer":"qxFQ","../../core/config":"iRjc","../../core/dom_adapter":"RRDy","./window":"NXH3","../../events/core/events_engine":"oNrb","./array":"uivT","./type":"Mw4w","../../core/utils/html_parser":"MlaD"}],"pyvP":[function(require,module,exports) {
"use strict";var e=require("../dom_adapter"),t=require("./dependency_injector"),n=require("./window"),r=require("./call_once"),o=[],i=function(){return"complete"===e.getReadyState()||"loading"!==e.getReadyState()&&!e.getDocumentElement().doScroll},u=r(function(){var t=e.listen(e.getDocument(),"DOMContentLoaded",function(){c.fire(),t()})}),c={add:function(e){var t=n.hasWindow();t&&i()?e():(o.push(e),t&&u())},fire:function(){o.forEach(function(e){return e()}),o=[]}};module.exports=t(c);
},{"../dom_adapter":"RRDy","./dependency_injector":"NtCB","./window":"NXH3","./call_once":"hqaQ"}],"y43t":[function(require,module,exports) {
"use strict";var e=require("./window"),i=require("../dom_adapter"),t=require("./callbacks"),r=require("./ready_callbacks"),n=require("./call_once"),a=function(){var a,h=t(),d=h.add,u=h.remove;if(!e.hasWindow())return h;var o,c=function(){var e=i.getDocumentElement();return{width:e.clientWidth,height:e.clientHeight}},l=function(){var e,i=c();i.width===a.width&&i.height===a.height||(i.width===a.width&&(e="height"),i.height===a.height&&(e="width"),a=i,h.fire(e))},s=n(function(){a=c()});return h.add=function(){var t=d.apply(h,arguments);return s(),r.add(function(){!o&&h.has()&&(o=i.listen(e.getWindow(),"resize",l))}),t},h.remove=function(){var e=u.apply(h,arguments);return!h.has()&&o&&(o(),o=void 0),e},h}();module.exports=a;
},{"./window":"NXH3","../dom_adapter":"RRDy","./callbacks":"gtoU","./ready_callbacks":"pyvP","./call_once":"hqaQ"}],"mgs1":[function(require,module,exports) {
"use strict";var t=require("./utils/callbacks"),e=require("./utils/type").isFunction,i=require("./utils/iterator").each,n=require("./class");module.exports=n.inherit({ctor:function(t){this._events={},this._owner=t},hasEvent:function(t){var e=this._events[t];return!!e&&e.has()},fireEvent:function(t,e){var i=this._events[t];i&&i.fireWith(this._owner,e)},on:function(e,i){var n=this._events[e];n||(n=t(),this._events[e]=n),(n.originalAdd||n.add).call(n,i)},off:function(t,i){var n=this._events[t];n&&(e(i)?n.remove(i):n.empty())},dispose:function(){i(this._events,function(){this.empty()})}});
},{"./utils/callbacks":"gtoU","./utils/type":"Mw4w","./utils/iterator":"FHcO","./class":"YpjV"}],"masj":[function(require,module,exports) {
"use strict";var t=require("./events_strategy"),e=require("./utils/iterator").each,n=require("./utils/type").isPlainObject;module.exports={ctor:function(){this._events={},this.setEventsStrategy(new t(this))},setEventsStrategy:function(t){"function"==typeof t&&(t=t(this)),this._eventsStrategy=t},hasEvent:function(t){return this._eventsStrategy.hasEvent(t)},fireEvent:function(t,e){return this._eventsStrategy.fireEvent(t,e),this},on:function(t,s){return n(t)?e(t,function(t,e){this.on(t,e)}.bind(this)):this._eventsStrategy.on(t,s),this},off:function(t,e){return this._eventsStrategy.off(t,e),this},_disposeEvents:function(){this._eventsStrategy.dispose()}};
},{"./events_strategy":"mgs1","./utils/iterator":"FHcO","./utils/type":"Mw4w"}],"tNsA":[function(require,module,exports) {
"use strict";var r=require("../../core/utils/window").getWindow(),e=function(){var e;try{e=r.sessionStorage}catch(t){}return e};exports.sessionStorage=e;
},{"../../core/utils/window":"NXH3"}],"SnKV":[function(require,module,exports) {
"use strict";var r=require("../renderer"),e=require("./ready_callbacks"),n=e.add,t=require("./callbacks")(),a=r(),i=function(){var e;return function(n){if(!arguments.length)return e;var u=r(n);a=u;var c=!!u.length,o=i();e=c?u:r("body"),t.fire(c?i():r(),o)}}();n(function(){i(".dx-viewport")}),exports.value=i,exports.changeCallback=t,exports.originalViewPort=function(){return a};
},{"../renderer":"qxFQ","./ready_callbacks":"pyvP","./callbacks":"gtoU"}],"LpzF":[function(require,module,exports) {
"use strict";var e=require("../core/renderer"),i=require("./utils/window"),t=i.getNavigator(),r=i.getWindow(),n=require("./utils/extend").extend,o=require("./utils/type").isPlainObject,s=require("./utils/iterator").each,a=require("./class"),c=require("./errors"),d=require("./utils/callbacks"),h=require("./utils/resize_callbacks"),u=require("./events_mixin"),l=require("./utils/storage").sessionStorage,p=require("./utils/view_port"),v=require("./config"),f={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",msSurface:"Windows ARM Tablet PC",desktop:"desktop"},_={deviceType:"desktop",platform:"generic",version:[],phone:!1,tablet:!1,android:!1,ios:!1,generic:!0,grade:"A",mac:!1},m={generic:function(e){var i=/windows phone/i.test(e)||e.match(/WPDesktop/),t=!i&&/Windows(.*)arm(.*)Tablet PC/i.test(e),r=!i&&!t&&/msapphost/i.test(e),n=/((intel|ppc) mac os x)/.test(e.toLowerCase());if(i||t||r||n)return{deviceType:i?"phone":t?"tablet":"desktop",platform:"generic",version:[],grade:"A",mac:n}},ios:function(e){if(/ip(hone|od|ad)/i.test(e)){var i=/ip(hone|od)/i.test(e),t=e.match(/os (\d+)_(\d+)_?(\d+)?/i);return{deviceType:i?"phone":"tablet",platform:"ios",version:t?[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||0,10)]:[],grade:480===r.screen.height?"B":"A"}}},android:function(e){if(/android|htc_|silk/i.test(e)){var i=/mobile/i.test(e),t=e.match(/android (\d+)\.?(\d+)?\.?(\d+)?/i),r=t?[parseInt(t[1],10),parseInt(t[2]||0,10),parseInt(t[3]||0,10)]:[];return{deviceType:i?"phone":"tablet",platform:"android",version:r,grade:r.length>1&&(r[0]<4||4===r[0]&&r[1]<4)?"B":"A"}}}},g=a.inherit({ctor:function(e){this._window=e&&e.window||r,this._realDevice=this._getDevice(),this._currentDevice=void 0,this._currentOrientation=void 0,this.changed=d(),i.hasWindow()&&(this._recalculateOrientation(),h.add(this._recalculateOrientation.bind(this)))},current:function(e){if(e)return this._currentDevice=this._getDevice(e),this._forced=!0,void this.changed.fire();if(!this._currentDevice){e=void 0;try{e=this._getDeviceOrNameFromWindowScope()}catch(i){e=this._getDeviceNameFromSessionStorage()}finally{e||(e=this._getDeviceNameFromSessionStorage()),e&&(this._forced=!0)}this._currentDevice=this._getDevice(e)}return this._currentDevice},real:function(){return n({},this._realDevice)},orientation:function(){return this._currentOrientation},isForced:function(){return this._forced},isRippleEmulator:function(){return!!this._window.tinyHippos},_getCssClasses:function(e){var i=[],t=this._realDevice;return(e=e||this.current()).deviceType&&(i.push("dx-device-"+e.deviceType),"desktop"!==e.deviceType&&i.push("dx-device-mobile")),i.push("dx-device-"+t.platform),t.version&&t.version.length&&i.push("dx-device-"+t.platform+"-"+t.version[0]),w.isSimulator()&&i.push("dx-simulator"),v().rtlEnabled&&i.push("dx-rtl"),i},attachCssClasses:function(i,t){this._deviceClasses=this._getCssClasses(t).join(" "),e(i).addClass(this._deviceClasses)},detachCssClasses:function(i){e(i).removeClass(this._deviceClasses)},isSimulator:function(){try{return this._isSimulator||i.hasWindow()&&this._window.top!==this._window.self&&this._window.top["dx-force-device"]||this.isRippleEmulator()}catch(e){return!1}},forceSimulator:function(){this._isSimulator=!0},_getDevice:function(e){if("genericPhone"===e&&(e={deviceType:"phone",platform:"generic",generic:!0}),o(e))return this._fromConfig(e);var i;if(e){if(!(i=f[e]))throw c.Error("E0005")}else i=t.userAgent;return this._fromUA(i)},_getDeviceOrNameFromWindowScope:function(){var e;return i.hasWindow()&&(this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"])&&(e=this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"]),e},_getDeviceNameFromSessionStorage:function(){var e=l();if(e){var i=e.getItem("dx-force-device");try{return JSON.parse(i)}catch(t){return i}}},_fromConfig:function(e){var i=n({},_,this._currentDevice,e),t={phone:"phone"===i.deviceType,tablet:"tablet"===i.deviceType,android:"android"===i.platform,ios:"ios"===i.platform,generic:"generic"===i.platform};return n(i,t)},_fromUA:function(e){var i;return s(m,function(t,r){return!(i=r(e))}),i?this._fromConfig(i):_},_changeOrientation:function(){var i=e(this._window),t=i.height()>i.width()?"portrait":"landscape";this._currentOrientation!==t&&(this._currentOrientation=t,this.fireEvent("orientationChanged",[{orientation:t}]))},_recalculateOrientation:function(){var i=e(this._window).width();this._currentWidth!==i&&(this._currentWidth=i,this._changeOrientation())}}).include(u),w=new g;p.changeCallback.add(function(e,i){w.detachCssClasses(i),w.attachCssClasses(e)}),module.exports=w,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","./utils/window":"NXH3","./utils/extend":"ac8T","./utils/type":"Mw4w","./utils/iterator":"FHcO","./class":"YpjV","./errors":"BdzT","./utils/callbacks":"gtoU","./utils/resize_callbacks":"y43t","./events_mixin":"masj","./utils/storage":"tNsA","./utils/view_port":"SnKV","./config":"iRjc"}],"xZpm":[function(require,module,exports) {
"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=require("../dom_adapter"),o=i(t),r=require("./data"),n=require("./type"),u=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t){return 1/e==1/t},f=function(t,n){return t=(0,r.toComparable)(t,!0),n=(0,r.toComparable)(n,!0),t&&n&&u.default.isRenderer(t)&&u.default.isRenderer(n)?n.is(t):!(t==t||n==n)||(0===t&&0===n?l(t,n):!(null!==t&&"object"===(void 0===t?"undefined":e(t))&&!o.default.isElementNode(t))&&t===n)};exports.equals=f;
},{"../dom_adapter":"RRDy","./data":"YLhW","./type":"Mw4w"}],"StDe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OptionManager=void 0;var e=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),t=require("./utils/data"),a=o(t),n=require("./utils/comparator"),i=require("./utils/type"),r=o(i),l=require("./utils/common"),s=require("./utils/extend");function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=[],h={},f={},_=exports.OptionManager=function(){function t(e,a,n){u(this,t),this._options=e,this._optionsByReference=a,this._deprecatedOptions=n,this._changingCallback,this._changedCallback,this._deprecatedCallback}return e(t,[{key:"_notifyDeprecated",value:function(e){var t=this._deprecatedOptions[e];t&&this._deprecatedCallback(e,t)}},{key:"_clearField",value:function(e,t){delete e[t];var a=this._getParentName(t),n=a?this._getValue(e,a,!1):e;n&&delete n[this._getFieldName(t)]}},{key:"_getParentName",value:function(e){return e.substr(0,e.lastIndexOf("."))}},{key:"_getFieldName",value:function(e){return e.substr(e.lastIndexOf(".")+1)}},{key:"_setField",value:function(e,t,a){var n="",i=void 0;do{n&&(n="."+n),n=this._getFieldName(t)+n,i=(t=this._getParentName(t))?this._getValue(e,t,!1):e}while(!i);i[n]=a}},{key:"_setValue",value:function(e,t,n){f[e]||(f[e]=a.default.compileSetter(e));var i=e.split(/[.[]/);n=r.default.isDefined(n)?n:!this._optionsByReference[e],f[e](this._options,t,{functionsAsIs:!0,merge:n,unwrapObservables:i.length>1&&!!this._optionsByReference[i[0]]})}},{key:"_setPreparedValue",value:function(e,t,a){var i=this._getValue(this._options,e,!1);(0,n.equals)(i,t)||(this._changingCallback(e,i,t),this._setValue(e,t,a),this._changedCallback(e,t,i))}},{key:"_setRelevantNames",value:function(e,t,a){if(t){var n=this._normalizeName(t);n&&n!==t&&(this._setField(e,n,a),this._clearField(e,t))}}},{key:"_normalizeName",value:function(e){if(e){var t=void 0;if(!c.length)for(var a in this._deprecatedOptions)c.push(a);for(var n=0;n<c.length;n++)if(c[n]===e){t=this._deprecatedOptions[e];break}return t&&(this._notifyDeprecated(e),t.alias&&(e=t.alias)),e}}},{key:"_prepareRelevantNames",value:function(e,t,a){if(r.default.isPlainObject(a))for(var n in a)this._prepareRelevantNames(e,t+"."+n,a[n]);this._setRelevantNames(e,t,a)}},{key:"_getValue",value:function(e,t,n){var i=h[t];return i||(i=h[t]=a.default.compileGetter(t)),i(e,{functionsAsIs:!0,unwrapObservables:n})}},{key:"onChanging",value:function(e){this._changingCallback=e}},{key:"onChanged",value:function(e){this._changedCallback=e}},{key:"onDeprecated",value:function(e){this._deprecatedCallback=e}},{key:"setValueByReference",value:function(e,t){for(var a in(0,s.extend)(!0,e,t),this._optionsByReference)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}},{key:"getValue",value:function(e){return this._getValue(this._options,this._normalizeName(e))}},{key:"setValue",value:function(e,t){for(var a in e)this._prepareRelevantNames(e,a,e[a]);for(var n in e)this._setPreparedValue(n,e[n],t)}},{key:"getValueSilently",value:function(e){return this._options[e]}},{key:"setValueSilently",value:function(e){this.setValueByReference(this._options,e)}},{key:"dispose",value:function(){this._changingCallback=l.noop,this._changedCallback=l.noop,this._deprecatedCallback=l.noop}}]),t}();
},{"./utils/data":"YLhW","./utils/comparator":"xZpm","./utils/type":"Mw4w","./utils/common":"GcQA","./utils/extend":"ac8T"}],"OyO8":[function(require,module,exports) {
"use strict";var t=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}();function i(t){if(Array.isArray(t)){for(var i=0,e=Array(t.length);i<t.length;i++)e[i]=t[i];return e}return Array.from(t)}function e(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var n=require("./config"),o=require("./utils/extend").extend,s=require("./option_manager").OptionManager,a=require("./utils/data").bracketsToDots,r=require("./class"),p=require("./action"),c=require("./errors"),u=require("./utils/common"),l=require("./utils/type"),h=require("./utils/object"),d=require("../core/utils/deferred"),f=d.Deferred,_=d.when,g=require("./utils/callbacks"),O=require("./events_mixin"),y=require("./utils/public_component"),v=require("./devices"),C=l.isFunction,m=u.noop,A=function(){function n(){e(this,n),this._postponedOperations={}}return t(n,[{key:"add",value:function(t,i,e){if(t in this._postponedOperations)e&&this._postponedOperations[t].promises.push(e);else{var n=new f;this._postponedOperations[t]={fn:i,completePromise:n,promises:e?[e]:[]}}return this._postponedOperations[t].completePromise.promise()}},{key:"callPostponedOperations",value:function(){for(var t in this._postponedOperations){var e=this._postponedOperations[t];l.isDefined(e)&&(e.promises&&e.promises.length?_.apply(void 0,i(e.promises)).done(e.fn).then(e.completePromise.resolve):e.fn().done(e.completePromise.resolve))}this._postponedOperations={}}}]),n}(),b=function(t,i){if("string"!=typeof t)return t;var e={};return e[t]=i,e},B=r.inherit({_setDeprecatedOptions:function(){this._deprecatedOptions={}},_getDeprecatedOptions:function(){return this._deprecatedOptions},_getOptionAliasesByName:function(t){var i=this;return Object.keys(this._deprecatedOptions).filter(function(e){return t===i._deprecatedOptions[e].alias})},_getDefaultOptions:function(){return{onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}},_defaultOptionsRules:function(){return[]},_getOptionByRules:function(t){var i=this._defaultOptionsRules();return Array.isArray(t)&&(i=i.concat(t)),this._convertRulesToOptions(i)},_setOptionsByDevice:function(t){var i=this._getOptionByRules(t);this._setOptionByStealth(i)},_convertRulesToOptions:function(t){for(var i,e,n,s={},a=v.current(),r=0;r<t.length;r++){var p,c=t[r],h=c.device||{};C(h)?p=h(a):(i=a,e=h,n=void 0,n=[],Array.prototype.push.call(n,e),p=1===n.length&&l.isEmptyObject(n[0])||u.findBestMatches(i,n).length>0),p&&o(s,c.options)}return s},_isInitialOptionValue:function(t){var i=this.option(t),e=this.initialOption(t);return C(i)&&C(e)?i.toString()===e.toString():u.equalByValue(i,e)},_setOptionsByReference:function(){this._optionsByReference={}},_getOptionsByReference:function(){return this._optionsByReference},ctor:function(t){var i=this;this.NAME=y.name(this.constructor),(t=t||{}).eventsStrategy&&this.setEventsStrategy(t.eventsStrategy),this._options={},this._updateLockCount=0,this._optionChangedCallbacks=t._optionChangedCallbacks||g(),this._disposingCallbacks=t._disposingCallbacks||g(),this.postponedOperations=new A,this.beginUpdate();try{this._setOptionsByReference(),this._setDeprecatedOptions(),this._options=this._getDefaultOptions(),this._optionManager=new s(this._options,this._getOptionsByReference(),this._deprecatedOptions),this._optionManager.onChanging(function(t,e,n){i._initialized&&i._optionChanging(t,e,n)}),this._optionManager.onDeprecated(function(t,e){i._logDeprecatedWarning(t,e)}),this._optionManager.onChanged(function(t,e,n){i._notifyOptionChanged(t,e,n)}),t&&t.onInitializing&&t.onInitializing.apply(this,[t]),this._setOptionsByDevice(t.defaultOptionsRules),this._initOptions(t)}finally{this.endUpdate()}},_initOptions:function(t){this.option(t)},_init:function(){this._createOptionChangedAction(),this.on("disposing",function(t){this._disposingCallbacks.fireWith(this,[t])}.bind(this))},_logDeprecatedWarning:function(t,i){var e=i.message||"Use the '"+i.alias+"' option instead";c.log("W0001",this.NAME,t,i.since,e)},_createOptionChangedAction:function(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly"]})},_createDisposingAction:function(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly"]})},_optionChanged:function(t){switch(t.name){case"onDisposing":case"onInitialized":break;case"onOptionChanged":this._createOptionChangedAction()}},_dispose:function(){this._optionChangedCallbacks.empty(),this._createDisposingAction(),this._disposingAction(),this._disposeEvents(),this._optionManager.dispose(),this._disposed=!0},instance:function(){return this},beginUpdate:function(){this._updateLockCount++},endUpdate:function(){if(this._updateLockCount=Math.max(this._updateLockCount-1,0),!this._updateLockCount&&(this.postponedOperations.callPostponedOperations(),!this._initializing&&!this._initialized)){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._updateLockCount++,this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly"]})(),this._updateLockCount--,this._initialized=!0}}},_optionChanging:m,_notifyOptionChanged:function(t,i,e){if(this._initialized)for(var n=[t].concat(this._getOptionAliasesByName(t)),s=0;s<n.length;s++){var a=n[s],r={name:a.split(/[.[]/)[0],fullName:a,value:i,previousValue:e};this._optionChangedCallbacks.fireWith(this,[o(this._defaultActionArgs(),r)]),this._optionChangedAction(o({},r)),this._disposed||this._cancelOptionChange===r.name||this._optionChanged(r)}},initialOption:function(t){if(!this._initialOptions){this._initialOptions=this._getDefaultOptions();var i=this._getOptionByRules(this._getOptionByStealth("defaultOptionsRules"));this._optionManager.setValueByReference(this._initialOptions,i)}return this._initialOptions[t]},_defaultActionConfig:function(){return{context:this,component:this}},_defaultActionArgs:function(){return{component:this}},_createAction:function(t,i){var e,n=this;return function(s){return arguments.length||(s={}),l.isPlainObject(s)||(s={actionValue:s}),(e=e||new p(t,o(i,n._defaultActionConfig()))).execute.call(e,o(s,n._defaultActionArgs()))}},_createActionByOption:function(t,i){var e,o,s,a=this,r=function(){if(!o){if(i=i||{},"string"!=typeof t)throw c.Error("E0008");0===t.indexOf("on")&&(o=a._getEventName(t)),s=a.option(t)}if(e||s||i.beforeExecute||i.afterExecute||a.hasEvent(o)){if(!e){var r=i.beforeExecute;i.beforeExecute=function(t){r&&r.apply(a,arguments),a.fireEvent(o,t.args)},e=a._createAction(s,i)}return n().wrapActionsBeforeExecute?((a.option("beforeActionExecute")||m)(a,e,i)||e).apply(a,arguments):e.apply(a,arguments)}};n().wrapActionsBeforeExecute||(r=(a.option("onActionCreated")||m)(a,r,i)||r);return r},_getOptionByStealth:function(t){return this._optionManager.getValueSilently(t)},_setOptionByStealth:function(t,i){this._optionManager.setValueSilently(b(t,i))},_getEventName:function(t){return t.charAt(2).toLowerCase()+t.substr(3)},hasActionSubscription:function(t){return!!this.option(t)||this.hasEvent(this._getEventName(t))},isOptionDeprecated:function(t){var i=this._getDeprecatedOptions();return Object.prototype.hasOwnProperty.call(i,t)},_setOptionSilent:function(t,i){this._cancelOptionChange=t,this.option(t,i),this._cancelOptionChange=!1},_getOptionValue:function(t,i){var e=this.option(t);return C(e)?e.bind(i)():e},option:function(t,i){if(arguments.length<2&&"object"!==l.type(t))return this._optionManager.getValue(t);this.beginUpdate();try{this._optionManager.setValue(b(t,i))}finally{this.endUpdate()}},resetOption:function(t){var i=this;if(t){var e=void 0;if(-1!==t.search(/\.|\[/))(t=a(t)).split(".").forEach(function(t){e=e?e[t]:i.initialOption(t)});else e=this.initialOption(t);e=l.isObject(e)?h.clone(e):e,this.beginUpdate(),this._optionManager.setValue(b(t,e),!1),this.endUpdate()}}}).include(O);module.exports=B,module.exports.PostponedOperations=A;
},{"./config":"iRjc","./utils/extend":"ac8T","./option_manager":"StDe","./utils/data":"YLhW","./class":"YpjV","./action":"Bpfv","./errors":"BdzT","./utils/common":"GcQA","./utils/type":"Mw4w","./utils/object":"jPX0","../core/utils/deferred":"g5TB","./utils/callbacks":"gtoU","./events_mixin":"masj","./utils/public_component":"exJN","./devices":"LpzF"}],"Jnhm":[function(require,module,exports) {
"use strict";var e=require("../core/renderer"),t=R(e),i=require("../events/core/events_engine"),n=R(i),s=require("../core/utils/window"),o=R(s),a=require("./utils/extend"),r=require("./config"),l=R(r),h=require("./errors"),u=R(h),d=require("../core/utils/dom"),c=require("../core/utils/resize_callbacks"),f=R(c),_=require("./utils/common"),m=R(_),p=require("./utils/iterator"),g=require("./utils/type"),C=require("./utils/array"),b=require("./utils/public_component"),v=R(b),y=require("./element_data"),w=R(y),x=require("./component"),O=R(x);function R(e){return e&&e.__esModule?e:{default:e}}var E=O.default.abstract,$="dx-rtl",q="dx-visibility-change-handler",B="VisibilityChange",k=O.default.inherit({_getDefaultOptions:function(){return(0,a.extend)(this.callBase(),{width:void 0,height:void 0,rtlEnabled:(0,l.default)().rtlEnabled,elementAttr:{},disabled:!1,integrationOptions:{}})},ctor:function(e,i){this._$element=(0,t.default)(e),v.default.attachInstanceToElement(this._$element,this,this._dispose),this.callBase(i)},_getSynchronizableOptionsForCreateComponent:function(){return["rtlEnabled","disabled","templatesRenderAsynchronously"]},_visibilityChanged:E,_dimensionChanged:E,_init:function(){this.callBase(),this._attachWindowResizeCallback()},_setOptionsByDevice:function(e){this.callBase([].concat(this.constructor._classCustomRules||[],e||[]))},_isInitialOptionValue:function(e){return!(this.constructor._classCustomRules&&Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules),e))&&this.callBase(e)},_attachWindowResizeCallback:function(){if(this._isDimensionChangeSupported()){var e=this._windowResizeCallBack=this._dimensionChanged.bind(this);f.default.add(e)}},_isDimensionChangeSupported:function(){return this._dimensionChanged!==E},_renderComponent:function(){this._initMarkup(),o.default.hasWindow()&&this._render()},_initMarkup:function(){this._renderElementAttributes(),this._toggleRTLDirection(this.option("rtlEnabled")),this._renderVisibilityChange(),this._renderDimensions()},_render:function(){this._attachVisibilityChangeHandlers()},_renderElementAttributes:function(){var e=(0,a.extend)({},this.option("elementAttr")),t=e.class;delete e.class,this.$element().attr(e).addClass(t)},_renderVisibilityChange:function(){this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported()&&this.$element().addClass(q)},_renderDimensions:function(){var e=this.$element(),t=e.get(0),i=this._getOptionValue("width",t),n=this._getOptionValue("height",t);this._isCssUpdateRequired(t,n,i)&&e.css({width:null===i?"":i,height:null===n?"":n})},_isCssUpdateRequired:function(e,t,i){return!!((0,g.isDefined)(i)||(0,g.isDefined)(t)||e.style.width||e.style.height)},_attachDimensionChangeHandlers:function(){var e=this,t="dxresize."+this.NAME+B;n.default.off(e.$element(),t),n.default.on(e.$element(),t,function(){e._dimensionChanged()})},_attachVisibilityChangeHandlers:function(){if(this._isVisibilityChangeSupported()){var e=this,t="dxhiding."+this.NAME+B,i="dxshown."+this.NAME+B;e._isHidden=!e._isVisible(),n.default.off(e.$element(),t),n.default.on(e.$element(),t,function(){e._checkVisibilityChanged("hiding")}),n.default.off(e.$element(),i),n.default.on(e.$element(),i,function(){e._checkVisibilityChanged("shown")})}},_isVisible:function(){return this.$element().is(":visible")},_checkVisibilityChanged:function(e){"hiding"===e&&this._isVisible()&&!this._isHidden?(this._visibilityChanged(!1),this._isHidden=!0):"shown"===e&&this._isVisible()&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0))},_isVisibilityChangeSupported:function(){return this._visibilityChanged!==E&&o.default.hasWindow()},_clean:m.default.noop,_modelByElement:function(){return(this.option("modelByElement")||m.default.noop)(this.$element())},_invalidate:function(){if(!this._updateLockCount)throw u.default.Error("E0007");this._requireRefresh=!0},_refresh:function(){this._clean(),this._renderComponent()},_dispose:function(){this.callBase(),this._clean(),this._detachWindowResizeCallback()},_detachWindowResizeCallback:function(){this._isDimensionChangeSupported()&&f.default.remove(this._windowResizeCallBack)},_toggleRTLDirection:function(e){this.$element().toggleClass($,e)},_createComponent:function(e,i,n){var s=this,o=this;n=n||{};var r,l=m.default.grep(this._getSynchronizableOptionsForCreateComponent(),function(e){return!(e in n)}),h=o.option("nestedComponentOptions")||m.default.noop,u=(0,a.extend)({integrationOptions:this.option("integrationOptions")},h(this));if(l.forEach(function(e){u[e]=s.option(e)}),o._extendConfig(n,u),(0,g.isString)(i)){var d=(0,t.default)(e)[i](n);r=d[i]("instance")}else e&&((r=i.getInstance(e))?r.option(n):r=new i(e,n));if(r){var c=function(e){(0,C.inArray)(e.name,l)>=0&&r.option(e.name,e.value)};o.on("optionChanged",c),r.on("disposing",function(){o.off("optionChanged",c)})}return r},_extendConfig:function(e,t){(0,p.each)(t,function(t,i){e[t]=Object.prototype.hasOwnProperty.call(e,t)?e[t]:i})},_defaultActionConfig:function(){return(0,a.extend)(this.callBase(),{context:this._modelByElement(this.$element())})},_defaultActionArgs:function(){var e=this._modelByElement(this.$element());return(0,a.extend)(this.callBase(),{element:this.element(),model:e})},_optionChanged:function(e){switch(e.name){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"elementAttr":this._renderElementAttributes();break;case"disabled":case"integrationOptions":break;default:this.callBase(e)}},_removeAttributes:function(e){for(var t=e.attributes.length-1;t>=0;t--){var i=e.attributes[t];if(!i)return;var n=i.name;0!==n.indexOf("aria-")&&-1===n.indexOf("dx-")&&"role"!==n&&"style"!==n&&"tabindex"!==n||e.removeAttribute(n)}},_removeClasses:function(e){var t=e.className.split(" ").filter(function(e){return 0!==e.lastIndexOf("dx-",0)});e.className=t.join(" ")},endUpdate:function(){var e=!this._initializing&&!this._initialized;this.callBase.apply(this,arguments),this._updateLockCount||(e?this._renderComponent():this._requireRefresh&&(this._requireRefresh=!1,this._refresh()))},$element:function(){return this._$element},element:function(){return(0,d.getPublicElement)(this.$element())},dispose:function(){var e=this.$element().get(0);w.default.cleanDataRecursive(e,!0),e.textContent="",this._removeAttributes(e),this._removeClasses(e)},resetOption:function(e){this.callBase(e),"width"!==e&&"height"!==e||(0,g.isDefined)(this.initialOption(e))||this.$element().css(e,"")}});k.getInstance=function(e){return v.default.getInstanceByElement((0,t.default)(e),this)},k.defaultOptions=function(e){this._classCustomRules=this._classCustomRules||[],this._classCustomRules.push(e)},module.exports=k,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../events/core/events_engine":"oNrb","../core/utils/window":"NXH3","./utils/extend":"ac8T","./config":"iRjc","./errors":"BdzT","../core/utils/dom":"vDwZ","../core/utils/resize_callbacks":"y43t","./utils/common":"GcQA","./utils/iterator":"FHcO","./utils/type":"Mw4w","./utils/array":"uivT","./utils/public_component":"exJN","./element_data":"yYfn","./component":"OyO8"}],"ztVS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TemplateBase=exports.renderedCallbacks=void 0;var e=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),r=require("../renderer"),n=s(r),t=require("../dom_adapter"),a=require("../utils/callbacks"),o=s(a),u=require("../utils/dom"),i=require("../errors"),l=s(i);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var d=exports.renderedCallbacks=(0,o.default)({syncStrategy:!0}),f=exports.TemplateBase=function(){function r(){c(this,r)}return e(r,[{key:"render",value:function(e){var r=(e=e||{}).onRendered;delete e.onRendered;var n=this._renderCore(e);return this._ensureResultInContainer(n,e.container),d.fire(n,e.container),r&&r(),n}},{key:"_ensureResultInContainer",value:function(e,r){if(r){var a=(0,n.default)(r),o=(0,u.contains)(a.get(0),e.get(0));if(a.append(e),!o)(0,t.getBody)().contains(a.get(0))&&(0,u.triggerShownEvent)(e)}}},{key:"_renderCore",value:function(){throw l.default.Error("E0001")}}]),r}();
},{"../renderer":"qxFQ","../dom_adapter":"RRDy","../utils/callbacks":"gtoU","../utils/dom":"vDwZ","../errors":"BdzT"}],"hx7e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerTemplateEngine=o,exports.setTemplateEngine=s,exports.getCurrentTemplateEngine=l;var e=require("../utils/type"),r=require("../errors"),t=n(r);function n(e){return e&&e.__esModule?e:{default:e}}var i={},u=void 0;function o(e,r){i[e]=r}function s(r){if((0,e.isString)(r)){if(!(u=i[r]))throw t.default.Error("E0020",r)}else u=r}function l(){return u}
},{"../utils/type":"Mw4w","../errors":"BdzT"}],"TbWj":[function(require,module,exports) {
"use strict";var e=require("../utils/dom"),r=require("./template_engine_registry");(0,r.registerTemplateEngine)("jquery-tmpl",{compile:function(r){return(0,e.extractTemplateMarkup)(r)},render:function(e,r){return jQuery.tmpl(e,r)}}),(0,r.registerTemplateEngine)("jsrender",{compile:function(r){return(jQuery||jsrender).templates((0,e.extractTemplateMarkup)(r))},render:function(e,r){return e.render(r)}}),(0,r.registerTemplateEngine)("mustache",{compile:function(r){return(0,e.extractTemplateMarkup)(r)},render:function(e,r){return Mustache.render(e,r)}}),(0,r.registerTemplateEngine)("hogan",{compile:function(r){return Hogan.compile((0,e.extractTemplateMarkup)(r))},render:function(e,r){return e.render(r)}}),(0,r.registerTemplateEngine)("underscore",{compile:function(r){return _.template((0,e.extractTemplateMarkup)(r))},render:function(e,r){return e(r)}}),(0,r.registerTemplateEngine)("handlebars",{compile:function(r){return Handlebars.compile((0,e.extractTemplateMarkup)(r))},render:function(e,r){return e(r)}}),(0,r.registerTemplateEngine)("doT",{compile:function(r){return doT.template((0,e.extractTemplateMarkup)(r))},render:function(e,r){return e(r)}});
},{"../utils/dom":"vDwZ","./template_engine_registry":"hx7e"}],"v8Tt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Template=void 0;var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t=require("../renderer"),n=l(t),r=require("./template_base"),o=require("../utils/dom"),i=require("./template_engine_registry");function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}require("./template_engines"),(0,i.registerTemplateEngine)("default",{compile:function(e){return(0,o.normalizeTemplateElement)(e)},render:function(e,t,n){return e.clone()}}),(0,i.setTemplateEngine)("default");var p=exports.Template=function(t){function o(e){u(this,o);var t=a(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return t._element=e,t}return c(o,r.TemplateBase),e(o,[{key:"_renderCore",value:function(e){var t=e.transclude;return t||this._compiledTemplate||(this._compiledTemplate=(0,i.getCurrentTemplateEngine)().compile(this._element)),(0,n.default)("<div>").append(t?this._element:(0,i.getCurrentTemplateEngine)().render(this._compiledTemplate,e.model,e.index)).contents()}},{key:"source",value:function(){return(0,n.default)(this._element).clone()}}]),o}();
},{"../renderer":"qxFQ","./template_base":"ztVS","../utils/dom":"vDwZ","./template_engine_registry":"hx7e","./template_engines":"TbWj"}],"Xd2Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FunctionTemplate=void 0;var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t=require("./template_base"),r=require("../utils/dom");function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=exports.FunctionTemplate=function(u){function a(e){n(this,a);var t=o(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return t._render=e,t}return i(a,t.TemplateBase),e(a,[{key:"_renderCore",value:function(e){return(0,r.normalizeTemplateElement)(this._render(e))}}]),a}();
},{"./template_base":"ztVS","../utils/dom":"vDwZ"}],"pCBV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EmptyTemplate=void 0;var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t=require("../renderer"),r=o(t),n=require("./template_base");function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=exports.EmptyTemplate=function(t){function o(){return u(this,o),i(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return a(o,n.TemplateBase),e(o,[{key:"_renderCore",value:function(){return(0,r.default)()}}]),o}();
},{"../renderer":"qxFQ","./template_base":"ztVS"}],"ZHil":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChildDefaultTemplate=void 0;var e=require("./template_base");function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=exports.ChildDefaultTemplate=function(n){function a(e){t(this,a);var r=o(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return r.name=e,r}return r(a,e.TemplateBase),a}();
},{"./template_base":"ztVS"}],"e4L5":[function(require,module,exports) {
"use strict";var e=require("./renderer"),t=_(e),n=require("./utils/type"),i=require("./utils/common"),r=require("./utils/extend"),a=require("./errors"),s=require("./utils/dom"),l=require("./devices"),o=_(l),p=require("./dom_component"),u=_(p),m=require("./templates/template"),d=require("./templates/template_base"),c=require("./templates/function_template"),f=require("./templates/empty_template"),h=require("./templates/child_default_template"),T=require("./utils/inflector");function _(e){return e&&e.__esModule?e:{default:e}}var g=3,v="template",y="[data-options*='dxTemplate']",x="dx-template-wrapper",q=new c.FunctionTemplate(function(e){var n=e.model.widget;if(n){var i=(0,t.default)("<div>"),r=e.model.options||{};if("button"===n||"tabs"===n||"dropDownMenu"===n){var s=n;n=(0,T.camelize)("dx-"+n),(0,a.log)("W0001","dxToolbar - 'widget' item field",s,"16.1","Use: '"+n+"' instead")}return e.parent?e.parent._createComponent(i,n,r):i[n](r),i}return(0,t.default)()}),O=u.default.inherit({_getDefaultOptions:function(){return(0,r.extend)(this.callBase(),{integrationOptions:{watchMethod:function(e,t,n){return(n=n||{}).skipImmediate||t(e()),i.noop},templates:{"dx-polymorph-widget":q},createTemplate:function(e){return new m.Template(e)}}})},_init:function(){this.callBase(),this._tempTemplates=[],this._defaultTemplates={},this._initTemplates()},_dispose:function(){this._cleanTemplates(),this.callBase()},_cleanTemplates:function(){this._tempTemplates.forEach(function(e){e.template.dispose&&e.template.dispose()}),this._tempTemplates=[]},_initTemplates:function(){this._extractTemplates(),this._extractAnonymousTemplate()},_extractTemplates:function(){var e=this.$element().contents().filter(y),n={};for(var i in e.each(function(e,i){var r=(0,s.getElementOptions)(i).dxTemplate;if(r){if(!r.name)throw(0,a.Error)("E0023");(0,t.default)(i).addClass(x).detach(),n[r.name]=n[r.name]||[],n[r.name].push(i)}}),n){var r=this._findTemplateByDevice(n[i]);r&&this._saveTemplate(i,r)}},_saveTemplate:function(e,t){this.option("integrationOptions.templates")[e]=this._createTemplate(t)},_findTemplateByDevice:function(e){var n=(0,i.findBestMatches)(o.default.current(),e,function(e){return(0,s.getElementOptions)(e).dxTemplate})[0];return e.forEach(function(e){e!==n&&(0,t.default)(e).remove()}),n},_extractAnonymousTemplate:function(){var e=this.option("integrationOptions.templates"),n=this._getAnonymousTemplateName(),i=this.$element().contents().detach(),r=i.filter(function(e,n){var i=n.nodeType===g,r=(0,t.default)(n).text().trim().length<1;return!(i&&r)}).length<1;e[n]||r||(e[n]=this._createTemplate(i))},_getAnonymousTemplateName:function(){return v},_createTemplateIfNeeded:function(e){var t=function(e){return(0,n.isRenderer)(e)&&e[0]||e},i=this._tempTemplates.filter(function(n){return e=t(e),n.source===e})[0];if(i)return i.template;var r=this._createTemplate(e);return this._tempTemplates.push({template:r,source:t(e)}),r},_createTemplate:function(e){return e="string"==typeof e?(0,s.normalizeTemplateElement)(e):e,this.option("integrationOptions.createTemplate")(e)},_getTemplateByOption:function(e){return this._getTemplate(this.option(e))},_getTemplate:function(e){return(0,n.isFunction)(e)?new c.FunctionTemplate(function(i){var r=e.apply(this,this._getNormalizedTemplateArgs(i));if(!(0,n.isDefined)(r))return new f.EmptyTemplate;var a=!1,s=this._acquireTemplate(r,function(e){return e.nodeType||(0,n.isRenderer)(e)&&!(0,t.default)(e).is("script")?new c.FunctionTemplate(function(){return e}):(a=!0,this._createTemplate(e))}.bind(this)),l=s.render(i);return a&&s.dispose&&s.dispose(),l}.bind(this)):this._acquireTemplate(e,this._createTemplateIfNeeded.bind(this))},_acquireTemplate:function(e,i){if(null==e)return new f.EmptyTemplate;if(e instanceof h.ChildDefaultTemplate)return this._defaultTemplates[e.name];if(e instanceof d.TemplateBase)return e;if((0,n.isFunction)(e.render)&&!(0,n.isRenderer)(e))return this._addOneRenderedCall(e);if(e.nodeType||(0,n.isRenderer)(e))return i((0,t.default)(e));if("string"==typeof e){var r=null;return-1===(this.option("integrationOptions.skipTemplates")||[]).indexOf(e)&&(r=this._renderIntegrationTemplate(e)),r||this._defaultTemplates[e]||i(e)}return this._acquireTemplate(e.toString(),i)},_getNormalizedTemplateArgs:function(e){var t=[];return"model"in e&&t.push(e.model),"index"in e&&t.push(e.index),t.push(e.container),t},_addOneRenderedCall:function(e){var t=e.render.bind(e);return(0,r.extend)({},e,{render:function(e){var n=t(e);return e&&e.onRendered&&e.onRendered(),n}})},_renderIntegrationTemplate:function(e){var t=this.option("integrationOptions.templates")[e];if(t&&!(t instanceof d.TemplateBase)&&!this.option("templatesRenderAsynchronously"))return this._addOneRenderedCall(t);return t}});module.exports=O;
},{"./renderer":"qxFQ","./utils/type":"Mw4w","./utils/common":"GcQA","./utils/extend":"ac8T","./errors":"BdzT","./utils/dom":"vDwZ","./devices":"LpzF","./dom_component":"Jnhm","./templates/template":"v8Tt","./templates/template_base":"ztVS","./templates/function_template":"Xd2Y","./templates/empty_template":"pCBV","./templates/child_default_template":"ZHil","./utils/inflector":"i2nR"}],"m3d1":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../core/dom_adapter"),r=function(e,t){if(!i(e))return!1;var r=e.nodeName.toLowerCase(),n=!isNaN(t),a=e.disabled,s=/^(input|select|textarea|button|object|iframe)$/.test(r),u="a"===r,o=e.isContentEditable;return s||o?!a:u&&e.href||n},i=function(t){var r=e(t);return r.is(":visible")&&"hidden"!==r.css("visibility")&&"hidden"!==r.parents().css("visibility")};module.exports={focusable:function(t,i){return r(i,e(i).attr("tabIndex"))},tabbable:function(t,i){var n=e(i).attr("tabIndex");return(isNaN(n)||n>=0)&&r(i,n)},focused:function(r){var i=e(r).get(0);return t.getActiveElement()===i}};
},{"../../core/renderer":"qxFQ","../../core/dom_adapter":"RRDy"}],"cNvJ":[function(require,module,exports) {
"use strict";var e=require("../core/renderer"),t=c(e),r=require("./core/events_engine"),n=c(r),i=require("../core/errors"),o=c(i),u=require("../ui/widget/selectors"),a=require("../core/utils/extend"),s=require("../core/utils/iterator");function c(e){return e&&e.__esModule?e:{default:e}}var f={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space",f:"F",a:"A","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift",left:"leftArrow",up:"upArrow",right:"rightArrow",down:"downArrow",multiply:"asterisk",spacebar:"space",del:"del",subtract:"minus",esc:"escape"},p={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",70:"F",65:"A",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},d=function(){var e={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i};return function(t){var r="other";return(0,s.each)(e,function(e){if(this.test(t.type))return r=e,!1}),r}}(),l=function(e){return"dx"===d(e)},h=function(e){return"mouse"===d(e)},g=function(e){return"touch"===d(e)},w=function(e){return"pointer"===d(e)},m=function(e){return h(e)||(w(e)||l(e))&&"mouse"===e.pointerType},v=function(e){return e&&"dxmousewheel"===e.type},x=function(e){return g(e)||(w(e)||l(e))&&"touch"===e.pointerType},y=function(e){return"keyboard"===d(e)},k=function(e){return 0===e.screenX&&!e.offsetX&&0===e.pageX},E=function(e){return{x:e.pageX,y:e.pageY,time:e.timeStamp}},b=function(e,t){return{x:t.x-e.x,y:t.y-e.y,time:t.time-e.time||1}},A=function(e){return g(e)?(e.originalEvent.touches||[]).length:l(e)?(e.pointers||[]).length:0},C=function(e){var r=e.target,n=(0,t.default)(r),i=n.is("input, textarea, select");return!!n.is(".dx-skip-gesture-event *, .dx-skip-gesture-event")||(v(e)?(!n.is("textarea")||!n.hasClass("dx-texteditor-input"))&&(!r.isContentEditable&&!r.hasAttribute("contenteditable")&&(n.is("input[type='number'], textarea, select")&&n.is(":focus"))):m(e)?i||e.which>1:x(e)?i&&(0,u.focused)(n):void 0)},q=function(e){return e},D=function(e){q=e},S=function(e){return q(n.default.Event(e,e),e)},T=function(e,t){var r=S(e);return t&&(0,a.extend)(r,t),r},F=function(e){var t=T(e.originalEvent,e);return n.default.trigger(e.delegateTarget||t.target,t),t},M=function e(t,r){if(!r)throw o.default.Error("E0017");return"string"==typeof t?-1===t.indexOf(" ")?t+"."+r:e(t.split(/\s+/g),r):((0,s.each)(t,function(e,n){t[e]=n+"."+r}),t.join(" "))},X=function(e){var t=!!e.key,r=t?e.key:e.which;if(r)return r=t?f[r.toLowerCase()]||r:p[r]||String.fromCharCode(r)},_=function(e){return e.key||String.fromCharCode(e.which)};module.exports={eventSource:d,isPointerEvent:w,isMouseEvent:m,isDxMouseWheelEvent:v,isTouchEvent:x,isKeyboardEvent:y,isFakeClickEvent:k,hasTouches:A,eventData:E,eventDelta:b,needSkipEvent:C,createEvent:T,fireEvent:F,addNamespace:M,setEventFixMethod:D,normalizeKeyName:X,getChar:_};
},{"../core/renderer":"qxFQ","./core/events_engine":"oNrb","../core/errors":"BdzT","../ui/widget/selectors":"m3d1","../core/utils/extend":"ac8T","../core/utils/iterator":"FHcO"}],"H8iu":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=a(e),s=require("../../events/core/events_engine"),i=a(s),o=require("../../core/class"),n=a(o),r=require("../../core/utils/array"),c=require("../../core/utils/iterator"),h=require("../../events/utils");function a(e){return e&&e.__esModule?e:{default:e}}var l="compositionstart",_="compositionend",d="keydown",u="KeyboardProcessor",g=n.default.inherit({_keydown:(0,h.addNamespace)(d,u),_compositionStart:(0,h.addNamespace)(l,u),_compositionEnd:(0,h.addNamespace)(_,u),ctor:function(e){var s=this;(e=e||{}).element&&(this._element=(0,t.default)(e.element)),e.focusTarget&&(this._focusTarget=e.focusTarget),this._handler=e.handler,this._context=e.context,this._childProcessors=[],this._element&&(this._processFunction=function(e){var t=s._focusTarget&&s._focusTarget!==e.target&&(0,r.inArray)(e.target,s._focusTarget)<0,i=s._isComposingJustFinished&&229===e.which||s._isComposing||t;s._isComposingJustFinished=!1,i||s.process(e)},this._toggleProcessingWithContext=this.toggleProcessing.bind(this),i.default.on(this._element,this._keydown,this._processFunction),i.default.on(this._element,this._compositionStart,this._toggleProcessingWithContext),i.default.on(this._element,this._compositionEnd,this._toggleProcessingWithContext))},dispose:function(){this._element&&(i.default.off(this._element,this._keydown,this._processFunction),i.default.off(this._element,this._compositionStart,this._toggleProcessingWithContext),i.default.off(this._element,this._compositionEnd,this._toggleProcessingWithContext)),this._element=void 0,this._handler=void 0,this._context=void 0,this._childProcessors=void 0},clearChildren:function(){this._childProcessors=[]},push:function(e){return this._childProcessors||this.clearChildren(),this._childProcessors.push(e),e},attachChildProcessor:function(){var e=new g;return this._childProcessors.push(e),e},reinitialize:function(e,t){return this._context=t,this._handler=e,this},process:function(e){var t={keyName:(0,h.normalizeKeyName)(e),key:e.key,code:e.code,ctrl:e.ctrlKey,location:e.location,metaKey:e.metaKey,shift:e.shiftKey,alt:e.altKey,which:e.which,originalEvent:e};this._handler&&this._handler.call(this._context,t)&&this._childProcessors&&(0,c.each)(this._childProcessors,function(t,s){s.process(e)})},toggleProcessing:function(e){var t=e.type;this._isComposing=t===l,this._isComposingJustFinished=!this._isComposing}});module.exports=g;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/class":"YpjV","../../core/utils/array":"uivT","../../core/utils/iterator":"FHcO","../../events/utils":"cNvJ"}],"eZC7":[function(require,module,exports) {
"use strict";var t=require("./array"),e=require("../dom_adapter"),r=require("./common"),n=require("./call_once"),i=p(n),o=require("./window"),a=p(o),u=require("../devices"),s=p(u),l=require("./style"),d=p(l);function p(t){return t&&t.__esModule?t:{default:t}}var f=a.default.getNavigator(),c=f.maxTouchPoints,x=f.msMaxTouchPoints,v=f.pointerEnabled,P=a.default.hasProperty.bind(a.default),m={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MsTransitionEnd",transition:"transitionend"},y=function(t){return!!d.default.styleProp(t)},E=function(){var e=s.default.real(),r=e.platform,n=e.version,i=e.mac;return!(n&&n[0]<4&&"android"===r)&&(0,t.inArray)(r,["ios","android"])>-1||i},T=function(t){if("text"===t)return!0;var r=(0,e.createElement)("input");try{return r.setAttribute("type",t),r.value="wrongValue",!r.value}catch(n){return!1}},h=function(t,e){return(t("ontouchstart")||!!e)&&!t("callPhantom")},q=function(t,e){var n=(0,r.ensureDefined)(e,!0),i=(0,r.ensureDefined)(e,!1);return t("PointerEvent")&&n||i},b=h(P,c),w=q(P,v),g=!!c||!!x;exports.touchEvents=b,exports.pointerEvents=w,exports.touch=b||w&&g,exports.transition=(0,i.default)(function(){return y("transition")}),exports.transitionEndEventName=(0,i.default)(function(){return m[d.default.styleProp("transition")]}),exports.animation=(0,i.default)(function(){return y("animation")}),exports.nativeScrolling=E(),exports.styleProp=d.default.styleProp,exports.stylePropPrefix=d.default.stylePropPrefix,exports.supportProp=y,exports.inputType=T;
},{"./array":"uivT","../dom_adapter":"RRDy","./common":"GcQA","./call_once":"hqaQ","./window":"NXH3","../devices":"LpzF","./style":"DyYH"}],"nlvS":[function(require,module,exports) {
"use strict";var e=require("./extend").extend,i=require("./window"),r=i.getNavigator(),o=/(webkit)[ \/]([\w.]+)/,t=/(msie) (\d{1,2}\.\d)/,d=/(trident).*rv:(\d{1,2}\.\d)/,n=/(edge)\/((\d+)?[\w.]+)/,s=/(mozilla)(?:.*? rv:([\w.]+))/,x=function(e){e=e.toLowerCase();var i={},r=t.exec(e)||d.exec(e)||n.exec(e)||e.indexOf("compatible")<0&&s.exec(e)||o.exec(e)||[],x=r[1],c=r[2];return"webkit"===x&&(i.webkit=!0,e.indexOf("chrome")>=0||e.indexOf("crios")>=0?(x="chrome",c=(c=/(?:chrome|crios)\/(\d+\.\d+)/.exec(e))&&c[1]):e.indexOf("fxios")>=0?(x="mozilla",c=(c=/fxios\/(\d+\.\d+)/.exec(e))&&c[1]):e.indexOf("safari")>=0&&/version|phantomjs/.test(e)?(x="safari",c=(c=/(?:version|phantomjs)\/([0-9.]+)/.exec(e))&&c[1]):(x="unknown",c=(c=/applewebkit\/([0-9.]+)/.exec(e))&&c[1])),"trident"!==x&&"edge"!==x||(x="msie"),x&&(i[x]=!0,i.version=c),i};module.exports=e({_fromUA:x},x(r.userAgent));
},{"./extend":"ac8T","./window":"NXH3"}],"sUGP":[function(require,module,exports) {
"use strict";var e=require("../../events/core/events_engine"),t=require("../../core/utils/browser"),n=require("../../core/dom_adapter"),i=require("../../core/class"),r=require("../utils"),o="dxPointerEvents",s=i.inherit({ctor:function(e,t){this._eventName=e,this._originalEvents=r.addNamespace(t,o),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble:function(){var e=this._eventName;return"dxpointerenter"===e||"dxpointerleave"===e},_handler:function(e){var n=this._getDelegateTarget(e);return this._fireEvent({type:this._eventName,pointerType:e.pointerType||r.eventSource(e),originalEvent:e,delegateTarget:n,timeStamp:t.mozilla?(new Date).getTime():e.timeStamp})},_getDelegateTarget:function(e){var t;return this.noBubble&&(t=e.delegateTarget),t},_fireEvent:function(e){return r.fireEvent(e)},_setSelector:function(e){this._selector=this.noBubble&&e?e.selector:null},_getSelector:function(){return this._selector},setup:function(){return!0},add:function(t,i){if(this._handlerCount<=0||this.noBubble){t=this.noBubble?t:n.getDocument(),this._setSelector(i);var r=this;e.on(t,this._originalEvents,this._getSelector(),function(e){r._handler(e)})}this.noBubble||this._handlerCount++},remove:function(e){this._setSelector(e),this.noBubble||this._handlerCount--},teardown:function(t){this._handlerCount&&!this.noBubble||(t=this.noBubble?t:n.getDocument(),this._originalEvents!=="."+o&&e.off(t,this._originalEvents,this._getSelector()))},dispose:function(t){t=this.noBubble?t:n.getDocument(),e.off(t,this._originalEvents)}});module.exports=s;
},{"../../events/core/events_engine":"oNrb","../../core/utils/browser":"nlvS","../../core/dom_adapter":"RRDy","../../core/class":"YpjV","../utils":"cNvJ"}],"hvg4":[function(require,module,exports) {
"use strict";var e=require("../../core/devices"),t=require("../../core/utils/extend").extend,i=require("../../core/utils/iterator").each,r=require("./base"),n={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},o=function(e){var r=[];return i(e.touches,function(e,i){r.push(t({pointerId:i.identifier},i))}),{pointers:r,pointerId:e.changedTouches[0].identifier}},d=function(t){return"ios"===e.real().platform&&("dxpointerdown"===t||"dxpointerup"===t)},u=r.inherit({ctor:function(){this.callBase.apply(this,arguments),this._pointerId=0},_handler:function(e){if(d(this._eventName)){var t=e.changedTouches[0];if(this._pointerId===t.identifier&&0!==this._pointerId)return;this._pointerId=t.identifier}return this.callBase.apply(this,arguments)},_fireEvent:function(e){return this.callBase(t(o(e.originalEvent),e))}});u.map=n,u.normalize=o,module.exports=u;
},{"../../core/devices":"LpzF","../../core/utils/extend":"ac8T","../../core/utils/iterator":"FHcO","./base":"sUGP"}],"TvvW":[function(require,module,exports) {
"use strict";var n=require("../../core/utils/iterator").each,t=require("../../core/utils/ready_callbacks"),e=require("../../core/dom_adapter"),r=function(n,r){t.add(function(){n.split(" ").forEach(function(n){e.listen(e.getDocument(),n,r,!0)})})},i=function(t,e,i){i=i||function(){};var o=[],u=function(t){var r=-1;return n(o,function(n,i){return!e(t,i)||(r=n,!1)}),r},c=function(n){var t=u(n);t>-1&&o.splice(t,1)};r(t.dxpointerdown,function(n){-1===u(n)&&(i(n),o.push(n))}),r(t.dxpointermove,function(n){o[u(n)]=n}),r(t.dxpointerup,c),r(t.dxpointercancel,c),this.pointers=function(){return o},this.reset=function(){o=[]}};module.exports=i;
},{"../../core/utils/iterator":"FHcO","../../core/utils/ready_callbacks":"pyvP","../../core/dom_adapter":"RRDy"}],"qHdt":[function(require,module,exports) {
"use strict";var e,r=require("./base"),t=require("./observer"),n=require("../../core/utils/extend").extend,i={dxpointerdown:"pointerdown",dxpointermove:"pointermove",dxpointerup:"pointerup",dxpointercancel:"pointercancel",dxpointerover:"pointerover",dxpointerout:"pointerout",dxpointerenter:"pointerenter",dxpointerleave:"pointerleave"},o=!1,p=function(){o||(e=new t(i,function(e,r){return e.pointerId===r.pointerId},function(r){r.isPrimary&&e.reset()}),o=!0)},s=r.inherit({ctor:function(){this.callBase.apply(this,arguments),p()},_fireEvent:function(r){return this.callBase(n({pointers:e.pointers(),pointerId:r.originalEvent.pointerId},r))}});s.map=i,s.resetObserver=function(){e.reset()},module.exports=s;
},{"./base":"sUGP","./observer":"TvvW","../../core/utils/extend":"ac8T"}],"LR01":[function(require,module,exports) {
"use strict";var e,r=require("../../core/utils/extend").extend,t=require("./base"),n=require("./observer"),o={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},i=function(r){return r.pointerId=1,{pointers:e.pointers(),pointerId:1}},u=!1,s=function(){u||(e=new n(o,function(){return!0}),u=!0)},p=t.inherit({ctor:function(){this.callBase.apply(this,arguments),s()},_fireEvent:function(e){return this.callBase(r(i(e.originalEvent),e))}});p.map=o,p.normalize=i,p.activate=s,p.resetObserver=function(){e.reset()},module.exports=p;
},{"../../core/utils/extend":"ac8T","./base":"sUGP","./observer":"TvvW"}],"tqhQ":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/extend").extend,t=require("./base"),i=require("./mouse"),o=require("./touch"),s=require("../utils"),r={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},n=!1,u=function(){n||(i.activate(),n=!0)},c=t.inherit({EVENT_LOCK_TIMEOUT:100,ctor:function(){this.callBase.apply(this,arguments),u()},_handler:function(e){var t=s.isMouseEvent(e);if(t||(this._skipNextEvents=!0),!t||!this._mouseLocked){if(!t||!this._skipNextEvents)return this.callBase(e);this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer);var i=this;this._unlockMouseTimer=setTimeout(function(){i._mouseLocked=!1},this.EVENT_LOCK_TIMEOUT)}},_fireEvent:function(t){var r=s.isMouseEvent(t.originalEvent)?i.normalize:o.normalize;return this.callBase(e(r(t.originalEvent),t))},dispose:function(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});c.map=r,c.resetObserver=i.resetObserver,module.exports=c;
},{"../../core/utils/extend":"ac8T","./base":"sUGP","./mouse":"LR01","./touch":"hvg4","../utils":"cNvJ"}],"HDhW":[function(require,module,exports) {
"use strict";var e=require("../core/utils/support"),r=m(e),t=require("../core/utils/iterator"),o=require("../core/utils/browser"),u=m(o),i=require("../core/devices"),n=m(i),a=require("./core/event_registrator"),d=m(a),p=require("./pointer/touch"),l=m(p),c=require("./pointer/mspointer"),s=m(c),f=require("./pointer/mouse"),v=m(f),q=require("./pointer/mouse_and_touch"),x=m(q);function m(e){return e&&e.__esModule?e:{default:e}}var h=function(e,r,t){if(e.pointerEvents&&t.msie)return s.default;var o=r.tablet,u=r.phone;return!e.touch||o||u?e.touch?l.default:v.default:x.default},_=h(r.default,n.default.real(),u.default);(0,t.each)(_.map,function(e,r){(0,d.default)(e,new _(e,r))});var w={down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",over:"dxpointerover",out:"dxpointerout"};module.exports=w;
},{"../core/utils/support":"eZC7","../core/utils/iterator":"FHcO","../core/utils/browser":"nlvS","../core/devices":"LpzF","./core/event_registrator":"czcP","./pointer/touch":"hvg4","./pointer/mspointer":"qHdt","./pointer/mouse":"LR01","./pointer/mouse_and_touch":"tqhQ"}],"bLXJ":[function(require,module,exports) {
"use strict";var e=require("../events/core/events_engine"),t=require("../core/element_data"),r=require("../core/class"),a=require("../core/devices"),n=require("./core/event_registrator"),i=require("./utils"),s=require("./pointer"),o="dxHoverStart",h="dxhoverstart",c=i.addNamespace(s.enter,o),d="dxHoverEnd",l="dxhoverend",v=i.addNamespace(s.leave,d),u=r.inherit({noBubble:!0,ctor:function(){this._handlerArrayKeyPath=this._eventNamespace+"_HandlerStore"},setup:function(e){t.data(e,this._handlerArrayKeyPath,{})},add:function(r,a){var n=this,i=function(e){n._handler(e)};e.on(r,this._originalEventName,a.selector,i),t.data(r,this._handlerArrayKeyPath)[a.guid]=i},_handler:function(e){i.isTouchEvent(e)||a.isSimulator()||i.fireEvent({type:this._eventName,originalEvent:e,delegateTarget:e.delegateTarget})},remove:function(r,a){var n=t.data(r,this._handlerArrayKeyPath)[a.guid];e.off(r,this._originalEventName,a.selector,n)},teardown:function(e){t.removeData(e,this._handlerArrayKeyPath)}}),_=u.inherit({ctor:function(){this._eventNamespace=o,this._eventName=h,this._originalEventName=c,this.callBase()},_handler:function(e){(e.pointers||[]).length||this.callBase(e)}}),m=u.inherit({ctor:function(){this._eventNamespace=d,this._eventName=l,this._originalEventName=v,this.callBase()}});n(h,new _),n(l,new m),exports.start=h,exports.end=l;
},{"../events/core/events_engine":"oNrb","../core/element_data":"yYfn","../core/class":"YpjV","../core/devices":"LpzF","./core/event_registrator":"czcP","./utils":"cNvJ","./pointer":"HDhW"}],"mbKE":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../core/utils/common").noop,c=require("../../core/class"),n=require("../../core/utils/callbacks"),a=require("../../core/utils/extend").extend,i=require("../utils"),l=c.inherit({ctor:function(t){this._$element=e(t),this._cancelCallback=n(),this._acceptCallback=n()},getElement:function(){return this._$element},validate:function(e){return!i.isDxMouseWheelEvent(e)},validatePointers:function(e){return 1===i.hasTouches(e)},allowInterruptionByMouseWheel:function(){return!0},configure:function(e){a(this,e)},addCancelCallback:function(e){this._cancelCallback.add(e)},removeCancelCallback:function(){this._cancelCallback.empty()},_cancel:function(e){this._cancelCallback.fire(this,e)},addAcceptCallback:function(e){this._acceptCallback.add(e)},removeAcceptCallback:function(){this._acceptCallback.empty()},_accept:function(e){this._acceptCallback.fire(this,e)},_requestAccept:function(e){this._acceptRequestEvent=e},_forgetAccept:function(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:t,move:t,end:t,cancel:t,reset:function(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent:function(e,t,c){var n=a({type:e,originalEvent:t,target:this._getEmitterTarget(t),delegateTarget:this.getElement().get(0)},c);return(t=i.fireEvent(n)).cancel&&this._cancel(t),t},_getEmitterTarget:function(t){return(this.delegateSelector?e(t.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:t});module.exports=l;
},{"../../core/renderer":"qxFQ","../../core/utils/common":"GcQA","../../core/class":"YpjV","../../core/utils/callbacks":"gtoU","../../core/utils/extend":"ac8T","../utils":"cNvJ"}],"hGY0":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),r=require("../../events/core/events_engine"),t=require("../../core/dom_adapter"),n=require("../../core/utils/call_once"),o=require("./event_registrator"),a=require("../utils"),i="dxmousewheel",l="dxWheel",u=n(function(){return t.hasDocumentProperty("onwheel")?"wheel":"mousewheel"}),s={setup:function(t){var n=e(t);r.on(n,a.addNamespace(u(),l),s._wheelHandler.bind(s))},teardown:function(e){r.off(e,"."+l)},_wheelHandler:function(e){var r=this._getWheelDelta(e.originalEvent);a.fireEvent({type:i,originalEvent:e,delta:r,pointerType:"mouse"}),e.stopPropagation()},_getWheelDelta:function(e){return e.wheelDelta?e.wheelDelta:30*-e.deltaY}};o(i,s),exports.name=i;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/dom_adapter":"RRDy","../../core/utils/call_once":"hqaQ","./event_registrator":"czcP","../utils":"cNvJ"}],"IPLR":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../core/utils/ready_callbacks"),i=require("../../core/dom_adapter"),r=require("../../events/core/events_engine"),n=require("../../core/element_data"),a=require("../../core/class"),s=require("../../core/utils/extend").extend,c=require("../../core/utils/array").inArray,o=require("../../core/utils/iterator").each,l=require("./event_registrator"),u=require("../utils"),d=require("../pointer"),h=require("./wheel"),_="dxEventManager",p="dxEmitter",m=a.inherit({ctor:function(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=this._cancelHandler.bind(this),this._proxiedAcceptHandler=this._acceptHandler.bind(this)},_attachHandlers:function(){t.add(function(){var e=i.getDocument();r.subscribeGlobal(e,u.addNamespace(d.down,_),this._pointerDownHandler.bind(this)),r.subscribeGlobal(e,u.addNamespace(d.move,_),this._pointerMoveHandler.bind(this)),r.subscribeGlobal(e,u.addNamespace([d.up,d.cancel].join(" "),_),this._pointerUpHandler.bind(this)),r.subscribeGlobal(e,u.addNamespace(h.name,_),this._mouseWheelHandler.bind(this))}.bind(this))},_eachEmitter:function(e){for(var t=this._activeEmitters||[],i=0;t.length>i;){var r=t[i];if(!1===e(r))break;t[i]===r&&i++}},_applyToEmitters:function(e,t){this._eachEmitter(function(i){i[e].call(i,t)})},reset:function(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter:function(e){this._proxiedCancelHandler(e)},_pointerDownHandler:function(e){u.isMouseEvent(e)&&e.which>1||this._updateEmitters(e)},_updateEmitters:function(e){this._isSetChanged(e)&&(this._cleanEmitters(e),this._fetchEmitters(e))},_isSetChanged:function(e){var t=this._closestEmitter(e),i=this._emittersSet||[],r=t.length!==i.length;return o(t,function(e,t){return!(r=r||i[e]!==t)}),this._emittersSet=t,r},_closestEmitter:function(t){var i=this,r=[],a=e(t.target);function s(e,n){n&&n.validatePointers(t)&&n.validate(t)&&(n.addCancelCallback(i._proxiedCancelHandler),n.addAcceptCallback(i._proxiedAcceptHandler),r.push(n))}for(;a.length;){var c=n.data(a.get(0),p)||[];o(c,s),a=a.parent()}return r},_acceptHandler:function(e,t){var i=this;this._eachEmitter(function(r){r!==e&&i._cancelEmitter(r,t)})},_cancelHandler:function(e,t){this._cancelEmitter(e,t)},_cancelEmitter:function(e,t){var i=this._activeEmitters;t?e.cancel(t):e.reset(),e.removeCancelCallback(),e.removeAcceptCallback();var r=c(e,i);r>-1&&i.splice(r,1)},_cleanEmitters:function(e){this._applyToEmitters("end",e),this.reset(e)},_fetchEmitters:function(e){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",e)},_pointerMoveHandler:function(e){this._applyToEmitters("move",e)},_pointerUpHandler:function(e){this._updateEmitters(e)},_mouseWheelHandler:function(e){this._allowInterruptionByMouseWheel()&&(e.pointers=[null],this._pointerDownHandler(e),this._adjustWheelEvent(e),this._pointerMoveHandler(e),e.pointers=[],this._pointerUpHandler(e))},_allowInterruptionByMouseWheel:function(){var e=!0;return this._eachEmitter(function(t){return e=t.allowInterruptionByMouseWheel()&&e}),e},_adjustWheelEvent:function(e){var t=null;if(this._eachEmitter(function(i){if(i.gesture){var r=i.getDirection(e);return"horizontal"!==r&&!e.shiftKey||"vertical"!==r&&e.shiftKey?(t=i,!1):void 0}}),t){var i=t.getDirection(e),r="both"===i&&!e.shiftKey||"vertical"===i;e[r?"pageY":"pageX"]+=e.delta}},isActive:function(e){var t=!1;return this._eachEmitter(function(i){t=t||i.getElement().is(e)}),t}}),f=new m,v="dxEmitterSubscription",E=function(e){var t=e.emitter,i=e.events[0],r=e.events;o(r,function(a,c){l(c,{noBubble:!e.bubble,setup:function(e){var r=n.data(e,v)||{},a=n.data(e,p)||{},s=a[i]||new t(e);r[c]=!0,a[i]=s,n.data(e,p,a),n.data(e,v,r)},add:function(e,t){n.data(e,p)[i].configure(s({delegateSelector:t.selector},t.data),t.type)},teardown:function(e){var t=n.data(e,v),a=n.data(e,p),s=a[i];delete t[c];var l=!0;o(r,function(e,i){return l=l&&!t[i]}),l&&(f.isActive(e)&&f.resetEmitter(s),s&&s.dispose(),delete a[i])}})})};module.exports=E;
},{"../../core/renderer":"qxFQ","../../core/utils/ready_callbacks":"pyvP","../../core/dom_adapter":"RRDy","../../events/core/events_engine":"oNrb","../../core/element_data":"yYfn","../../core/class":"YpjV","../../core/utils/extend":"ac8T","../../core/utils/array":"uivT","../../core/utils/iterator":"FHcO","./event_registrator":"czcP","../utils":"cNvJ","../pointer":"HDhW","./wheel":"hGY0"}],"rWdi":[function(require,module,exports) {
"use strict";var t,i=require("../../core/class"),e=require("../../core/utils/common"),n=require("../../core/utils/dom").contains,s=require("../../core/devices"),c=require("../utils"),r=require("../pointer"),o=require("./emitter"),a=require("./emitter_registrator"),u="dxactive",h="dxinactive",v=30,f=400,_=i.inherit({ctor:function(t,i){this._timeout=t,this._fire=i},start:function(){var t=this;this._schedule(function(){t.force()})},_schedule:function(t){this.stop(),this._timer=setTimeout(t,this._timeout)},stop:function(){clearTimeout(this._timer)},force:function(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired:function(){return this._fired}}),l=o.inherit({ctor:function(){this.callBase.apply(this,arguments),this._active=new _(0,e.noop),this._inactive=new _(0,e.noop)},configure:function(t,i){switch(i){case u:t.activeTimeout=t.timeout;break;case h:t.inactiveTimeout=t.timeout}this.callBase(t)},start:function(i){if(t){var e=n(this.getElement().get(0),t.getElement().get(0)),s=!t._active.fired();if(e&&s)return void this._cancel();t._inactive.force()}t=this,this._initEvents(i),this._active.start()},_initEvents:function(i){var n=this,r=this._getEmitterTarget(i),o=c.isMouseEvent(i),a=s.isSimulator()||!o,l=e.ensureDefined(this.activeTimeout,v),m=e.ensureDefined(this.inactiveTimeout,f);this._active=new _(a?l:0,function(){n._fireEvent(u,i,{target:r})}),this._inactive=new _(a?m:0,function(){n._fireEvent(h,i,{target:r}),t=null})},cancel:function(t){this.end(t)},end:function(t){var i=t.type!==r.up;i?this._active.stop():this._active.force(),this._inactive.start(),i&&this._inactive.force()},dispose:function(){this._active.stop(),this._inactive.stop(),this.callBase()},lockInactive:function(){return this._active.force(),this._inactive.stop(),t=null,this._cancel(),this._inactive.force.bind(this._inactive)}});l.lock=function(i){var n=t?t.lockInactive():e.noop;i.done(n)},a({emitter:l,events:[u,h]}),exports.lock=l.lock,exports.active=u,exports.inactive=h;
},{"../../core/class":"YpjV","../../core/utils/common":"GcQA","../../core/utils/dom":"vDwZ","../../core/devices":"LpzF","../utils":"cNvJ","../pointer":"HDhW","./emitter":"mbKE","./emitter_registrator":"IPLR"}],"SaLI":[function(require,module,exports) {
"use strict";var n=require("../core/utils/window"),e=n.hasWindow()?n.getWindow():{},i=require("../core/utils/call_once"),t=1e3/60,a=function(n){return setTimeout(n,t)},r=function(n){clearTimeout(n)},o=i(function(){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame;if(n&&i&&(a=n,r=i),n&&!i){var t={};a=function(i){var a=n.call(e,function(){try{if(a in t)return;i.apply(this,arguments)}finally{delete t[a]}});return a},r=function(n){t[n]=!0}}});exports.requestAnimationFrame=function(){return o(),a.apply(e,arguments)},exports.cancelAnimationFrame=function(){o(),r.apply(e,arguments)};
},{"../core/utils/window":"NXH3","../core/utils/call_once":"hqaQ"}],"Dkvf":[function(require,module,exports) {
"use strict";exports.compare=function(t,r,n){function e(t){return"string"==typeof t?t.split("."):"number"==typeof t?[t]:t}t=e(t),r=e(r);var i=Math.max(t.length,r.length);isFinite(n)&&(i=Math.min(i,n));for(var a=0;a<i;a++){var s=parseInt(t[a]||0,10),u=parseInt(r[a]||0,10);if(s<u)return-1;if(s>u)return 1}return 0};
},{}],"RTmy":[function(require,module,exports) {
"use strict";var e=require("../core/renderer"),t=require("../events/core/events_engine"),i=require("../core/devices"),n=require("../core/dom_adapter"),r=require("../core/utils/dom"),a=require("../animation/frame"),c=require("./utils"),s=require("./pointer"),l=require("./core/emitter"),o=require("./core/emitter_registrator"),u=require("../core/utils/version").compare,m="dxclick",f=10,v=Math.abs,h=function(t){return e(t).is("input, textarea, select, button ,:focus, :focus *")},d={requestAnimationFrame:a.requestAnimationFrame,cancelAnimationFrame:a.cancelAnimationFrame},_=l.inherit({ctor:function(t){this.callBase(t),this._makeElementClickable(e(t))},_makeElementClickable:function(e){e.attr("onclick")||e.attr("onclick","void(0)")},start:function(e){this._blurPrevented=e.isDefaultPrevented(),this._startTarget=e.target,this._startEventData=c.eventData(e)},end:function(e){this._eventOutOfElement(e,this.getElement().get(0))||e.type===s.cancel?this._cancel(e):(h(e.target)||this._blurPrevented||r.resetActiveElement(),this._accept(e),this._clickAnimationFrame=d.requestAnimationFrame(function(){this._fireClickEvent(e)}.bind(this)))},_eventOutOfElement:function(e,t){var i=e.target,n=!r.contains(t,i)&&t!==i,a=c.eventDelta(c.eventData(e),this._startEventData),s=v(a.x)>f||v(a.y)>f;return n||s},_fireClickEvent:function(e){this._fireEvent(m,e,{target:r.closestCommonParent(this._startTarget,e.target)})},dispose:function(){d.cancelAnimationFrame(this._clickAnimationFrame)}});!function(){var n=i.real(),r=n.generic||n.ios&&u(n.version,[9,3])>=0||n.android&&u(n.version,[5])>=0,a=function(t){return r||e(t).closest(".dx-native-click").length},s=null,l=null,o=function(e){var t=e.originalEvent,i=l===t||t&&t.DXCLICK_FIRED;(!e.which||1===e.which)&&!s&&a(e.target)&&!i&&(t&&(t.DXCLICK_FIRED=!0),l=t,c.fireEvent({type:m,originalEvent:e}))};_=_.inherit({_makeElementClickable:function(e){a(e)||this.callBase(e),t.on(e,"click",o)},configure:function(e){this.callBase(e),e.useNative&&this.getElement().addClass("dx-native-click")},start:function(e){s=null,a(e.target)||this.callBase(e)},end:function(e){a(e.target)||this.callBase(e)},cancel:function(){s=!0},dispose:function(){this.callBase(),t.off(this.getElement(),"click",o)}})}(),function(){if(!i.real().generic){var a=null,l=!1,o=n.getDocument();t.subscribeGlobal(o,c.addNamespace(s.down,"NATIVE_CLICK_FIXER"),function(e){a=e.target,l=e.isDefaultPrevented()}),t.subscribeGlobal(o,c.addNamespace("click","NATIVE_CLICK_FIXER"),function(t){var i=e(t.target);l||!a||i.is(a)||e(a).is("label")||!h(i)||r.resetActiveElement(),a=null,l=!1})}}(),o({emitter:_,bubble:!0,events:[m]}),exports.name=m;
},{"../core/renderer":"qxFQ","../events/core/events_engine":"oNrb","../core/devices":"LpzF","../core/dom_adapter":"RRDy","../core/utils/dom":"vDwZ","../animation/frame":"SaLI","./utils":"cNvJ","./pointer":"HDhW","./core/emitter":"mbKE","./core/emitter_registrator":"IPLR","../core/utils/version":"Dkvf"}],"gtOK":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../events/core/events_engine"),n=require("../../core/action"),i=require("../../core/utils/extend").extend,s=require("../../core/utils/array").inArray,a=require("../../core/utils/iterator").each,o=require("../../core/utils/common"),r=require("../../core/utils/type"),c=require("../../core/dom_adapter"),d=require("../../core/dom_component_with_template"),u=require("./ui.keyboard_processor"),h=require("./selectors"),l=require("../../events/utils"),_=require("../../events/hover"),f=require("../../events/core/emitter.feedback"),v=require("../../events/click"),g="UIFeedback",p="dx-widget",b="dx-state-active",m="dx-state-disabled",y="dx-state-invisible",E="dx-state-hover",C="dx-state-focused",F=30,S=400,T="Focus",k=d.inherit({_supportedKeys:function(){return{}},_getDefaultOptions:function(){return i(this.callBase(),{disabled:!1,visible:!0,hint:void 0,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:null,onFocusIn:null,onFocusOut:null,_keyboardProcessor:void 0})},_feedbackShowTimeout:F,_feedbackHideTimeout:S,_init:function(){this.callBase(),this._initContentReadyAction()},_clearInnerOptionCache:function(e){this[e+"Cache"]={}},_cacheInnerOptions:function(e,t){var n=e+"Cache";this[n]=i(this[n],t)},_getOptionsFromContainer:function(e){var t=e.name,n=e.fullName,i=e.value,s={};t===n?s=i:s[n.split(".").pop()]=i;return s},_innerOptionChanged:function(e,t){var n=this._getOptionsFromContainer(t);e&&e.option(n),this._cacheInnerOptions(t.name,n)},_getInnerOptionsCache:function(e){return this[e+"Cache"]},_initInnerOptionCache:function(e){this._clearInnerOptionCache(e),this._cacheInnerOptions(e,this.option(e))},_bindInnerWidgetOptions:function(e,t){this._options[t]=i({},e.option()),e.on("optionChanged",function(e){this._options[t]=i({},e.component.option())}.bind(this))},_getAriaTarget:function(){return this._focusTarget()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){this.$element().addClass(p),this._toggleDisabledState(this.option("disabled")),this._toggleVisibility(this.option("visible")),this._renderHint(),this._isFocusable()&&this._renderFocusTarget(),this.callBase()},_render:function(){this.callBase(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents()},_renderHint:function(){var e=this.option("hint");this.$element().attr("title",e||null)},_renderContent:function(){var e=this;o.deferRender(function(){if(!e._disposed)return e._renderContentImpl()}).done(function(){e._disposed||e._fireContentReadyAction()})},_renderContentImpl:o.noop,_fireContentReadyAction:o.deferRenderer(function(){this._contentReadyAction()}),_dispose:function(){this._contentReadyAction=null,this.callBase()},_resetActiveState:function(){this._toggleActiveState(this._eventBindingTarget(),!1)},_clean:function(){this._cleanFocusState(),this._resetActiveState(),this.callBase(),this.$element().empty()},_toggleVisibility:function(e){this.$element().toggleClass(y,!e),this.setAria("hidden",!e||void 0)},_renderFocusState:function(){this._attachKeyboardEvents(),this._isFocusable()&&(this._renderFocusTarget(),this._attachFocusEvents(),this._renderAccessKey())},_renderAccessKey:function(){var e=this._focusTarget();e.attr("accesskey",this.option("accessKey"));var n=l.addNamespace(v.name,g);t.off(e,n),this.option("accessKey")&&t.on(e,n,function(e){l.isFakeClickEvent(e)&&(e.stopImmediatePropagation(),this.focus())}.bind(this))},_isFocusable:function(){return this.option("focusStateEnabled")&&!this.option("disabled")},_eventBindingTarget:function(){return this.$element()},_focusTarget:function(){return this._getActiveElement()},_getActiveElement:function(){var e=this._eventBindingTarget();return this._activeStateUnit&&(e=e.find(this._activeStateUnit).not("."+m)),e},_renderFocusTarget:function(){this._focusTarget().attr("tabIndex",this.option("tabIndex"))},_keyboardEventBindingTarget:function(){return this._eventBindingTarget()},_detachFocusEvents:function(){var e=this._focusEventTarget(),n=this.NAME+T,i=l.addNamespace("focusin",n);i=i+" "+l.addNamespace("focusout",n),c.hasDocumentProperty("onbeforeactivate")&&(i=i+" "+l.addNamespace("beforeactivate",n)),t.off(e,i)},_attachFocusEvents:function(){var n=this.NAME+T,i=l.addNamespace("focusin",n),s=l.addNamespace("focusout",n),a=this._focusEventTarget();if(t.on(a,i,this._focusInHandler.bind(this)),t.on(a,s,this._focusOutHandler.bind(this)),c.hasDocumentProperty("onbeforeactivate")){var o=l.addNamespace("beforeactivate",n);t.on(this._focusEventTarget(),o,function(t){e(t.target).is(h.focusable)||t.preventDefault()})}},_refreshFocusEvent:function(){this._detachFocusEvents(),this._attachFocusEvents()},_focusEventTarget:function(){return this._focusTarget()},_focusInHandler:function(e){if(!e.isDefaultPrevented()){var t=this;t._createActionByOption("onFocusIn",{beforeExecute:function(){t._updateFocusState(e,!0)},excludeValidators:["readOnly"]})({event:e})}},_focusOutHandler:function(e){if(!e.isDefaultPrevented()){var t=this;t._createActionByOption("onFocusOut",{beforeExecute:function(){t._updateFocusState(e,!1)},excludeValidators:["readOnly","disabled"]})({event:e})}},_updateFocusState:function(t,n){var i=t.target;-1!==s(i,this._focusTarget())&&this._toggleFocusClass(n,e(i))},_toggleFocusClass:function(e,t){(t&&t.length?t:this._focusTarget()).toggleClass(C,e)},_hasFocusClass:function(t){return e(t||this._focusTarget()).hasClass(C)},_isFocused:function(){return this._hasFocusClass()},_attachKeyboardEvents:function(){var e=this.option("_keyboardProcessor");e?this._keyboardProcessor=e.reinitialize(this._keyboardHandler,this):this.option("focusStateEnabled")&&(this._disposeKeyboardProcessor(),this._keyboardProcessor=new u({element:this._keyboardEventBindingTarget(),handler:this._keyboardHandler,focusTarget:this._focusTarget(),context:this}))},_keyboardHandler:function(e){var t=e.originalEvent,n=e.keyName,i=e.which,s=this._supportedKeys(t),a=s[n]||s[i];return void 0===a||(a.bind(this)(t)||!1)},_refreshFocusState:function(){this._cleanFocusState(),this._renderFocusState()},_cleanFocusState:function(){var e=this._focusTarget();this._detachFocusEvents(),this._toggleFocusClass(!1),e.removeAttr("tabIndex"),this._disposeKeyboardProcessor()},_disposeKeyboardProcessor:function(){this._keyboardProcessor&&(this._keyboardProcessor.dispose(),delete this._keyboardProcessor)},_attachHoverEvents:function(){var i=this,s=i._activeStateUnit,a=l.addNamespace(_.start,g),o=l.addNamespace(_.end,g);if(t.off(i._eventBindingTarget(),a,s),t.off(i._eventBindingTarget(),o,s),i.option("hoverStateEnabled")){var r=new n(function(t){i._hoverStartHandler(t.event),i._refreshHoveredElement(e(t.element))},{excludeValidators:["readOnly"]}),c=i._eventBindingTarget();t.on(c,a,s,function(t){r.execute({element:e(t.target),event:t})}),t.on(c,o,s,function(e){i._hoverEndHandler(e),i._forgetHoveredElement()})}else i._toggleHoverClass(!1)},_hoverStartHandler:o.noop,_hoverEndHandler:o.noop,_attachFeedbackEvents:function(){var i,s,a=this,o=a._activeStateUnit,r=l.addNamespace(f.active,g),c=l.addNamespace(f.inactive,g);if(t.off(a._eventBindingTarget(),r,o),t.off(a._eventBindingTarget(),c,o),a.option("activeStateEnabled")){var d=function(t){var n=e(t.element),i=t.value,s=t.event;a._toggleActiveState(n,i,s)};t.on(a._eventBindingTarget(),r,o,{timeout:a._feedbackShowTimeout},function(t){(i=i||new n(d)).execute({element:e(t.currentTarget),value:!0,event:t})}),t.on(a._eventBindingTarget(),c,o,{timeout:a._feedbackHideTimeout},function(t){(s=s||new n(d,{excludeValidators:["disabled","readOnly"]})).execute({element:e(t.currentTarget),value:!1,event:t})})}},_toggleActiveState:function(e,t){this._toggleHoverClass(!t),e.toggleClass(b,t)},_refreshHoveredElement:function(e){var t=this._activeStateUnit||this._eventBindingTarget();this._forgetHoveredElement(),this._hoveredElement=e.closest(t),this._toggleHoverClass(!0)},_forgetHoveredElement:function(){this._toggleHoverClass(!1),delete this._hoveredElement},_toggleHoverClass:function(e){this._hoveredElement&&this._hoveredElement.toggleClass(E,e&&this.option("hoverStateEnabled"))},_toggleDisabledState:function(e){this.$element().toggleClass(m,Boolean(e)),this._toggleHoverClass(!e),this.setAria("disabled",e||void 0)},_setWidgetOption:function(e,t){if(this[e])if(r.isPlainObject(t[0]))a(t[0],function(t,n){this._setWidgetOption(e,[t,n])}.bind(this));else{var n=t[0],i=t[1];1===t.length&&(i=this.option(n));var s=this[e+"OptionMap"];this[e].option(s?s(n):n,i)}},_optionChanged:function(e){switch(e.name){case"disabled":this._toggleDisabledState(e.value),this._refreshFocusState();break;case"hint":this._renderHint();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents();break;case"tabIndex":case"_keyboardProcessor":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":break;case"accessKey":this._renderAccessKey();break;case"visible":var t=e.value;this._toggleVisibility(t),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(e.value?"shown":"hiding");break;case"onContentReady":this._initContentReadyAction();break;default:this.callBase(e)}},_isVisible:function(){return this.callBase()&&this.option("visible")},beginUpdate:function(){this._ready(!1),this.callBase()},endUpdate:function(){this.callBase(),this._initialized&&this._ready(!0)},_ready:function(e){if(0===arguments.length)return this._isReady;this._isReady=e},setAria:function(){var e=function(e){var t="role"===e.name||"id"===e.name?e.name:"aria-"+e.name,n=e.value;n=r.isDefined(n)?n.toString():null,e.target.attr(t,n)};if(r.isPlainObject(arguments[0])){var t=arguments[1]||this._getAriaTarget();a(arguments[0],function(n,i){e({name:n,value:i,target:t})})}else e({name:arguments[0],value:arguments[1],target:arguments[2]||this._getAriaTarget()})},isReady:function(){return this._ready()},repaint:function(){this._refresh()},focus:function(){t.trigger(this._focusTarget(),"focus")},registerKeyHandler:function(e,t){var n=this._supportedKeys(),s={};s[e]=t,this._supportedKeys=function(){return i(n,s)}}});module.exports=k;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/action":"Bpfv","../../core/utils/extend":"ac8T","../../core/utils/array":"uivT","../../core/utils/iterator":"FHcO","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/dom_adapter":"RRDy","../../core/dom_component_with_template":"e4L5","./ui.keyboard_processor":"H8iu","./selectors":"m3d1","../../events/utils":"cNvJ","../../events/hover":"bLXJ","../../events/core/emitter.feedback":"rWdi","../../events/click":"RTmy"}],"RFsS":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/error"),t=require("../../core/errors");module.exports=e(t.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' does not inherit from DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' does not inherit from DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' does not exist",E1007:"State storing cannot be provided due to the restrictions of the browser",E1010:"The template does not contain the TextBox widget",E1011:'Items cannot be deleted from the List. Implement the "remove" function in the data store',E1012:"Editing type '{0}' with the name '{1}' is unsupported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called if you use a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"The type cannot be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:'The "markers" option is given an invalid value. Assign an array instead',E1023:'The "routes" option is given an invalid value. Assign an array instead',E1025:"This layout is too complex to render",E1026:'The "calculateCustomSummary" function is missing from a field whose "summaryType" option is set to "custom"',E1030:"Unknown ScrollView refresh strategy: '{0}'",E1031:"Unknown subscription in the Scheduler widget: '{0}'",E1032:"Unknown start date in an appointment: '{0}'",E1033:"Unknown step in the date navigator: '{0}'",E1034:"The browser does not implement an API for saving files",E1035:"The editor cannot be created because of an internal error: {0}",E1037:"Invalid structure of grouped data",E1038:"The browser does not support local storages for local web pages",E1039:"A cell's position cannot be calculated",E1040:"The '{0}' key value is not unique within the data array",E1041:"The '{0}' script is referenced after the DevExtreme scripts or not referenced at all",E1042:"{0} requires the key field to be specified",E1043:"Changes cannot be processed due to the incorrectly set key",E1044:"The key field specified by the keyExpr option does not match the key field specified in the data store",E1045:"Editing requires the key field to be specified in the data store",E1046:"The '{0}' key field is not found in data objects",E1047:'The "{0}" field is not found in the fields array',E1048:'The "{0}" operation is not found in the filterOperations array',E1049:"Column '{0}': filtering is allowed but the 'dataField' or 'name' option is not specified",E1050:"The validationRules option does not apply to third-party editors defined in the editCellTemplate",E1051:'HtmlEditor\'s valueType is "{0}", but the {0} converter was not imported.',E1052:'{0} should have the "dataSource" option specified',E1053:'The "buttons" option accepts an array that contains only objects or string values',E1054:"All text editor buttons must have names",E1055:'One or several text editor buttons have invalid or non-unique "name" values',E1056:'The {0} widget does not support buttons of the "{1}" type',E1057:'The {0} widget does not support asynchronous validation rules in the "{1}" edit mode',W1001:'The "key" option cannot be modified after initialization',W1002:"An item with the key '{0}' does not exist",W1003:"A group with the key '{0}' in which you are trying to select items does not exist",W1004:"The item '{0}' you are trying to select in the group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns.",W1006:"The map service returned the following error: '{0}'",W1007:"No item with key {0} was found in the data source, but this key was used as the parent key for item {1}",W1008:"Cannot scroll to the '{0}' date because it does not exist on the current view",W1009:"Searching works only if data is specified using the dataSource option",W1010:"The capability to select all items works with source data of plain structure only",W1011:'The "keyExpr" option is not applied when dataSource is not an array',W1012:"The '{0}' key field is not found in data objects",W1013:'The "message" field in the dialog component was renamed to "messageHtml". Change your code correspondingly. In addition, if you used HTML code in the message, make sure that it is secure',W1014:"The Floating Action Button exceeds the recommended speed dial action count. If you need to display more speed dial actions, increase the maxSpeedDialActionCount option value in the global config."});
},{"../../core/utils/error":"Z4UQ","../../core/errors":"BdzT"}],"vK55":[function(require,module,exports) {
"use strict";module.exports={"en-150":"en-001","en-AG":"en-001","en-AI":"en-001","en-AU":"en-001","en-BB":"en-001","en-BM":"en-001","en-BS":"en-001","en-BW":"en-001","en-BZ":"en-001","en-CA":"en-001","en-CC":"en-001","en-CK":"en-001","en-CM":"en-001","en-CX":"en-001","en-CY":"en-001","en-DG":"en-001","en-DM":"en-001","en-ER":"en-001","en-FJ":"en-001","en-FK":"en-001","en-FM":"en-001","en-GB":"en-001","en-GD":"en-001","en-GG":"en-001","en-GH":"en-001","en-GI":"en-001","en-GM":"en-001","en-GY":"en-001","en-HK":"en-001","en-IE":"en-001","en-IL":"en-001","en-IM":"en-001","en-IN":"en-001","en-IO":"en-001","en-JE":"en-001","en-JM":"en-001","en-KE":"en-001","en-KI":"en-001","en-KN":"en-001","en-KY":"en-001","en-LC":"en-001","en-LR":"en-001","en-LS":"en-001","en-MG":"en-001","en-MO":"en-001","en-MS":"en-001","en-MT":"en-001","en-MU":"en-001","en-MW":"en-001","en-MY":"en-001","en-NA":"en-001","en-NF":"en-001","en-NG":"en-001","en-NR":"en-001","en-NU":"en-001","en-NZ":"en-001","en-PG":"en-001","en-PH":"en-001","en-PK":"en-001","en-PN":"en-001","en-PW":"en-001","en-RW":"en-001","en-SB":"en-001","en-SC":"en-001","en-SD":"en-001","en-SG":"en-001","en-SH":"en-001","en-SL":"en-001","en-SS":"en-001","en-SX":"en-001","en-SZ":"en-001","en-TC":"en-001","en-TK":"en-001","en-TO":"en-001","en-TT":"en-001","en-TV":"en-001","en-TZ":"en-001","en-UG":"en-001","en-VC":"en-001","en-VG":"en-001","en-VU":"en-001","en-WS":"en-001","en-ZA":"en-001","en-ZM":"en-001","en-ZW":"en-001","en-AT":"en-150","en-BE":"en-150","en-CH":"en-150","en-DE":"en-150","en-DK":"en-150","en-FI":"en-150","en-NL":"en-150","en-SE":"en-150","en-SI":"en-150","es-AR":"es-419","es-BO":"es-419","es-BR":"es-419","es-BZ":"es-419","es-CL":"es-419","es-CO":"es-419","es-CR":"es-419","es-CU":"es-419","es-DO":"es-419","es-EC":"es-419","es-GT":"es-419","es-HN":"es-419","es-MX":"es-419","es-NI":"es-419","es-PA":"es-419","es-PE":"es-419","es-PR":"es-419","es-PY":"es-419","es-SV":"es-419","es-US":"es-419","es-UY":"es-419","es-VE":"es-419","pt-AO":"pt-PT","pt-CH":"pt-PT","pt-CV":"pt-PT","pt-FR":"pt-PT","pt-GQ":"pt-PT","pt-GW":"pt-PT","pt-LU":"pt-PT","pt-MO":"pt-PT","pt-MZ":"pt-PT","pt-ST":"pt-PT","pt-TL":"pt-PT","az-Arab":"root","az-Cyrl":"root","blt-Latn":"root","bm-Nkoo":"root","bs-Cyrl":"root","byn-Latn":"root","cu-Glag":"root","dje-Arab":"root","dyo-Arab":"root","en-Dsrt":"root","en-Shaw":"root","ff-Adlm":"root","ff-Arab":"root","ha-Arab":"root","iu-Latn":"root","kk-Arab":"root","ku-Arab":"root","ky-Arab":"root","ky-Latn":"root","ml-Arab":"root","mn-Mong":"root","ms-Arab":"root","pa-Arab":"root","sd-Deva":"root","sd-Khoj":"root","sd-Sind":"root","shi-Latn":"root","so-Arab":"root","sr-Latn":"root","sw-Arab":"root","tg-Arab":"root","ug-Cyrl":"root","uz-Arab":"root","uz-Cyrl":"root","vai-Latn":"root","wo-Arab":"root","yo-Arab":"root","yue-Hans":"root","zh-Hant":"root","zh-Hant-MO":"zh-Hant-HK"};
},{}],"Dt3L":[function(require,module,exports) {
"use strict";var r="-";module.exports=function(t,s){var e=t[s];return e?"root"!==e&&e:s.substr(0,s.lastIndexOf(r))};
},{}],"ojbN":[function(require,module,exports) {
"use strict";var e=require("../core/utils/dependency_injector"),r=n(e),t=require("./cldr-data/parent_locales"),u=n(t),a=require("./parentLocale"),l=n(a);function n(e){return e&&e.__esModule?e:{default:e}}var o="en";module.exports=(0,r.default)({locale:function(){var e=o;return function(r){if(!r)return e;e=r}}(),getValueByClosestLocale:function(e){for(var r=this.locale(),t=e(r),a=void 0;!t&&!a;)(r=(0,l.default)(u.default,r))?t=e(r):a=!0;return void 0===t&&r!==o?e(o):t}});
},{"../core/utils/dependency_injector":"NtCB","./cldr-data/parent_locales":"vK55","./parentLocale":"Dt3L"}],"Bsyg":[function(require,module,exports) {
"use strict";module.exports={en:{Yes:"Yes",No:"No",Cancel:"Cancel",Clear:"Clear",Done:"Done",Loading:"Loading...",Select:"Select...",Search:"Search",Back:"Back",OK:"OK","dxCollectionWidget-noDataText":"No data to display","dxDropDownEditor-selectLabel":"Select","validation-required":"Required","validation-required-formatted":"{0} is required","validation-numeric":"Value must be a number","validation-numeric-formatted":"{0} must be a number","validation-range":"Value is out of range","validation-range-formatted":"{0} is out of range","validation-stringLength":"The length of the value is not correct","validation-stringLength-formatted":"The length of {0} is not correct","validation-custom":"Value is invalid","validation-custom-formatted":"{0} is invalid","validation-async":"Value is invalid","validation-async-formatted":"{0} is invalid","validation-compare":"Values do not match","validation-compare-formatted":"{0} does not match","validation-pattern":"Value does not match pattern","validation-pattern-formatted":"{0} does not match pattern","validation-email":"Email is invalid","validation-email-formatted":"{0} is invalid","validation-mask":"Value is invalid","dxLookup-searchPlaceholder":"Minimum character number: {0}","dxList-pullingDownText":"Pull down to refresh...","dxList-pulledDownText":"Release to refresh...","dxList-refreshingText":"Refreshing...","dxList-pageLoadingText":"Loading...","dxList-nextButtonText":"More","dxList-selectAll":"Select All","dxListEditDecorator-delete":"Delete","dxListEditDecorator-more":"More","dxScrollView-pullingDownText":"Pull down to refresh...","dxScrollView-pulledDownText":"Release to refresh...","dxScrollView-refreshingText":"Refreshing...","dxScrollView-reachBottomText":"Loading...","dxDateBox-simulatedDataPickerTitleTime":"Select time","dxDateBox-simulatedDataPickerTitleDate":"Select date","dxDateBox-simulatedDataPickerTitleDateTime":"Select date and time","dxDateBox-validation-datetime":"Value must be a date or time","dxFileUploader-selectFile":"Select file","dxFileUploader-dropFile":"or Drop file here","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"kb","dxFileUploader-Mb":"Mb","dxFileUploader-Gb":"Gb","dxFileUploader-upload":"Upload","dxFileUploader-uploaded":"Uploaded","dxFileUploader-readyToUpload":"Ready to upload","dxFileUploader-uploadFailedMessage":"Upload failed","dxFileUploader-invalidFileExtension":"File type is not allowed","dxFileUploader-invalidMaxFileSize":"File is too large","dxFileUploader-invalidMinFileSize":"File is too small","dxRangeSlider-ariaFrom":"From","dxRangeSlider-ariaTill":"Till","dxSwitch-switchedOnText":"ON","dxSwitch-switchedOffText":"OFF","dxForm-optionalMark":"optional","dxForm-requiredMessage":"{0} is required","dxNumberBox-invalidValueMessage":"Value must be a number","dxNumberBox-noDataText":"No data","dxDataGrid-columnChooserTitle":"Column Chooser","dxDataGrid-columnChooserEmptyText":"Drag a column here to hide it","dxDataGrid-groupContinuesMessage":"Continues on the next page","dxDataGrid-groupContinuedMessage":"Continued from the previous page","dxDataGrid-groupHeaderText":"Group by This Column","dxDataGrid-ungroupHeaderText":"Ungroup","dxDataGrid-ungroupAllText":"Ungroup All","dxDataGrid-editingEditRow":"Edit","dxDataGrid-editingSaveRowChanges":"Save","dxDataGrid-editingCancelRowChanges":"Cancel","dxDataGrid-editingDeleteRow":"Delete","dxDataGrid-editingUndeleteRow":"Undelete","dxDataGrid-editingConfirmDeleteMessage":"Are you sure you want to delete this record?","dxDataGrid-validationCancelChanges":"Cancel changes","dxDataGrid-groupPanelEmptyText":"Drag a column header here to group by that column","dxDataGrid-noDataText":"No data","dxDataGrid-searchPanelPlaceholder":"Search...","dxDataGrid-filterRowShowAllText":"(All)","dxDataGrid-filterRowResetOperationText":"Reset","dxDataGrid-filterRowOperationEquals":"Equals","dxDataGrid-filterRowOperationNotEquals":"Does not equal","dxDataGrid-filterRowOperationLess":"Less than","dxDataGrid-filterRowOperationLessOrEquals":"Less than or equal to","dxDataGrid-filterRowOperationGreater":"Greater than","dxDataGrid-filterRowOperationGreaterOrEquals":"Greater than or equal to","dxDataGrid-filterRowOperationStartsWith":"Starts with","dxDataGrid-filterRowOperationContains":"Contains","dxDataGrid-filterRowOperationNotContains":"Does not contain","dxDataGrid-filterRowOperationEndsWith":"Ends with","dxDataGrid-filterRowOperationBetween":"Between","dxDataGrid-filterRowOperationBetweenStartText":"Start","dxDataGrid-filterRowOperationBetweenEndText":"End","dxDataGrid-applyFilterText":"Apply filter","dxDataGrid-trueText":"true","dxDataGrid-falseText":"false","dxDataGrid-sortingAscendingText":"Sort Ascending","dxDataGrid-sortingDescendingText":"Sort Descending","dxDataGrid-sortingClearText":"Clear Sorting","dxDataGrid-editingSaveAllChanges":"Save changes","dxDataGrid-editingCancelAllChanges":"Discard changes","dxDataGrid-editingAddRow":"Add a row","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"Min of {1} is {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"Max of {1} is {0}","dxDataGrid-summaryAvg":"Avg: {0}","dxDataGrid-summaryAvgOtherColumn":"Avg of {1} is {0}","dxDataGrid-summarySum":"Sum: {0}","dxDataGrid-summarySumOtherColumn":"Sum of {1} is {0}","dxDataGrid-summaryCount":"Count: {0}","dxDataGrid-columnFixingFix":"Fix","dxDataGrid-columnFixingUnfix":"Unfix","dxDataGrid-columnFixingLeftPosition":"To the left","dxDataGrid-columnFixingRightPosition":"To the right","dxDataGrid-exportTo":"Export","dxDataGrid-exportToExcel":"Export to Excel file","dxDataGrid-excelFormat":"Excel file","dxDataGrid-selectedRows":"Selected rows","dxDataGrid-exportSelectedRows":"Export selected rows","dxDataGrid-exportAll":"Export all data","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"OK","dxDataGrid-headerFilterCancel":"Cancel","dxDataGrid-ariaColumn":"Column","dxDataGrid-ariaValue":"Value","dxDataGrid-ariaFilterCell":"Filter cell","dxDataGrid-ariaCollapse":"Collapse","dxDataGrid-ariaExpand":"Expand","dxDataGrid-ariaDataGrid":"Data grid","dxDataGrid-ariaSearchInGrid":"Search in data grid","dxDataGrid-ariaSelectAll":"Select all","dxDataGrid-ariaSelectRow":"Select row","dxDataGrid-filterBuilderPopupTitle":"Filter Builder","dxDataGrid-filterPanelCreateFilter":"Create Filter","dxDataGrid-filterPanelClearFilter":"Clear","dxDataGrid-filterPanelFilterEnabledHint":"Enable the filter","dxTreeList-ariaTreeList":"Tree list","dxTreeList-editingAddRowToNode":"Add","dxPager-infoText":"Page {0} of {1} ({2} items)","dxPager-pagesCountText":"of","dxPivotGrid-grandTotal":"Grand Total","dxPivotGrid-total":"{0} Total","dxPivotGrid-fieldChooserTitle":"Field Chooser","dxPivotGrid-showFieldChooser":"Show Field Chooser","dxPivotGrid-expandAll":"Expand All","dxPivotGrid-collapseAll":"Collapse All","dxPivotGrid-sortColumnBySummary":'Sort "{0}" by This Column',"dxPivotGrid-sortRowBySummary":'Sort "{0}" by This Row',"dxPivotGrid-removeAllSorting":"Remove All Sorting","dxPivotGrid-dataNotAvailable":"N/A","dxPivotGrid-rowFields":"Row Fields","dxPivotGrid-columnFields":"Column Fields","dxPivotGrid-dataFields":"Data Fields","dxPivotGrid-filterFields":"Filter Fields","dxPivotGrid-allFields":"All Fields","dxPivotGrid-columnFieldArea":"Drop Column Fields Here","dxPivotGrid-dataFieldArea":"Drop Data Fields Here","dxPivotGrid-rowFieldArea":"Drop Row Fields Here","dxPivotGrid-filterFieldArea":"Drop Filter Fields Here","dxScheduler-editorLabelTitle":"Subject","dxScheduler-editorLabelStartDate":"Start Date","dxScheduler-editorLabelEndDate":"End Date","dxScheduler-editorLabelDescription":"Description","dxScheduler-editorLabelRecurrence":"Repeat","dxScheduler-openAppointment":"Open appointment","dxScheduler-recurrenceNever":"Never","dxScheduler-recurrenceDaily":"Daily","dxScheduler-recurrenceWeekly":"Weekly","dxScheduler-recurrenceMonthly":"Monthly","dxScheduler-recurrenceYearly":"Yearly","dxScheduler-recurrenceRepeatEvery":"Repeat Every","dxScheduler-recurrenceRepeatOn":"Repeat On","dxScheduler-recurrenceEnd":"End repeat","dxScheduler-recurrenceAfter":"After","dxScheduler-recurrenceOn":"On","dxScheduler-recurrenceRepeatDaily":"day(s)","dxScheduler-recurrenceRepeatWeekly":"week(s)","dxScheduler-recurrenceRepeatMonthly":"month(s)","dxScheduler-recurrenceRepeatYearly":"year(s)","dxScheduler-switcherDay":"Day","dxScheduler-switcherWeek":"Week","dxScheduler-switcherWorkWeek":"Work Week","dxScheduler-switcherMonth":"Month","dxScheduler-switcherAgenda":"Agenda","dxScheduler-switcherTimelineDay":"Timeline Day","dxScheduler-switcherTimelineWeek":"Timeline Week","dxScheduler-switcherTimelineWorkWeek":"Timeline Work Week","dxScheduler-switcherTimelineMonth":"Timeline Month","dxScheduler-recurrenceRepeatOnDate":"on date","dxScheduler-recurrenceRepeatCount":"occurrence(s)","dxScheduler-allDay":"All day","dxScheduler-confirmRecurrenceEditMessage":"Do you want to edit only this appointment or the whole series?","dxScheduler-confirmRecurrenceDeleteMessage":"Do you want to delete only this appointment or the whole series?","dxScheduler-confirmRecurrenceEditSeries":"Edit series","dxScheduler-confirmRecurrenceDeleteSeries":"Delete series","dxScheduler-confirmRecurrenceEditOccurrence":"Edit appointment","dxScheduler-confirmRecurrenceDeleteOccurrence":"Delete appointment","dxScheduler-noTimezoneTitle":"No timezone","dxScheduler-moreAppointments":"{0} more","dxCalendar-todayButtonText":"Today","dxCalendar-ariaWidgetName":"Calendar","dxColorView-ariaRed":"Red","dxColorView-ariaGreen":"Green","dxColorView-ariaBlue":"Blue","dxColorView-ariaAlpha":"Transparency","dxColorView-ariaHex":"Color code","dxTagBox-selected":"{0} selected","dxTagBox-allSelected":"All selected ({0})","dxTagBox-moreSelected":"{0} more","vizExport-printingButtonText":"Print","vizExport-titleMenuText":"Exporting/Printing","vizExport-exportButtonText":"{0} file","dxFilterBuilder-and":"And","dxFilterBuilder-or":"Or","dxFilterBuilder-notAnd":"Not And","dxFilterBuilder-notOr":"Not Or","dxFilterBuilder-addCondition":"Add Condition","dxFilterBuilder-addGroup":"Add Group","dxFilterBuilder-enterValueText":"<enter a value>","dxFilterBuilder-filterOperationEquals":"Equals","dxFilterBuilder-filterOperationNotEquals":"Does not equal","dxFilterBuilder-filterOperationLess":"Is less than","dxFilterBuilder-filterOperationLessOrEquals":"Is less than or equal to","dxFilterBuilder-filterOperationGreater":"Is greater than","dxFilterBuilder-filterOperationGreaterOrEquals":"Is greater than or equal to","dxFilterBuilder-filterOperationStartsWith":"Starts with","dxFilterBuilder-filterOperationContains":"Contains","dxFilterBuilder-filterOperationNotContains":"Does not contain","dxFilterBuilder-filterOperationEndsWith":"Ends with","dxFilterBuilder-filterOperationIsBlank":"Is blank","dxFilterBuilder-filterOperationIsNotBlank":"Is not blank","dxFilterBuilder-filterOperationBetween":"Is between","dxFilterBuilder-filterOperationAnyOf":"Is any of","dxFilterBuilder-filterOperationNoneOf":"Is none of","dxHtmlEditor-dialogColorCaption":"Change Font Color","dxHtmlEditor-dialogBackgroundCaption":"Change Background Color","dxHtmlEditor-dialogLinkCaption":"Add Link","dxHtmlEditor-dialogLinkUrlField":"URL","dxHtmlEditor-dialogLinkTextField":"Text","dxHtmlEditor-dialogLinkTargetField":"Open link in new window","dxHtmlEditor-dialogImageCaption":"Add Image","dxHtmlEditor-dialogImageUrlField":"URL","dxHtmlEditor-dialogImageAltField":"Alternate text","dxHtmlEditor-dialogImageWidthField":"Width (px)","dxHtmlEditor-dialogImageHeightField":"Height (px)","dxHtmlEditor-heading":"Heading","dxHtmlEditor-normalText":"Normal text","dxFileManager-newDirectoryName":"Untitled directory","dxFileManager-rootDirectoryName":"Files","dxFileManager-errorNoAccess":"Access denied. The operation cannot be completed.","dxFileManager-errorDirectoryExistsFormat":"Directory '{0}' already exists.","dxFileManager-errorFileExistsFormat":"File '{0}' already exists.","dxFileManager-errorFileNotFoundFormat":"File '{0}' not found.","dxFileManager-errorDirectoryNotFoundFormat":"Directory '{0}' not found.","dxFileManager-errorWrongFileExtension":"File extension is not allowed.","dxFileManager-errorMaxFileSizeExceeded":"File size exceeds the maximum allowed size.","dxFileManager-errorInvalidSymbols":"This name contains invalid characters.","dxFileManager-errorDefault":"Unspecified error.","dxFileManager-commandCreate":"New directory","dxFileManager-commandRename":"Rename","dxFileManager-commandMove":"Move","dxFileManager-commandCopy":"Copy","dxFileManager-commandDelete":"Delete","dxFileManager-commandDownload":"Download","dxFileManager-commandUpload":"Upload files","dxFileManager-commandRefresh":"Refresh","dxFileManager-commandThumbnails":"Thumbnails View","dxFileManager-commandDetails":"Details View","dxFileManager-commandClear":"Clear selection","dxFileManager-dialogDirectoryChooserTitle":"Select Destination Directory","dxFileManager-dialogDirectoryChooserButtonText":"Select","dxFileManager-dialogRenameItemTitle":"Rename","dxFileManager-dialogRenameItemButtonText":"Save","dxFileManager-dialogCreateDirectoryTitle":"New directory","dxFileManager-dialogCreateDirectoryButtonText":"Create","dxFileManager-editingCreateSingleItemProcessingMessage":"Creating a directory inside {0}","dxFileManager-editingCreateSingleItemSuccessMessage":"Created a directory inside {0}","dxFileManager-editingCreateSingleItemErrorMessage":"Directory wasn't created","dxFileManager-editingCreateCommonErrorMessage":"Directory wasn't created","dxFileManager-editingRenameSingleItemProcessingMessage":"Renaming an item inside {0}","dxFileManager-editingRenameSingleItemSuccessMessage":"Renamed an item inside {0}","dxFileManager-editingRenameSingleItemErrorMessage":"Item wasn't renamed","dxFileManager-editingRenameCommonErrorMessage":"Item wasn't renamed","dxFileManager-editingDeleteSingleItemProcessingMessage":"Deleting an item from {0}","dxFileManager-editingDeleteMultipleItemsProcessingMessage":"Deleting {0} items from {1}","dxFileManager-editingDeleteSingleItemSuccessMessage":"Deleted an item from {0}","dxFileManager-editingDeleteMultipleItemsSuccessMessage":"Deleted {0} items from {1}","dxFileManager-editingDeleteSingleItemErrorMessage":"Item wasn't deleted","dxFileManager-editingDeleteMultipleItemsErrorMessage":"{0} items weren't deleted","dxFileManager-editingDeleteCommonErrorMessage":"Some items weren't deleted","dxFileManager-editingMoveSingleItemProcessingMessage":"Moving an item to {0}","dxFileManager-editingMoveMultipleItemsProcessingMessage":"Moving {0} items to {1}","dxFileManager-editingMoveSingleItemSuccessMessage":"Moved an item to {0}","dxFileManager-editingMoveMultipleItemsSuccessMessage":"Moved {0} items to {1}","dxFileManager-editingMoveSingleItemErrorMessage":"Item wasn't moved","dxFileManager-editingMoveMultipleItemsErrorMessage":"{0} items weren't moved","dxFileManager-editingMoveCommonErrorMessage":"Some items weren't moved","dxFileManager-editingCopySingleItemProcessingMessage":"Copying an item to {0}","dxFileManager-editingCopyMultipleItemsProcessingMessage":"Copying {0} items to {1}","dxFileManager-editingCopySingleItemSuccessMessage":"Copied an item to {0}","dxFileManager-editingCopyMultipleItemsSuccessMessage":"Copied {0} items to {1}","dxFileManager-editingCopySingleItemErrorMessage":"Item wasn't copied","dxFileManager-editingCopyMultipleItemsErrorMessage":"{0} items weren't copied","dxFileManager-editingCopyCommonErrorMessage":"Some items weren't copied","dxFileManager-editingUploadSingleItemProcessingMessage":"Uploading an item to {0}","dxFileManager-editingUploadMultipleItemsProcessingMessage":"Uploading {0} items to {1}","dxFileManager-editingUploadSingleItemSuccessMessage":"Uploaded an item to {0}","dxFileManager-editingUploadMultipleItemsSuccessMessage":"Uploaded {0} items to {1}","dxFileManager-editingUploadSingleItemErrorMessage":"Item wasn't uploaded","dxFileManager-editingUploadMultipleItemsErrorMessage":"{0} items weren't uploaded","dxFileManager-editingUploadCanceledMessage":"Canceled","dxFileManager-listDetailsColumnCaptionName":"Name","dxFileManager-listDetailsColumnCaptionDateModified":"Date Modified","dxFileManager-listDetailsColumnCaptionFileSize":"File Size","dxFileManager-listThumbnailsTooltipTextSize":"Size","dxFileManager-listThumbnailsTooltipTextDateModified":"Date Modified","dxFileManager-notificationProgressPanelTitle":"Progress","dxFileManager-notificationProgressPanelEmptyListText":"No operations","dxFileManager-notificationProgressPanelOperationCanceled":"Canceled","dxDiagram-categoryGeneral":"General","dxDiagram-categoryFlowchart":"Flowchart","dxDiagram-categoryOrgChart":"Organizational Chart","dxDiagram-categoryContainers":"Containers","dxDiagram-categoryCustom":"Custom","dxDiagram-commandProperties":"Properties","dxDiagram-commandExport":"Export","dxDiagram-commandExportToSvg":"Export to SVG","dxDiagram-commandExportToPng":"Export to PNG","dxDiagram-commandExportToJpg":"Export to JPEG","dxDiagram-commandUndo":"Undo","dxDiagram-commandRedo":"Redo","dxDiagram-commandFontName":"Font Name","dxDiagram-commandFontSize":"Font Size","dxDiagram-commandBold":"Bold","dxDiagram-commandItalic":"Italic","dxDiagram-commandUnderline":"Underline","dxDiagram-commandTextColor":"Text Color","dxDiagram-commandLineColor":"Line Color","dxDiagram-commandFillColor":"Fill Color","dxDiagram-commandAlignLeft":"Align Left","dxDiagram-commandAlignCenter":"Align Center","dxDiagram-commandAlignRight":"Align Right","dxDiagram-commandConnectorLineType":"Connector Line Type","dxDiagram-commandConnectorLineStraight":"Straight","dxDiagram-commandConnectorLineOrthogonal":"Orthogonal","dxDiagram-commandConnectorLineStart":"Connector Line Start","dxDiagram-commandConnectorLineEnd":"Connector Line End","dxDiagram-commandConnectorLineNone":"None","dxDiagram-commandConnectorLineArrow":"Arrow","dxDiagram-commandAutoLayout":"Auto Layout","dxDiagram-commandAutoLayoutTree":"Tree","dxDiagram-commandAutoLayoutLayered":"Layered","dxDiagram-commandAutoLayoutHorizontal":"Horizontal","dxDiagram-commandAutoLayoutVertical":"Vertical","dxDiagram-commandFullscreen":"Full Screen","dxDiagram-commandUnits":"Units","dxDiagram-commandPageSize":"Page Size","dxDiagram-commandPageOrientation":"Page Orientation","dxDiagram-commandPageOrientationLandscape":"Landscape","dxDiagram-commandPageOrientationPortrait":"Portrait","dxDiagram-commandPageColor":"Page Color","dxDiagram-commandShowGrid":"Show Grid","dxDiagram-commandSnapToGrid":"Snap to Grid","dxDiagram-commandGridSize":"Grid Size","dxDiagram-commandZoomLevel":"Zoom Level","dxDiagram-commandAutoZoom":"Auto Zoom","dxDiagram-commandSimpleView":"Simple View","dxDiagram-commandCut":"Cut","dxDiagram-commandCopy":"Copy","dxDiagram-commandPaste":"Paste","dxDiagram-commandSelectAll":"Select All","dxDiagram-commandDelete":"Delete","dxDiagram-commandBringToFront":"Bring to Front","dxDiagram-commandSendToBack":"Send to Back","dxDiagram-commandLock":"Lock","dxDiagram-commandUnlock":"Unlock","dxDiagram-commandInsertShapeImage":"Insert Image...","dxDiagram-commandEditShapeImage":"Change Image...","dxDiagram-commandDeleteShapeImage":"Delete Image","dxDiagram-unitIn":"in","dxDiagram-unitCm":"cm","dxDiagram-unitPx":"px","dxDiagram-dialogButtonOK":"OK","dxDiagram-dialogButtonCancel":"Cancel","dxDiagram-dialogInsertShapeImageTitle":"Insert Image","dxDiagram-dialogEditShapeImageTitle":"Change Image","dxDiagram-dialogEditShapeImageSelectButton":"Select image","dxDiagram-dialogEditShapeImageLabelText":"or drop file here"}};
},{}],"Njcj":[function(require,module,exports) {
"use strict";var e=require("../core/renderer"),t=d(e),r=require("../core/utils/dependency_injector"),i=d(r),a=require("../core/utils/extend"),n=require("../core/utils/iterator"),o=require("../core/utils/string"),l=require("../core/utils/inflector"),u=require("./core"),c=d(u),s=require("./default_messages"),f=d(s);function d(e){return e&&e.__esModule?e:{default:e}}var g=(0,a.extend)(!0,{},f.default),y=function(e,t){return e[t]||{}},_={},h=(0,i.default)({engine:function(){return"base"},_dictionary:g,load:function(e){(0,a.extend)(!0,this._dictionary,e)},_localizablePrefix:"@",setup:function(e){this._localizablePrefix=e},localizeString:function(e){var t=this,r=new RegExp("(^|[^a-zA-Z_0-9"+t._localizablePrefix+"-]+)("+t._localizablePrefix+"{1,2})([a-zA-Z_0-9-]+)","g"),i=t._localizablePrefix+t._localizablePrefix;return e.replace(r,function(e,r,a,n){var o=t._localizablePrefix+n,u=void 0;return a!==i&&(u=t.format(n)),u||(_[n]=(0,l.humanize)(n)),r+(u||o)})},localizeNode:function(e){var r=this;(0,t.default)(e).each(function(e,i){i.nodeType&&(3===i.nodeType?i.nodeValue=r.localizeString(i.nodeValue):(0,t.default)(i).is("iframe")||((0,n.each)(i.attributes||[],function(e,t){if("string"==typeof t.value){var i=r.localizeString(t.value);t.value!==i&&(t.value=i)}}),(0,t.default)(i).contents().each(function(e,t){r.localizeNode(t)})))})},getMessagesByLocales:function(){return this._dictionary},getDictionary:function(e){return e?_:(0,a.extend)({},_,this.getMessagesByLocales()[c.default.locale()])},getFormatter:function(e){return this._getFormatterBase(e)||this._getFormatterBase(e,"en")},_getFormatterBase:function(e,t){var r=this,i=c.default.getValueByClosestLocale(function(t){return y(r._dictionary,t)[e]});if(i)return function(){var e=1===arguments.length&&Array.isArray(arguments[0])?arguments[0].slice(0):Array.prototype.slice.call(arguments,0);return e.unshift(i),o.format.apply(this,e)}},format:function(e){var t=this.getFormatter(e),r=Array.prototype.slice.call(arguments,1);return t&&t.apply(this,r)||""}});module.exports=h;
},{"../core/renderer":"qxFQ","../core/utils/dependency_injector":"NtCB","../core/utils/extend":"ac8T","../core/utils/iterator":"FHcO","../core/utils/string":"X4J5","../core/utils/inflector":"i2nR","./core":"ojbN","./default_messages":"Bsyg"}],"vXU0":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=v(e),n=require("../../events/core/events_engine"),i=v(n),r=require("../../core/class"),o=v(r),s=require("../../core/utils/callbacks"),c=v(s),u=require("../../core/utils/common"),a=require("../../core/utils/type"),l=require("../../core/utils/array"),h=require("../../core/utils/iterator"),f=require("../widget/ui.errors"),d=v(f),p=require("../../localization/message"),m=v(p),_=require("../../core/utils/window");function v(e){return e&&e.__esModule?e:{default:e}}var g="dxDataGrid",C=o.default.inherit({_endUpdateCore:function(){},ctor:function(e){var t=this;t._updateLockCount=0,t.component=e,t._actions={},t._actionConfigs={},(0,h.each)(this.callbackNames()||[],function(e,n){var i=t.callbackFlags(n)||{};i.unique=!0,i.syncStrategy=!0,t[this]=(0,c.default)(i)})},init:function(){},callbackNames:function(){},callbackFlags:function(){},publicMethods:function(){},beginUpdate:function(){this._updateLockCount++},endUpdate:function(){this._updateLockCount>0&&(this._updateLockCount--,this._updateLockCount||this._endUpdateCore())},option:function(e){var t=this.component,n=t._optionCache;return 1===arguments.length&&n?(e in n||(n[e]=t.option(e)),n[e]):t.option.apply(t,arguments)},localize:function(e){var t=this.component._optionCache;return t?(e in t||(t[e]=m.default.format(e)),t[e]):m.default.format(e)},on:function(){return this.component.on.apply(this.component,arguments)},off:function(){return this.component.off.apply(this.component,arguments)},optionChanged:function(e){e.name in this._actions&&(this.createAction(e.name,this._actionConfigs[e.name]),e.handled=!0)},getAction:function(e){return this._actions[e]},setAria:function(e,t,n){var i=n.get(0),r="role"!==e&&"id"!==e?"aria-":"";i.setAttribute?i.setAttribute(r+e,t):n.attr(r+e,t)},_createComponent:function(){return this.component._createComponent.apply(this.component,arguments)},getController:function(e){return this.component._controllers[e]},createAction:function(e,t){var n;if((0,a.isFunction)(e))return n=this.component._createAction(e.bind(this),t),function(e){n({event:e})};this._actions[e]=this.component._createActionByOption(e,t),this._actionConfigs[e]=t},executeAction:function(e,t){var n=this._actions[e];return n&&n(t)},dispose:function(){var e=this;(0,h.each)(e.callbackNames()||[],function(){e[this].empty()})},addWidgetPrefix:function(e){return"dx-"+this.component.NAME.slice(2).toLowerCase()+(e?"-"+e:"")},getWidgetContainerClass:function(){var e=this.component.NAME===g?null:"container";return this.addWidgetPrefix(e)}}),y=C,w=y.inherit({getView:function(e){return this.component._views[e]},getViews:function(){return this.component._views}}),q=C.inherit({_isReady:function(){return this.component.isReady()},_endUpdateCore:function(){this.callBase(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),this._requireRender&&(this._requireRender=!1,this.render(this._$parent))},_invalidate:function(e,t){this._requireRender=!0,this.component._requireResize=(0,_.hasWindow)()&&(this.component._requireResize||e),this._requireReady=this._requireReady||t},_renderCore:function(){},_resizeCore:function(){},_afterRender:function(){},_parentElement:function(){return this._$parent},ctor:function(e){this.callBase(e),this.renderCompleted=(0,c.default)(),this.resizeCompleted=(0,c.default)()},element:function(){return this._$element},getElementHeight:function(){var e=this.element();if(!e)return 0;var t=parseFloat(e.css("marginTop"))||0,n=parseFloat(e.css("marginBottom"))||0;return e.get(0).offsetHeight+t+n},isVisible:function(){return!0},getTemplate:function(e){return this.component._getTemplate(e)},render:function(e,n){var i=this._$element,r=this.isVisible();(i||e)&&(this._requireReady=!1,i||(i=this._$element=(0,t.default)("<div>").appendTo(e),this._$parent=e),i.toggleClass("dx-hidden",!r),r&&(this.component._optionCache={},this._renderCore(n),this.component._optionCache=void 0,this._afterRender(e),this.renderCompleted.fire(n)))},resize:function(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1},focus:function(){i.default.trigger(this.element(),"focus")}}),b=1e6,R=function(e,t){var n=t.modules,i=t.modulesOrder,r=t.controllerTypes||{},o=t.viewTypes||{};t.controllerTypes||(i&&n.sort(function(e,t){var n=(0,l.inArray)(e.name,i),r=(0,l.inArray)(t.name,i);return n<0&&(n=b),r<0&&(r=b),n-r}),(0,h.each)(n,function(){var e=this.controllers,t=this.name,n=this.views;e&&(0,h.each)(e,function(e,n){if(r[e])throw d.default.Error("E1001",t,e);if(!(n&&n.subclassOf&&n.subclassOf(y)))throw n.subclassOf(y),d.default.Error("E1002",t,e);r[e]=n}),n&&(0,h.each)(n,function(e,n){if(o[e])throw d.default.Error("E1003",t,e);if(!(n&&n.subclassOf&&n.subclassOf(q)))throw d.default.Error("E1004",t,e);o[e]=n})}),(0,h.each)(n,function(){var e=this.extenders;e&&(e.controllers&&(0,h.each)(e.controllers,function(e,t){r[e]&&(r[e]=r[e].inherit(t))}),e.views&&(0,h.each)(e.views,function(e,t){o[e]&&(o[e]=o[e].inherit(t))}))}),t.controllerTypes=r,t.viewTypes=o);var s=function(t){var n={};return(0,h.each)(t,function(t,i){var r=new i(e);r.name=t,function(e,t,n){var i=n.publicMethods();i&&(0,h.each)(i,function(i,r){if(!n[r])throw d.default.Error("E1006",t,r);if(e[r])throw d.default.Error("E1005",r);e[r]=function(){return n[r].apply(n,arguments)}})}(e,t,r),n[t]=r}),n};e._controllers=s(r),e._views=s(o)},E=function(e,t,n){n=n||[],e._controllers&&(0,h.each)(e._controllers,function(){this[t]&&this[t].apply(this,n)}),e._views&&(0,h.each)(e._views,function(){this[t]&&this[t].apply(this,n)})};module.exports={modules:[],View:q,ViewController:w,Controller:y,registerModule:function(e,t){var n,i=this.modules;for(n=0;n<i.length;n++)if(i[n].name===e)return;t.name=e,i.push(t),delete this.controllerTypes,delete this.viewTypes},registerModulesOrder:function(e){this.modulesOrder=e},unregisterModule:function(e){this.modules=(0,u.grep)(this.modules,function(t){return t.name!==e}),delete this.controllerTypes,delete this.viewTypes},processModules:R,callModuleItemsMethod:E};
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/class":"YpjV","../../core/utils/callbacks":"gtoU","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/array":"uivT","../../core/utils/iterator":"FHcO","../widget/ui.errors":"RFsS","../../localization/message":"Njcj","../../core/utils/window":"NXH3"}],"O4Kv":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/extend"),r=require("../grid_core/ui.grid_core.modules"),d=o(r);function o(e){return e&&e.__esModule?e:{default:e}}(0,e.extend)(exports,d.default,{modules:[],foreachNodes:function(e,r){for(var d=0;d<e.length;d++)!1!==r(e[d])&&e[d].hasChildren&&e[d].children.length&&this.foreachNodes(e[d].children,r)}});
},{"../../core/utils/extend":"ac8T","../grid_core/ui.grid_core.modules":"vXU0"}],"z5dM":[function(require,module,exports) {
"use strict";var e=require("../core/utils/callbacks");module.exports=new e;
},{"../core/utils/callbacks":"gtoU"}],"pHLT":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/deferred"),r=require("../../core/utils/window"),n=e.Deferred,i=e.when,t=r.hasWindow()?r.getWindow().Promise:Promise;t||((t=function(e){var r=new n;return e(r.resolve.bind(this),r.reject.bind(this)),r.promise()}).resolve=function(e){return(new n).resolve(e).promise()},t.reject=function(e){return(new n).reject(e).promise()},t.all=function(e){return i.apply(this,e).then(function(){return[].slice.call(arguments)})}),module.exports=t;
},{"../../core/utils/deferred":"g5TB","../../core/utils/window":"NXH3"}],"k2ha":[function(require,module,exports) {
"use strict";var e,t,r,n,i,o,a,l=require("../core/renderer"),s=require("../core/dom_adapter"),u=require("../core/utils/window"),c=u.getWindow(),d=require("../core/utils/deferred").Deferred,f=require("./widget/ui.errors"),h=require("../core/utils/dom"),p=require("../core/utils/ready_callbacks"),v=p.add,m=require("../core/utils/iterator").each,x=require("../core/devices"),y=require("../core/utils/view_port"),g=require("./themes_callback"),b=y.value,w=require("../core/polyfills/promise"),k=y.changeCallback,q="link[rel=dx-theme]",C="data-theme",W="data-active",T="dx-hairlines",_="dx.";function F(){if(!u.hasWindow())return null;var t,r=l("<div>",e).addClass("dx-theme-marker").appendTo(e.documentElement);try{return(t=r.css("fontFamily"))?(t=t.replace(/["']/g,"")).substr(0,_.length)!==_?null:t.substr(_.length):null}finally{r.remove()}}function I(e){var t;function r(){i=null,g.fire(),g.empty()}i=e,E()?r():(t=Date.now(),o=setInterval(function(){var e=E(),n=!e&&Date.now()-t>15e3;n&&f.log("W0004",i),(e||n)&&(clearInterval(o),o=void 0,r())},10))}function E(){return!i||F()===i}function D(){var n=l(q,e);n.length&&(r={},t=l(h.createMarkupFromString("<link rel=stylesheet>"),e),n.each(function(){var t=l(this,e),n=t.attr(C),i=t.attr("href"),o="true"===t.attr(W);r[n]={url:i,isActive:o}}),n.last().after(t),n.remove())}function A(e){var t=e?e.split("."):[],n=null;if(r){if(e in r)return e;m(r,function(e,r){var i=e.split(".");if(!(t[0]&&i[0]!==t[0]||t[1]&&t[1]!==i[1]||t[2]&&t[2]!==i[2]))return n&&!r.isActive||(n=e),!r.isActive&&void 0})}return n}function R(t){try{t!==e&&(r=null)}catch(n){r=null}e=t}function L(t){R((t=t||{}).context||s.getDocument()),e&&(D(),n=void 0,M(t))}function M(e){if(!arguments.length)return n=n||F();S(b()),"string"==typeof(e=e||{})&&(e={theme:e});var a,l=e._autoInit,s=e.loadCallback;if((n=A(e.theme||n))&&(a=r[n]),s&&g.add(s),a)t.attr("href",r[n].url),!g.has()&&!e._forceTimeout||o?i&&(i=n):I(n);else{if(!l)throw f.Error("E0021",n);g.fire(),g.empty()}B(),P(y.originalViewPort(),n)}function H(e){var t=[],r=(e=e||M())&&e.split(".");return r&&(t.push("dx-theme-"+r[0],"dx-theme-"+r[0]+"-typography"),r.length>1&&t.push("dx-color-scheme-"+r[1]+(G(e)?"-"+r[2]:""))),t}function P(e,t){a=H(t).join(" "),l(e).addClass(a);!function(){var t=u.hasWindow()&&c.devicePixelRatio;if(t&&!(t<2)){var r=l("<div>");r.css("border",".5px solid transparent"),l("body").append(r),1===r.outerHeight()&&(l(e).addClass(T),a+=" "+T),r.remove()}}()}function S(e){l(e).removeClass(a)}function j(e){g.add(e)}function z(e,t){return t||(t=n||F()),new RegExp(e).test(t)}function G(e){return z("material",e)}function N(e){return z("ios7",e)}function U(e){return z("generic",e)}function V(e){return z("dark",e)}function B(){N()&&f.log("W0010","The 'ios7' theme","19.1","Use the 'generic' theme instead.")}function J(e,t){var r=s.getDocument(),n=r.createElement("span");n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",n.style.visibility="hidden",n.style.fontFamily="Arial",n.style.fontSize="250px",n.style.fontWeight=t,n.innerHTML=e,r.body.appendChild(n);var i=n.offsetWidth;n.style.fontFamily="Roboto, RobotoFallback, Arial";var o=n.offsetWidth;return n.parentNode.removeChild(n),i!==o}function K(e,t){return new w(function(r){var n=function(){clearInterval(i),clearTimeout(o),r()},i=setInterval(function(){J(e,t)&&n()},15),o=setTimeout(n,2e3)})}var O=new d;function Q(){if(L({_autoInit:!0,_forceTimeout:!0}),l(q,e).length)throw f.Error("E0022");O.resolve()}u.hasWindow()?Q():v(Q),k.add(function(e,t){O.done(function(){S(t),P(e)})}),x.changed.add(function(){L({_autoInit:!0})}),exports.current=M,exports.ready=j,exports.init=L,exports.attachCssClasses=P,exports.detachCssClasses=S,exports.waitForThemeLoad=I,exports.isMaterial=G,exports.isIos7=N,exports.isGeneric=U,exports.isDark=V,exports.isWebFontLoaded=J,exports.waitWebFont=K,exports.resetTheme=function(){t&&t.attr("href","about:blank"),n=null,i=null},module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../core/dom_adapter":"RRDy","../core/utils/window":"NXH3","../core/utils/deferred":"g5TB","./widget/ui.errors":"RFsS","../core/utils/dom":"vDwZ","../core/utils/ready_callbacks":"pyvP","../core/utils/iterator":"FHcO","../core/devices":"LpzF","../core/utils/view_port":"SnKV","./themes_callback":"z5dM","../core/polyfills/promise":"pHLT"}],"st1m":[function(require,module,exports) {
"use strict";var t=require("../events/core/events_engine"),e=require("../core/utils/dom"),i=require("../core/dom_adapter"),r=require("../core/class"),n=require("./core/event_registrator"),a=require("./click"),s=require("./utils"),c="dxdblclick",l="dxDblClick",o=s.addNamespace(a.name,l),u=300,h=r.inherit({ctor:function(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick:function(){this._firstClickTarget=null,this._lastClickTimeStamp=-u},add:function(){this._handlerCount<=0&&t.on(i.getDocument(),o,this._clickHandler.bind(this)),this._handlerCount++},_clickHandler:function(t){var i=t.timeStamp||Date.now();i-this._lastClickTimeStamp<u?(s.fireEvent({type:c,target:e.closestCommonParent(this._firstClickTarget,t.target),originalEvent:t}),this._forgetLastClick()):(this._firstClickTarget=t.target,this._lastClickTimeStamp=i)},remove:function(){this._handlerCount--,this._handlerCount<=0&&(this._forgetLastClick(),t.off(i.getDocument(),o))}});n(c,new h),exports.name=c;
},{"../events/core/events_engine":"oNrb","../core/utils/dom":"vDwZ","../core/dom_adapter":"RRDy","../core/class":"YpjV","./core/event_registrator":"czcP","./click":"RTmy","./utils":"cNvJ"}],"Zh3q":[function(require,module,exports) {
"use strict";var t=require("../config"),e=function(e){return e||t().rtlEnabled?"right":"left"};exports.getDefaultAlignment=e;
},{"../config":"iRjc"}],"gV8h":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/type"),t=require("../../core/utils/array").inArray,r=require("../../core/utils/iterator"),a=["year","month","day"],n=["year","month","day","hour","minute"];module.exports=function(){var i=function(e,t){var r=e.dataField||e.selector;return"search"===t&&(r=e.displayField||e.calculateDisplayValue||r),r},u=function(e){return"date"===e||"datetime"===e},s=function(t,a,n){var u,s,l,o,d=(o=t,e.isDate(o)?[o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds()]:r.map((""+o).split("/"),function(e,t){return 1===t?Number(e)-1:Number(e)})),c=i(this,n);switch("headerFilter"===n?l=module.exports.getGroupInterval(this)[d.length-1]:"datetime"===this.dataType&&(l="minute"),l){case"year":u=new Date(d[0],0,1),s=new Date(d[0]+1,0,1);break;case"month":u=new Date(d[0],d[1],1),s=new Date(d[0],d[1]+1,1);break;case"quarter":u=new Date(d[0],3*d[1],1),s=new Date(d[0],3*d[1]+3,1);break;case"hour":u=new Date(d[0],d[1],d[2],d[3]),s=new Date(d[0],d[1],d[2],d[3]+1);break;case"minute":u=new Date(d[0],d[1],d[2],d[3],d[4]),s=new Date(d[0],d[1],d[2],d[3],d[4]+1);break;case"second":u=new Date(d[0],d[1],d[2],d[3],d[4],d[5]),s=new Date(d[0],d[1],d[2],d[3],d[4],d[5]+1);break;default:u=new Date(d[0],d[1],d[2]),s=new Date(d[0],d[1],d[2]+1)}switch(a){case"<":return[c,"<",u];case"<=":return[c,"<",s];case">":return[c,">=",s];case">=":return[c,">=",u];case"<>":return[[c,"<",u],"or",[c,">=",s]];default:return[[c,">=",u],"and",[c,"<",s]]}};return{defaultCalculateFilterExpression:function(t,r,a){var n=i(this,a),l=this.calculateDisplayValue&&"search"===a,o=l&&this.lookup&&this.lookup.dataType||this.dataType,d=null;if("headerFilter"!==a&&"filterBuilder"!==a||null!==t)if("string"!==o||this.lookup&&!l){if("between"===r)return function(t,r){var a,n,s,l,o=i(this,r);if(Array.isArray(t)&&e.isDefined(t[0])&&e.isDefined(t[1]))return n=[o,">=",t[0]],s=[o,"<=",t[1]],u(this.dataType)&&(l=t[1]).getHours()+l.getMinutes()+l.getSeconds()+l.getMilliseconds()<1&&(a=new Date(t[1].getTime()),"date"===this.dataType&&a.setDate(t[1].getDate()+1),s=[o,"<",a]),[n,"and",s]}.apply(this,[t,a]);if(u(o)&&e.isDefined(t))return s.apply(this,arguments);if("number"===o)return function(t,r,a){var n=i(this,a),u=module.exports.getGroupInterval(this);if("headerFilter"===a&&u&&e.isDefined(t)){var s=(""+t).split("/"),l=Number(s[s.length-1]);return[[n,">=",l],"and",[n,"<",l+u[s.length-1]]]}return[n,r||"=",t]}.apply(this,arguments);"object"!==o&&(d=[n,r||"=",t])}else d=[n,r||"contains",t];else d=[n,r||"=",null],"string"===o&&(d=[d,"="===r?"or":"and",[n,r||"=",""]]);return d},getGroupInterval:function(r){var i,s=[],l=["year","month","day","hour","minute","second"],o=r.headerFilter&&r.headerFilter.groupInterval,d="quarter"===o?"month":o;return u(r.dataType)&&null!==o?(s="datetime"===r.dataType?n:a,(i=t(d,l))>=0?((s=l.slice(0,i)).push(o),s):s):e.isDefined(o)?Array.isArray(o)?o:[o]:void 0}}}();
},{"../../core/utils/type":"Mw4w","../../core/utils/array":"uivT","../../core/utils/iterator":"FHcO"}],"ncdk":[function(require,module,exports) {
"use strict";var e=require("../core/renderer"),i=require("../core/utils/window"),t=i.getNavigator(),n=require("../core/utils/support"),r=require("./themes"),a=require("../core/utils/extend").extend,o=require("../core/devices"),s=require("../core/component_registrator"),d=require("./widget/ui.widget"),c="dx-loadindicator",u="dx-loadindicator-wrapper",p="dx-loadindicator-content",h="dx-loadindicator-icon",m="dx-loadindicator-segment",l="dx-loadindicator-segment-inner",_="dx-loadindicator-image",g=d.inherit({_getDefaultOptions:function(){return a(this.callBase(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:1,_animatingSegmentInner:!1})},_defaultOptionsRules:function(){var e=r.current();return this.callBase().concat([{device:function(){return"android"===o.real().platform&&!/chrome/i.test(t.userAgent)},options:{viaImage:!0}},{device:function(){return r.isIos7(e)},options:{_animatingSegmentCount:11}},{device:function(){return r.isMaterial(e)},options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:function(){return r.isGeneric(e)},options:{_animatingSegmentCount:7}}])},_init:function(){this.callBase(),this.$element().addClass(c)},_initMarkup:function(){this.callBase(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()},_renderWrapper:function(){this._$wrapper=e("<div>").addClass(u),this.$element().append(this._$wrapper)},_renderIndicatorContent:function(){this._$content=e("<div>").addClass(p),this._$wrapper.append(this._$content)},_renderMarkup:function(){!n.animation()||this.option("viaImage")||this.option("indicatorSrc")?this._renderMarkupForImage():this._renderMarkupForAnimation()},_renderMarkupForAnimation:function(){var i=this.option("_animatingSegmentInner");this._$indicator=e("<div>").addClass(h),this._$content.append(this._$indicator);for(var t=this.option("_animatingSegmentCount");t>=0;--t){var n=e("<div>").addClass(m).addClass(m+t);i&&n.append(e("<div>").addClass(l)),this._$indicator.append(n)}},_renderMarkupForImage:function(){var e=this.option("indicatorSrc");this._$wrapper.addClass(_),e&&this._$wrapper.css("backgroundImage","url("+e+")")},_renderDimensions:function(){this.callBase(),this._updateContentSizeForAnimation()},_updateContentSizeForAnimation:function(){if(this._$indicator){var e=this.option("width"),i=this.option("height");if(e||i){e=this.$element().width(),i=this.$element().height();var t=Math.min(i,e);this._$wrapper.css({height:t,width:t,fontSize:t})}}},_clean:function(){this.callBase(),this._removeMarkupForAnimation(),this._removeMarkupForImage()},_removeMarkupForAnimation:function(){this._$indicator&&(this._$indicator.remove(),delete this._$indicator)},_removeMarkupForImage:function(){this._$wrapper.css("backgroundImage","none")},_optionChanged:function(e){switch(e.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"indicatorSrc":this._invalidate();break;default:this.callBase(e)}}});s("dxLoadIndicator",g),module.exports=g,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../core/utils/window":"NXH3","../core/utils/support":"eZC7","./themes":"k2ha","../core/utils/extend":"ac8T","../core/devices":"LpzF","../core/component_registrator":"g3fO","./widget/ui.widget":"gtOK"}],"IRTp":[function(require,module,exports) {
"use strict";var t=require("../core/element_data"),e=require("../core/utils/type").type,r="dxTranslator",a=/matrix(3d)?\((.+?)\)/,n=/translate(?:3d)?\((.+?)\)/,s=function(t){var e=l(t);return{left:e.x,top:e.y}},o=function(t,e){var r,a=e.left,n=e.top;void 0===a?(r=l(t)).y=n||0:void 0===n?(r=l(t)).x=a||0:c(t,r={x:a||0,y:n||0,z:0}),t.css({transform:f(r)}),(i(a)||i(n))&&p(t)},i=function(t){return"string"===e(t)&&"%"===t[t.length-1]},l=function(e){var n=e.length?t.data(e.get(0),r):null;if(!n){var s=(e.css("transform")||f({x:0,y:0})).match(a),o=s&&s[1];s?(s=s[2].split(","),"3d"===o?s=s.slice(12,15):(s.push(0),s=s.slice(4,7))):s=[0,0,0],n={x:parseFloat(s[0]),y:parseFloat(s[1]),z:parseFloat(s[2])},c(e,n)}return n},c=function(e,a){e.length&&t.data(e.get(0),r,a)},p=function(e){e.length&&t.removeData(e.get(0),r)},x=function(t,e){var r,a={left:0,top:0,transform:"none"};e&&(r=t.css("transition"),a.transition="none"),t.css(a),p(t),e&&(t.get(0).offsetHeight,t.css("transition",r))},u=function(t){var e=t.match(n);if(e&&e[1])return e=e[1].split(","),e={x:parseFloat(e[0]),y:parseFloat(e[1]),z:parseFloat(e[2])}},f=function(t){return t.x=t.x||0,t.y=t.y||0,"translate("+(i(t.x)?t.x:t.x+"px")+", "+(i(t.y)?t.y:t.y+"px")+")"};exports.move=o,exports.locate=s,exports.clearCache=p,exports.parseTranslate=u,exports.getTranslate=l,exports.getTranslateCss=f,exports.resetPosition=x;
},{"../core/element_data":"yYfn","../core/utils/type":"Mw4w"}],"Aj9G":[function(require,module,exports) {
"use strict";var e=require("../core/utils/type").isFunction,r=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,n={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},i=function(e,r,n,i){var t=3*e,c=3*(n-e)-t,u=1-t-c,s=3*r,o=3*(i-r)-s,a=1-s-o,b=function(e){return e*(t+e*(c+e*u))},f=function(e){return t+e*(2*c+3*e*u)};return function(e){return function(e){return e*(s+e*(o+e*a))}(function(e){for(var r,n=e,i=0;i<14&&(r=b(n)-e,!(Math.abs(r)<.001));)n-=r/f(n),i++;return n}(e))}},t={},c=function(c){var u,s=(c=n[c]||c).match(r);s||(s=n[u="linear"].match(r)),s=s.slice(1,5);for(var o=0;o<s.length;o++)s[o]=parseFloat(s[o]);var a=u||"cubicbezier_"+s.join("_").replace(/\./g,"p");return e(t[a])||(t[a]=function(e,r,n,t,c){return t*i(s[0],s[1],s[2],s[3])(r/c)+n}),a};exports.setEasing=function(e){t=e},exports.getEasing=function(e){return t[e]},exports.convertTransitionTimingFuncToEasing=c;
},{"../core/utils/type":"Mw4w"}],"cuhc":[function(require,module,exports) {
"use strict";var t,i=require("../core/renderer"),e=require("../core/utils/common"),o=require("../core/utils/iterator").each,n=require("../core/utils/window"),r=n.getWindow(),a=require("../core/dom_adapter"),c=require("../core/utils/type").isWindow,l=require("../core/utils/extend").extend,f=require("../core/utils/browser"),s=require("./translator"),u=require("../core/utils/support"),h=/left|right/,m=/top|bottom/,v=/fit|flip|none/,p=f.safari,g=function(t){var i={h:"center",v:"center"},n=e.splitPair(t);return n&&o(n,function(){var t=String(this).toLowerCase();h.test(t)?i.h=t:m.test(t)&&(i.v=t)}),i},d=function(t){return e.pairToObject(t)},y=function(t){var i=e.splitPair(t),o=String(i&&i[0]).toLowerCase(),n=String(i&&i[1]).toLowerCase();return v.test(o)||(o="none"),v.test(n)||(n=o),{h:o,v:n}},L=function(t){switch(t){case"center":return.5;case"right":case"bottom":return 1;default:return 0}},z=function(t){switch(t){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return t}},S=function(t,i){var e=0;return t.myLocation<i.min&&(e+=i.min-t.myLocation),t.myLocation>i.max&&(e+=t.myLocation-i.max),e},b=function(t,i,e){return i.myLocation<e.min?"h"===t?"left":"top":i.myLocation>e.max?"h"===t?"right":"bottom":"none"},w=function(t){t.myLocation=t.atLocation+L(t.atAlign)*t.atSize-L(t.myAlign)*t.mySize+t.offset},A={fit:function(t,i){var e=!1;t.myLocation>i.max&&(t.myLocation=i.max,e=!0),t.myLocation<i.min&&(t.myLocation=i.min,e=!0),t.fit=e},flip:function(t,i){if(t.flip=!1,("center"!==t.myAlign||"center"!==t.atAlign)&&(t.myLocation<i.min||t.myLocation>i.max)){var e=l({},t,{myAlign:z(t.myAlign),atAlign:z(t.atAlign),offset:-t.offset});w(e),e.oversize=S(e,i),(e.myLocation>=i.min&&e.myLocation<=i.max||t.oversize>e.oversize)&&(t.myLocation=e.myLocation,t.oversize=e.oversize,t.flip=!0)}},flipfit:function(t,i){this.flip(t,i),this.fit(t,i)},none:function(t){t.oversize=0}},x=function(){var e=i("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo(i("body")),o=e.get(0).offsetWidth-e.get(0).clientWidth;e.remove(),t=o},W={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},q=function(e,o){var n=i(e),f=n.offset(),s=l(!0,{},W,{h:{location:f.left},v:{location:f.top}});if(!o)return s;var h=g(o.my),m=g(o.at),v=i(o.of).length&&o.of||r,L=d(o.offset),z=y(o.collision),q=o.boundary,O=d(o.boundaryOffset),H={mySize:n.outerWidth(),myAlign:h.h,atAlign:m.h,offset:L.h,collision:z.h,boundaryOffset:O.h},T={mySize:n.outerHeight(),myAlign:h.v,atAlign:m.v,offset:L.v,collision:z.v,boundaryOffset:O.v};if(v.preventDefault)H.atLocation=v.pageX,T.atLocation=v.pageY,H.atSize=0,T.atSize=0;else if(v=i(v),c(v[0]))H.atLocation=v.scrollLeft(),T.atLocation=v.scrollTop(),H.atSize=v[0].innerWidth>=v[0].outerWidth?v[0].innerWidth:v.width(),T.atSize=v[0].innerHeight>=v[0].outerHeight||p?v[0].innerHeight:v.height();else if(9===v[0].nodeType)H.atLocation=0,T.atLocation=0,H.atSize=v.width(),T.atSize=v.height();else{var C=v.offset();H.atLocation=C.left,T.atLocation=C.top,H.atSize=v.outerWidth(),T.atSize=v.outerHeight()}w(H),w(T);var P=function(){var e=i(r),o=e.width(),n=e.height(),c=e.scrollLeft(),l=e.scrollTop(),f=a.getDocumentElement(),s=u.touch?f.clientWidth/o:1,h=u.touch?f.clientHeight/n:1;void 0===t&&x();var m=o,v=n;if(q){var p=i(q),g=p.offset();c=g.left,l=g.top,m=p.width(),v=p.height()}return{h:{min:c+H.boundaryOffset,max:c+m/s-H.mySize-H.boundaryOffset},v:{min:l+T.boundaryOffset,max:l+v/h-T.mySize-T.boundaryOffset}}}();H.oversize=S(H,P.h),T.oversize=S(T,P.v),H.collisionSide=b("h",H,P.h),T.collisionSide=b("v",T,P.v),A[H.collision]&&A[H.collision](H,P.h),A[T.collision]&&A[T.collision](T,P.v);var X=function(t){return o.precise?t:Math.round(t)};return l(!0,s,{h:{location:X(H.myLocation),oversize:X(H.oversize),fit:H.fit,flip:H.flip,collisionSide:H.collisionSide},v:{location:X(T.myLocation),oversize:X(T.oversize),fit:T.fit,flip:T.flip,collisionSide:T.collisionSide},precise:o.precise}),s},O=function(t,e){var o=i(t);if(!e)return o.offset();s.resetPosition(o,!0);var n=o.offset(),r=e.h&&e.v?e:q(o,e),a=function(t){return e.precise?t:Math.round(t)};return s.move(o,{left:r.h.location-a(n.left),top:r.v.location-a(n.top)}),r},H=function(t){return t=i(t).get(0),c(t)?null:t&&"pageY"in t&&"pageX"in t?{top:t.pageY,left:t.pageX}:i(t).offset()};O.inverseAlign||(O.inverseAlign=z),O.normalizeAlign||(O.normalizeAlign=g),module.exports={calculateScrollbarWidth:x,calculate:q,setup:O,offset:H};
},{"../core/renderer":"qxFQ","../core/utils/common":"GcQA","../core/utils/iterator":"FHcO","../core/utils/window":"NXH3","../core/dom_adapter":"RRDy","../core/utils/type":"Mw4w","../core/utils/extend":"ac8T","../core/utils/browser":"nlvS","./translator":"IRTp","../core/utils/support":"eZC7"}],"qxJT":[function(require,module,exports) {
"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=require("../core/renderer"),e=require("../core/utils/window").getWindow(),i=require("../events/core/events_engine"),o=require("../core/errors"),r=require("../core/utils/dom").getPublicElement,a=require("../core/utils/extend").extend,s=require("../core/utils/type"),f=require("../core/utils/iterator"),c=require("./translator"),u=require("./easing"),l=require("./frame"),m=require("../core/utils/support"),p=require("./position"),d=require("../core/remove_event"),h=require("../events/utils"),y=require("../core/utils/deferred"),v=y.when,g=y.Deferred,A=h.addNamespace(d,"dxFX"),_=s.isFunction,T=s.isPlainObject,w=require("../core/utils/common").noop,b=/^([+-])=(.*)/i,S="dxAnimData",C="dxAnimQueue",F="transform",q={initAnimation:function(t,n){t.css({transitionProperty:"none"}),"string"==typeof n.from?t.addClass(n.from):at(t,n.from);var e=this,i=new g,o=n.cleanupWhen;n.transitionAnimation={deferred:i,finish:function(){e._finishTransition(t),o?v(i,o).always(function(){e._cleanup(t,n)}):e._cleanup(t,n),i.resolveWith(t,[n,t])}},this._completeAnimationCallback(t,n).done(function(){n.transitionAnimation.finish()}).fail(function(){i.rejectWith(t,[n,t])}),n.duration||n.transitionAnimation.finish(),t.css("transform")},animate:function(t,n){return this._startAnimation(t,n),n.transitionAnimation.deferred.promise()},_completeAnimationCallback:function(t,n){var e,o,r=this,a=Date.now()+n.delay,s=new g,f=new g,c=new g,u=m.transitionEndEventName()+".dxFX";return n.transitionAnimation.cleanup=function(){clearTimeout(e),clearTimeout(o),i.off(t,u),i.off(t,A)},i.one(t,u,function(){Date.now()-a>=n.duration&&f.reject()}),i.off(t,A),i.on(t,A,function(){r.stop(t,n),s.reject()}),o=setTimeout(function(){e=setTimeout(function(){c.reject()},n.duration+n.delay+ft._simulatedTransitionEndDelay),v(f,c).fail(function(){s.resolve()}.bind(this))}),s.promise()},_startAnimation:function(t,n){t.css({transitionProperty:"all",transitionDelay:n.delay+"ms",transitionDuration:n.duration+"ms",transitionTimingFunction:n.easing}),"string"==typeof n.to?t[0].className+=" "+n.to:n.to&&at(t,n.to)},_finishTransition:function(t){t.css("transition","none")},_cleanup:function(t,n){n.transitionAnimation.cleanup(),"string"==typeof n.from&&(t.removeClass(n.from),t.removeClass(n.to))},stop:function(t,n,e){n&&(e?n.transitionAnimation.finish():(T(n.to)&&f.each(n.to,function(n){t.css(n,t.css(n))}),this._finishTransition(t),this._cleanup(t,n)))}},D={initAnimation:function(t,n){at(t,n.from)},animate:function(t,n){var e=new g,i=this;return n?(f.each(n.to,function(e){void 0===n.from[e]&&(n.from[e]=i._normalizeValue(t.css(e)))}),n.to[F]&&(n.from[F]=i._parseTransform(n.from[F]),n.to[F]=i._parseTransform(n.to[F])),n.frameAnimation={to:n.to,from:n.from,currentValue:n.from,easing:u.convertTransitionTimingFuncToEasing(n.easing),duration:n.duration,startTime:(new Date).valueOf(),finish:function(){this.currentValue=this.to,this.draw(),l.cancelAnimationFrame(n.frameAnimation.animationFrameId),e.resolve()},draw:function(){if(n.draw)n.draw(this.currentValue);else{var e=a({},this.currentValue);e[F]&&(e[F]=f.map(e[F],function(t,n){return"translate"===n?c.getTranslateCss(t):"scale"===n?"scale("+t+")":"rotate"===n.substr(0,n.length-1)?n+"("+t+"deg)":void 0}).join(" ")),t.css(e)}}},n.delay?(n.frameAnimation.startTime+=n.delay,n.frameAnimation.delayTimeout=setTimeout(function(){i._startAnimation(t,n)},n.delay)):i._startAnimation(t,n),e.promise()):e.reject().promise()},_startAnimation:function(t,n){i.off(t,A),i.on(t,A,function(){n.frameAnimation&&l.cancelAnimationFrame(n.frameAnimation.animationFrameId)}),this._animationStep(t,n)},_parseTransform:function(t){var n={};return f.each(t.match(/(\w|\d)+\([^)]*\)\s*/g),function(t,e){var i=c.parseTranslate(e),o=e.match(/scale\((.+?)\)/),r=e.match(/(rotate.)\((.+)deg\)/);i&&(n.translate=i),o&&o[1]&&(n.scale=parseFloat(o[1])),r&&r[1]&&(n[r[1]]=parseFloat(r[2]))}),n},stop:function(t,n,e){var i=n&&n.frameAnimation;i&&(l.cancelAnimationFrame(i.animationFrameId),clearTimeout(i.delayTimeout),e&&i.finish(),delete n.frameAnimation)},_animationStep:function(t,n){var e=n&&n.frameAnimation;if(e){var i=(new Date).valueOf();if(i>=e.startTime+e.duration)e.finish();else{e.currentValue=this._calcStepValue(e,i-e.startTime),e.draw();var o=this;e.animationFrameId=l.requestAnimationFrame(function(){o._animationStep(t,n)})}}},_calcStepValue:function(n,e){return function i(o,r){var a=Array.isArray(r)?[]:{};return f.each(r,function(s,f){if("string"==typeof f&&!1===parseFloat(f,10))return!0;a[s]="object"===(void 0===f?"undefined":t(f))?i(o[s],f):function(t){var i=e/n.duration,a=e,s=1*o[t],f=r[t]-o[t],c=n.duration;return u.getEasing(n.easing)(i,a,s,f,c)}(s)}),a}(n.from,n.to)},_normalizeValue:function(t){var n=parseFloat(t,10);return!1===n?t:n}},x={initAnimation:function(){},animate:function(){return(new g).resolve().promise()},stop:w,isSynchronous:!0},E=function(t){t=t||{};var n={transition:m.transition()?q:D,frame:D,noAnimation:x},e=t.strategy||"transition";return"css"!==t.type||m.transition()||(e="noAnimation"),n[e]},V=function(t,n,e,i){f.each(["from","to"],function(){if(!e(t[this]))throw o.Error("E0010",n,this,i)})},j=function(t,n){return V(t,n,function(t){return T(t)},"a plain object")},I=function(t,n){return V(t,n,function(t){return"string"==typeof t},"a string")},N={setup:function(){}},O={validateConfig:function(t){I(t,"css")},setup:function(){}},P={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},W={validateConfig:function(t){j(t,"slide")},setup:function(t,n){var i=c.locate(t);if("slide"!==n.type){var o="slideIn"===n.type?n.from:n.to;o.position=a({of:e},P[n.direction]),rt(t,o)}this._setUpConfig(i,n.from),this._setUpConfig(i,n.to),c.clearCache(t)},_setUpConfig:function(t,n){n.left="left"in n?n.left:"+=0",n.top="top"in n?n.top:"+=0",this._initNewPosition(t,n)},_initNewPosition:function(t,n){var e={left:n.left,top:n.top};delete n.left,delete n.top;var i=this._getRelativeValue(e.left);void 0!==i?e.left=i+t.left:n.left=0,void 0!==(i=this._getRelativeValue(e.top))?e.top=i+t.top:n.top=0,n[F]=c.getTranslateCss({x:e.left,y:e.top})},_getRelativeValue:function(t){var n;if("string"==typeof t&&(n=b.exec(t)))return parseInt(n[1]+"1")*n[2]}},k={setup:function(t,n){var e,i=n.from,o=T(i)?n.skipElementInitialStyles?0:t.css("opacity"):String(i);switch(n.type){case"fadeIn":e=1;break;case"fadeOut":e=0;break;default:e=String(n.to)}n.from={visibility:"visible",opacity:o},n.to={opacity:e}}},R={validateConfig:function(t){j(t,"pop")},setup:function(t,n){var e=n.from,i=n.to,o="opacity"in e?e.opacity:t.css("opacity"),r="opacity"in i?i.opacity:1,a="scale"in e?e.scale:0,s="scale"in i?i.scale:1;n.from={opacity:o};var f=c.getTranslate(t);n.from[F]=this._getCssTransform(f,a),n.to={opacity:r},n.to[F]=this._getCssTransform(f,s)},_getCssTransform:function(t,n){return c.getTranslateCss(t)+"scale("+n+")"}},U={custom:N,slide:W,slideIn:W,slideOut:W,fade:k,fadeIn:k,fadeOut:k,pop:R,css:O},X=function(t){var n=U[t.type];if(!n)throw o.Error("E0011",t.type);return n},z={type:"custom",from:{},to:{},duration:400,start:w,complete:w,easing:"ease",delay:0},L={duration:400,easing:"ease",delay:0},Q=function(){var t=this.element,n=this.config;if(rt(t,n.from),rt(t,n.to),this.configurator.setup(t,n),t.data(S,this),ft.off&&(n.duration=0,n.delay=0),this.strategy.initAnimation(t,n),n.start){var e=r(t);n.start.apply(this,[e,n])}},B=function(t){var n=t.element,e=t.config;if(n.removeData(S),e.complete){var i=r(n);e.complete.apply(this,[i,e])}t.deferred.resolveWith(this,[n,e])},G=function(){var t=this,n=t.element,e=t.config;return t.isStarted=!0,t.strategy.animate(n,e).done(function(){B(t)}).fail(function(){t.deferred.rejectWith(this,[n,e])})},H=function(t){var n=this.element,e=this.config;clearTimeout(this.startTimeout),this.isStarted||this.start(),this.strategy.stop(n,e,t)},J=h.addNamespace(d,"dxFXStartAnimation"),K=function(t){i.off(t.element,J),i.on(t.element,J,function(){ft.stop(t.element)}),t.deferred.always(function(){i.off(t.element,J)})},M=function(t,e){var i="css"===e.type?L:z,o=a(!0,{},i,e),r=X(o),s=E(o),f={element:n(t),config:o,configurator:r,strategy:s,isSynchronous:s.isSynchronous,setup:Q,start:G,stop:H,deferred:new g};return _(r.validateConfig)&&r.validateConfig(o),K(f),f},Y=function(t,e){var i=n(t);if(!i.length)return(new g).resolve().promise();var o=M(i,e);return Z(i,o),o.deferred.promise()},Z=function(t,n){var e=$(t);tt(t,e),e.push(n),et(t)||it(t,e)},$=function(t){return t.data(C)||[]},tt=function(t,n){t.data(C,n)},nt=function(t){t.removeData(C)},et=function(t){return!!t.data(S)},it=function t(n,e){if((e=$(n)).length){var i=e.shift();0===e.length&&nt(n),ot(i).done(function(){et(n)||t(n)})}},ot=function(t){return t.setup(),ft.off||t.isSynchronous?t.start():t.startTimeout=setTimeout(function(){t.start()}),t.deferred.promise()},rt=function(t,i){if(i&&i.position){var o=n(e),r=0,s=0,f=p.calculate(t,i.position),c=t.offset(),u=t.position();u.top>c.top&&(s=o.scrollTop()),u.left>c.left&&(r=o.scrollLeft()),a(i,{left:f.h.location-c.left+u.left-r,top:f.v.location-c.top+u.top-s}),delete i.position}},at=function(t,n){f.each(n,function(n,e){try{t.css(n,s.isFunction(e)?e():e)}catch(i){}})},st=function(t,e){var i=n(t),o=$(i);f.each(o,function(t,n){n.config.delay=0,n.config.duration=0,n.isSynchronous=!0}),et(i)||it(i,o);var r=i.data(S);r&&r.stop(e),i.removeData(S),nt(i)},ft={off:!1,animationTypes:U,animate:Y,createAnimation:M,isAnimating:et,stop:st,_simulatedTransitionEndDelay:100};module.exports=ft,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../core/utils/window":"NXH3","../events/core/events_engine":"oNrb","../core/errors":"BdzT","../core/utils/dom":"vDwZ","../core/utils/extend":"ac8T","../core/utils/type":"Mw4w","../core/utils/iterator":"FHcO","./translator":"IRTp","./easing":"Aj9G","./frame":"SaLI","../core/utils/support":"eZC7","./position":"cuhc","../core/remove_event":"zNXU","../events/utils":"cNvJ","../core/utils/deferred":"g5TB","../core/utils/common":"GcQA"}],"iQM5":[function(require,module,exports) {
"use strict";var r=require("../core/utils/array").inArray,e=function(){var e=[];return{add:function(t){-1===r(t,e)&&e.push(t)},remove:function(t){var u=r(t,e);-1!==u&&e.splice(u,1)},fire:function(){var r=e.pop(),t=!!r;return t&&r(),t},hasCallback:function(){return e.length>0}}}();module.exports=function(){return e.fire()},module.exports.hideCallback=e,module.exports.default=module.exports;
},{"../core/utils/array":"uivT"}],"Ntiw":[function(require,module,exports) {
"use strict";var t=require("./type").isExponential,a=function(t){return 0===t?0:t/Math.abs(t)},e=function(t,a,e){var r=!a&&0!==a,n=!e&&0!==e;return r&&(a=n?t:Math.min(t,e)),n&&(e=r?t:Math.max(t,a)),Math.min(Math.max(t,a),e)},r=function(t,a,e){return t>=a&&t<=e};function n(t){return Math.abs(parseInt(t.toExponential().split("e")[1]))}function s(){return"0.000300"!==3e-4.toPrecision(3)}function o(a,e){var r,o=i(e||0)+2,h=a.toString().split("."),M=a,u=Math.abs(a),c=t(a),f=u>1?10:0;return 1===h.length?a:(c||(t(e)&&(o=h[0].length+n(e)),a=(a=u)-Math.floor(a)+f),o=s()&&n(a)>6||o>7?15:7,c||(r=parseFloat(a.toPrecision(o)).toString().split("."))[0]!==f.toString()?parseFloat(M.toPrecision(o)):parseFloat(h[0]+"."+r[1]))}function i(t){var a,e,r=t.toString();return r.indexOf(".")<0?0:(e=(a=r.split("."))[1].indexOf("e"))>=0?e:a[1].length}function h(t,a){if(t<0&&a%2!=1)return NaN;var e=Math.pow(Math.abs(t),1/a);return a%2==1&&t<0?-e:e}function M(t,a,e,r){if(Math.abs(t)<1e-8){if(t=a,a=e,e=r,Math.abs(t)<1e-8)return t=a,a=e,Math.abs(t)<1e-8?[]:[-a/t];var n=a*a-4*t*e;return Math.abs(n)<1e-8?[-a/(2*t)]:n>0?[(-a+Math.sqrt(n))/(2*t),(-a-Math.sqrt(n))/(2*t)]:[]}var s,o,i=(3*t*e-a*a)/(3*t*t),M=(2*a*a*a-9*t*a*e+27*t*t*r)/(27*t*t*t);if(Math.abs(i)<1e-8)s=[h(-M,3)];else if(Math.abs(M)<1e-8)s=[0].concat(i<0?[Math.sqrt(-i),-Math.sqrt(-i)]:[]);else{var u=M*M/4+i*i*i/27;if(Math.abs(u)<1e-8)s=[-1.5*M/i,3*M/i];else if(u>0)s=[(o=h(-M/2-Math.sqrt(u),3))-i/(3*o)];else{o=2*Math.sqrt(-i/3);var c=Math.acos(3*M/i/o)/3,f=2*Math.PI/3;s=[o*Math.cos(c),o*Math.cos(c-f),o*Math.cos(c-2*f)]}}for(var p=0;p<s.length;p++)s[p]-=a/(3*t);return s}exports.sign=a,exports.fitIntoRange=e,exports.inRange=r,exports.adjust=o,exports.getPrecision=i,exports.getExponent=n,exports.getRoot=h,exports.solveCubicEquation=M;
},{"./type":"Mw4w"}],"qiE1":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../events/core/events_engine"),i=require("../../core/devices"),s=require("../../core/utils/style"),n=require("../../core/utils/call_once"),r=require("../../core/utils/dom"),o=require("../../core/utils/ready_callbacks"),a=o.add,c=require("../../core/utils/math"),u=require("../../core/utils/common").noop,h=require("../../core/utils/type").isDefined,l=require("../utils"),_=require("../core/emitter"),m=c.sign,v=Math.abs,d=0,g=1,f=2,p=10,E=0,y=180,T=function(){return s.styleProp("pointer-events")},D=n(function(){var s="desktop"===i.real().deviceType;if(!T()||!s)return u;var n=e("<div>").addClass("dx-gesture-cover").css("pointerEvents","none");return t.subscribeGlobal(n,"dxmousewheel",function(e){e.preventDefault()}),a(function(){n.appendTo("body")}),function(e,t){n.css("pointerEvents",e?"all":"none"),e&&n.css("cursor",t)}}),q=function(e,t){D()(e,t)},C=_.inherit({gesture:!0,configure:function(e){this.getElement().css("msTouchAction",e.immediate?"pinch-zoom":""),this.callBase(e)},allowInterruptionByMouseWheel:function(){return this._stage!==f},getDirection:function(){return this.direction},_cancel:function(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=d},start:function(e){e._needSkipEvent||l.needSkipEvent(e)?this._cancel(e):(this._startEvent=l.createEvent(e),this._startEventData=l.eventData(e),this._stage=g,this._init(e),this._setupImmediateTimer())},_setupImmediateTimer:function(){clearTimeout(this._immediateTimer),this._immediateAccepted=!1,this.immediate&&(this._immediateTimer=setTimeout(function(){this._immediateAccepted=!0}.bind(this),y))},move:function(e){if(this._stage===g&&this._directionConfirmed(e)){if(this._stage=f,this._resetActiveElement(),this._toggleGestureCover(!0),this._clearSelection(e),this._adjustStartEvent(e),this._start(this._startEvent),this._stage===d)return;this._requestAccept(e),this._move(e),this._forgetAccept()}else this._stage===f&&(this._clearSelection(e),this._move(e))},_directionConfirmed:function(e){var t=this._getTouchBoundary(e),i=l.eventDelta(this._startEventData,l.eventData(e)),s=v(i.x),n=v(i.y),r=this._validateMove(t,s,n),o=this._validateMove(t,n,s),a=this.getDirection(e);return"both"===a&&(r||o)||"horizontal"===a&&r||"vertical"===a&&o||this._immediateAccepted},_validateMove:function(e,t,i){return t&&t>=e&&(!this.immediate||t>=i)},_getTouchBoundary:function(e){return this.immediate||l.isDxMouseWheelEvent(e)?E:p},_adjustStartEvent:function(e){var t=this._getTouchBoundary(e),i=l.eventDelta(this._startEventData,l.eventData(e));this._startEvent.pageX+=m(i.x)*t,this._startEvent.pageY+=m(i.y)*t},_resetActiveElement:function(){"ios"===i.real().platform&&this.getElement().find(":focus").length&&r.resetActiveElement()},_toggleGestureCover:function(e){this._toggleGestureCoverImpl(e)},_toggleGestureCoverImpl:function(e){this._stage===f&&q(e,this.getElement().css("cursor"))},_clearSelection:function(e){l.isDxMouseWheelEvent(e)||l.isTouchEvent(e)||r.clearSelection()},end:function(e){this._toggleGestureCover(!1),this._stage===f?this._end(e):this._stage===g&&this._stop(e),this._stage=d},dispose:function(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:u,_start:u,_move:u,_stop:u,_end:u});C.initialTouchBoundary=p,C.touchBoundary=function(e){if(!h(e))return p;p=e},module.exports=C;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/devices":"LpzF","../../core/utils/style":"DyYH","../../core/utils/call_once":"hqaQ","../../core/utils/dom":"vDwZ","../../core/utils/ready_callbacks":"pyvP","../../core/utils/math":"Ntiw","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../utils":"cNvJ","../core/emitter":"mbKE"}],"aHo5":[function(require,module,exports) {
"use strict";var t=require("../core/renderer"),e=require("../core/element_data"),r=require("../core/utils/array").wrapToArray,i=require("../core/utils/array").inArray,n=require("../core/utils/iterator"),a=require("../core/utils/dom").contains,s=require("./core/event_registrator"),o=require("./utils"),f=require("./gesture/emitter.gesture"),u=require("./core/emitter_registrator"),c="dxdragstart",h="dxdrag",g="dxdragend",p="dxdragenter",v="dxdragleave",_="dxdrop",l="dxDragEventsCount",d=[],m=[],x=[],D={setup:function(t,e){-1!==i(t,d)||(d.push(t),m.push([]),x.push(e||{}))},add:function(t,e){var r=i(t,d);this.updateEventsCounter(t,e.type,1);var n=e.selector;-1===i(n,m[r])&&m[r].push(n)},updateEventsCounter:function(t,r,i){if([p,v,_].indexOf(r)>-1){var n=e.data(t,l)||0;e.data(t,l,Math.max(0,n+i))}},remove:function(t,e){this.updateEventsCounter(t,e.type,-1)},teardown:function(t){if(!e.data(t,l)){var r=i(t,d);d.splice(r,1),m.splice(r,1),x.splice(r,1),e.removeData(t,l)}}};s(p,D),s(v,D),s(_,D);var T=function(t){var e=i(t.get(0),d),r=m[e].filter(function(t){return t}),n=t.find(r.join(", "));return-1!==i(void 0,m[e])&&(n=n.add(t)),n},O=function(t){var e=i(t.get(0),d);return x[e]},E=function(t,e){return t.itemPositionFunc?t.itemPositionFunc(e):e.offset()},q=function(t,e){return t.itemSizeFunc?t.itemSizeFunc(e):{width:e.get(0).getBoundingClientRect().width,height:e.get(0).getBoundingClientRect().height}},y=f.inherit({ctor:function(t){this.callBase(t),this.direction="both"},_init:function(t){this._initEvent=t},_start:function(e){e=this._fireEvent(c,this._initEvent),this._maxLeftOffset=e.maxLeftOffset,this._maxRightOffset=e.maxRightOffset,this._maxTopOffset=e.maxTopOffset,this._maxBottomOffset=e.maxBottomOffset;var i=r(e.targetElements||(null===e.targetElements?[]:d));this._dropTargets=n.map(i,function(e){return t(e).get(0)})},_move:function(t){var e=o.eventData(t),r=this._calculateOffset(e);t=this._fireEvent(h,t,{offset:r}),this._processDropTargets(t),t._cancelPreventDefault||t.preventDefault()},_calculateOffset:function(t){return{x:this._calculateXOffset(t),y:this._calculateYOffset(t)}},_calculateXOffset:function(t){if("vertical"!==this.direction){var e=t.x-this._startEventData.x;return this._fitOffset(e,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset:function(t){if("horizontal"!==this.direction){var e=t.y-this._startEventData.y;return this._fitOffset(e,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset:function(t,e,r){return null!=e&&(t=Math.max(t,-e)),null!=r&&(t=Math.min(t,r)),t},_processDropTargets:function(t){var e=this._findDropTarget(t);e===this._currentDropTarget||(this._fireDropTargetEvent(t,v),this._currentDropTarget=e,this._fireDropTargetEvent(t,p))},_fireDropTargetEvent:function(t,e){if(this._currentDropTarget){var r={type:e,originalEvent:t,draggingElement:this._$element.get(0),target:this._currentDropTarget};o.fireEvent(r)}},_findDropTarget:function(e){var r,i=this;return n.each(d,function(a,s){if(i._checkDropTargetActive(s)){var o=t(s);n.each(T(o),function(n,a){var s=t(a);i._checkDropTarget(O(o),s,e)&&(r=a)})}}),r},_checkDropTargetActive:function(t){var e=!1;return n.each(this._dropTargets,function(r,i){return!(e=e||i===t||a(i,t))}),e},_checkDropTarget:function(e,r,i){if(r.get(0)===t(i.target).get(0))return!1;var n=E(e,r);if(i.pageX<n.left)return!1;if(i.pageY<n.top)return!1;var a=q(e,r);return!(i.pageX>n.left+a.width)&&(!(i.pageY>n.top+a.height)&&(!(e.checkDropTarget&&!e.checkDropTarget(r,i))&&r))},_end:function(t){var e=o.eventData(t);this._fireEvent(g,t,{offset:this._calculateOffset(e)}),this._fireDropTargetEvent(t,_),delete this._currentDropTarget}});u({emitter:y,events:[c,h,g]}),exports.move=h,exports.start=c,exports.end=g,exports.enter=p,exports.leave=v,exports.drop=_;
},{"../core/renderer":"qxFQ","../core/element_data":"yYfn","../core/utils/array":"uivT","../core/utils/iterator":"FHcO","../core/utils/dom":"vDwZ","./core/event_registrator":"czcP","./utils":"cNvJ","./gesture/emitter.gesture":"qiE1","./core/emitter_registrator":"IPLR"}],"jz3B":[function(require,module,exports) {
"use strict";var e=require("../core/renderer"),t=require("../events/core/events_engine"),i=require("../core/component_registrator"),r=require("../core/utils/common"),n=require("../core/utils/extend").extend,s=require("../core/utils/array").inArray,o=require("../core/utils/iterator").each,h=require("../core/utils/type"),a=require("../core/utils/window"),l=require("../animation/translator"),d=require("../core/utils/math").fitIntoRange,c=require("../core/dom_component"),f=require("../events/utils"),g=require("../events/drag"),u=h.isPlainObject,m=h.isFunction,_=require("../core/utils/dom"),p="dxResizable",v="dx-resizable",b="dx-resizable-resizing",x="dx-resizable-handle",z="dx-resizable-handle-top",H="dx-resizable-handle-bottom",S="dx-resizable-handle-left",W="dx-resizable-handle-right",A="dx-resizable-handle-corner",O=f.addNamespace(g.start,p),w=f.addNamespace(g.move,p),y=f.addNamespace(g.end,p),R={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},C=c.inherit({_getDefaultOptions:function(){return n(this.callBase(),{handles:"all",step:"1",stepPrecision:"simple",area:void 0,minWidth:30,maxWidth:1/0,minHeight:30,maxHeight:1/0,onResizeStart:null,onResize:null,onResizeEnd:null,roundStepValue:!0})},_init:function(){this.callBase(),this.$element().addClass(v)},_initMarkup:function(){this.callBase(),this._renderHandles()},_render:function(){this.callBase(),this._renderActions()},_renderActions:function(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")},_renderHandles:function(){var e=this.option("handles");if("none"!==e){var t="all"===e?["top","bottom","left","right"]:e.split(" ");o(t,function(e,t){this._renderHandle(t)}.bind(this)),s("bottom",t)+1&&s("right",t)+1&&this._renderHandle("corner-bottom-right"),s("bottom",t)+1&&s("left",t)+1&&this._renderHandle("corner-bottom-left"),s("top",t)+1&&s("right",t)+1&&this._renderHandle("corner-top-right"),s("top",t)+1&&s("left",t)+1&&this._renderHandle("corner-top-left")}},_renderHandle:function(t){var i=this.$element(),r=e("<div>");r.addClass(x).addClass(x+"-"+t).appendTo(i),this._attachEventHandlers(r)},_attachEventHandlers:function(e){if(!this.option("disabled")){var i={};i[O]=this._dragStartHandler.bind(this),i[w]=this._dragHandler.bind(this),i[y]=this._dragEndHandler.bind(this),t.on(e,i,{direction:"both",immediate:!0})}},_dragStartHandler:function(e){var t=this.$element();if(t.is(".dx-state-disabled, .dx-state-disabled *"))e.cancel=!0;else{this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(e),this._elementLocation=l.locate(t);var i=t.get(0).getBoundingClientRect();this._elementSize={width:i.width,height:i.height},this._renderDragOffsets(e),this._resizeStartAction({event:e,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),e.targetElements=null}},_toggleResizingClass:function(e){this.$element().toggleClass(b,e)},_renderDragOffsets:function(t){var i=this._getArea();if(i){var r=e(t.target).closest("."+x),n=r.outerWidth(),s=r.outerHeight(),o=r.offset(),h=i.offset,a=this._getAreaScrollOffset();t.maxLeftOffset=o.left-h.left-a.scrollX,t.maxRightOffset=h.left+i.width-o.left-n+a.scrollX,t.maxTopOffset=o.top-h.top-a.scrollY,t.maxBottomOffset=h.top+i.height-o.top-s+a.scrollY}},_getBorderWidth:function(e,t){if(h.isWindow(e.get(0)))return 0;var i=e.css(R[t]);return parseInt(i)||0},_dragHandler:function(e){var t=this.$element(),i=this._movingSides,r=this._elementLocation,n=this._elementSize,s=this._getOffset(e),o=n.width+s.x*(i.left?-1:1),h=n.height+s.y*(i.top?-1:1);(s.x||"strict"===this.option("stepPrecision"))&&this._renderWidth(o),(s.y||"strict"===this.option("stepPrecision"))&&this._renderHeight(h);var a=t.get(0).getBoundingClientRect(),d=s.y-((a.height||h)-h),c=s.x-((a.width||o)-o);l.move(t,{top:r.top+(i.top?d:0),left:r.left+(i.left?c:0)}),this._resizeAction({event:e,width:this.option("width")||o,height:this.option("height")||h,handles:this._movingSides}),_.triggerResizeEvent(t)},_getOffset:function(e){var t=e.offset,i=r.pairToObject(this.option("step"),!this.option("roundStepValue")),n=this._getMovingSides(e),s="strict"===this.option("stepPrecision");return n.left||n.right||(t.x=0),n.top||n.bottom||(t.y=0),s?this._getStrictOffset(t,i,n):this._getSimpleOffset(t,i)},_getSimpleOffset:function(e,t){return{x:e.x-e.x%t.h,y:e.y-e.y%t.v}},_getStrictOffset:function(e,t,i){var r=this._elementLocation,n=this._elementSize,s=i.left?r.left:r.left+n.width,o=i.top?r.top:r.top+n.height,h=(s+e.x)%t.h,a=(o+e.y)%t.v,l=Math.sign||function(e){return 0===(e=+e)||isNaN(e)?e:e>0?1:-1},d=function(e,t){return(1+.2*l(t))%1*e},c=function(e,t){return Math.abs(e)<.2*t},f=e.x-h,g=e.y-a;return h>d(t.h,e.x)&&(f+=t.h),a>d(t.v,e.y)&&(g+=t.v),{x:!i.left&&!i.right||c(e.x,t.h)?0:f,y:!i.top&&!i.bottom||c(e.y,t.v)?0:g}},_getMovingSides:function(t){var i=e(t.target),r=i.hasClass(A+"-top-left"),n=i.hasClass(A+"-top-right"),s=i.hasClass(A+"-bottom-left"),o=i.hasClass(A+"-bottom-right");return{top:i.hasClass(z)||r||n,left:i.hasClass(S)||r||s,bottom:i.hasClass(H)||s||o,right:i.hasClass(W)||n||o}},_getArea:function(){var e=this.option("area");return m(e)&&(e=e.call(this)),u(e)?this._getAreaFromObject(e):this._getAreaFromElement(e)},_getAreaScrollOffset:function(){var t=this.option("area"),i={scrollY:0,scrollX:0};if(!m(t)&&!u(t)){var r=e(t)[0];h.isWindow(r)&&(i.scrollX=r.pageXOffset,i.scrollY=r.pageYOffset)}return i},_getAreaFromObject:function(e){var t={width:e.right-e.left,height:e.bottom-e.top,offset:{left:e.left,top:e.top}};return this._correctAreaGeometry(t),t},_getAreaFromElement:function(t){var i,r=e(t);return r.length&&(i={width:r.innerWidth(),height:r.innerHeight(),offset:n({top:0,left:0},h.isWindow(r[0])?{}:r.offset())},this._correctAreaGeometry(i,r)),i},_correctAreaGeometry:function(e,t){var i=t?this._getBorderWidth(t,"left"):0,r=t?this._getBorderWidth(t,"top"):0;e.offset.left+=i+this._getBorderWidth(this.$element(),"left"),e.offset.top+=r+this._getBorderWidth(this.$element(),"top"),e.width-=this.$element().outerWidth()-this.$element().innerWidth(),e.height-=this.$element().outerHeight()-this.$element().innerHeight()},_dragEndHandler:function(e){var t=this.$element();this._resizeEndAction({event:e,width:t.outerWidth(),height:t.outerHeight(),handles:this._movingSides}),this._toggleResizingClass(!1)},_renderWidth:function(e){this.option("width",d(e,this.option("minWidth"),this.option("maxWidth")))},_renderHeight:function(e){this.option("height",d(e,this.option("minHeight"),this.option("maxHeight")))},_optionChanged:function(e){switch(e.name){case"disabled":case"handles":this._invalidate();break;case"minWidth":case"maxWidth":a.hasWindow()&&this._renderWidth(this.$element().outerWidth());break;case"minHeight":case"maxHeight":a.hasWindow()&&this._renderHeight(this.$element().outerHeight());break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"area":case"stepPrecision":case"step":case"roundStepValue":break;default:this.callBase(e)}},_clean:function(){this.$element().find("."+x).remove()}});i(p,C),module.exports=C,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../events/core/events_engine":"oNrb","../core/component_registrator":"g3fO","../core/utils/common":"GcQA","../core/utils/extend":"ac8T","../core/utils/array":"uivT","../core/utils/iterator":"FHcO","../core/utils/type":"Mw4w","../core/utils/window":"NXH3","../animation/translator":"IRTp","../core/utils/math":"Ntiw","../core/dom_component":"Jnhm","../events/utils":"cNvJ","../events/drag":"aHo5","../core/utils/dom":"vDwZ"}],"YZ6y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clearStack=exports.remove=exports.create=exports.base=void 0;var e=require("../../core/utils/common"),r=1500,t=[],o=exports.base=function(t){return r=(0,e.ensureDefined)(t,r)},s=exports.create=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,o=t.length,s=(o?t[o-1]:e)+1;return t.push(s),s},n=exports.remove=function(e){var r=t.indexOf(e);r>=0&&t.splice(r,1)},c=exports.clearStack=function(){t=[]};
},{"../../core/utils/common":"GcQA"}],"vEFC":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),r=require("../../core/utils/view_port"),s="dx-swatch-",t=function(t){var a=e(t).closest('[class^="'+s+'"], [class*=" '+s+'"]'),c=r.value();if(!a.length)return c;var n=new RegExp("(\\s|^)("+s+".*?)(\\s|$)"),l=a[0].className.match(n)[2],i=c.children("."+l);return i.length||(i=e("<div>").addClass(l).appendTo(c)),i};module.exports={getSwatchContainer:t};
},{"../../core/renderer":"qxFQ","../../core/utils/view_port":"SnKV"}],"s5Wp":[function(require,module,exports) {
"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=require("../../core/renderer"),i=require("../../core/dom_adapter"),n=require("../../core/utils/window"),o=require("../../core/utils/ready_callbacks").add,r=n.getWindow(),s=n.getNavigator(),a=require("../../events/core/events_engine"),h=require("../../animation/fx"),l=require("../../animation/translator"),c=require("../../core/utils/version").compare,d=require("../../core/utils/view_port"),_=require("../../core/utils/extend").extend,p=require("../../core/utils/array").inArray,u=require("../../core/utils/dom").getPublicElement,f=d.changeCallback,g=require("../../mobile/hide_top_overlay").hideCallback,m=require("../../animation/position"),v=require("../../core/utils/math").fitIntoRange,b=require("../../core/utils/dom"),y=require("../../core/utils/common").noop,w=require("../../core/utils/type"),T=require("../../core/utils/iterator").each,C=require("../../core/devices"),S=require("../../core/utils/browser"),H=require("../../core/component_registrator"),$=require("../widget/ui.widget"),O=require("../widget/ui.keyboard_processor"),x=require("../widget/selectors"),P=require("../../events/drag"),k=require("../../events/utils"),A=require("../../events/pointer"),z=require("../resizable"),E=require("../../core/templates/empty_template").EmptyTemplate,D=require("../../core/utils/deferred").Deferred,W=require("./z_index"),R=require("../widget/swatch_container"),q="dx-overlay",V="dx-overlay-wrapper",B="dx-overlay-content",I="dx-overlay-shader",N="dx-overlay-modal",G="dx-inner-overlay",F="dx-state-invisible",M="content",K="dx-rtl",Z=["onShowing","onShown","onHiding","onHidden","onPositioning","onPositioned","onResizeStart","onResize","onResizeEnd"],L=[],j="dx-state-disabled",U="dx-prevent-safari-scrolling",Y="tab",J={top:{my:"top center",at:"top center"},bottom:{my:"bottom center",at:"bottom center"},right:{my:"right center",at:"right center"},left:{my:"left center",at:"left center"},center:{my:"center",at:"center"},"right bottom":{my:"right bottom",at:"right bottom"},"right top":{my:"right top",at:"right top"},"left bottom":{my:"left bottom",at:"left bottom"},"left top":{my:"left top",at:"left top"}},Q=C.real(),X=Q.version,tt=S.mozilla&&"desktop"===Q.deviceType,et="ios"===Q.platform,it=S.safari&&"desktop"!==Q.deviceType,nt="android"===Q.platform&&0===c(X,[4,0],2)&&-1===s.userAgent.indexOf("Chrome"),ot=function(t){if(tt&&t.width(),nt){var e=t.parents();e.is(".dx-scrollable-native")||(e.css("backfaceVisibility","hidden"),e.css("backfaceVisibility"),e.css("backfaceVisibility","visible"))}},rt=function(t){return t&&e(t.target||t)};o(function(){a.subscribeGlobal(i.getDocument(),A.down,function(t){for(var e=L.length-1;e>=0;e--)if(!L[e]._proxiedDocumentDownHandler(t))return})});var st=$.inherit({_supportedKeys:function(){var t=function(t,e,i){if(this.option("dragEnabled")){i.preventDefault(),i.stopPropagation();var n=this._allowedOffsets(),o={top:v(t,-n.top,n.bottom),left:v(e,-n.left,n.right)};this._changePosition(o)}};return _(this.callBase(),{escape:function(){this.hide()},upArrow:t.bind(this,-5,0),downArrow:t.bind(this,5,0),leftArrow:t.bind(this,0,-5),rightArrow:t.bind(this,0,5)})},_getDefaultOptions:function(){return _(this.callBase(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",position:{my:"center",at:"center"},width:function(){return.8*e(r).width()},minWidth:null,maxWidth:null,height:function(){return.8*e(r).height()},minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,to:{opacity:0,scale:.55},from:{opacity:1,scale:1}}},closeOnOutsideClick:!1,closeOnBackButton:!0,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",dragEnabled:!1,resizeEnabled:!1,onResizeStart:null,onResize:null,onResizeEnd:null,innerOverlay:!1,target:void 0,container:void 0,hideTopOverlayHandler:void 0,closeOnTargetScroll:!1,onPositioned:null,boundaryOffset:{h:0,v:0},propagateOutsideClick:!1,ignoreChildEvents:!0,_checkParentVisibility:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=C.real(),e=t.platform,i=t.version;return"android"===e&&c(i,[4,2])<0},options:{animation:{show:{type:"fade",duration:400},hide:{type:"fade",duration:400,to:{opacity:0},from:{opacity:1}}}}},{device:function(){return!n.hasWindow()},options:{width:null,height:null,animation:null,_checkParentVisibility:!1}}])},_setOptionsByReference:function(){this.callBase(),_(this._optionsByReference,{animation:!0})},_getAnonymousTemplateName:function(){return M},_wrapper:function(){return this._$wrapper},_container:function(){return this._$content},_eventBindingTarget:function(){return this._$content},_init:function(){this.callBase(),this._initActions(),this._initCloseOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._$wrapper=e("<div>").addClass(V),this._$content=e("<div>").addClass(B),this._initInnerOverlayClass();var t=this.$element();this._$wrapper.addClass(t.attr("class")),t.addClass(q),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),a.on(this._$wrapper,"MSPointerDown",y),a.on(this._$wrapper,"focusin",function(t){t.stopPropagation()}),this._toggleViewPortSubscription(!0)},_initOptions:function(t){this._initTarget(t.target);var e=void 0===t.container?this.option("container"):t.container;this._initContainer(e),this._initHideTopOverlayHandler(t.hideTopOverlayHandler),this.callBase(t)},_initInnerOverlayClass:function(){this._$content.toggleClass(G,this.option("innerOverlay"))},_initTarget:function(t){if(w.isDefined(t)){var e=this.option();T(["position.of","animation.show.from.position.of","animation.show.to.position.of","animation.hide.from.position.of","animation.hide.to.position.of"],function(i,n){for(var o=n.split("."),r=e;r;){if(1===o.length){w.isPlainObject(r)&&(r[o.shift()]=t);break}r=r[o.shift()]}})}},_initContainer:function(t){t=void 0===t?d.value():t;var i=this.$element(),n=i.closest(t);n.length||(n=e(t).first()),this._$container=n.length?n:i.parent()},_initHideTopOverlayHandler:function(t){this._hideTopOverlayHandler=void 0!==t?t:this._defaultHideTopOverlayHandler.bind(this)},_defaultHideTopOverlayHandler:function(){this.hide()},_initActions:function(){this._actions={},T(Z,function(t,e){this._actions[e]=this._createActionByOption(e,{excludeValidators:["disabled","readOnly"]})||y}.bind(this))},_initCloseOnOutsideClickHandler:function(){var t=this;this._proxiedDocumentDownHandler=function(){return t._documentDownHandler.apply(t,arguments)}},_documentDownHandler:function(t){this._showAnimationProcessing&&this._stopAnimation();var i=this.option("closeOnOutsideClick");w.isFunction(i)&&(i=i(t));var n=this._$content,o=e(r.document).is(t.target)||b.contains(r.document,t.target),s=e(t.target).closest("."+G).length;return o&&!s&&!(n.is(t.target)||b.contains(n.get(0),t.target))&&i&&(this.option("shading")&&t.preventDefault(),this._outsideClickHandler(t)),this.option("propagateOutsideClick")},_outsideClickHandler:function(){this.hide()},_initTemplates:function(){this.callBase(),this._defaultTemplates.content=new E},_isTopOverlay:function(){for(var t=this._overlayStack(),e=t.length-1;e>=0;e--){var i=t[e]._findTabbableBounds();if(i.first||i.last)return t[e]===this}return!1},_overlayStack:function(){return L},_zIndexInitValue:function(){return st.baseZIndex()},_toggleViewPortSubscription:function(t){f.remove(this._viewPortChangeHandle),t&&(this._viewPortChangeHandle=this._viewPortChangeHandler.bind(this),f.add(this._viewPortChangeHandle))},_viewPortChangeHandler:function(){this._initContainer(this.option("container")),this._refresh()},_renderVisibilityAnimate:function(t){return this._stopAnimation(),t?this._show():this._hide()},_normalizePosition:function(){var t=this.option("position");this._position="function"==typeof t?t():t},_getAnimationConfig:function(){var t=this.option("animation");return w.isFunction(t)&&(t=t.call(this)),t},_show:function(){var t=this,e=new D;if(this._parentHidden=this._isParentHidden(),e.done(function(){delete t._parentHidden}),this._parentHidden)return this._isHidden=!0,e.resolve();if(this._currentVisible)return(new D).resolve().promise();this._currentVisible=!0,this._isShown=!1,this._normalizePosition();var i=t._getAnimationConfig()||{},n=this._normalizeAnimation(i.show,"to"),o=n&&n.start||y,r=n&&n.complete||y;if(this._isHidingActionCanceled)delete this._isHidingActionCanceled,e.resolve();else{var s=function(){if(this._renderVisibility(!0),this._isShowingActionCanceled)return delete this._isShowingActionCanceled,void e.resolve();this._animate(n,function(){t.option("focusStateEnabled")&&a.trigger(t._focusTarget(),"focus"),r.apply(this,arguments),t._showAnimationProcessing=!1,t._isShown=!0,t._actions.onShown(),t._toggleSafariScrolling(!1),e.resolve()},function(){o.apply(this,arguments),t._showAnimationProcessing=!0})}.bind(this);this.option("templatesRenderAsynchronously")?(this._stopShowTimer(),this._asyncShowTimeout=setTimeout(s)):s()}return e.promise()},_normalizeAnimation:function(e,i){return e&&(e=_({type:"slide"},e))[i]&&"object"===t(e[i])&&_(e[i],{position:this._position}),e},_hide:function(){if(!this._currentVisible)return(new D).resolve().promise();this._currentVisible=!1;var t=this,e=new D,i=t._getAnimationConfig()||{},n=this._normalizeAnimation(i.hide,"from"),o=n&&n.start||y,r=n&&n.complete||y,s={cancel:!1};return this._isShowingActionCanceled?e.resolve():(this._actions.onHiding(s),t._toggleSafariScrolling(!0),s.cancel?(this._isHidingActionCanceled=!0,this.option("visible",!0),e.resolve()):(this._forceFocusLost(),this._toggleShading(!1),this._toggleSubscriptions(!1),this._stopShowTimer(),this._animate(n,function(){t._$content.css("pointerEvents",""),t._renderVisibility(!1),r.apply(this,arguments),t._actions.onHidden(),e.resolve()},function(){t._$content.css("pointerEvents","none"),o.apply(this,arguments)}))),e.promise()},_forceFocusLost:function(){var t=i.getActiveElement();!!this._$content.find(t).length&&b.resetActiveElement()},_animate:function(t,e,i){t?(i=i||t.start||y,h.animate(this._$content,_({},t,{start:i,complete:e}))):e()},_stopAnimation:function(){h.stop(this._$content,!0)},_renderVisibility:function(t){if(!t||!this._isParentHidden()){if(this._currentVisible=t,this._stopAnimation(),t||b.triggerHidingEvent(this._$content),this._toggleVisibility(t),this._$content.toggleClass(F,!t),this._updateZIndexStackPosition(t),t){this._renderContent();var e={cancel:!1};if(this._actions.onShowing(e),e.cancel)return this._toggleVisibility(!1),this._$content.toggleClass(F,!0),this._updateZIndexStackPosition(!1),this._moveFromContainer(),this._isShowingActionCanceled=!0,void this.option("visible",!1);this._moveToContainer(),this._renderGeometry(),b.triggerShownEvent(this._$content),b.triggerResizeEvent(this._$content)}else this._moveFromContainer();this._toggleShading(t),this._toggleSubscriptions(t)}},_updateZIndexStackPosition:function(t){var e=this._overlayStack(),i=p(this,e);t?(-1===i&&(this._zIndex=W.create(this._zIndexInitValue()),e.push(this)),this._$wrapper.css("zIndex",this._zIndex),this._$content.css("zIndex",this._zIndex)):-1!==i&&(e.splice(i,1),W.remove(this._zIndex))},_toggleShading:function(t){this._$wrapper.toggleClass(N,this.option("shading")&&!this.option("container")),this._$wrapper.toggleClass(I,t&&this.option("shading")),this._$wrapper.css("backgroundColor",this.option("shading")?this.option("shadingColor"):""),this._toggleTabTerminator(t&&this.option("shading"))},_initTabTerminatorHandler:function(){var t=this;this._proxiedTabTerminatorHandler=function(){t._tabKeyHandler.apply(t,arguments)}},_toggleTabTerminator:function(t){var e=k.addNamespace("keydown",this.NAME);t?a.on(i.getDocument(),e,this._proxiedTabTerminatorHandler):a.off(i.getDocument(),e,this._proxiedTabTerminatorHandler)},_findTabbableBounds:function(){for(var t=this._$wrapper.find("*"),e=t.length-1,i={first:null,last:null},n=0;n<=e&&(!i.first&&t.eq(n).is(x.tabbable)&&(i.first=t.eq(n)),!i.last&&t.eq(e-n).is(x.tabbable)&&(i.last=t.eq(e-n)),!i.first||!i.last);n++);return i},_tabKeyHandler:function(t){if(k.normalizeKeyName(t)===Y&&this._isTopOverlay()){var e=this._findTabbableBounds(),i=e.first,n=e.last,o=!t.shiftKey&&t.target===n.get(0),r=t.shiftKey&&t.target===i.get(0),s=0===e.length,h=!b.contains(this._$wrapper.get(0),t.target);if(o||r||s||h){t.preventDefault();var l=t.shiftKey?n:i;a.trigger(l,"focusin"),a.trigger(l,"focus")}}},_toggleSubscriptions:function(t){n.hasWindow()&&(this._toggleHideTopOverlayCallback(t),this._toggleParentsScrollSubscription(t))},_toggleHideTopOverlayCallback:function(t){this._hideTopOverlayHandler&&(t&&this.option("closeOnBackButton")?g.add(this._hideTopOverlayHandler):g.remove(this._hideTopOverlayHandler))},_toggleParentsScrollSubscription:function(t){if(this._position){var i=this._position.of||e(),n=this.option("closeOnTargetScroll"),o=rt(i).parents(),s=k.addNamespace("scroll",this.NAME);"desktop"===C.real().deviceType&&(o=o.add(r)),this._proxiedTargetParentsScrollHandler=this._proxiedTargetParentsScrollHandler||function(t){this._targetParentsScrollHandler(t)}.bind(this),a.off(e().add(this._$prevTargetParents),s,this._proxiedTargetParentsScrollHandler),t&&n&&(a.on(o,s,this._proxiedTargetParentsScrollHandler),this._$prevTargetParents=o)}},_targetParentsScrollHandler:function(t){var e=!1,i=this.option("closeOnTargetScroll");w.isFunction(i)&&(e=i(t)),e||this._showAnimationProcessing||this.hide()},_render:function(){this.callBase(),this._appendContentToElement(),this._renderVisibilityAnimate(this.option("visible"))},_appendContentToElement:function(){this._$content.parent().is(this.$element())||this._$content.appendTo(this.$element())},_renderContent:function(){var t=!this._currentVisible&&this.option("deferRendering");this.option("visible")&&this._isParentHidden()?this._isHidden=!0:this._contentAlreadyRendered||t||(this._contentAlreadyRendered=!0,this._appendContentToElement(),this.callBase())},_isParentHidden:function(){if(!this.option("_checkParentVisibility"))return!1;if(void 0!==this._parentHidden)return this._parentHidden;var t=this.$element().parent();if(t.is(":visible"))return!1;var n=!1;return t.add(t.parents()).each(function(){if("none"===e(this).css("display"))return n=!0,!1}),n||!i.getBody().contains(t.get(0))},_renderContentImpl:function(){var t=this,e=new D,i=this.option("contentTemplate"),n=this._getTemplate(i),o=this._getAnonymousTemplateName()===i;return n&&n.render({container:u(this.$content()),noModel:!0,transclude:o,onRendered:function(){e.resolve()}}),this._renderDrag(),this._renderResize(),this._renderScrollTerminator(),e.done(function(){t.option("visible")&&t._moveToContainer()}),e.promise()},_renderDrag:function(){var t=this._getDragTarget();if(t){var e=k.addNamespace(P.start,this.NAME),i=k.addNamespace(P.move,this.NAME);a.off(t,e),a.off(t,i),this.option("dragEnabled")&&(a.on(t,e,this._dragStartHandler.bind(this)),a.on(t,i,this._dragUpdateHandler.bind(this)))}},_renderResize:function(){this._resizable=this._createComponent(this._$content,z,{handles:this.option("resizeEnabled")?"all":"none",onResizeEnd:this._resizeEndHandler.bind(this),onResize:this._actions.onResize.bind(this),onResizeStart:this._actions.onResizeStart.bind(this),minHeight:100,minWidth:100,area:this._getDragResizeContainer()})},_resizeEndHandler:function(){this._positionChangeHandled=!0;var t=this._resizable.option("width"),e=this._resizable.option("height");t&&this.option("width",t),e&&this.option("height",e),this._actions.onResizeEnd()},_renderScrollTerminator:function(){var t=this._wrapper(),e=k.addNamespace(P.move,this.NAME);a.off(t,e),a.on(t,e,{validate:function(){return!0},getDirection:function(){return"both"},_toggleGestureCover:function(t){t||this._toggleGestureCoverImpl(t)},_clearSelection:y,isNative:!0},function(t){var e=t.originalEvent.originalEvent;t._cancelPreventDefault=!0,e&&"mousemove"!==e.type&&t.preventDefault()})},_getDragTarget:function(){return this.$content()},_dragStartHandler:function(t){t.targetElements=[],this._prevOffset={x:0,y:0};var e=this._allowedOffsets();t.maxTopOffset=e.top,t.maxBottomOffset=e.bottom,t.maxLeftOffset=e.left,t.maxRightOffset=e.right},_getDragResizeContainer:function(){return d.originalViewPort().get(0)||this.option("container")?this._$container:e(r)},_deltaSize:function(){var t=this._$content,n=this._getDragResizeContainer(),o=t.outerWidth(),r=t.outerHeight(),s=n.outerWidth(),a=n.outerHeight();if(this._isWindow(n)){var h=i.getDocument();a=Math.max(e(h).outerHeight(),a),s=Math.max(e(h).outerWidth(),s)}return{width:s-o,height:a-r}},_dragUpdateHandler:function(t){var e=t.offset,i=this._prevOffset,n={top:e.y-i.y,left:e.x-i.x};this._changePosition(n),this._prevOffset=e},_changePosition:function(t){var e=l.locate(this._$content);l.move(this._$content,{left:e.left+t.left,top:e.top+t.top}),this._positionChangeHandled=!0},_allowedOffsets:function(){var t=l.locate(this._$content),e=this._deltaSize(),i=e.height>=0&&e.width>=0,n=!this.option("shading")||this.option("container")||this._isWindow(this._getContainer())?{top:0,left:0}:l.locate(this._$wrapper),o=this.option("boundaryOffset");return{top:i?t.top+n.top+o.v:0,bottom:i?-t.top-n.top+e.height-o.v:0,left:i?t.left+n.left+o.h:0,right:i?-t.left-n.left+e.width-o.h:0}},_moveFromContainer:function(){this._$content.appendTo(this.$element()),this._detachWrapperToContainer()},_detachWrapperToContainer:function(){this._$wrapper.detach()},_moveToContainer:function(){this._attachWrapperToContainer(),this._$content.appendTo(this._$wrapper)},_attachWrapperToContainer:function(){var t=this.$element(),e=void 0!==this.option("container")?this._$container:R.getSwatchContainer(t);e&&e[0]===t.parent()[0]&&(e=t),this._$wrapper.appendTo(e)},_fixHeightAfterSafariAddressBarResizing:function(){this._isWindow(this._getContainer())&&it&&this._$wrapper.css("minHeight",r.innerHeight)},_renderGeometry:function(t){this.option("visible")&&n.hasWindow()&&this._renderGeometryImpl(t)},_renderGeometryImpl:function(t){this._stopAnimation(),this._normalizePosition(),this._renderWrapper(),this._fixHeightAfterSafariAddressBarResizing(),this._renderDimensions();var e=this._renderPosition();this._actions.onPositioned({position:e})},_fixWrapperPosition:function(){this._$wrapper.css("position",this._useFixedPosition()?"fixed":"absolute")},_useFixedPosition:function(){var t=this._getContainer();return this._isWindow(t)&&(!et||void 0!==this._bodyScrollTop)},_toggleSafariScrolling:function(t){if(et&&this._useFixedPosition()){var n=i.getBody();t?(e(n).removeClass(U),r.scrollTo(0,this._bodyScrollTop),this._bodyScrollTop=void 0):this.option("visible")&&(this._bodyScrollTop=r.pageYOffset,e(n).addClass(U))}},_renderWrapper:function(){this._fixWrapperPosition(),this._renderWrapperDimensions(),this._renderWrapperPosition()},_renderWrapperDimensions:function(){var t,e,i=this._getContainer();if(i){var n=this._isWindow(i);t=n?null:i.outerWidth(),e=n?null:i.outerHeight(),this._$wrapper.css({width:t,height:e})}},_isWindow:function(t){return!!t&&w.isWindow(t.get(0))},_renderWrapperPosition:function(){var t=this._getContainer();t&&m.setup(this._$wrapper,{my:"top left",at:"top left",of:t})},_getContainer:function(){var t=this._position,e=this.option("container"),i=null;!e&&t&&(i=!(!t.of||!t.of.preventDefault)?r:t.of||r);return rt(e||i)},_renderDimensions:function(){var t=this._$content.get(0);this._$content.css({minWidth:this._getOptionValue("minWidth",t),maxWidth:this._getOptionValue("maxWidth",t),minHeight:this._getOptionValue("minHeight",t),maxHeight:this._getOptionValue("maxHeight",t),width:this._getOptionValue("width",t),height:this._getOptionValue("height",t)})},_renderPosition:function(){if(!this._positionChangeHandled){this._renderOverlayBoundaryOffset(),l.resetPosition(this._$content);var t=this._transformStringPosition(this._position,J),e=m.setup(this._$content,t);return ot(this._$content),this._actions.onPositioning(),e}var i=this._allowedOffsets();this._changePosition({top:v(0,-i.top,i.bottom),left:v(0,-i.left,i.right)})},_transformStringPosition:function(t,e){return w.isString(t)&&(t=_({},e[t])),t},_renderOverlayBoundaryOffset:function(){var t=this.option("boundaryOffset");this._$content.css("margin",t.v+"px "+t.h+"px")},_focusTarget:function(){return this._$content},_attachKeyboardEvents:function(){this._keyboardProcessor=new O({element:this._$content,handler:this._keyboardHandler,context:this})},_keyboardHandler:function(t){var i=t.originalEvent;!e(i.target).is(this._$content)&&this.option("ignoreChildEvents")||this.callBase.apply(this,arguments)},_isVisible:function(){return this.option("visible")},_visibilityChanged:function(t){t?this.option("visible")&&this._renderVisibilityAnimate(t):this._renderVisibilityAnimate(t)},_dimensionChanged:function(){this._renderGeometry(!0)},_clean:function(){this._contentAlreadyRendered||this.$content().empty(),this._renderVisibility(!1),this._stopShowTimer(),this._cleanFocusState()},_stopShowTimer:function(){this._asyncShowTimeout&&clearTimeout(this._asyncShowTimeout),this._asyncShowTimeout=null},_dispose:function(){h.stop(this._$content,!1),clearTimeout(this._deferShowTimer),this._toggleViewPortSubscription(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._toggleTabTerminator(!1),this._toggleSafariScrolling(!0),this._actions=null,this.callBase(),W.remove(this._zIndex),this._$wrapper.remove(),this._$content.remove()},_toggleDisabledState:function(t){this.callBase.apply(this,arguments),this._$content.toggleClass(j,Boolean(t))},_toggleRTLDirection:function(t){this._$content.toggleClass(K,t)},_optionChanged:function(t){var e=t.value;if(p(t.name,Z)>-1)this._initActions();else switch(t.name){case"dragEnabled":this._renderDrag(),this._renderGeometry();break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"shading":case"shadingColor":this._toggleShading(this.option("visible"));break;case"width":case"height":case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":case"boundaryOffset":this._renderGeometry();break;case"position":this._positionChangeHandled=!1,this._renderGeometry();break;case"visible":this._renderVisibilityAnimate(e).done(function(){this._animateDeferred&&this._animateDeferred.resolveWith(this)}.bind(this));break;case"target":this._initTarget(e),this._invalidate();break;case"container":this._initContainer(e),this._invalidate();break;case"innerOverlay":this._initInnerOverlayClass();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._clean(),this._invalidate();break;case"closeOnBackButton":this._toggleHideTopOverlayCallback(this.option("visible"));break;case"closeOnTargetScroll":this._toggleParentsScrollSubscription(this.option("visible"));break;case"closeOnOutsideClick":case"animation":case"propagateOutsideClick":break;case"rtlEnabled":this._contentAlreadyRendered=!1,this.option("visible",!1),this.callBase(t);break;default:this.callBase(t)}},toggle:function(t){t=void 0===t?!this.option("visible"):t;var e=new D;if(t===this.option("visible"))return e.resolveWith(this,[t]).promise();var i=new D;return this._animateDeferred=i,this.option("visible",t),i.promise().done(function(){delete this._animateDeferred,e.resolveWith(this,[this.option("visible")])}.bind(this)),e.promise()},$content:function(){return this._$content},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},content:function(){return u(this._$content)},repaint:function(){this._renderGeometry(),b.triggerResizeEvent(this._$content)}});st.baseZIndex=function(t){return W.base(t)},H("dxOverlay",st),module.exports=st;
},{"../../core/renderer":"qxFQ","../../core/dom_adapter":"RRDy","../../core/utils/window":"NXH3","../../core/utils/ready_callbacks":"pyvP","../../events/core/events_engine":"oNrb","../../animation/fx":"qxJT","../../animation/translator":"IRTp","../../core/utils/version":"Dkvf","../../core/utils/view_port":"SnKV","../../core/utils/extend":"ac8T","../../core/utils/array":"uivT","../../core/utils/dom":"vDwZ","../../mobile/hide_top_overlay":"iQM5","../../animation/position":"cuhc","../../core/utils/math":"Ntiw","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/iterator":"FHcO","../../core/devices":"LpzF","../../core/utils/browser":"nlvS","../../core/component_registrator":"g3fO","../widget/ui.widget":"gtOK","../widget/ui.keyboard_processor":"H8iu","../widget/selectors":"m3d1","../../events/drag":"aHo5","../../events/utils":"cNvJ","../../events/pointer":"HDhW","../resizable":"jz3B","../../core/templates/empty_template":"pCBV","../../core/utils/deferred":"g5TB","./z_index":"YZ6y","../widget/swatch_container":"vEFC"}],"byva":[function(require,module,exports) {
"use strict";module.exports=require("./overlay/ui.overlay"),module.exports.default=module.exports;
},{"./overlay/ui.overlay":"s5Wp"}],"HlR7":[function(require,module,exports) {
"use strict";var e=require("../core/renderer"),t=require("../core/utils/common").noop,i=require("../localization/message"),n=require("../core/component_registrator"),o=require("../core/utils/extend").extend,a=require("./load_indicator"),s=require("./overlay"),r=require("../core/utils/deferred").Deferred,c=require("./themes"),d="dx-loadpanel",l="dx-loadpanel-wrapper",h="dx-loadpanel-indicator",p="dx-loadpanel-message",u="dx-loadpanel-content",_="dx-loadpanel-content-wrapper",m="dx-loadpanel-pane-hidden",f=s.inherit({_supportedKeys:function(){return o(this.callBase(),{escape:t})},_getDefaultOptions:function(){return o(this.callBase(),{message:i.format("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,closeOnBackButton:!1,resizeEnabled:!1,focusStateEnabled:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{shadingColor:"transparent"}},{device:function(){return c.isMaterial()},options:{message:"",width:60,height:60,maxHeight:60,maxWidth:60}}])},_init:function(){this.callBase.apply(this,arguments)},_initOptions:function(){this.callBase.apply(this,arguments),this.option("templatesRenderAsynchronously",!1)},_render:function(){this.callBase(),this.$element().addClass(d),this._wrapper().addClass(l)},_renderContentImpl:function(){this.callBase(),this.$content().addClass(u),this._$contentWrapper=e("<div>").addClass(_),this._$contentWrapper.appendTo(this._$content),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage()},_show:function(){var e=this.option("delay");if(!e)return this.callBase();var t=new r,i=this.callBase.bind(this);return this._clearShowTimeout(),this._showTimeout=setTimeout(function(){i().done(function(){t.resolve()})},e),t.promise()},_hide:function(){return this._clearShowTimeout(),this.callBase()},_clearShowTimeout:function(){clearTimeout(this._showTimeout)},_renderMessage:function(){if(this._$contentWrapper){var t=this.option("message");if(t){var i=e("<div>").addClass(p).text(t);this._$contentWrapper.append(i)}}},_renderLoadIndicator:function(){this._$contentWrapper&&this.option("showIndicator")&&(this._$indicator=e("<div>").addClass(h).appendTo(this._$contentWrapper),this._createComponent(this._$indicator,a,{indicatorSrc:this.option("indicatorSrc")}))},_cleanPreviousContent:function(){this.$content().find("."+p).remove(),this.$content().find("."+h).remove()},_togglePaneVisible:function(){this.$content().toggleClass(m,!this.option("showPane"))},_optionChanged:function(e){switch(e.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":this._$indicator&&this._createComponent(this._$indicator,a,{indicatorSrc:this.option("indicatorSrc")});break;default:this.callBase(e)}},_dispose:function(){this._clearShowTimeout(),this.callBase()}});n("dxLoadPanel",f),module.exports=f,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../core/utils/common":"GcQA","../localization/message":"Njcj","../core/component_registrator":"g3fO","../core/utils/extend":"ac8T","./load_indicator":"ncdk","./overlay":"byva","../core/utils/deferred":"g5TB","./themes":"k2ha"}],"rHW0":[function(require,module,exports) {
"use strict";var r=require("../core/utils/type"),e=c(r),t=require("../core/dom_adapter"),n=c(t),o=require("../core/utils/ready_callbacks"),i=require("../core/utils/window"),u=require("../core/utils/iterator"),a=require("../core/utils/data"),s=require("../core/utils/deferred");function c(r){return r&&r.__esModule?r:{default:r}}function f(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}var l="DEVEXTREME_XHR_ERROR_UNLOAD",p=function(r){return[r[0],r.length<3?"=":String(r[1]).toLowerCase(),r.length<2||r[r.length-1]]},d=function(e){return Array.isArray(e)||(e=[e]),(0,u.map)(e,function(e){var t={selector:(0,r.isFunction)(e)||"string"==typeof e?e:e.getter||e.field||e.selector,desc:!(!e.desc&&"d"!==String(e.dir).charAt(0).toLowerCase())};return e.compare&&(t.compare=e.compare),t})},v=function(){var r,e={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"};return(0,o.add)(function(){var e=(0,i.getWindow)();n.default.listen(e,"beforeunload",function(){r=!0})}),function(t,n){return r?l:t.status<400?function(r){var t=e[r];return t||r}(n):t.statusText}}(),m={count:{seed:0,step:function(r){return 1+r}},sum:{seed:0,step:function(r,e){return r+e}},min:{step:function(r,e){return e<r?e:r}},max:{step:function(r,e){return e>r?e:r}},avg:{seed:[0,0],step:function(r,e){return[r[0]+e,r[1]+1]},finalize:function(r){return r[1]?r[0]/r[1]:NaN}}},y=function(){var r,e=0;return{obtain:function(){0===e&&(r=new s.Deferred),e++},release:function(){--e<1&&r.resolve()},promise:function(){return(0===e?(new s.Deferred).resolve():r).promise()},reset:function(){e=0,r&&r.resolve()}}}();function A(r){return/^(or|\|\||\|)$/i.test(r)}function h(r){return/^(and|&&|&)$/i.test(r)}var g=function(r,e,t){if(Array.isArray(r)){for(var n,o=(0,u.map)(e,function(r,e){return e}),i=0;i<o.length;i++)if(n=o[i],(0,a.toComparable)(e[n],!0)!=(0,a.toComparable)(t[n],!0))return!1;return!0}return(0,a.toComparable)(e,!0)==(0,a.toComparable)(t,!0)},w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",C=function(r){Array.isArray(r)||(r=R(String(r)));var e="";function t(r){return w.charAt(r)}for(var n=0;n<r.length;n+=3){var o=r[n],i=r[n+1],a=r[n+2];e+=(0,u.map)([o>>2,(3&o)<<4|i>>4,isNaN(i)?64:(15&i)<<2|a>>6,isNaN(a)?64:63&a],t).join("")}return e},R=function(r){var e,t,n=[];for(t=0;t<r.length;t++)(e=r.charCodeAt(t))<128?n.push(e):e<2048?n.push(192+(e>>6),128+(63&e)):e<65536?n.push(224+(e>>12),128+(e>>6&63),128+(63&e)):e<2097152&&n.push(240+(e>>18),128+(e>>12&63),128+(e>>6&63),128+(63&e));return n},q=function(r){return"!"===r[0]&&Array.isArray(r[1])},N=function(r){return"and"===r||"or"===r},_=function(r){var t=r[0],n=r[1];return!!Array.isArray(t)||!(!e.default.isFunction(t)||!(Array.isArray(n)||e.default.isFunction(n)||N(n)))},b=function(){var r=new s.Deferred;return r.resolve.apply(r,arguments).promise()},D=function(){var r=new s.Deferred;return r.reject.apply(r,arguments).promise()};function E(e,t){var n,o;return function(){var i=this;return o=arguments,n||(n=setTimeout(function(){n=void 0,o&&e.call(i,o)},(0,r.isFunction)(t)?t():t)),n}}function O(r,e){var t=[],n=E(function(){r.call(this,t),t=[]},e);return function(r){var e;Array.isArray(r)&&(e=t).push.apply(e,f(r));return n.call(this,t)}}var j={XHR_ERROR_UNLOAD:l,normalizeBinaryCriterion:p,normalizeSortingInfo:d,errorMessageFromXhr:v,aggregators:m,keysEqual:g,throttleChanges:O,trivialPromise:b,rejectedPromise:D,isDisjunctiveOperator:A,isConjunctiveOperator:h,processRequestResultLock:y,isUnaryOperation:q,isGroupCriterion:_,base64_encode:C};module.exports=j;
},{"../core/utils/type":"Mw4w","../core/dom_adapter":"RRDy","../core/utils/ready_callbacks":"pyvP","../core/utils/window":"NXH3","../core/utils/iterator":"FHcO","../core/utils/data":"YLhW","../core/utils/deferred":"g5TB"}],"IcD0":[function(require,module,exports) {
"use strict";var e=require("./type"),t=require("./math").adjust,n=require("./iterator").each,r=require("./inflector").camelize,a=e.isObject,u=e.isString,o=e.isDate,i=e.isDefined,s=["millisecond","second","minute","hour","day","week","month","quarter","year"],c=function e(t){switch(t){case"millisecond":return 1;case"second":return 1e3*e("millisecond");case"minute":return 60*e("second");case"hour":return 60*e("minute");case"day":return 24*e("hour");case"week":return 7*e("day");case"month":return 30*e("day");case"quarter":return 3*e("month");case"year":return 365*e("day");default:return 0}},g=function(e,t,n){var r=t.getTime()-e.getTime(),a=c(n)||1;return Math.floor(r/a)},l=function(e,t){switch(D(e)){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return t?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},m=function(e){var t,n,r,a=["millisecond","second","minute","hour","day","month","year"],u={};for(t=a.length-1;t>=0;t--)r=a[t],(n=Math.floor(e/c(r)))>0&&(u[r+"s"]=n,e-=h(r,n));return u},d=function(e){var t=0;return a(e)&&n(e,function(e,n){t+=h(e.substr(0,e.length-1),n)}),u(e)&&(t=h(e,1)),t},h=function(e,t){return c(e)*t},D=function(e){var t,r=-1;return u(e)?e:a(e)?(n(e,function(e,n){for(t=0;t<s.length;t++)n&&(e===s[t]+"s"||e===s[t])&&r<t&&(r=t)}),s[r]):""},f={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"};function y(e){return f[D(e)]||""}var w=function(e){return Math.floor(e/3)},M=function(e){return 3*w(e)},v=function(e,t,n,r){e=new Date(e.getTime());var a,u,o=new Date(e.getTime()),i=D(t);switch(i){case"second":e=new Date(1e3*Math.floor(o.getTime()/1e3));break;case"minute":e=new Date(6e4*Math.floor(o.getTime()/6e4));break;case"hour":e=new Date(36e5*Math.floor(o.getTime()/36e5));break;case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0,0,0,0);break;case"week":(e=K(e,r||0)).setHours(0,0,0,0);break;case"quarter":a=M(e.getMonth()),u=e.getMonth(),e.setDate(1),e.setHours(0,0,0,0),u!==a&&e.setMonth(a)}return n&&"hour"!==i&&"minute"!==i&&"second"!==i&&ee(o,e),e},F=function(e){return ue.correctDateWithUnitBeginning(e,"day")},T=function(e){var t=ue.trimTime(e);return t.setDate(t.getDate()+1),new Date(t.getTime()-1)},Y=function(e,t){var r,a=0;return r={year:e.getFullYear()!==t.getFullYear(),month:e.getMonth()!==t.getMonth(),day:e.getDate()!==t.getDate(),hour:e.getHours()!==t.getHours(),minute:e.getMinutes()!==t.getMinutes(),second:e.getSeconds()!==t.getSeconds(),millisecond:e.getMilliseconds()!==t.getMilliseconds()},n(r,function(e,t){t&&a++}),0===a&&0!==ne(e,t)&&(r.hour=!0,a++),r.count=a,r};function k(t,n,r){var a=new Date(t.getTime()),o=u(n)?x(n.toLowerCase()):e.isNumeric(n)?m(n):n;return o.years&&a.setFullYear(a.getFullYear()+o.years*r),o.quarters&&a.setMonth(a.getMonth()+3*o.quarters*r),o.months&&a.setMonth(a.getMonth()+o.months*r),o.weeks&&a.setDate(a.getDate()+7*o.weeks*r),o.days&&a.setDate(a.getDate()+o.days*r),o.hours&&a.setTime(a.getTime()+36e5*o.hours*r),o.minutes&&a.setTime(a.getTime()+6e4*o.minutes*r),o.seconds&&a.setTime(a.getTime()+1e3*o.seconds*r),o.milliseconds&&a.setTime(a.getTime()+o.milliseconds*r),a}var I=function(e,n,r){var a=r?-1:1;return o(e)?k(e,n,a):t(e+n*a,n)},b=function(e,t,n){var r,a=[];for(a.push(o(e)?new Date(e.getTime()):e),r=e;r<t;)r=I(r,n),a.push(r);return a},q=function(e,t){return"month"===e?new Date(t.getFullYear(),t.getMonth(),1):"year"===e?new Date(t.getFullYear(),0,t.getDate()):"decade"===e?new Date(E(t),t.getMonth(),t.getDate()):"century"===e?new Date(A(t),t.getMonth(),t.getDate()):void 0},H=function(e,t){return"month"===e?new Date(t.getFullYear(),t.getMonth(),p(t)):"year"===e?new Date(t.getFullYear(),11,t.getDate()):"decade"===e?new Date(E(t)+9,t.getMonth(),t.getDate()):"century"===e?new Date(A(t)+90,t.getMonth(),t.getDate()):void 0},B=function(e,t){var n=new Date(t.getFullYear(),t.getMonth(),1);return"month"===e?n:(n.setMonth(0),"year"===e?n:("decade"===e&&n.setFullYear(E(t)),"century"===e&&n.setFullYear(A(t)),n))},U=function(e,t){var n=new Date(t);return n.setDate(p(t)),"month"===e?n:(n.setMonth(11),n.setDate(p(n)),"year"===e?n:("decade"===e&&n.setFullYear(E(t)+9),"century"===e&&n.setFullYear(A(t)+99),n))},p=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},z=function(e,t,n){return ue[r("same "+e)](t,n)},S=function(e){switch(e){case"month":return"year";case"year":return"decade";case"decade":return"century"}},V=function(e){switch(e){case"century":return"decade";case"decade":return"year";case"year":return"month"}},W=function(e){var t=1;return"year"===e&&(t=12),"decade"===e&&(t=120),"century"===e&&(t=1200),t},C=function(e){var t=1;return"decade"===e&&(t=12),"century"===e&&(t=120),t},x=function(e){var t={};switch(e){case"year":t.years=1;break;case"month":t.months=1;break;case"quarter":t.months=3;break;case"week":t.weeks=1;break;case"day":t.days=1;break;case"hour":t.hours=1;break;case"minute":t.minutes=1;break;case"second":t.seconds=1;break;case"millisecond":t.milliseconds=1}return t},L=function(e,t){return O(e,t)&&e.getDate()===t.getDate()},O=function(e,t){return j(e,t)&&e.getMonth()===t.getMonth()},j=function(e,t){return e&&t&&e.getFullYear()===t.getFullYear()},N=function(e,t){if(i(e)&&i(t)){var n=e.getFullYear()-e.getFullYear()%10,r=t.getFullYear()-t.getFullYear()%10;return e&&t&&n===r}},Q=function(e,t){if(i(e)&&i(t)){var n=e.getFullYear()-e.getFullYear()%100,r=t.getFullYear()-t.getFullYear()%100;return e&&t&&n===r}},A=function(e){return e&&e.getFullYear()-e.getFullYear()%100},E=function(e){return e&&e.getFullYear()-e.getFullYear()%10},G=function(){return"yyyy/MM/dd"},R=function(e){if(i(e))return new Date(e.getFullYear(),e.getMonth(),1)},J=function(e){if(i(e))return new Date(e.getFullYear(),e.getMonth()+1,0)},K=function(e,t){var n=(e.getDay()-t+7)%7,r=new Date(e);return r.setDate(e.getDate()-n),r},P=function(e,t){var n=ue.getDatesInterval(e,t,"day"),r=new Date(e);return n>=6&&(r=new Date(r.setDate(r.getDate()+7))),r},X=function(e,t,n,r){return"date"===r&&(t=t&&ue.correctDateWithUnitBeginning(t,"day"),n=n&&ue.correctDateWithUnitBeginning(n,"day"),e=e&&ue.correctDateWithUnitBeginning(e,"day")),_(e,t,n)===e},Z=function(e){return{hours:Math.floor(e),minutes:e%1*60}},$=function(e,t){var n=this.dateTimeFromDecimal(t),r=new Date(e);return(e.getHours()===n.hours&&e.getMinutes()<n.minutes||e.getHours()<n.hours)&&r.setHours(n.hours,n.minutes,0,0),r},_=function(e,t,n){var r=e;return i(e)?(i(t)&&e<t&&(r=t),i(n)&&e>n&&(r=n),r):e},ee=function(e,t){if(i(e)){var n,r,a=t.getHours()-e.getHours();0!==a&&(n=1===a||-23===a?-1:1,r=new Date(t.getTime()+36e5*n),(n>0||r.getDate()===t.getDate())&&t.setTime(r.getTime()))}},te=function(e){return e.setHours(e.getHours()+1),e.setMinutes(0),e},ne=function(e,t){return 60*(t.getTimezoneOffset()-e.getTimezoneOffset())*1e3},re=function(e){return new Date(e)},ae=function(e,t,n){for(var r=new Date(e.getTime()),a=[];r<t;)a.push(new Date(r.getTime())),r=this.addInterval(r,n);return a},ue={dateUnitIntervals:s,convertMillisecondsToDateUnits:m,dateToMilliseconds:d,getNextDateUnit:l,convertDateUnitToMilliseconds:h,getDateUnitInterval:D,getDateFormatByTickInterval:y,getDatesDifferences:Y,correctDateWithUnitBeginning:v,trimTime:F,setToDayEnd:T,roundDateByStartDayHour:$,dateTimeFromDecimal:Z,addDateInterval:k,addInterval:I,getSequenceByInterval:b,getDateIntervalByString:x,sameDate:L,sameMonthAndYear:O,sameMonth:O,sameYear:j,sameDecade:N,sameCentury:Q,sameView:z,getDifferenceInMonth:W,getDifferenceInMonthForCells:C,getFirstYearInDecade:E,getFirstDecadeInCentury:A,getShortDateFormat:G,getViewFirstCellDate:q,getViewLastCellDate:H,getViewDown:V,getViewUp:S,getLastMonthDay:p,getLastMonthDate:J,getFirstMonthDate:R,getFirstWeekDate:K,normalizeDateByWeek:P,getQuarter:w,getFirstQuarterMonth:M,dateInRange:X,roundToHour:te,normalizeDate:_,getViewMinBoundaryDate:B,getViewMaxBoundaryDate:U,fixTimezoneGap:ee,getTimezonesDifference:ne,makeDate:re,getDatesInterval:g,getDatesOfInterval:ae};module.exports=ue;
},{"./type":"Mw4w","./math":"Ntiw","./iterator":"FHcO","./inflector":"i2nR"}],"CWa9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toFixed=void 0;var t=require("../core/utils/math"),e=10;function r(e){return(0,t.sign)(e)*Math.round(Math.abs(e))}function o(t,o){var i=Math.pow(e,o),n=r(t*(i*e))/e;return r(n)/i}function i(t,e){var r=e||0;return(r>0?o.apply(void 0,arguments):t).toFixed(r)}exports.toFixed=i;
},{"../core/utils/math":"Ntiw"}],"khSM":[function(require,module,exports) {
"use strict";var t=require("../../core/utils/math").fitIntoRange,r=require("../utils").toFixed,e={thousandsSeparator:",",decimalSeparator:"."},n="'",i=15;function u(t){return t.split(",").slice(1).map(function(t){return t.split("").filter(function(t){return"#"===t||"0"===t}).length})}function l(t){var r=t.split(";");return 1===r.length&&r.push("-"+r[0]),r}function o(t){return t.toString().split("").reverse().join("")}function a(t){return-1!==t.indexOf("%")&&!t.match(/'[^']*%[^']*'/g)}function c(t){return t?t.length-t.replace(/[#]/g,"").length:0}function s(t){return t?t.length-t.replace(/[0]/g,"").length:0}function f(t,r,e){if(!t)return"";for(t.length>e&&(t=t.substr(0,e));t.length>r&&"0"===t.slice(-1);)t=t.substr(0,t.length-1);for(;t.length<r;)t+="0";return t}function g(t,r,e){if(!r.length)return t;for(var n=[],i=0;t;){var u=r[i];n.push(t.slice(0,u)),t=t.slice(u),i<r.length-1&&i++}return n.join(e)}function h(t,r){return t.split(n).map(function(t,e){var i=e%2;return!t&&i?n:i?t:t.replace(/[,#0]+/,r)}).join("")}function p(t){for(var r=!1,e=0;e<t.length;e++)if("'"===t[e]&&(r=!r),"."===t[e]&&!r)return e;return t.length}function v(n,v){return v=v||e,function(e){if("number"!=typeof e||isNaN(e))return"";var d=e>0||1/e==1/0,m=l(n)[d?0:1];a(m)&&(e*=100),d||(e=-e);var x=p(m),S=[m.substr(0,x),m.substr(x+1)],b=s(S[1]),F=b+c(S[1]),O=s(S[0]),j=c(S[0])?void 0:O,q=Math.floor(e).toString().length,w=t(F,0,i-q),N=u(S[0]).reverse(),$=r(e,w<0?0:w).split("."),y=f(o($[0]),O,j),D=f($[1],b,F);y=g(y,N,v.thousandsSeparator);var I=o(h(o(S[0]),y)),M=F?h(S[1],D):"";return I+(M.match(/\d/)?v.decimalSeparator:"")+M}}function d(t,r,e){var n=(r?.01:1)*parseFloat(t)||0;return e?-n:n}function m(t,r,e,n){var i,u,l,o=t;do{l&&(i=u.length===l.length?"0":"1",t=n?i+t:t+i),u=l||r(d(o,e)),l=r(d(o=n?"1"+o:o+"1",e))}while(u!==l&&(n?u.length===l.length:u.length<=l.length));if(n&&l.length>u.length){var a=-1===r(12345).indexOf("12345");do{t="1"+t}while(a&&d(t,e)<1e5)}return t}function x(t,r,e,n){var i=r(d(t,e,n)),u=t.split("."),l=r(d(u[0]+".3"+u[1].slice(1),e,n)).indexOf("3")-1;return i=i.replace(/(\d)\D(\d)/g,"$1,$2"),l>=0&&(i=i.slice(0,l)+"."+i.slice(l+1)),i=i.replace(/1+/,"1").replace(/1/g,"#"),e||(i=i.replace("%","'%'")),i}function S(t){var r=".",e=t(1).indexOf("100")>=0;r=m(r,t,e,!0);var n=x(r=m(r,t,e,!1),t,e,!1),i=x(r,t,e,!0);return i==="-"+n?n:n+";"+i}exports.getFormatter=v,exports.getFormat=S;
},{"../../core/utils/math":"Ntiw","../utils":"CWa9"}],"yP9W":[function(require,module,exports) {
"use strict";var e=require("../core/utils/extend");module.exports={_formatNumberCore:function(r,t,n){if("currency"===t){n.precision=n.precision||0;var i=this.format(r,(0,e.extend)({},n,{type:"fixedpoint"})),o=this.getCurrencySymbol().symbol.replace("$","$$$$");return i=i.replace(/^(\D*)(\d.*)/,"$1"+o+"$2")}return this.callBase.apply(this,arguments)},getCurrencySymbol:function(){return{symbol:"$"}},getOpenXmlCurrencyFormat:function(){return"$#,##0{0}_);\\($#,##0{0}\\)"}};
},{"../core/utils/extend":"ac8T"}],"tYH1":[function(require,module,exports) {
"use strict";module.exports=function(e,t){if(t){for(var r={".00":"{0}","'":"\\'","\\(":"\\(","\\)":"\\)"," ":"\\ ",'"':"&quot;","\\":e},o=t.split(";"),n=0;n<o.length;n++)for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(o[n]=o[n].replace(new RegExp(l,"g"),r[l]));return 2===o.length?o[0]+"_);"+o[1]:o[0]}};
},{}],"MGKV":[function(require,module,exports) {
"use strict";module.exports={af:"#,##0.00;(#,##0.00)","af-NA":"#,##0.00;(#,##0.00)",agq:"#,##0.00",ak:"#,##0.00",am:"#,##0.00;(#,##0.00)",ar:"#,##0.00;(#,##0.00)","ar-AE":"#,##0.00;(#,##0.00)","ar-BH":"#,##0.00;(#,##0.00)","ar-DJ":"#,##0.00;(#,##0.00)","ar-DZ":"#,##0.00;(#,##0.00)","ar-EG":"#,##0.00;(#,##0.00)","ar-EH":"#,##0.00;(#,##0.00)","ar-ER":"#,##0.00;(#,##0.00)","ar-IL":"#,##0.00;(#,##0.00)","ar-IQ":"#,##0.00;(#,##0.00)","ar-JO":"#,##0.00;(#,##0.00)","ar-KM":"#,##0.00;(#,##0.00)","ar-KW":"#,##0.00;(#,##0.00)","ar-LB":"#,##0.00;(#,##0.00)","ar-LY":"#,##0.00;(#,##0.00)","ar-MA":"#,##0.00;(#,##0.00)","ar-MR":"#,##0.00;(#,##0.00)","ar-OM":"#,##0.00;(#,##0.00)","ar-PS":"#,##0.00;(#,##0.00)","ar-QA":"#,##0.00;(#,##0.00)","ar-SA":"#,##0.00;(#,##0.00)","ar-SD":"#,##0.00;(#,##0.00)","ar-SO":"#,##0.00;(#,##0.00)","ar-SS":"#,##0.00;(#,##0.00)","ar-SY":"#,##0.00;(#,##0.00)","ar-TD":"#,##0.00;(#,##0.00)","ar-TN":"#,##0.00;(#,##0.00)","ar-YE":"#,##0.00;(#,##0.00)",as:"#,##,##0.00",asa:"#,##0.00",ast:"#,##0.00",az:"#,##0.00","az-Cyrl":"#,##0.00","az-Latn":"#,##0.00",bas:"#,##0.00",be:"#,##0.00",bem:"#,##0.00;(#,##0.00)",bez:"#,##0.00",bg:"0.00;(0.00)",bm:"#,##0.00;(#,##0.00)",bn:"#,##,##0.00;(#,##,##0.00)","bn-IN":"#,##,##0.00;(#,##,##0.00)",bo:"#,##0.00","bo-IN":"#,##0.00",br:"#,##0.00",brx:"#,##,##0.00",bs:"#,##0.00","bs-Cyrl":"#,##0.00","bs-Latn":"#,##0.00",ca:"#,##0.00;(#,##0.00)","ca-AD":"#,##0.00;(#,##0.00)","ca-ES-VALENCIA":"#,##0.00;(#,##0.00)","ca-FR":"#,##0.00;(#,##0.00)","ca-IT":"#,##0.00;(#,##0.00)",ccp:"#,##,##0.00;(#,##,##0.00)","ccp-IN":"#,##,##0.00;(#,##,##0.00)",ce:"#,##0.00",ceb:"#,##0.00;(#,##0.00)",cgg:"#,##0.00",chr:"#,##0.00;(#,##0.00)",ckb:"#,##0.00","ckb-IR":"#,##0.00",cs:"#,##0.00",cu:"#,##0.00",cy:"#,##0.00;(#,##0.00)",da:"#,##0.00","da-GL":"#,##0.00",dav:"#,##0.00;(#,##0.00)",de:"#,##0.00","de-AT":"#,##0.00","de-BE":"#,##0.00","de-CH":"#,##0.00","de-IT":"#,##0.00","de-LI":"#,##0.00","de-LU":"#,##0.00",dje:"#,##0.00",dsb:"#,##0.00",dua:"#,##0.00",dyo:"#,##0.00",dz:"#,##,##0.00",ebu:"#,##0.00;(#,##0.00)",ee:"#,##0.00;(#,##0.00)","ee-TG":"#,##0.00;(#,##0.00)",el:"#,##0.00","el-CY":"#,##0.00",en:"#,##0.00;(#,##0.00)","en-001":"#,##0.00;(#,##0.00)","en-150":"#,##0.00","en-AE":"#,##0.00;(#,##0.00)","en-AG":"#,##0.00;(#,##0.00)","en-AI":"#,##0.00;(#,##0.00)","en-AS":"#,##0.00;(#,##0.00)","en-AT":"#,##0.00","en-AU":"#,##0.00;(#,##0.00)","en-BB":"#,##0.00;(#,##0.00)","en-BE":"#,##0.00","en-BI":"#,##0.00;(#,##0.00)","en-BM":"#,##0.00;(#,##0.00)","en-BS":"#,##0.00;(#,##0.00)","en-BW":"#,##0.00;(#,##0.00)","en-BZ":"#,##0.00;(#,##0.00)","en-CA":"#,##0.00;(#,##0.00)","en-CC":"#,##0.00;(#,##0.00)","en-CH":"#,##0.00;-#,##0.00","en-CK":"#,##0.00;(#,##0.00)","en-CM":"#,##0.00;(#,##0.00)","en-CX":"#,##0.00;(#,##0.00)","en-CY":"#,##0.00;(#,##0.00)","en-DE":"#,##0.00","en-DG":"#,##0.00;(#,##0.00)","en-DK":"#,##0.00","en-DM":"#,##0.00;(#,##0.00)","en-ER":"#,##0.00;(#,##0.00)","en-FI":"#,##0.00","en-FJ":"#,##0.00;(#,##0.00)","en-FK":"#,##0.00;(#,##0.00)","en-FM":"#,##0.00;(#,##0.00)","en-GB":"#,##0.00;(#,##0.00)","en-GD":"#,##0.00;(#,##0.00)","en-GG":"#,##0.00;(#,##0.00)","en-GH":"#,##0.00;(#,##0.00)","en-GI":"#,##0.00;(#,##0.00)","en-GM":"#,##0.00;(#,##0.00)","en-GU":"#,##0.00;(#,##0.00)","en-GY":"#,##0.00;(#,##0.00)","en-HK":"#,##0.00;(#,##0.00)","en-IE":"#,##0.00;(#,##0.00)","en-IL":"#,##0.00;(#,##0.00)","en-IM":"#,##0.00;(#,##0.00)","en-IN":"#,##0.00;(#,##0.00)","en-IO":"#,##0.00;(#,##0.00)","en-JE":"#,##0.00;(#,##0.00)","en-JM":"#,##0.00;(#,##0.00)","en-KE":"#,##0.00;(#,##0.00)","en-KI":"#,##0.00;(#,##0.00)","en-KN":"#,##0.00;(#,##0.00)","en-KY":"#,##0.00;(#,##0.00)","en-LC":"#,##0.00;(#,##0.00)","en-LR":"#,##0.00;(#,##0.00)","en-LS":"#,##0.00;(#,##0.00)","en-MG":"#,##0.00;(#,##0.00)","en-MH":"#,##0.00;(#,##0.00)","en-MO":"#,##0.00;(#,##0.00)","en-MP":"#,##0.00;(#,##0.00)","en-MS":"#,##0.00;(#,##0.00)","en-MT":"#,##0.00;(#,##0.00)","en-MU":"#,##0.00;(#,##0.00)","en-MW":"#,##0.00;(#,##0.00)","en-MY":"#,##0.00;(#,##0.00)","en-NA":"#,##0.00;(#,##0.00)","en-NF":"#,##0.00;(#,##0.00)","en-NG":"#,##0.00;(#,##0.00)","en-NL":"#,##0.00;(#,##0.00)","en-NR":"#,##0.00;(#,##0.00)","en-NU":"#,##0.00;(#,##0.00)","en-NZ":"#,##0.00;(#,##0.00)","en-PG":"#,##0.00;(#,##0.00)","en-PH":"#,##0.00;(#,##0.00)","en-PK":"#,##0.00;(#,##0.00)","en-PN":"#,##0.00;(#,##0.00)","en-PR":"#,##0.00;(#,##0.00)","en-PW":"#,##0.00;(#,##0.00)","en-RW":"#,##0.00;(#,##0.00)","en-SB":"#,##0.00;(#,##0.00)","en-SC":"#,##0.00;(#,##0.00)","en-SD":"#,##0.00;(#,##0.00)","en-SE":"#,##0.00","en-SG":"#,##0.00;(#,##0.00)","en-SH":"#,##0.00;(#,##0.00)","en-SI":"#,##0.00;(#,##0.00)","en-SL":"#,##0.00;(#,##0.00)","en-SS":"#,##0.00;(#,##0.00)","en-SX":"#,##0.00;(#,##0.00)","en-SZ":"#,##0.00;(#,##0.00)","en-TC":"#,##0.00;(#,##0.00)","en-TK":"#,##0.00;(#,##0.00)","en-TO":"#,##0.00;(#,##0.00)","en-TT":"#,##0.00;(#,##0.00)","en-TV":"#,##0.00;(#,##0.00)","en-TZ":"#,##0.00;(#,##0.00)","en-UG":"#,##0.00;(#,##0.00)","en-UM":"#,##0.00;(#,##0.00)","en-US-POSIX":"#,##0.00;(#,##0.00)","en-VC":"#,##0.00;(#,##0.00)","en-VG":"#,##0.00;(#,##0.00)","en-VI":"#,##0.00;(#,##0.00)","en-VU":"#,##0.00;(#,##0.00)","en-WS":"#,##0.00;(#,##0.00)","en-ZA":"#,##0.00;(#,##0.00)","en-ZM":"#,##0.00;(#,##0.00)","en-ZW":"#,##0.00;(#,##0.00)",eo:"#,##0.00",es:"#,##0.00","es-419":"#,##0.00","es-AR":"#,##0.00;(#,##0.00)","es-BO":"#,##0.00","es-BR":"#,##0.00","es-BZ":"#,##0.00","es-CL":"#,##0.00","es-CO":"#,##0.00","es-CR":"#,##0.00","es-CU":"#,##0.00","es-DO":"#,##0.00;(#,##0.00)","es-EA":"#,##0.00","es-EC":"#,##0.00","es-GQ":"#,##0.00","es-GT":"#,##0.00","es-HN":"#,##0.00","es-IC":"#,##0.00","es-MX":"#,##0.00","es-NI":"#,##0.00","es-PA":"#,##0.00","es-PE":"#,##0.00","es-PH":"#,##0.00","es-PR":"#,##0.00","es-PY":"#,##0.00","es-SV":"#,##0.00","es-US":"#,##0.00","es-UY":"#,##0.00;(#,##0.00)","es-VE":"#,##0.00",et:"#,##0.00;(#,##0.00)",eu:"#,##0.00;(#,##0.00)",ewo:"#,##0.00",fa:"#,##0.00;(#,##0.00)","fa-AF":"#,##0.00;(#,##0.00)",ff:"#,##0.00","ff-Latn":"#,##0.00","ff-Latn-BF":"#,##0.00","ff-Latn-CM":"#,##0.00","ff-Latn-GH":"#,##0.00","ff-Latn-GM":"#,##0.00","ff-Latn-GN":"#,##0.00","ff-Latn-GW":"#,##0.00","ff-Latn-LR":"#,##0.00","ff-Latn-MR":"#,##0.00","ff-Latn-NE":"#,##0.00","ff-Latn-NG":"#,##0.00","ff-Latn-SL":"#,##0.00",fi:"#,##0.00",fil:"#,##0.00;(#,##0.00)",fo:"#,##0.00;(#,##0.00)","fo-DK":"#,##0.00;(#,##0.00)",fr:"#,##0.00;(#,##0.00)","fr-BE":"#,##0.00;(#,##0.00)","fr-BF":"#,##0.00;(#,##0.00)","fr-BI":"#,##0.00;(#,##0.00)","fr-BJ":"#,##0.00;(#,##0.00)","fr-BL":"#,##0.00;(#,##0.00)","fr-CA":"#,##0.00;(#,##0.00)","fr-CD":"#,##0.00;(#,##0.00)","fr-CF":"#,##0.00;(#,##0.00)","fr-CG":"#,##0.00;(#,##0.00)","fr-CH":"#,##0.00;(#,##0.00)","fr-CI":"#,##0.00;(#,##0.00)","fr-CM":"#,##0.00;(#,##0.00)","fr-DJ":"#,##0.00;(#,##0.00)","fr-DZ":"#,##0.00;(#,##0.00)","fr-GA":"#,##0.00;(#,##0.00)","fr-GF":"#,##0.00;(#,##0.00)","fr-GN":"#,##0.00;(#,##0.00)","fr-GP":"#,##0.00;(#,##0.00)","fr-GQ":"#,##0.00;(#,##0.00)","fr-HT":"#,##0.00;(#,##0.00)","fr-KM":"#,##0.00;(#,##0.00)","fr-LU":"#,##0.00;(#,##0.00)","fr-MA":"#,##0.00;(#,##0.00)","fr-MC":"#,##0.00;(#,##0.00)","fr-MF":"#,##0.00;(#,##0.00)","fr-MG":"#,##0.00;(#,##0.00)","fr-ML":"#,##0.00;(#,##0.00)","fr-MQ":"#,##0.00;(#,##0.00)","fr-MR":"#,##0.00;(#,##0.00)","fr-MU":"#,##0.00;(#,##0.00)","fr-NC":"#,##0.00;(#,##0.00)","fr-NE":"#,##0.00;(#,##0.00)","fr-PF":"#,##0.00;(#,##0.00)","fr-PM":"#,##0.00;(#,##0.00)","fr-RE":"#,##0.00;(#,##0.00)","fr-RW":"#,##0.00;(#,##0.00)","fr-SC":"#,##0.00;(#,##0.00)","fr-SN":"#,##0.00;(#,##0.00)","fr-SY":"#,##0.00;(#,##0.00)","fr-TD":"#,##0.00;(#,##0.00)","fr-TG":"#,##0.00;(#,##0.00)","fr-TN":"#,##0.00;(#,##0.00)","fr-VU":"#,##0.00;(#,##0.00)","fr-WF":"#,##0.00;(#,##0.00)","fr-YT":"#,##0.00;(#,##0.00)",fur:"#,##0.00",fy:"#,##0.00;(#,##0.00)",ga:"#,##0.00;(#,##0.00)","ga-GB":"#,##0.00;(#,##0.00)",gd:"#,##0.00;(#,##0.00)",gl:"#,##0.00",gsw:"#,##0.00","gsw-FR":"#,##0.00","gsw-LI":"#,##0.00",gu:"#,##,##0.00;(#,##,##0.00)",guz:"#,##0.00;(#,##0.00)",gv:"#,##0.00",ha:"#,##0.00","ha-GH":"#,##0.00","ha-NE":"#,##0.00",haw:"#,##0.00;(#,##0.00)",he:"#,##0.00",hi:"#,##,##0.00",hr:"#,##0.00","hr-BA":"#,##0.00",hsb:"#,##0.00",hu:"#,##0.00",hy:"#,##0.00",ia:"#,##0.00;(#,##0.00)",id:"#,##0.00",ig:"#,##0.00;(#,##0.00)",ii:"#,##0.00",is:"#,##0.00",it:"#,##0.00","it-CH":"#,##0.00","it-SM":"#,##0.00","it-VA":"#,##0.00",ja:"#,##0.00;(#,##0.00)",jgo:"#,##0.00",jmc:"#,##0.00",jv:"#,##0.00",ka:"#,##0.00",kab:"#,##0.00",kam:"#,##0.00;(#,##0.00)",kde:"#,##0.00;(#,##0.00)",kea:"#,##0.00;(#,##0.00)",khq:"#,##0.00",ki:"#,##0.00;(#,##0.00)",kk:"#,##0.00",kkj:"#,##0.00",kl:"#,##0.00;-#,##0.00",kln:"#,##0.00;(#,##0.00)",km:"#,##0.00;(#,##0.00)",kn:"#,##0.00;(#,##0.00)",ko:"#,##0.00;(#,##0.00)","ko-KP":"#,##0.00;(#,##0.00)",kok:"#,##0.00;(#,##0.00)",ks:"#,##,##0.00",ksb:"#,##0.00",ksf:"#,##0.00",ksh:"#,##0.00",ku:"#,##0.00;(#,##0.00)",kw:"#,##0.00",ky:"#,##0.00",lag:"#,##0.00",lb:"#,##0.00",lg:"#,##0.00",lkt:"#,##0.00",ln:"#,##0.00","ln-AO":"#,##0.00","ln-CF":"#,##0.00","ln-CG":"#,##0.00",lo:"#,##0.00;-#,##0.00",lrc:"#,##0.00","lrc-IQ":"#,##0.00",lt:"#,##0.00",lu:"#,##0.00",luo:"#,##0.00",luy:"#,##0.00;-#,##0.00",lv:"#,##0.00",mas:"#,##0.00;(#,##0.00)","mas-TZ":"#,##0.00;(#,##0.00)",mer:"#,##0.00;(#,##0.00)",mfe:"#,##0.00",mg:"#,##0.00",mgh:"#,##0.00",mgo:"#,##0.00",mi:"#,##0.00",mk:"#,##0.00",ml:"#,##0.00;(#,##0.00)",mn:"#,##0.00",mr:"#,##0.00;(#,##0.00)",ms:"#,##0.00;(#,##0.00)","ms-BN":"#,##0.00;(#,##0.00)","ms-SG":"#,##0.00;(#,##0.00)",mt:"#,##0.00",mua:"#,##0.00;(#,##0.00)",my:"#,##0.00",mzn:"#,##0.00",naq:"#,##0.00",nb:"#,##0.00","nb-SJ":"#,##0.00",nd:"#,##0.00;(#,##0.00)",nds:"#,##0.00","nds-NL":"#,##0.00",ne:"#,##0.00","ne-IN":"#,##0.00",nl:"#,##0.00;(#,##0.00)","nl-AW":"#,##0.00;(#,##0.00)","nl-BE":"#,##0.00;(#,##0.00)","nl-BQ":"#,##0.00;(#,##0.00)","nl-CW":"#,##0.00;(#,##0.00)","nl-SR":"#,##0.00;(#,##0.00)","nl-SX":"#,##0.00;(#,##0.00)",nmg:"#,##0.00",nn:"#,##0.00",nnh:"#,##0.00",nus:"#,##0.00;(#,##0.00)",nyn:"#,##0.00",om:"#,##0.00","om-KE":"#,##0.00",or:"#,##0.00;(#,##0.00)",os:"#,##0.00","os-RU":"#,##0.00",pa:"#,##0.00","pa-Arab":"#,##0.00","pa-Guru":"#,##0.00",pl:"#,##0.00;(#,##0.00)",prg:"#,##0.00",ps:"#,##0.00;(#,##0.00)","ps-PK":"#,##0.00;(#,##0.00)",pt:"#,##0.00","pt-AO":"#,##0.00;(#,##0.00)","pt-CH":"#,##0.00;(#,##0.00)","pt-CV":"#,##0.00;(#,##0.00)","pt-GQ":"#,##0.00;(#,##0.00)","pt-GW":"#,##0.00;(#,##0.00)","pt-LU":"#,##0.00;(#,##0.00)","pt-MO":"#,##0.00;(#,##0.00)","pt-MZ":"#,##0.00;(#,##0.00)","pt-PT":"#,##0.00;(#,##0.00)","pt-ST":"#,##0.00;(#,##0.00)","pt-TL":"#,##0.00;(#,##0.00)",qu:"#,##0.00","qu-BO":"#,##0.00","qu-EC":"#,##0.00",rm:"#,##0.00",rn:"#,##0.00",ro:"#,##0.00;(#,##0.00)","ro-MD":"#,##0.00;(#,##0.00)",rof:"#,##0.00",root:"#,##0.00",ru:"#,##0.00","ru-BY":"#,##0.00","ru-KG":"#,##0.00","ru-KZ":"#,##0.00","ru-MD":"#,##0.00","ru-UA":"#,##0.00",rw:"#,##0.00",rwk:"#,##0.00",sah:"#,##0.00",saq:"#,##0.00;(#,##0.00)",sbp:"#,##0.00",sd:"#,##0.00",se:"#,##0.00","se-FI":"#,##0.00","se-SE":"#,##0.00",seh:"#,##0.00",ses:"#,##0.00",sg:"#,##0.00;-#,##0.00",shi:"#,##0.00","shi-Latn":"#,##0.00","shi-Tfng":"#,##0.00",si:"#,##0.00;(#,##0.00)",sk:"#,##0.00;(#,##0.00)",sl:"#,##0.00;(#,##0.00)",smn:"#,##0.00",sn:"#,##0.00;(#,##0.00)",so:"#,##0.00;(#,##0.00)","so-DJ":"#,##0.00;(#,##0.00)","so-ET":"#,##0.00;(#,##0.00)","so-KE":"#,##0.00;(#,##0.00)",sq:"#,##0.00;(#,##0.00)","sq-MK":"#,##0.00;(#,##0.00)","sq-XK":"#,##0.00;(#,##0.00)",sr:"#,##0.00;(#,##0.00)","sr-Cyrl":"#,##0.00;(#,##0.00)","sr-Cyrl-BA":"#,##0.00;(#,##0.00)","sr-Cyrl-ME":"#,##0.00;(#,##0.00)","sr-Cyrl-XK":"#,##0.00;(#,##0.00)","sr-Latn":"#,##0.00;(#,##0.00)","sr-Latn-BA":"#,##0.00;(#,##0.00)","sr-Latn-ME":"#,##0.00;(#,##0.00)","sr-Latn-XK":"#,##0.00;(#,##0.00)",sv:"#,##0.00","sv-AX":"#,##0.00","sv-FI":"#,##0.00",sw:"#,##0.00","sw-CD":"#,##0.00","sw-KE":"#,##0.00","sw-UG":"#,##0.00",ta:"#,##0.00;(#,##0.00)","ta-LK":"#,##0.00;(#,##0.00)","ta-MY":"#,##0.00;(#,##0.00)","ta-SG":"#,##0.00;(#,##0.00)",te:"#,##0.00;(#,##0.00)",teo:"#,##0.00;(#,##0.00)","teo-KE":"#,##0.00;(#,##0.00)",tg:"#,##0.00",th:"#,##0.00;(#,##0.00)",ti:"#,##0.00","ti-ER":"#,##0.00",tk:"#,##0.00",to:"#,##0.00",tr:"#,##0.00;(#,##0.00)","tr-CY":"#,##0.00;(#,##0.00)",tt:"#,##0.00",twq:"#,##0.00",tzm:"#,##0.00",ug:"#,##0.00;(#,##0.00)",uk:"#,##0.00",ur:"#,##0.00;(#,##0.00)","ur-IN":"#,##0.00;(#,##0.00)",uz:"#,##0.00","uz-Arab":"#,##0.00","uz-Cyrl":"#,##0.00","uz-Latn":"#,##0.00",vai:"#,##0.00;(#,##0.00)","vai-Latn":"#,##0.00;(#,##0.00)","vai-Vaii":"#,##0.00;(#,##0.00)",vi:"#,##0.00",vo:"#,##0.00",vun:"#,##0.00",wae:"#,##0.00",wo:"#,##0.00",xh:"#,##0.00",xog:"#,##0.00",yav:"#,##0.00;(#,##0.00)",yi:"#,##0.00",yo:"#,##0.00;(#,##0.00)","yo-BJ":"#,##0.00;(#,##0.00)",yue:"#,##0.00;(#,##0.00)","yue-Hans":"#,##0.00;(#,##0.00)","yue-Hant":"#,##0.00;(#,##0.00)",zgh:"#,##0.00",zh:"#,##0.00;(#,##0.00)","zh-Hans":"#,##0.00;(#,##0.00)","zh-Hans-HK":"#,##0.00;(#,##0.00)","zh-Hans-MO":"#,##0.00;(#,##0.00)","zh-Hans-SG":"#,##0.00;(#,##0.00)","zh-Hant":"#,##0.00;(#,##0.00)","zh-Hant-HK":"#,##0.00;(#,##0.00)","zh-Hant-MO":"#,##0.00;(#,##0.00)",zu:"#,##0.00;(#,##0.00)"};
},{}],"sqtk":[function(require,module,exports) {
"use strict";var r=require("../../core/config"),e=m(r),t=require("../core"),n=require("../../core/version"),i=m(n),o=require("../../core/utils/version"),u=require("../open_xml_currency_format"),c=m(u),a=require("../cldr-data/accounting_formats"),l=m(a);function m(r){return r&&r.__esModule?r:{default:r}}var s=/([^\s0]+)?(\s*)0*[.,]*0*(\s*)([^\s0]+)?/,f={},y=function(r){var e=(0,t.locale)()+"/"+JSON.stringify(r);return f[e]||(f[e]=new Intl.NumberFormat((0,t.locale)(),r).format),f[e]},g=function(r){return new Intl.NumberFormat((0,t.locale)(),{style:"currency",currency:r})};module.exports={engine:function(){return"intl"},_formatNumberCore:function(r,e,t){return"exponential"===e?this.callBase.apply(this,arguments):y(this._normalizeFormatConfig(e,t))(r)},_normalizeFormatConfig:function(r,t,n){var i=void 0;return i="decimal"===r?{minimumIntegerDigits:t.precision||void 0,useGrouping:!1,maximumFractionDigits:String(n).length,round:n<0?"ceil":"floor"}:this._getPrecisionConfig(t.precision),"percent"===r?i.style="percent":"currency"===r&&(i.style="currency",i.currency=t.currency||(0,e.default)().defaultCurrency),i},_getPrecisionConfig:function(r){return null===r?{minimumFractionDigits:0,maximumFractionDigits:20}:{minimumFractionDigits:r||0,maximumFractionDigits:r||0}},format:function(r,t){return"number"!=typeof r?r:("default"===(t=this._normalizeFormat(t)).currency&&(t.currency=(0,e.default)().defaultCurrency),t&&("function"==typeof t||t.type||t.formatter)?this.callBase.apply(this,arguments):y(t)(r))},parse:function(r,e){return(0,o.compare)(i.default,"17.2.8")>=0?this.callBase.apply(this,arguments):r?e&&e.parser?e.parser(r):(r=this._normalizeNumber(r,e)).length>15?NaN:parseFloat(r):void 0},_normalizeNumber:function(r,e){if(this.convertDigits&&(r=this.convertDigits(r,!0)),/^[-+]?[0-9]*.?[0-9]+([eE][-+]?[0-9]+)+$/.test(r))return r;var t=this._getDecimalSeparator(e),n=new RegExp("[^0-9-\\"+t+"]","g");return r.replace(n,"").replace(t,".")},_getDecimalSeparator:function(r){return y(r)(.1)[1]},_getCurrencySymbolInfo:function(r){var e=g(r);return this._extractCurrencySymbolInfo(e.format(0))},_extractCurrencySymbolInfo:function(r){var e=s.exec(r)||[];return{position:e[1]?"before":"after",symbol:e[1]||e[4]||"",delimiter:e[2]||e[3]||""}},getCurrencySymbol:function(r){return r||(r=(0,e.default)().defaultCurrency),{symbol:this._getCurrencySymbolInfo(r).symbol}},getOpenXmlCurrencyFormat:function(r){var n=r||(0,e.default)().defaultCurrency,i=this._getCurrencySymbolInfo(n).symbol;return(0,c.default)(i,l.default[(0,t.locale)()])}};
},{"../../core/config":"iRjc","../core":"ojbN","../../core/version":"jn0C","../../core/utils/version":"Dkvf","../open_xml_currency_format":"tYH1","../cldr-data/accounting_formats":"MGKV"}],"mjsA":[function(require,module,exports) {
"use strict";var r=function(){return function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,e){var t=[],i=!0,o=!1,n=void 0;try{for(var a,u=r[Symbol.iterator]();!(i=(a=u.next()).done)&&(t.push(a.value),!e||t.length!==e);i=!0);}catch(c){o=!0,n=c}finally{try{!i&&u.return&&u.return()}finally{if(o)throw n}}return t}(r,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=require("../core/utils/dependency_injector"),t=b(e),i=require("../core/utils/array"),o=require("../core/utils/common"),n=require("../core/utils/iterator"),a=require("../core/utils/type"),u=require("./ldml/number"),c=b(u),s=require("../core/config"),f=b(s),p=require("../core/errors"),l=b(p),m=require("./utils"),d=require("./currency"),g=b(d),h=require("./intl/number"),y=b(h);function b(r){return r&&r.__esModule?r:{default:r}}var v="undefined"!=typeof Intl,S=4,_=10,w=["currency","fixedpoint","exponential","percent","decimal"],x={1:"K",2:"M",3:"B",4:"T"},N={largenumber:"auto",thousands:1,millions:2,billions:3,trillions:4},P=(0,t.default)({engine:function(){return"base"},numericFormats:w,defaultLargeNumberFormatPostfixes:x,_parseNumberFormatString:function(r){var e,t={};if(r&&"string"==typeof r)return e=r.toLowerCase().split(" "),(0,n.each)(e,function(r,e){(0,i.inArray)(e,w)>-1?t.formatType=e:e in N&&(t.power=N[e])}),t.power&&!t.formatType&&(t.formatType="fixedpoint"),t.formatType?t:void 0},_calculateNumberPower:function(r,e,t,i){var o=Math.abs(r),n=0;if(o>1)for(;o&&o>=e&&(void 0===i||n<i);)n++,o/=e;else if(o>0&&o<1)for(;o<1&&(void 0===t||n>t);)n--,o*=e;return n},_getNumberByPower:function(r,e,t){for(var i=r;e>0;)i/=t,e--;for(;e<0;)i*=t,e++;return i},_formatNumber:function(r,e,t){var i;return"auto"===e.power&&(e.power=this._calculateNumberPower(r,1e3,0,S)),e.power&&(r=this._getNumberByPower(r,e.power,1e3)),i=this.defaultLargeNumberFormatPostfixes[e.power]||"",this._formatNumberCore(r,e.formatType,t).replace(/(\d|.$)(\D*)$/,"$1"+i+"$2")},_formatNumberExponential:function(r,e){var t,i=this._calculateNumberPower(r,_),o=this._getNumberByPower(r,i,_);return void 0===e.precision&&(e.precision=1),o.toFixed(e.precision||0)>=_&&(i++,o/=_),t=(i>=0?"+":"")+i.toString(),this._formatNumberCore(o,"fixedpoint",e)+"E"+t},_addZeroes:function(r,e){for(var t=Math.pow(10,e),i=r<0?"-":"",o=(r=(Math.abs(r)*t>>>0)/t).toString();o.length<e;)o="0"+o;return i+o},_addGroupSeparators:function(r){var e=r.toString().split(".");return e[0].replace(/\B(?=(\d{3})+(?!\d))/g,(0,f.default)().thousandsSeparator)+(e[1]?(0,f.default)().decimalSeparator+e[1]:"")},_formatNumberCore:function(r,e,t){return"exponential"===e?this._formatNumberExponential(r,t):("decimal"!==e&&null!==t.precision&&(t.precision=t.precision||0),"percent"===e&&(r*=100),void 0!==t.precision&&(r="decimal"===e?this._addZeroes(r,t.precision):null===t.precision?r.toPrecision():(0,m.toFixed)(r,t.precision)),r="decimal"!==e?this._addGroupSeparators(r):r.toString().replace(".",(0,f.default)().decimalSeparator),"percent"===e&&(r+="%"),r)},_normalizeFormat:function(r){return r?"function"==typeof r?r:((0,a.isPlainObject)(r)||(r={type:r}),r):{}},_getSeparators:function(){return{decimalSeparator:this.getDecimalSeparator(),thousandsSeparator:this.getThousandsSeparator()}},getThousandsSeparator:function(){return this.format(1e4,"fixedPoint")[2]},getDecimalSeparator:function(){return this.format(1.2,{type:"fixedPoint",precision:1})[1]},convertDigits:function(r,e){var t=this.format(90,"decimal");if("string"!=typeof r||"0"===t[1])return r;var i=e?t[1]:"0",o=e?"0":t[1],n=e?t[0]:"9",a=new RegExp("["+i+"-"+n+"]","g");return r.replace(a,function(r){return String.fromCharCode(r.charCodeAt(0)+(o.charCodeAt(0)-i.charCodeAt(0)))})},getSign:function(r,e){if("-"===r.replace(/[^0-9-]/g,"").charAt(0))return-1;if(!e)return 1;var t=this._getSeparators(),i=new RegExp("[0-9"+(0,o.escapeRegExp)(t.decimalSeparator+t.thousandsSeparator)+"]+","g"),n=this.format(-1,e).replace(i,"1");return r.replace(i,"1")===n?-1:1},format:function(r,e){if("number"!=typeof r)return r;if("number"==typeof e)return r;if("function"==typeof(e=e&&e.formatter||e))return e(r);(e=this._normalizeFormat(e)).type||(e.type="decimal");var t=this._parseNumberFormatString(e.type);return t?this._formatNumber(r,t,e):this.convertDigits(c.default.getFormatter(e.type,this._getSeparators())(r))},parse:function(r,e){if(r){if(e&&e.parser)return e.parser(r);r=this.convertDigits(r,!0),e&&"string"!=typeof e&&l.default.log("W0011");var t=this.getDecimalSeparator(),i=new RegExp("[^0-9"+(0,o.escapeRegExp)(t)+"]","g"),n=r.replace(i,"").replace(t,".").replace(/\.$/g,"");return"."===n||""===n?null:this._calcSignificantDigits(n)>15?NaN:+n*this.getSign(r,e)}},_calcSignificantDigits:function(e){var t=e.split("."),i=r(t,2),o=i[0],n=i[1],a=function(r){for(var e=-1,t=0;t<r.length;t++)if("0"!==r[t]){e=t;break}return e>-1?r.length-e:0},u=0;return o&&(u+=a(o.split(""))),n&&(u+=a(n.split("").reverse())),u}});P.inject(g.default),v&&P.inject(y.default),module.exports=P;
},{"../core/utils/dependency_injector":"NtCB","../core/utils/array":"uivT","../core/utils/common":"GcQA","../core/utils/iterator":"FHcO","../core/utils/type":"Mw4w","./ldml/number":"khSM","../core/config":"iRjc","../core/errors":"BdzT","./utils":"CWa9","./currency":"yP9W","./intl/number":"sqtk"}],"OW4F":[function(require,module,exports) {
"use strict";function t(t,n){for(;t.length<n;)t="0"+t;return t}var n={3:"abbreviated",4:"wide",5:"narrow"},e={y:function(n,e,r){var o=n[r?"getUTCFullYear":"getFullYear"]();return 2===e&&(o%=100),t(o.toString(),e)},M:function(e,r,o,i){var u=e[o?"getUTCMonth":"getMonth"](),g=n[r];return g?i.getMonthNames(g,"format")[u]:t((u+1).toString(),Math.min(r,2))},L:function(e,r,o,i){var u=e[o?"getUTCMonth":"getMonth"](),g=n[r];return g?i.getMonthNames(g,"standalone")[u]:t((u+1).toString(),Math.min(r,2))},Q:function(e,r,o,i){var u=e[o?"getUTCMonth":"getMonth"](),g=Math.floor(u/3),a=n[r];return a?i.getQuarterNames(a)[g]:t((g+1).toString(),Math.min(r,2))},E:function(t,e,r,o){var i=t[r?"getUTCDay":"getDay"](),u=n[e<3?3:e];return o.getDayNames(u)[i]},a:function(t,e,r,o){var i=t[r?"getUTCHours":"getHours"]()<12?0:1,u=n[e];return o.getPeriodNames(u)[i]},d:function(n,e,r){return t(n[r?"getUTCDate":"getDate"]().toString(),Math.min(e,2))},H:function(n,e,r){return t(n[r?"getUTCHours":"getHours"]().toString(),Math.min(e,2))},h:function(n,e,r){return t((n[r?"getUTCHours":"getHours"]()%12||12).toString(),Math.min(e,2))},m:function(n,e,r){return t(n[r?"getUTCMinutes":"getMinutes"]().toString(),Math.min(e,2))},s:function(n,e,r){return t(n[r?"getUTCSeconds":"getSeconds"]().toString(),Math.min(e,2))},S:function(n,e,r){return t(n[r?"getUTCMilliseconds":"getMilliseconds"]().toString(),3).substr(0,e)},x:function(n,e,r){var o=r?0:n.getTimezoneOffset(),i=o>0?"-":"+",u=Math.abs(o),g=u%60,a=t(Math.floor(u/60).toString(),2),s=t(g.toString(),2);return i+a+(e>=3?":":"")+(e>1||g?s:"")},X:function(t,n,r){return r||!t.getTimezoneOffset()?"Z":e.x(t,n,r)},Z:function(t,n,r){return e.X(t,n>=5?3:2,r)}},r=function(t,n){return function(r){var o,i,u,g,a=0,s=!1,f="";if(!r)return null;if(!t)return r;var c="Z"===t[t.length-1]||"'Z'"===t.slice(-3);for(o=0;o<t.length;o++)u=t[o],i=e[u],a++,(g=u===t[o+1])||(i&&!s&&(f+=i(r,a,c,n)),a=0),"'"!==u||g?!s&&i||(f+=u):s=!s,"'"===u&&g&&o++;return f}};module.exports.getFormatter=r;
},{}],"IYxP":[function(require,module,exports) {
"use strict";var t="",n=" .,:;/\\<>()-[]"+t,e=1632,r=function(t){var n=t&&t.charCodeAt(0);return t>="0"&&t<="9"||n>=e&&n<e+10},a=function(t,e,a){var i=t[e],u=t[e-1],f=t[e+1];if(!a){if("."===i||" "===i&&"."===u)return!0;if("-"===i&&!r(f))return!0}return n.indexOf(i)<0&&a===r(i)},i=function(t,e){if(!r(t[e]))for(;e>0&&!r(t[e-1])&&("."===t[e-1]||n.indexOf(t[e-1])<0);)e--;return e},u=function(t,n,e,u){var f=0,o=[],h=function(n){return t[f]!==n[f]&&(void 0===u||r(t[f])===u)};for(Array.isArray(n)||(n=[n]),f=0;f<t.length;f++)if(e.indexOf(f)<0&&n.filter(h).length){f=i(t,f);do{if(u=r(t[f]),!o.length&&!u&&r(n[0][f]))break;o.push(f),e.unshift(f),f++}while(t[f]&&a(t,f,u));break}return 1!==o.length||"0"!==t[e[0]-1]&&""!==t[e[0]-1]||e.unshift(e[0]-1),o},f=function(t,n,e,r){var a=n[0],i=a<r.length?r[a]:a;return n.forEach(function(n,r){t=t.substr(0,i+r)+(e.length>1?e[r]:e)+t.substr(i+r+1)}),1===n.length&&(t=(t=t.replace("0"+e,e+e)).replace(""+e,e+e)),t},o=function(t,n,e,a){var i,u,o;if(!r(t[n[0]]||"0")){for(var h=Math.max(n.length<=3?3:4,e.length);n.length>h;){for(o=a[u=n.pop()],a[u]=-1,i=u+1;i<a.length;i++)a[i]--;t=t.substr(0,o)+t.substr(o+1)}for(o=(u=n[n.length-1]+1)<a.length?a[u]:u;n.length<h;){for(n.push(n[n.length-1]+1),i=u;i<a.length;i++)a[i]++;t=t.substr(0,o)+" "+t.substr(o)}}return t=f(t,n,e,a)},h=function(t,n){return Array.isArray(t)?t.map(function(t){return(n(t)||"").toString()}):(n(t)||"").toString()},s=/[a-zA-Z]/g,g=function(t,n,e,r){var a=n.split("").map(function(t,n){return e.indexOf(n)<0&&(t.match(s)||"'"===t)?r[n]:-1});return t=t.split("").map(function(t,n){var e=t,r=a.indexOf(n)>=0,i=n>0&&a.indexOf(n-1)>=0,u=a.indexOf(n+1)>=0;return r&&(i||(e="'"+e),u||(e+="'")),e}).join("")},p=function(t){var n=[],e=h(new Date(2009,8,8,6,5,4),t),r=e.split("").map(function(t,n){return n}),a=e,i={},f=[{date:new Date(2009,8,8,6,5,4,100),pattern:"S"},{date:new Date(2009,8,8,6,5,2),pattern:"s"},{date:new Date(2009,8,8,6,2,4),pattern:"m"},{date:new Date(2009,8,8,18,5,4),pattern:"H",isDigit:!0},{date:new Date(2009,8,8,2,5,4),pattern:"h",isDigit:!0},{date:new Date(2009,8,8,18,5,4),pattern:"a",isDigit:!1},{date:new Date(2009,8,1,6,5,4),pattern:"d"},{date:[new Date(2009,8,2,6,5,4),new Date(2009,8,3,6,5,4),new Date(2009,8,4,6,5,4)],pattern:"E"},{date:new Date(2009,9,6,6,5,4),pattern:"M"},{date:new Date(1998,8,8,6,5,4),pattern:"y"}];if(a)return f.forEach(function(f){var s=u(e,h(f.date,t),n,f.isDigit),g="M"!==f.pattern||i.d?f.pattern:"L";a=o(a,s,g,r),i[g]=s.length}),a=g(a,e,n,r),n.length?a:void 0};exports.getFormat=p;
},{}],"CEC5":[function(require,module,exports) {
"use strict";var n=require("../../core/utils/common").escapeRegExp,t={3:"abbreviated",4:"wide",5:"narrow"},r=function(n,r){return n>2?Object.keys(t).map(function(n){return["format","standalone"].map(function(e){return r.getMonthNames(t[n],e).join("|")}).join("|")}).join("|"):"0?[1-9]|1[012]"},e={y:function(n){return"[0-9]+"},M:r,L:r,Q:function(n,r){return n>2?r.getQuarterNames(t[n],"format").join("|"):"0?[1-4]"},E:function(n,t){return"\\D*"},a:function(n,r){return r.getPeriodNames(t[n<3?3:n],"format").join("|")},d:function(n){return"0?[1-9]|[12][0-9]|3[01]"},H:function(n){return"0?[0-9]|1[0-9]|2[0-3]"},h:function(n){return"0?[1-9]|1[012]"},m:function(n){return"0?[0-9]|[1-5][0-9]"},s:function(n){return"0?[0-9]|[1-5][0-9]"},S:function(n){return"[0-9]{1,"+n+"}"}},u=Number,o=function(n,t){return n.map(function(n){return n.toLowerCase()}).indexOf(t.toLowerCase())},a=function(n,r,e){return r>2?["format","standalone"].map(function(r){return Object.keys(t).map(function(u){var a=e.getMonthNames(t[u],r);return o(a,n)})}).reduce(function(n,t){return n.concat(t)}).filter(function(n){return n>=0})[0]:u(n)-1},i={y:function(n,t){var r=u(n);return 2===t?r<30?2e3+r:1900+r:r},M:a,L:a,Q:function(n,r,e){return r>2?e.getQuarterNames(t[r],"format").indexOf(n):u(n)-1},E:function(n,r,e){var u=e.getDayNames(t[r<3?3:r],"format");return o(u,n)},a:function(n,r,e){var u=e.getPeriodNames(t[r<3?3:r],"format");return o(u,n)},d:u,H:u,h:u,m:u,s:u,S:function(n,t){for(t=Math.max(t,3),n=n.slice(0,3);t<3;)n+="0",t++;return u(n)}},f=["y","M","d","h","m","s","S"],c={y:"setFullYear",M:"setMonth",L:"setMonth",a:function(n,t){var r=n.getHours();t||12!==r?t&&12!==r&&n.setHours(r+12):n.setHours(0)},d:"setDate",H:"setHours",h:"setHours",m:"setMinutes",s:"setSeconds",S:"setMilliseconds"},s=function(n,t){var r=n[t],e=0;do{t++,e++}while(n[t]===r);return e},m=function(n,t){for(var r="",e=0;e<t;e++)r+=n;return r},p=function(t,r){for(var u,o="",a="",i=[],f=function(){a&&(i.push("'"+a+"'"),o+=n(a)+")",a="")},c=0;c<t.length;c++){var p=t[c],g="'"===p,v=e[p];if(!g||(u=!u,"'"===t[c-1]))if(v&&!u){var l=s(t,c),d=m(p,l);f(),i.push(d),o+="("+v(l,r)+")",c+=l-1}else a||(o+="("),a+=p}return f(),{patterns:i,regexp:new RegExp("^"+o+"$","i")}},g=function(){return c},v=function(n,t,r,e){var u=t[0],o=c[u],a=i[u];if(o&&a){var f=a(r,t.length,e);n[o]?n[o](f):o(n,f)}},l=function(n,t,r){var e=c[t],u="g"+e.substr(1);n[e](r[u]())},d=function(n){return n.map(function(n){return"'"===n[0]?"":"H"===n[0]?"h":n[0]})},h=function(n){var t=n.map(function(n){return f.indexOf(n)});return Math.max.apply(Math,t)},x=function(n){var t=n.filter(function(n){return f.indexOf(n)<0});return f.concat(t)},M=function(n,t){var r=p(n,t);return function(n){var e=r.regexp.exec(n);if(e){var u=new Date,o=new Date(u.getFullYear(),0,1),a=d(r.patterns),i=h(a);return x(a).forEach(function(n,c){if(n&&!(c<f.length&&c>i)){var s=a.indexOf(n);s>=0?v(o,r.patterns[s],e[s+1],t):l(o,n,u)}}),o}return null}};exports.getParser=M,exports.getRegExpInfo=p,exports.getPatternSetters=g;
},{"../../core/utils/common":"GcQA"}],"Pcqq":[function(require,module,exports) {
"use strict";var e=require("../core/utils/iterator"),r=t(e);function t(e){return e&&e.__esModule?e:{default:e}}var u=["January","February","March","April","May","June","July","August","September","October","November","December"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["AM","PM"],o=["Q1","Q2","Q3","Q4"],s=function(e,t){var u={abbreviated:3,short:2,narrow:1};return r.default.map(e,function(e){return e.substr(0,u[t])})};module.exports={getMonthNames:function(e){return s(u,e)},getDayNames:function(e){return s(a,e)},getQuarterNames:function(e){return o},getPeriodNames:function(e){return n}};
},{"../core/utils/iterator":"FHcO"}],"cEkM":[function(require,module,exports) {
"use strict";module.exports={"af-NA":1,agq:1,ak:1,ar:6,"ar-EH":1,"ar-ER":1,"ar-KM":1,"ar-LB":1,"ar-MA":1,"ar-MR":1,"ar-PS":1,"ar-SO":1,"ar-SS":1,"ar-TD":1,"ar-TN":1,asa:1,ast:1,az:1,"az-Cyrl":1,bas:1,be:1,bem:1,bez:1,bg:1,bm:1,br:1,bs:1,"bs-Cyrl":1,ca:1,ce:1,cgg:1,ckb:6,cs:1,cu:1,cy:1,da:1,de:1,dje:1,dsb:1,dua:1,dyo:1,ee:1,el:1,"en-001":1,"en-AE":6,"en-BI":1,"en-MP":1,"en-SD":6,eo:1,es:1,et:1,eu:1,ewo:1,fa:6,ff:1,fi:1,fo:1,fr:1,"fr-DJ":6,"fr-DZ":6,"fr-SY":6,fur:1,fy:1,ga:1,gd:1,gl:1,gsw:1,gv:1,ha:1,hr:1,hsb:1,hu:1,hy:1,ia:1,ig:1,is:1,it:1,jgo:1,jmc:1,ka:1,kab:6,kde:1,kea:1,khq:1,kk:1,kkj:1,kl:1,"ko-KP":1,ksb:1,ksf:1,ksh:1,ku:1,kw:1,ky:1,lag:1,lb:1,lg:1,ln:1,lrc:6,lt:1,lu:1,lv:1,"mas-TZ":1,mfe:1,mg:1,mgo:1,mi:1,mk:1,mn:1,ms:1,mua:1,mzn:6,naq:1,nb:1,nds:1,nl:1,nmg:1,nn:1,nnh:1,nus:1,nyn:1,os:1,pl:1,prg:1,ps:6,"pt-AO":1,"pt-CH":1,"pt-CV":1,"pt-GQ":1,"pt-GW":1,"pt-LU":1,"pt-ST":1,"pt-TL":1,"qu-BO":1,"qu-EC":1,rm:1,rn:1,ro:1,rof:1,ru:1,rw:1,rwk:1,sah:1,sbp:1,se:1,ses:1,sg:1,shi:1,"shi-Latn":1,si:1,sk:1,sl:1,smn:1,so:1,"so-DJ":6,sq:1,sr:1,"sr-Latn":1,sv:1,sw:1,"ta-LK":1,"ta-MY":1,teo:1,tg:1,"ti-ER":1,tk:1,to:1,tr:1,tt:1,twq:1,tzm:1,uk:1,uz:1,"uz-Arab":6,"uz-Cyrl":1,vai:1,"vai-Latn":1,vi:1,vo:1,vun:1,wae:1,wo:1,xog:1,yav:1,yi:1,yo:1,zgh:1};
},{}],"LeY4":[function(require,module,exports) {
"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=require("../../core/utils/extend"),t=require("../core"),r=/[\u200E\u200F]/g,o=function(e){return function(t){if(!e.timeZoneName){var r=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()),o=(0,n.extend)({timeZone:"UTC"},e);return i(r,o)}return i(t,e)}},a={},u=function(e){var n=(0,t.locale)()+"/"+JSON.stringify(e);return a[n]||(a[n]=new Intl.DateTimeFormat((0,t.locale)(),e).format),a[n]},i=function(e,n){return u(n)(e).replace(r,"")},m=function(e){return new Intl.NumberFormat((0,t.locale)()).format(e)},c=function(){var e={};return function(n){if(!(n in e)){if("0"===m(0))return e[n]=!1,!1;e[n]={};for(var t=0;t<10;++t)e[n][m(t)]=t}return e[n]}}(),l=function(e){var n=c((0,t.locale)());return n?e.split("").map(function(e){return e in n?String(n[e]):e}).join(""):e},f=function(e){return e.replace(/(\D)0+(\d)/g,"$1$2")},s=function(e,n){return f(e)===f(n)},d=function(e){return e.replace("d","de ")},y={day:{day:"numeric"},dayofweek:{weekday:"long"},longdate:{weekday:"long",year:"numeric",month:"long",day:"numeric"},longdatelongtime:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},longtime:{hour:"numeric",minute:"numeric",second:"numeric"},month:{month:"long"},monthandday:{month:"long",day:"numeric"},monthandyear:{year:"numeric",month:"long"},shortdate:{},shorttime:{hour:"numeric",minute:"numeric"},shortyear:{year:"2-digit"},year:{year:"numeric"}};Object.defineProperty(y,"shortdateshorttime",{get:function(){var e=Intl.DateTimeFormat((0,t.locale)()).resolvedOptions();return{year:e.year,month:e.month,day:e.day,hour:"numeric",minute:"numeric"}}});var h=function(e){return"string"==typeof e&&y[e.toLowerCase()]},g={standalone:function(e,n){var t=new Date(1999,e,13,1);return o({month:n})(t)},format:function(e,n){var t=new Date(0,e,13,1),r=d(o({day:"numeric",month:n})(t)).split(" ").filter(function(e){return e.indexOf("13")<0});return 1===r.length?r[0]:2===r.length?r[0].length>r[1].length?r[0]:r[1]:g.standalone(e,n)}};module.exports={engine:function(){return"intl"},getMonthNames:function(e,n){var t={wide:"long",abbreviated:"short",narrow:"narrow"}[e||"wide"];return n="format"===n?n:"standalone",Array.apply(null,new Array(12)).map(function(e,r){return g[n](r,t)})},getDayNames:function(e){return function(e){return Array.apply(null,new Array(7)).map(function(n,t){return o({weekday:e})(new Date(0,0,t))})}({wide:"long",abbreviated:"short",short:"narrow",narrow:"narrow"}[e||"wide"])},getPeriodNames:function(){var e=o({hour:"numeric",hour12:!0});return[1,13].map(function(n){var t=m(1),r=e(new Date(0,0,1,n)).split(t);return 2!==r.length?"":(r[0].length>r[1].length?r[0]:r[1]).trim()})},format:function(n,t){if(n){if(!t)return n;"function"==typeof t||t.formatter||(t=t.type||t);var r=h(t);if(r)return o(r)(n);var a=void 0===t?"undefined":e(t);return t.formatter||"function"===a||"string"===a?this.callBase.apply(this,arguments):o(t)(n)}},parse:function(e,n){var t=this,r=void 0;return n&&!n.parser&&"string"==typeof e&&(e=d(e),r=function(e){return d(t.format(e,n))}),this.callBase(e,r||n)},_parseDateBySimpleFormat:function(e,n){var t=this;e=l(e);var r=this.getFormatParts(n),o=e.split(/\D+/).filter(function(e){return e.length>0});if(r.length===o.length){var a=this._generateDateArgs(r,o),u=function(r){var o=function(e,n){var t=n?12:0;return new Date(e.year,e.month,e.day,(e.hours+t)%24,e.minutes,e.seconds)}(a,r);if(s(l(t.format(o,n)),e))return o};return u(!1)||u(!0)}},_generateDateArgs:function(e,n){var t=new Date,r={year:t.getFullYear(),month:t.getMonth(),day:t.getDate(),hours:0,minutes:0,seconds:0};return e.forEach(function(e,t){var o=n[t],a=parseInt(o,10);"month"===e&&(a-=1),r[e]=a}),r},formatUsesMonthName:function(n){return"object"!==(void 0===n?"undefined":e(n))||n.type||n.format?this.callBase.apply(this,arguments):"long"===n.month},formatUsesDayName:function(n){return"object"!==(void 0===n?"undefined":e(n))||n.type||n.format?this.callBase.apply(this,arguments):"long"===n.weekday},getFormatParts:function(e){if("string"==typeof e)return this.callBase(e);var t=(0,n.extend)({},y[e.toLowerCase()]),r=new Date(2001,2,4,5,6,7),a=o(t)(r);a=l(a);return[{name:"year",value:1},{name:"month",value:3},{name:"day",value:4},{name:"hours",value:5},{name:"minutes",value:6},{name:"seconds",value:7}].map(function(e){return{name:e.name,index:a.indexOf(e.value)}}).filter(function(e){return e.index>-1}).sort(function(e,n){return e.index-n.index}).map(function(e){return e.name})}};
},{"../../core/utils/extend":"ac8T","../core":"ojbN"}],"F0Sb":[function(require,module,exports) {
"use strict";var e=require("../core/utils/dependency_injector"),t=E(e),r=require("../core/utils/type"),a=require("../core/utils/iterator"),n=E(a),i=require("../core/utils/array"),o=require("../core/errors"),u=E(o),s=require("./ldml/date.formatter"),d=require("./ldml/date.format"),f=require("./ldml/date.parser"),m=require("./default_date_names"),l=E(m),y=require("./cldr-data/first_day_of_week_data"),c=E(y),M=require("./core"),h=require("./number"),g=E(h),p=require("./intl/date"),v=E(p);function E(e){return e&&e.__esModule?e:{default:e}}var q=0,_="undefined"!=typeof Intl,N={shortdate:"M/d/y",shorttime:"h:mm a",longdate:"EEEE, MMMM d, y",longtime:"h:mm:ss a",monthandday:"MMMM d",monthandyear:"MMMM y",quarterandyear:"QQQ y",day:"d",year:"y",shortdateshorttime:"M/d/y, h:mm a",mediumdatemediumtime:"MMMM d, h:mm a",longdatelongtime:"EEEE, MMMM d, y, h:mm:ss a",month:"LLLL",shortyear:"yy",dayofweek:"EEEE",quarter:"QQQ",hour:"HH",minute:"mm",second:"ss",millisecond:"SSS","datetime-local":"yyyy-MM-ddTHH':'mm':'ss"},S={year:["y","yy","yyyy"],day:["d","dd"],month:["M","MM","MMM","MMMM"],hours:["H","HH","h","hh","ah"],minutes:["m","mm"],seconds:["s","ss"],milliseconds:["S","SS","SSS"]},D=(0,t.default)({engine:function(){return"base"},_getPatternByFormat:function(e){return N[e.toLowerCase()]},_expandPattern:function(e){return this._getPatternByFormat(e)||e},formatUsesMonthName:function(e){return-1!==this._expandPattern(e).indexOf("MMMM")},formatUsesDayName:function(e){return-1!==this._expandPattern(e).indexOf("EEEE")},getFormatParts:function(e){var t=this._getPatternByFormat(e)||e,r=[];return n.default.each(t.split(/\W+/),function(e,t){n.default.each(S,function(e,a){(0,i.inArray)(t,a)>-1&&r.push(e)})}),r},getMonthNames:function(e){return l.default.getMonthNames(e)},getDayNames:function(e){return l.default.getDayNames(e)},getQuarterNames:function(e){return l.default.getQuarterNames(e)},getPeriodNames:function(e){return l.default.getPeriodNames(e)},getTimeSeparator:function(){return":"},is24HourFormat:function(e){for(var t=new Date(2017,0,20,11,0,0,0),r=new Date(2017,0,20,23,0,0,0),a=this.format(t,e),n=this.format(r,e),i=0;i<a.length;i++)if(a[i]!==n[i])return!isNaN(parseInt(a[i]))},format:function(e,t){if(e){if(!t)return e;var a=void 0;if("function"==typeof t)a=t;else if(t.formatter)a=t.formatter;else if(t=t.type||t,(0,r.isString)(t))return t=N[t.toLowerCase()]||t,g.default.convertDigits((0,s.getFormatter)(t,this)(e));if(a)return a(e)}},parse:function(e,t){var r=this,a=void 0,n=void 0,i=void 0;if(e){if(!t)return this.parse(e,"shortdate");if(t.parser)return t.parser(e);if("string"!=typeof t||N[t.toLowerCase()]){i=function(e){var a=r.format(e,t);return g.default.convertDigits(a,!0)};try{n=(0,d.getFormat)(i)}catch(o){}}else n=t;if(n)return e=g.default.convertDigits(e,!0),(0,f.getParser)(n,this)(e);if(u.default.log("W0012"),(a=new Date(e))&&!isNaN(a.getTime()))return a}},firstDayOfWeekIndex:function(){var e=(0,M.getValueByClosestLocale)(function(e){return c.default[e]});return void 0===e?q:e}});_&&D.inject(v.default),module.exports=D;
},{"../core/utils/dependency_injector":"NtCB","../core/utils/type":"Mw4w","../core/utils/iterator":"FHcO","../core/utils/array":"uivT","../core/errors":"BdzT","./ldml/date.formatter":"OW4F","./ldml/date.format":"IYxP","./ldml/date.parser":"CEC5","./default_date_names":"Pcqq","./cldr-data/first_day_of_week_data":"cEkM","./core":"ojbN","./number":"mjsA","./intl/date":"LeY4"}],"icNs":[function(require,module,exports) {
"use strict";var e=require("./core/utils/type"),t=require("./core/utils/date"),n=require("./localization/number"),r=require("./localization/date"),i=require("./core/utils/dependency_injector");require("./localization/currency"),module.exports=i({format:function(t,i){var o=e.isString(i)&&""!==i||e.isPlainObject(i)||e.isFunction(i),a=e.isNumeric(t)||e.isDate(t);return o&&a?e.isFunction(i)?i(t):(e.isString(i)&&(i={type:i}),e.isNumeric(t)?n.format(t,i):e.isDate(t)?r.format(t,i):void 0):e.isDefined(t)?t.toString():""},getTimeFormat:function(e){return e?"longtime":"shorttime"},_normalizeFormat:function(e){return Array.isArray(e)?1===e.length?e[0]:function(t){return e.map(function(e){return r.format(t,e)}).join(" ")}:e},getDateFormatByDifferences:function(e,t){var n=[],i=t&&e.millisecond&&!(e.year||e.month||e.day);if(i){n.push(function(e){return e.getSeconds()+e.getMilliseconds()/1e3+"s"})}else e.millisecond&&n.push("millisecond");if((e.hour||e.minute||!i&&e.second)&&n.unshift(this.getTimeFormat(e.second)),e.year&&e.month&&e.day)return t&&"month"===t?"monthandyear":(n.unshift("shortdate"),this._normalizeFormat(n));if(e.year&&e.month)return"monthandyear";if(e.year&&e.quarter)return"quarterandyear";if(e.year)return"year";if(e.quarter)return"quarter";if(e.month&&e.day){if(t){n.unshift(function(e){return r.getMonthNames("abbreviated")[e.getMonth()]+" "+r.format(e,"day")})}else n.unshift("monthandday");return this._normalizeFormat(n)}if(e.month)return"month";if(e.day){if(t)n.unshift("day");else{n.unshift(function(e){return r.format(e,"dayofweek")+", "+r.format(e,"day")})}return this._normalizeFormat(n)}return this._normalizeFormat(n)},getDateFormatByTicks:function(e){var n,r,i;if(e.length>1)for(n=t.getDatesDifferences(e[0],e[1]),i=1;i<e.length-1;i++)r=t.getDatesDifferences(e[i],e[i+1]),n.count<r.count&&(n=r);else n={year:!0,month:!0,day:!0,hour:e[0].getHours()>0,minute:e[0].getMinutes()>0,second:e[0].getSeconds()>0,millisecond:e[0].getMilliseconds()>0};return this.getDateFormatByDifferences(n)},getDateFormatByTickInterval:function(n,r,i){var o,a,s,u,c,m=function(e,t,n){switch(t){case"year":case"quarter":e.month=n;case"month":e.day=n;case"week":case"day":e.hour=n;case"hour":e.minute=n;case"minute":e.second=n;case"second":e.millisecond=n}};return i=e.isString(i)?i.toLowerCase():i,o=t.getDatesDifferences(n,r),n!==r&&(s=o,u=n>r?r:n,!(c=n>r?n:r).getMilliseconds()&&c.getSeconds()?c.getSeconds()-u.getSeconds()==1&&(s.millisecond=!0,s.second=!1):!c.getSeconds()&&c.getMinutes()?c.getMinutes()-u.getMinutes()==1&&(s.second=!0,s.minute=!1):!c.getMinutes()&&c.getHours()?c.getHours()-u.getHours()==1&&(s.minute=!0,s.hour=!1):!c.getHours()&&c.getDate()>1?c.getDate()-u.getDate()==1&&(s.hour=!0,s.day=!1):1===c.getDate()&&c.getMonth()?c.getMonth()-u.getMonth()==1&&(s.day=!0,s.month=!1):!c.getMonth()&&c.getFullYear()&&c.getFullYear()-u.getFullYear()==1&&(s.month=!0,s.year=!1)),m(o,a=t.getDateUnitInterval(o),!0),m(o,a=t.getDateUnitInterval(i||"second"),!1),o[{week:"day"}[a]||a]=!0,this.getDateFormatByDifferences(o)}});
},{"./core/utils/type":"Mw4w","./core/utils/date":"IcD0","./localization/number":"mjsA","./localization/date":"F0Sb","./core/utils/dependency_injector":"NtCB","./localization/currency":"yP9W"}],"kk68":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=y(e),r=require("../../core/utils/type"),n=require("../../core/utils/deferred"),a=require("../shared/filtering"),o=require("../../core/utils/string"),i=require("../../core/utils/iterator"),l=require("../../core/utils/extend"),u=require("../../core/utils/data"),d=require("../../core/utils/common"),s=require("../load_panel"),c=y(s),f=require("../../data/utils"),g=require("../../format_helper"),p=y(g),m=require("../../core/utils/object"),h=require("../../core/utils/window"),x=require("../../events/core/events_engine"),v=y(x);function y(e){return e&&e.__esModule?e:{default:e}}var C="dx-selection-disabled",T="dx-datagrid-group-opened",b="dx-datagrid-group-closed",S="dx-datagrid-expand",D="nodata",I={year:function(e){return e&&e.getFullYear()},month:function(e){return e&&e.getMonth()+1},day:function(e){return e&&e.getDate()},quarter:function(e){return e&&Math.floor(e.getMonth()/3)+1},hour:function(e){return e&&e.getHours()},minute:function(e){return e&&e.getMinutes()},second:function(e){return e&&e.getSeconds()}};module.exports=function(){var e=function(e){return"date"===e||"datetime"===e},s=function(e){e.get(0).textContent=""},g=function(e){var t=e.data&&e.data(),r=t&&t.dxComponents,n=r&&r[0];return n&&t[n]};return{renderNoDataText:function(e){if(e=e||this.element()){var r=this.addWidgetPrefix(D),n=e.find("."+r).last(),a=this._dataController.isEmpty(),o=this._dataController.isLoading();n.length||(n=(0,t.default)("<span>").addClass(r).appendTo(e)),a&&!o?n.removeClass("dx-hidden").text(this._getNoDataText()):n.addClass("dx-hidden")}},renderLoadPanel:function(e,r,n){var a;this._loadPanel&&this._loadPanel.$element().remove(),(a=this.option("loadPanel"))&&("auto"===a.enabled?!n:a.enabled)?(a=(0,l.extend)({shading:!1,message:a.text,position:function(){var r=(0,t.default)((0,h.getWindow)());return e.height()>r.height()?{of:r,boundary:e,collision:"fit"}:{of:e}},container:r},a),this._loadPanel=this._createComponent((0,t.default)("<div>").appendTo(r),c.default,a)):this._loadPanel=null},getIndexByKey:function(e,t,n){var a,o=-1;if(void 0!==e&&Array.isArray(t)){n=arguments.length<=2?"key":n;for(var i=0;i<t.length;i++)if(a=(0,r.isDefined)(n)?t[i][n]:t[i],(0,d.equalByValue)(e,a)){o=i;break}}return o},combineFilters:function(e,t){var r,n=[];for(t=t||"and",r=0;r<e.length;r++)e[r]&&(n.length&&n.push(t),n.push(e[r]));if(1===n.length&&(n=n[0]),n.length)return n},checkChanges:function(e,t){var r,n=0;for(r=0;r<t.length;r++)e[t[r]]&&n++;return e.length&&e.length===n},equalFilterParameters:function(e,t){var n;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!module.exports.equalFilterParameters(e[n],t[n]))return!1;return!0}return(0,r.isFunction)(e)&&e.columnIndex>=0&&(0,r.isFunction)(t)&&t.columnIndex>=0?e.columnIndex===t.columnIndex&&(0,u.toComparable)(e.filterValue)===(0,u.toComparable)(t.filterValue):(0,u.toComparable)(e)==(0,u.toComparable)(t)},proxyMethod:function(e,t,r){e[t]||(e[t]=function(){var e=this._dataSource;return e?e[t].apply(e,arguments):r})},formatValue:function(e,t){var r=p.default.format(e,t.format)||e&&e.toString()||"",n={value:e,valueText:t.getDisplayFormat?t.getDisplayFormat(r):r,target:t.target||"row",groupInterval:t.groupInterval};return t.customizeText?t.customizeText.call(t,n):n.valueText},getFormatOptionsByColumn:function(e,t){return{format:e.format,getDisplayFormat:e.getDisplayFormat,customizeText:e.customizeText,target:t,trueText:e.trueText,falseText:e.falseText}},getDisplayValue:function(e,t,r,n){return e.displayValueMap&&void 0!==e.displayValueMap[t]?e.displayValueMap[t]:e.calculateDisplayValue&&r&&"group"!==n?e.calculateDisplayValue(r):!e.lookup||"group"===n&&(e.calculateGroupValue||e.calculateDisplayValue)?t:e.lookup.calculateCellValue(t)},getGroupRowSummaryText:function(e,t){var r,n,a="(";for(r=0;r<e.length;r++)n=e[r],a+=(r>0?", ":"")+module.exports.getSummaryText(n,t);return a+")"},getSummaryText:function(e,t){var r=e.displayFormat||e.columnCaption&&t[e.summaryType+"OtherColumn"]||t[e.summaryType];return this.formatValue(e.value,{format:e.valueFormat,getDisplayFormat:function(t){return r?(0,o.format)(r,t,e.columnCaption):t},customizeText:e.customizeText})},normalizeSortingInfo:function(e){var t,r;for(e=e||[],t=(0,f.normalizeSortingInfo)(e),r=0;r<e.length;r++)e&&e[r]&&void 0!==e[r].isExpanded&&(t[r].isExpanded=e[r].isExpanded),e&&e[r]&&void 0!==e[r].groupInterval&&(t[r].groupInterval=e[r].groupInterval);return t},getFormatByDataType:function(e){switch(e){case"date":return"shortDate";case"datetime":return"shortDateShortTime"}},getHeaderFilterGroupParameters:function(t,n){var o=[],l=t.dataField||t.name,u=(0,a.getGroupInterval)(t);return u?((0,i.each)(u,function(a,i){o.push(n?{selector:l,groupInterval:i,isExpanded:a<u.length-1}:function(){var t,n,a=arguments[1],o=this.calculateCellValue(a);return(0,r.isDefined)(o)?e(this.dataType)?(n=arguments[0],I[n](o)):"number"===this.dataType?(t=arguments[0],Math.floor(Number(o)/t)*t):void 0:null}.bind(t,i))}),o):(n?o=[{selector:l,isExpanded:!1}]:(o=function(e){var r=t.calculateCellValue(e);return void 0!==r&&""!==r||(r=null),r},t.sortingMethod&&(o=[{selector:o,compare:t.sortingMethod.bind(t)}])),o)},equalSortParameters:function(e,t,n){var a,o,i;if(e=module.exports.normalizeSortingInfo(e),t=module.exports.normalizeSortingInfo(t),Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(o=e[a].selector,i=t[a].selector,!((0,r.isFunction)(o)&&(0,r.isFunction)(i)&&o.originalCallback&&i.originalCallback?o.originalCallback===i.originalCallback:o===i)||e[a].desc!==t[a].desc||e[a].groupInterval!==t[a].groupInterval||!n&&Boolean(e[a].isExpanded)!==Boolean(t[a].isExpanded))return!1;return!0}return(!e||!e.length)==(!t||!t.length)},getPointsByColumns:function(e,t,r,n){var a,o,i,l,u,d,s=e.length,c=!1,f=n||0,g=[];for(o=0;o<=s;o++)o<s&&(l=(i=e.eq(o)).offset(),d="rtl"===i.css("direction")),a={index:f,x:l?l.left+(!r&&d^o===s?i[0].getBoundingClientRect().width:0):0,y:l?l.top+(r&&o===s?i[0].getBoundingClientRect().height:0):0,columnIndex:f},!r&&o>0&&(u=e.eq(o-1).offset()).top<a.y&&(a.y=u.top),t&&(c=t(a)),c||g.push(a),f++;return g},createObjectWithChanges:function(e,t){var r=e?Object.create(Object.getPrototypeOf(e)):{},n=(0,l.extendFromObject)({},e);return(0,m.deepExtendArraySafe)(r,n,!0,!0),(0,m.deepExtendArraySafe)(r,t,!0,!0)},getExpandCellTemplate:function(){return{allowRenderToDetachedContainer:!0,render:function(e,n){var a,o=(0,t.default)(e);!(0,r.isDefined)(n.value)||n.data&&n.data.isContinuation||n.row.isNewRow?s(o):(a=n.component.getView("rowsView"),o.addClass(S).addClass(C),(0,t.default)("<div>").addClass(n.value?T:b).appendTo(o),a.setAria("label",n.value?a.localize("dxDataGrid-ariaCollapse"):a.localize("dxDataGrid-ariaExpand"),o))}}},setEmptyText:s,isDateType:e,getSelectionRange:function(e){try{if(e)return{selectionStart:e.selectionStart,selectionEnd:e.selectionEnd}}catch(t){}return{}},setSelectionRange:function(e,t){try{e&&e.setSelectionRange&&e.setSelectionRange(t.selectionStart,t.selectionEnd)}catch(r){}},focusAndSelectElement:function(e,t){v.default.trigger(t,"focus");var r=e.option("editing.selectTextOnEditStart"),a=e.getController("keyboardNavigation"),o=a&&a._isFastEditingStarted();if(r&&!o&&t.is(".dx-texteditor-input")){var i=g(t.closest(".dx-texteditor"));(0,n.when)(i&&i._loadItemDeferred).done(function(){t.get(0).select()})}},getWidgetInstance:g,getLastResizableColumnIndex:function(e,t){for(var r=e.some(function(e){return e&&!e.command&&!e.fixed&&!1!==e.allowResizing}),n=e.length-1;e[n];n--){var a=e[n],o=t&&t[n],i=!r||!1!==a.allowResizing;if(!a.command&&!a.fixed&&"adaptiveHidden"!==o&&i)break}return n},isElementInCurrentGrid:function(e,t){return!(!t||!t.length)&&t.closest("."+e.getWidgetContainerClass()).parent().is(e.component.$element())}}}();
},{"../../core/renderer":"qxFQ","../../core/utils/type":"Mw4w","../../core/utils/deferred":"g5TB","../shared/filtering":"gV8h","../../core/utils/string":"X4J5","../../core/utils/iterator":"FHcO","../../core/utils/extend":"ac8T","../../core/utils/data":"YLhW","../../core/utils/common":"GcQA","../load_panel":"HlR7","../../data/utils":"rHW0","../../format_helper":"icNs","../../core/utils/object":"jPX0","../../core/utils/window":"NXH3","../../events/core/events_engine":"oNrb"}],"Z15x":[function(require,module,exports) {
"use strict";var n=require("../../core/renderer"),t=r(n),e=require("../../core/utils/common"),o=require("../../core/utils/extend"),i=require("../../core/utils/position");function r(n){return n&&n.__esModule?n:{default:n}}var a="dx-column-indicators",l="dx-group-panel-item";module.exports={_applyColumnState:function(n){var e=this.option("rtlEnabled"),i=this._getColumnAlignment(n.column.alignment,e),r=(0,o.extend)(!0,{columnAlignment:i},n),a=r.rootElement.hasClass(l),s=this._createIndicatorContainer(r,a),u=(0,t.default)("<span>").addClass(this._getIndicatorClassName(n.name));return r.container=s,r.indicator=u,this._renderIndicator(r),s[!a&&n.showColumnLines||"left"!==(e?"left"===i?"right":"left":i)?"prependTo":"appendTo"](n.rootElement),u},_getIndicatorClassName:e.noop,_getColumnAlignment:function(n,t){return t=t||this.option("rtlEnabled"),n&&"center"!==n?n:(0,i.getDefaultAlignment)(t)},_createIndicatorContainer:function(n,e){var o=this._getIndicatorContainer(n.rootElement),i="left"===n.columnAlignment?"right":"left";return o.length||(o=(0,t.default)("<div>").addClass(a)),this.setAria("role","presentation",o),o.css("float",n.showColumnLines&&!e?i:null)},_getIndicatorContainer:function(n){return n&&n.find("."+a)},_getIndicatorElements:function(n){var t=this._getIndicatorContainer(n);return t&&t.children()},_renderIndicator:function(n){var t=n.container,e=n.indicator;t&&e&&t.append(e)},_updateIndicators:function(n){var t,e,o,i=this.getColumns(),r=this.getColumnElements();if(r&&i.length===r.length)for(o=0;o<i.length;o++)e=r.eq(o),this._updateIndicator(e,i[o],n),(t=e.parent().data("options"))&&t.cells&&(t.cells[e.index()].column=i[o])},_updateIndicator:function(n,t,e){if(!t.command)return this._applyColumnState({name:e,rootElement:n,column:t,showColumnLines:this.option("showColumnLines")})}};
},{"../../core/renderer":"qxFQ","../../core/utils/common":"GcQA","../../core/utils/extend":"ac8T","../../core/utils/position":"Zh3q"}],"G3QA":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=q(e),n=require("../../core/dom_adapter"),l=q(n),r=require("../../core/utils/window"),i=require("../../events/core/events_engine"),o=q(i),a=require("../../core/element_data"),d=q(a),s=require("../../events/pointer"),c=q(s),u=require("../../events/click"),h=q(u),f=require("../../events/double_click"),m=q(f),p=require("../../core/utils/browser"),g=q(p),C=require("../../core/utils/common"),_=require("../../core/utils/style"),w=q(_),v=require("../../core/utils/dom"),x=require("../../core/utils/type"),b=q(x),y=require("../../core/utils/iterator"),T=q(y),E=require("../../core/utils/extend"),R=require("../../core/utils/position"),A=require("./ui.grid_core.modules"),I=q(A),W=require("./ui.grid_core.utils"),D=require("./ui.grid_core.column_state_mixin"),P=q(D);function q(e){return e&&e.__esModule?e:{default:e}}var k="scroll-container",V="group-space",S="content",N="table",O="table-fixed",H="content-fixed",B="dx-row",L="dx-col-fixed",M="dx-group-row",z="dx-master-detail-row",F="filter-row",G="cell-updated-animation",J="0.0001px",K="dxCellHintVisible",j="dx-field-item-content",$={render:function(e){e.container.append(e.content)}},Q=function(e,n){var l,r,i;function a(e){return setTimeout(function(){l=r=null},e)}o.default.on(n,"touchstart touchend",".dx-row",function(e){clearTimeout(i),"touchstart"===e.type?(l=e.target,r=e.currentTarget,i=a(1e3)):i=a()}),o.default.on(n,[h.default.name,m.default.name,c.default.down].join(" "),".dx-row",{useNative:e._isNativeClick()},e.createAction(function(n){var i=n.event;l&&(i.target=l,i.currentTarget=r),(0,t.default)(i.target).closest("a").length||(n.rowIndex=e.getRowIndex(i.currentTarget),n.rowIndex>=0&&(n.rowElement=(0,v.getPublicElement)((0,t.default)(i.currentTarget)),n.columns=e.getColumns(),i.type===c.default.down?e._rowPointerDown(n):i.type===h.default.name?e._rowClick(n):e._rowDblClick(n)))}))},U=function(e){return"auto"===e?"":b.default.isNumeric(e)?e+"px":e},X=function(e,t,n){e.style.width=e.style.maxWidth="auto"===t.width?"":n},Y=function(e,t){if(e&&t){var n,l,r=e.attributes,i=t.attributes;for(l=0;l<r.length;l++)n=r[l].nodeName,t.hasAttribute(n)||e.removeAttribute(n);for(l=0;l<i.length;l++)e.setAttribute(i[l].nodeName,i[l].nodeValue)}};exports.ColumnsView=I.default.View.inherit(P.default).inherit({_createScrollableOptions:function(){var e=this.option("scrolling"),t=this.option("scrolling.useNative"),n=(0,E.extend)({pushBackValue:0},e,{direction:"both",bounceEnabled:!1,useKeyboard:!1});return void 0===t&&(t=!0),"auto"===t?(delete n.useNative,delete n.useSimulatedScrollbar):(n.useNative=!!t,n.useSimulatedScrollbar=!t),n},_updateCell:function(e,t){t.rowType&&this._cellPrepared(e,t)},_createCell:function(e){var n=e.column,r=n.alignment||(0,R.getDefaultAlignment)(this.option("rtlEnabled")),i=l.default.createElement("td");i.style.textAlign=r;var o=(0,t.default)(i);return"data"===e.rowType&&n.headerId&&!n.type&&this.component.option("showColumnHeaders")&&this.setAria("describedby",n.headerId,o),n.cssClass&&o.addClass(n.cssClass),"expand"===n.command&&(o.addClass(n.cssClass),o.addClass(this.addWidgetPrefix(V))),n.colspan>1?o.attr("colSpan",n.colspan):n.isBand||"auto"===n.visibleWidth||this.option("legacyRendering")||!this.option("columnAutoWidth")||((n.width||n.minWidth)&&(i.style.minWidth=U(n.minWidth||n.width)),n.width&&X(i,n,U(n.width))),g.default.mozilla&&e.column.fixed&&o.addClass(L),o},_createRow:function(e){var n=(0,t.default)("<tr>").addClass(B);return this.setAria("role","row",n),n},_createTable:function(e,n){var l=this,r=(0,t.default)("<table>").addClass(l.addWidgetPrefix(N)).addClass(l.addWidgetPrefix(O));if(e&&!n?(r.append(l._createColGroup(e)),g.default.safari&&r.append((0,t.default)("<thead>").append("<tr>")),l.setAria("role","presentation",r)):l.setAria("hidden",!0,r),this.setAria("role","presentation",(0,t.default)("<tbody>").appendTo(r)),n)return r;g.default.mozilla&&o.default.on(r,"mousedown","td",function(e){e.ctrlKey&&e.preventDefault()}),l.option("cellHintEnabled")&&o.default.on(r,"mousemove",".dx-row > td",this.createAction(function(e){var n=e.event,r=(0,t.default)(n.target),i=(0,t.default)(n.currentTarget),o=i.parent(),a=o.hasClass("dx-data-row"),d=o.hasClass("dx-header-row"),s=o.hasClass(M),c=o.hasClass(z),u=o.hasClass(l.addWidgetPrefix(F)),h=l._columnsController.getVisibleColumns(),f=o.data("options"),m=i.index(),p=f&&f.cells&&f.cells[m],C=p?p.column:h[m],_=g.default.msie?1:0;c||u||a&&(!a||!C||C.cellTemplate)||d&&(!d||!C||C.headerCellTemplate)||s&&(!s||!C||void 0!==C.groupIndex&&C.groupCellTemplate)||(r.data(K)&&(r.removeAttr("title"),r.data(K,!1)),r[0].scrollWidth-r[0].clientWidth-_>0&&!b.default.isDefined(r.attr("title"))&&(r.attr("title",r.text()),r.data(K,!0)))}));var i=function(e){var n,r,i=(0,t.default)(e.currentTarget),o=(0,t.default)(e.target).closest("."+j),a=i.parent().data("options"),d=a&&a.cells&&a.cells[i.index()];if(i.closest("table").is(e.delegateTarget))return r=(0,E.extend)({},d,{cellElement:(0,v.getPublicElement)(i),event:e,eventType:e.type}),o.length&&(n=o.data("dx-form-item")).column&&(r.column=n.column,r.columnIndex=l._columnsController.getVisibleIndex(r.column.index)),r};return o.default.on(r,"mouseover",".dx-row > td",function(e){var t=i(e);t&&l.executeAction("onCellHoverChanged",t)}),o.default.on(r,"mouseout",".dx-row > td",function(e){var t=i(e);t&&l.executeAction("onCellHoverChanged",t)}),o.default.on(r,h.default.name,".dx-row > td",function(e){var t=i(e);t&&l.executeAction("onCellClick",t)}),o.default.on(r,m.default.name,".dx-row > td",function(e){var t=i(e);t&&l.executeAction("onCellDblClick",t)}),Q(l,r),r},_isNativeClick:C.noop,_rowPointerDown:C.noop,_rowClick:C.noop,_rowDblClick:C.noop,_createColGroup:function(e){var n,l,r,i=(0,t.default)("<colgroup>");for(n=0;n<e.length;n++)for(r=e[n].colspan||1,l=0;l<r;l++)i.append(this._createCol(e[n]));return i},_createCol:function(e){var n=e.visibleWidth||e.width;"adaptiveHidden"===n&&(n=J);var l=(0,t.default)("<col>");return w.default.setWidth(l,n),l},renderDelayedTemplates:function(){var e=this._delayedTemplates,t=e.filter(function(e){return!e.async}),n=e.filter(function(e){return e.async});this._delayedTemplates=[],this._renderDelayedTemplatesCore(t),this._renderDelayedTemplatesCoreAsync(n)},_renderDelayedTemplatesCoreAsync:function(e){var t=this;e.length&&(0,r.getWindow)().setTimeout(function(){t._renderDelayedTemplatesCore(e,!0)})},_renderDelayedTemplatesCore:function(e,n){for(var r,i=new Date;e.length;){var o=(r=e.shift()).options,a=o.model,d=l.default.getDocument();if(n&&!(0,t.default)(o.container).closest(d).length||(r.template.render(o),a&&a.column&&this._updateCell(o.container,a)),n&&new Date-i>30){this._renderDelayedTemplatesCoreAsync(e);break}}},_processTemplate:function(e){var n,l;return e&&e.render&&!b.default.isRenderer(e)?l={allowRenderToDetachedContainer:e.allowRenderToDetachedContainer,render:function(t){e.render(t.container,t.model)}}:b.default.isFunction(e)?l={render:function(t){var n=e((0,v.getPublicElement)(t.container),t.model);n&&(n.nodeType||b.default.isRenderer(n))&&t.container.append(n)}}:(n=b.default.isString(e)?e:(0,t.default)(e).attr("id"))?(this._templatesCache[n]||(this._templatesCache[n]=this.getTemplate(e)),l=this._templatesCache[n]):l=this.getTemplate(e),l},renderTemplate:function(e,t,n,l){var r,i=this._processTemplate(t,n),o=n.column,a="data"===n.rowType;if(i){if(n.component=this.component,r=o&&(o.renderAsync&&a||this.option("renderAsync")&&(!1!==o.renderAsync&&(o.command||o.showEditorAlways)&&a||"filter"===n.rowType)),(i.allowRenderToDetachedContainer||l)&&!r)return i.render({container:e,model:n}),!0;this._delayedTemplates.push({template:i,options:{container:e,model:n},async:r})}return!1},_getBodies:function(e){return(0,t.default)(e).children("tbody").not(".dx-header").not(".dx-footer")},_wrapRowIfNeed:function(e,n){var l=this.option("rowTemplate")&&this._getBodies(this._tableElement||e);if(l&&l.filter("."+B).length){var r=(0,t.default)("<tbody>").addClass(n.attr("class"));return this.setAria("role","presentation",r),r.append(n)}return n},_appendRow:function(e,t,n){(n=n||$).render({content:t,container:e})},_resizeCore:function(){var e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))},_renderCore:function(e){var t=this.element().parent();t&&!t.parent().length||this.renderDelayedTemplates(e)},_renderTable:function(e){var t;(e=e||{}).columns=this._columnsController.getVisibleColumns();var n=e.change&&e.change.changeType;return t=this._createTable(e.columns,"append"===n||"prepend"===n||"update"===n),this._renderRows(t,e),t},_renderRows:function(e,t){var n,l=this._getRows(t.change),r=t.change&&t.change.columnIndices||[],i=t.change&&t.change.changeTypes||[];for(n=0;n<l.length;n++)this._renderRow(e,(0,E.extend)({row:l[n],columnIndices:r[n],changeType:i[n]},t))},_renderRow:function(e,t){var n,l;t.columnIndices||(t.row.cells=[]),n=this._createRow(t.row),l=this._wrapRowIfNeed(e,n),"remove"!==t.changeType&&this._renderCells(n,t),this._appendRow(e,l);var r=(0,E.extend)({columns:t.columns},t.row);this._addWatchMethod(r,t.row),this._rowPrepared(l,r,t.row)},_needRenderCell:function(e,t){return!t||t.indexOf(e)>=0},_renderCells:function(e,t){var n,l=0,r=t.row,i=t.columns;for(n=0;n<i.length;n++)this._needRenderCell(n,t.columnIndices)&&this._renderCell(e,(0,E.extend)({column:i[n],columnIndex:l,value:r.values&&r.values[l],oldValue:r.oldValues&&r.oldValues[l]},t)),i[n].colspan>1?l+=i[n].colspan:l++},_updateCells:function(e,t,n){var l=e.children(),r=t.children(),i=this.option("highlightChanges"),o=this.addWidgetPrefix(G);n.forEach(function(e,t){var n=l.eq(e),a=r.eq(t);n.replaceWith(a),i&&!a.hasClass("dx-command-expand")&&a.addClass(o)}),Y(e.get(0),t.get(0))},_setCellAriaAttributes:function(e,t){"freeSpace"!==t.rowType&&(this.setAria("selected",!1,e),this.setAria("role","gridcell",e),this.setAria("colindex",t.columnIndex+1,e))},_renderCell:function(e,t){var n,l=this._getCellOptions(t);return t.columnIndices?t.row.cells&&(t.row.cells[l.columnIndex]=l):t.row.cells.push(l),n=this._createCell(l),this._setCellAriaAttributes(n,l),this._renderCellContent(n,l),e.get(0).appendChild(n.get(0)),n},_renderCellContent:function(e,t){var n=this._getCellTemplate(t);n&&!this.renderTemplate(e,n,t)||this._updateCell(e,t)},_getCellTemplate:function(){},_getRows:function(){return[]},_getCellOptions:function(e){var t={column:e.column,columnIndex:e.columnIndex,rowType:e.row.rowType};return this._addWatchMethod(t),t},_addWatchMethod:function(e,t){if(this.option("repaintChangesOnly")){var n=[];return(t=t||e).watch=t.watch||function(e,l){var r=e(t.data),i=function(){var n=e(t.data);JSON.stringify(r)!==JSON.stringify(n)&&(l(n,r),r=n)};n.push(i);return function(){var e=n.indexOf(i);e>=0&&n.splice(e,1)}},t.update=t.update||function(t){this.data=e.data=t.data,this.rowIndex=e.rowIndex=t.rowIndex,this.dataIndex=e.dataIndex=t.dataIndex,this.isExpanded=e.isExpanded=t.isExpanded,e.row&&(e.row=t),n.forEach(function(e){e()})},t!==e&&(e.watch=t.watch.bind(t)),e}},_cellPrepared:function(e,n){n.cellElement=(0,v.getPublicElement)((0,t.default)(e)),this.executeAction("onCellPrepared",n)},_rowPrepared:function(e,t){d.default.data(e.get(0),"options",t),t.rowElement=(0,v.getPublicElement)(e),this.executeAction("onRowPrepared",t)},_columnOptionChanged:function(e){var t=e.optionNames;if((0,W.checkChanges)(t,["width","visibleWidth"])){var n=this._columnsController.getVisibleColumns(),l=T.default.map(n,function(e){var t=e.visibleWidth||e.width;return b.default.isDefined(t)?t:"auto"});this.setColumnWidths({widths:l,optionNames:t})}else this._requireReady||this.render()},getCellIndex:function(e){return e.length?e[0].cellIndex:-1},getTableElements:function(){return this._tableElement||(0,t.default)()},_getTableElement:function(){return this._tableElement},_setTableElement:function(e){this._tableElement=e},optionChanged:function(e){switch(this.callBase(e),e.name){case"cellHintEnabled":case"onCellPrepared":case"onRowPrepared":case"onCellHoverChanged":this._invalidate(!0,!0),e.handled=!0}},init:function(){var e=this;e._scrollLeft=-1,e._columnsController=e.getController("columns"),e._dataController=e.getController("data"),e._delayedTemplates=[],e._templatesCache={},e.createAction("onCellClick"),e.createAction("onRowClick"),e.createAction("onCellDblClick"),e.createAction("onRowDblClick"),e.createAction("onCellHoverChanged",{excludeValidators:["disabled","readOnly"]}),e.createAction("onCellPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),e.createAction("onRowPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering",afterExecute:function(t){e._afterRowPrepared(t)}}),e._columnsController.columnsChanged.add(e._columnOptionChanged.bind(e)),e._dataController&&e._dataController.changed.add(e._handleDataChanged.bind(e))},_afterRowPrepared:C.noop,_handleDataChanged:function(){},callbackNames:function(){return["scrollChanged"]},scrollTo:function(e){var t=this.element(),n=t&&t.children("."+this.addWidgetPrefix(k)).not("."+this.addWidgetPrefix(H));this._skipScrollChanged=!1,b.default.isDefined(e)&&b.default.isDefined(e.left)&&this._scrollLeft!==e.left&&(this._scrollLeft=e.left,n&&n.scrollLeft(Math.round(e.left)),this._skipScrollChanged=!0)},_wrapTableInScrollContainer:function(e){var n,l=this;return n=(0,t.default)("<div>"),o.default.on(n,"scroll",function(){!l._skipScrollChanged&&l.scrollChanged.fire({left:n.scrollLeft()},l.name),l._skipScrollChanged=!1}),n.addClass(l.addWidgetPrefix(S)).addClass(l.addWidgetPrefix(k)).append(e).appendTo(l.element()),l.setAria("role","presentation",n),n},_updateContent:function(e){this._setTableElement(e),this._wrapTableInScrollContainer(e)},_findContentElement:C.noop,_getWidths:function(e){var t,n,l=[],r=this.option("legacyRendering");return e&&T.default.each(e,function(e,i){t=i.offsetWidth,i.getBoundingClientRect&&(n=i.getBoundingClientRect()).width>t-1&&(t=r?Math.ceil(n.width):n.width),l.push(t)}),l},getColumnWidths:function(e){var t,n,l=[];if((this.option("forceApplyBindings")||C.noop)(),e=e||this._getTableElement()){t=e.children("tbody").children();for(var r=0;r<t.length;r++){var i=t.eq(r),o="none"!==i.get(0).style.display&&!i.hasClass("dx-state-invisible");if(!i.is("."+M)&&!i.is("."+z)&&o){n=i.children("td");break}}l=this._getWidths(n)}return l},getVisibleColumnIndex:function(e,t){return e},setColumnWidths:function(e){var t,n,l,r,i,o=e.widths,a=e.$tableElement,d=e.columns,s=e.fixed,c=this.option("columnAutoWidth"),u=this.option("legacyRendering");if((a=a||this._getTableElement())&&a.length&&o)for(i=0,t=a.children("colgroup").children("col"),w.default.setWidth(t,"auto"),d=d||this.getColumns(null,a),n=0;n<d.length;n++){if(!u&&c&&!s&&(l=d[n].width)&&!d[n].command){l=d[n].visibleWidth||l,l=U(l),r=U(d[n].minWidth||l);for(var h=h||a.children().children(".dx-row").not("."+M).not("."+z),f=0;f<h.length;f++){var m=this.getVisibleColumnIndex(n,f),p=h[f].cells[m];p&&(X(p,d[n],l),p.style.minWidth=r)}}d[n].colspan?i+=d[n].colspan:("adaptiveHidden"===(l=o[i])&&(l=J),"number"==typeof l&&(l=l.toFixed(3)+"px"),w.default.setWidth(t.eq(i),b.default.isDefined(l)?l:"auto"),i++)}},getCellElements:function(e){return this._getCellElementsCore(e)},_getCellElementsCore:function(e){return this._getRowElements().eq(e).children()},_getCellElement:function(e,t){var n,l=this.getCellElements(e),r=this._getVisibleColumnIndex(l,e,t);if(l.length&&r>=0&&(n=l.eq(r)),n&&n.length)return n},_getRowElement:function(e){var n=this,l=(0,t.default)(),r=n.getTableElements();if(T.default.each(r,function(r,i){l=l.add(n._getRowElements((0,t.default)(i)).eq(e))}),l.length)return l},getCellElement:function(e,t){return(0,v.getPublicElement)(this._getCellElement(e,t))},getRowElement:function(e){var t=this._getRowElement(e),n=[];if(t&&!(0,v.getPublicElement)(t).get)for(var l=0;l<t.length;l++)n.push(t[l]);else n=t;return n},_getVisibleColumnIndex:function(e,t,n){var l;return b.default.isString(n)?(l=this._columnsController.columnOption(n,"index"),this._columnsController.getVisibleIndex(l)):n},getColumnElements:function(){},getColumns:function(e){return this._columnsController.getVisibleColumns(e)},getCell:function(e,t){var n,l=t||this._getRowElements();if(l.length>0&&e.rowIndex>=0&&("virtual"!==this.option("scrolling.mode")&&(e.rowIndex=e.rowIndex<l.length?e.rowIndex:l.length-1),(n=this.getCellElements(e.rowIndex))&&n.length>0))return n.eq(n.length>e.columnIndex?e.columnIndex:n.length-1)},getRowsCount:function(){var e=this._getTableElement();return e&&1===e.length?e[0].rows.length:0},_getRowElementsCore:function(e){if(e=e||this._getTableElement()){var n=this.option("rowTemplate")&&e.find("> tbody."+B);return n&&n.length?n:e.find("> tbody > ."+B+", > ."+B)}return(0,t.default)()},_getRowElements:function(e){return this._getRowElementsCore(e)},getRowIndex:function(e){return this._getRowElements().index(e)},getBoundingRect:function(){},getName:function(){},setScrollerSpacing:function(e){var t=this.element(),n=this.option("rtlEnabled");t&&t.css(n?{paddingLeft:e}:{paddingRight:e})},isScrollbarVisible:function(e){var t=this.element(),n=this._tableElement;return!(!t||!n)&&(e?n.outerWidth()-t.width()>0:n.outerHeight()-t.height()>0)}});
},{"../../core/renderer":"qxFQ","../../core/dom_adapter":"RRDy","../../core/utils/window":"NXH3","../../events/core/events_engine":"oNrb","../../core/element_data":"yYfn","../../events/pointer":"HDhW","../../events/click":"RTmy","../../events/double_click":"st1m","../../core/utils/browser":"nlvS","../../core/utils/common":"GcQA","../../core/utils/style":"DyYH","../../core/utils/dom":"vDwZ","../../core/utils/type":"Mw4w","../../core/utils/iterator":"FHcO","../../core/utils/extend":"ac8T","../../core/utils/position":"Zh3q","./ui.grid_core.modules":"vXU0","./ui.grid_core.utils":"kk68","./ui.grid_core.column_state_mixin":"Z15x"}],"sH3F":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=o(e),r=require("../../events/core/events_engine"),a=o(r),d=require("../../events/utils"),i=o(d),n=require("../../core/utils/extend");function o(e){return e&&e.__esModule?e:{default:e}}var l="dx-state-focused",u="dx-cell-focus-disabled",s=".dx-row-focused",f=".dx-datagrid-rowsview .dx-row",x=f+" > td",c=".dx-treelist-rowsview .dx-row",g=c+" > td",v={groupPanel:[".dx-datagrid-group-panel .dx-group-panel-item[tabindex]"],columnHeaders:[".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action",".dx-treelist-headers .dx-header-row > td.dx-treelist-action"],filterRow:[".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input",".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input"],rowsView:[""+s,f+"[tabindex]",x+"[tabindex]",""+x,c+"[tabindex]",g+"[tabindex]",""+g],footer:[".dx-datagrid-total-footer .dx-datagrid-summary-item",".dx-treelist-total-footer .dx-treelist-summary-item"],filterPanel:[".dx-datagrid-filter-panel .dx-icon-filter",".dx-treelist-filter-panel .dx-icon-filter"],pager:[".dx-datagrid-pager [tabindex]",".dx-treelist-pager [tabindex]"]},b=!1,w=!1,p=null;function m(e,t,r,a,d,n){if(!q(t,r.originalEvent,n)){var o=i.default.normalizeKeyName(r);"enter"===o||"space"===o?(y(r.target,t),a&&a({event:r})):"tab"===o?d.addClass(l):module.exports.selectView(e,t,r)}}function y(e,r){var a=(0,t.default)(e),d=a.attr("aria-label"),i=h(d,r.element()).index(a);p=(0,n.extend)({},{ariaLabel:d,index:i},{viewInstance:r})}function h(e,r){var a=(0,t.default)(r);return e?a.find('[aria-label="'+e+'"][tabindex]'):a.find("[tabindex]")}function K(e){for(var r in e){var a,d=e[r];if((a=(0,t.default)(d).first()).length)return a}}function q(e,t,r){var a={event:t,handled:!1};return r?r(a):e._createActionByOption("onKeyDown")(a),a.handled}module.exports={hiddenFocus:function(e){w=!0,e.focus(),w=!1},registerKeyboardAction:function(e,r,d,i,n,o){if(!r.option("useLegacyKeyboardNavigation")){var u=(0,t.default)(r.element());a.default.on(d,"keydown",i,function(t){return m(e,r,t,n,u,o)}),a.default.on(d,"mousedown",i,function(){b=!0,u.removeClass(l)}),a.default.on(d,"focusin",i,function(){b||w||u.addClass(l),b=!1})}},restoreFocus:function(e){if(!e.option("useLegacyKeyboardNavigation")&&p){var t=p.viewInstance;if(t){var r=h(p.ariaLabel,t.element()).eq(p.index);p=null,a.default.trigger(r,"focus")}}},selectView:function(e,t,r){var d=i.default.normalizeKeyName(r);if(r.ctrlKey&&("upArrow"===d||"downArrow"===d))for(var n=Object.keys(v),o=n.indexOf(e);o>=0&&o<n.length;){var l=n[o="upArrow"===d?--o:++o],s=K(v[l]);if(s&&s.length){s.attr("tabindex",t.option("tabindex")||0),a.default.trigger(s,"focus"),s.removeClass(u);break}}},setTabIndex:function(e,t){e.option("useLegacyKeyboardnavigation")||t.attr("tabindex",e.option("tabindex")||0)}};
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../events/utils":"cNvJ","../../core/utils/extend":"ac8T"}],"pZep":[function(require,module,exports) {
"use strict";var e=require("../../ui/shared/accessibility"),o=t(e);function t(e){return e&&e.__esModule?e:{default:e}}module.exports={registerKeyboardAction:function(e,t,i,r,n){var a=t.getController("keyboardNavigation");if(!(t.option("useLegacyKeyboardNavigation")||a&&!a.isKeyboardEnabled())){t.createAction("onKeyDown"),o.default.registerKeyboardAction(e,t,i,r,n,function(e){t.executeAction("onKeyDown",e)})}}};
},{"../../ui/shared/accessibility":"sH3F"}],"T4Gv":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=h(e),n=require("../../events/core/events_engine"),i=h(n),r=require("./ui.grid_core.columns_view"),o=h(r),l=require("../../localization/message"),a=h(l),s=require("../../core/utils/type"),d=require("../../core/utils/iterator"),u=require("../../core/utils/extend"),c=require("./ui.grid_core.accessibility");function h(e){return e&&e.__esModule?e:{default:e}}var g="text-content",m="headers",f="nowrap",C=".dx-row",p="dx-header-row",w="dx-column-lines",_="context-menu-sort-asc",x="context-menu-sort-desc",v="context-menu-sort-none",y="dx-cell-focus-disabled",b="dx-visibility-hidden",T="dx-text-content-alignment-",B="dx-sort-indicator",R="dx-sort-index-indicator",E=".dx-header-filter",I="dx-header-filter-indicator",H="dx-header-multi-row";module.exports={defaultOptions:function(){return{showColumnHeaders:!0,cellHintEnabled:!0}},views:{columnHeadersView:o.default.ColumnsView.inherit(function(){var e=function(e,i,r){var o=(0,t.default)("<div>").addClass(e.addWidgetPrefix(g));return e.setAria("role","presentation",o),n(e,i,r.column,o),o[e.option("showColumnLines")||"right"===r.column.alignment?"appendTo":"prependTo"](i)},n=function(e,t,n,i){var r=e._getIndicatorElements(t,!0),o=e._getIndicatorElements(t),l=r&&r.length,a=e._getColumnAlignment(n.alignment);(i=i||t.children("."+e.addWidgetPrefix(g))).toggleClass(T+a,l>0).toggleClass(T+("left"===a?"right":"left"),l>0&&"center"===n.alignment).toggleClass(B,!!o.filter("."+e._getIndicatorClassName("sort")).length).toggleClass(R,!!o.children().filter("."+e._getIndicatorClassName("sortIndex")).length).toggleClass(I,!!o.filter("."+e._getIndicatorClassName("headerFilter")).length)};return{_createTable:function(){var e=this.callBase.apply(this,arguments);return i.default.on(e,"mousedown selectstart",this.createAction(function(e){var t=e.event;t.shiftKey&&t.preventDefault()})),e},_isLegacyKeyboardNavigation:function(){return this.option("useLegacyKeyboardNavigation")},_getDefaultTemplate:function(t){var n=this;return function(i,r){var o=t.command?i:e(n,i,r),l="expand"!==t.command&&t.caption;l?o.text(l):t.command&&i.html("&nbsp;")}},_getHeaderTemplate:function(e){return e.headerCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(e)}},_processTemplate:function(t,n){var i=this,r=n.column,o=i.callBase(t);return"header"===n.rowType&&o&&r.headerCellTemplate&&!r.command?{render:function(t){var n=e(i,t.container,t.model);o.render((0,u.extend)({},t,{container:n}))}}:o},_handleDataChanged:function(e){"refresh"===e.changeType&&(this._isGroupingChanged||this._requireReady)&&(this._isGroupingChanged=!1,this.render())},_renderCell:function(e,t){var n=this.callBase(e,t);return"header"===t.row.rowType&&(n.addClass(y),this._isLegacyKeyboardNavigation()||t.column&&!t.column.type&&n.attr("tabindex",this.option("tabindex")||0)),n},_setCellAriaAttributes:function(e,t){this.callBase(e,t),"header"===t.rowType&&(this.setAria("role","columnheader",e),!t.column||t.column.command||t.column.isBand||(e.attr("id",t.column.headerId),this.setAria("label",a.default.format("dxDataGrid-ariaColumn")+" "+t.column.caption,e)))},_createRow:function(e){var t=this.callBase(e).toggleClass(w,this.option("showColumnLines"));return"header"===e.rowType&&(t.addClass(p),this._isLegacyKeyboardNavigation()||(0,c.registerKeyboardAction)("columnHeaders",this,t,"td",this._handleActionKeyDown.bind(this))),t},_handleActionKeyDown:function(e){var n=e.event,i=(0,t.default)(n.target);if(this._lastActionElement=n.target,i.is(E)){var r=this.getController("headerFilter"),o=i.closest("td"),l=this.getColumnIndexByElement(o);l>=0&&r.showHeaderFilterMenu(l,!1)}else{var a=i.closest(C);this._processHeaderAction(n,a)}n.preventDefault()},_renderCore:function(){var e=this.element();(!this._tableElement||this._dataController.isLoaded()||this._hasRowElements)&&(e.addClass(this.addWidgetPrefix(m)).toggleClass(this.addWidgetPrefix(f),!this.option("wordWrapEnabled")).empty(),this.setAria("role","presentation",e),this._updateContent(this._renderTable()),this.getRowCount()>1&&e.addClass(H),this.callBase.apply(this,arguments))},_renderRows:function(){(this._dataController.isLoaded()||this._hasRowElements)&&(this.callBase.apply(this,arguments),this._hasRowElements=!0)},_getRowVisibleColumns:function(e){return this._columnsController.getVisibleColumns(e)},_renderRow:function(e,t){t.columns=this._getRowVisibleColumns(t.row.rowIndex),this.callBase(e,t)},_createCell:function(e){var t=e.column,n=this.callBase.apply(this,arguments);return t.rowspan>1&&"header"===e.rowType&&n.attr("rowSpan",t.rowspan),n},_getRows:function(){var e,t=[],n=this.getRowCount();if(this.option("showColumnHeaders"))for(e=0;e<n;e++)t.push({rowType:"header",rowIndex:e});return t},_getCellTemplate:function(e){if("header"===e.rowType)return this._getHeaderTemplate(e.column)},_columnOptionChanged:function(e){var t=e.changeTypes,n=e.optionNames;t.grouping?this._isGroupingChanged=!0:(this.callBase(e),(n.width||n.visible)&&this.resizeCompleted.fire())},_isElementVisible:function(e){return e&&e.visible},_alignCaptionByCenter:function(e){var t=this._getIndicatorContainer(e,!0);t&&t.length&&(t.filter("."+b).remove(),(t=this._getIndicatorContainer(e)).clone().addClass(b).css("float","").insertBefore(e.children("."+this.addWidgetPrefix(g))))},_updateCell:function(e,t){"header"===t.rowType&&"center"===t.column.alignment&&this._alignCaptionByCenter(e),this.callBase.apply(this,arguments)},_updateIndicator:function(e,t,i){var r=this.callBase.apply(this,arguments);return"center"===t.alignment&&this._alignCaptionByCenter(e),n(this,e,t),r},_getIndicatorContainer:function(e,t){var n=this.callBase(e);return t?n:n.filter(":not(."+b+")")},_isSortableElement:function(){return!0},getHeadersRowHeight:function(){var e=this._getTableElement(),n=e&&e.find("."+p);return n&&n.toArray().reduce(function(e,n){return e+(0,t.default)(n).height()},0)||0},getHeaderElement:function(e){var t=this.getColumnElements();return t&&t.eq(e)},getColumnElements:function(e,n){var i,r,o,l,a=this,u=a._columnsController,c=a.getRowCount();if(a.option("showColumnHeaders")){if(c>1&&(!(0,s.isDefined)(e)||(0,s.isDefined)(n)))return r=[],l=(0,s.isDefined)(n)?u.getChildrenByBandColumn(n,!0):u.getVisibleColumns(),(0,d.each)(l,function(t,n){i=(0,s.isDefined)(e)?e:u.getRowIndex(n.index),(o=a._getCellElement(i,u.getVisibleIndex(n.index,i)))&&r.push(o.get(0))}),(0,t.default)(r);if(!e||e<c)return a.getCellElements(e||0)}},getColumnIndexByElement:function(e){var t=this.getCellIndex(e),n=e.closest(".dx-row")[0].rowIndex,i=this.getColumns(n)[t];return i?i.index:-1},getVisibleColumnIndex:function(e,t){var n=this.getColumns()[e];return n?this._columnsController.getVisibleIndex(n.index,t):-1},getColumnWidths:function(){var e=this.getColumnElements();return e&&e.length?this._getWidths(e):this.callBase.apply(this,arguments)},allowDragging:function(e,t,n){var i,r,o=e&&this._columnsController.getRowIndex(e.index),l=this.getColumns(0===o?0:null),a=0,s=function(e){return e.allowReordering||e.allowGrouping||e.allowHiding};for(i=0;i<l.length;i++)s(l[i])&&a++;if(a<=1)return!1;if(!n)return(this.option("allowColumnReordering")||this._columnsController.isColumnOptionUsed("allowReordering"))&&e&&e.allowReordering;for(i=0;i<n.length;i++)if((r=n[i])&&r.allowDragging(e,t))return!0;return!1},getBoundingRect:function(){var e=this.getColumnElements();return e&&e.length?{top:this._getTableElement().offset().top}:null},getName:function(){return"headers"},getColumnCount:function(){var e=this.getColumnElements();return e?e.length:0},isVisible:function(){return this.option("showColumnHeaders")},optionChanged:function(e){switch(e.name){case"showColumnHeaders":case"wordWrapEnabled":case"showColumnLines":this._invalidate(!0,!0),e.handled=!0;break;default:this.callBase(e)}},getHeight:function(){return this.getElementHeight()},getContextMenuItems:function(e){var t,n,i=this,r=e.column;if(e.row&&("header"===e.row.rowType||"detailAdaptive"===e.row.rowType)&&(n=i.option("sorting"))&&"none"!==n.mode&&r&&r.allowSorting)return t=function(e){setTimeout(function(){i._columnsController.changeSortOrder(r.index,e.itemData.value)})},[{text:n.ascendingText,value:"asc",disabled:"asc"===r.sortOrder,icon:_,onItemClick:t},{text:n.descendingText,value:"desc",disabled:"desc"===r.sortOrder,icon:x,onItemClick:t},{text:n.clearText,value:"none",disabled:!r.sortOrder,icon:v,onItemClick:t}]},getRowCount:function(){return this._columnsController&&this._columnsController.getRowCount()},setRowsOpacity:function(e,t,n){var i,r,o=this,l=o.getRowCount(),a=o._columnsController.getColumns(),u=a&&a[e],c=u&&u.isBand&&u.index,h=function(e,n){n.ownerBand===c&&(r.eq(e).css({opacity:t}),n.isBand&&o.setRowsOpacity(n.index,t,i+1))};if((0,s.isDefined)(c))for(i=n=n||0;i<l;i++)r=o.getCellElements(i),(0,d.each)(o.getColumns(i),h)}}}())}};
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","./ui.grid_core.columns_view":"G3QA","../../localization/message":"Njcj","../../core/utils/type":"Mw4w","../../core/utils/iterator":"FHcO","../../core/utils/extend":"ac8T","./ui.grid_core.accessibility":"pZep"}],"zHt3":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),r=t(e),u=require("../grid_core/ui.grid_core.column_headers"),i=t(u);function t(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("columnHeaders",i.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.column_headers":"T4Gv"}],"kANi":[function(require,module,exports) {
"use strict";var e=require("../config"),r=require("../../localization/ldml/date.formatter").getFormatter,t=require("../../localization/default_date_names"),a=require("./type"),n=a.isString,i=a.isDate,u=a.isNumeric,d="number",o="yyyy/MM/dd",m="yyyy/MM/dd HH:mm:ss",l=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,s=/^(\d{2}):(\d{2})(:(\d{2}))?$/,f=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],c=3,y=function(e,r){var t,a;return n(e)&&!r&&(t=v(e)),t||(a=!i(e)&&Date.parse(e),t=u(a)?new Date(a):e),t},v=function(e){var r=e.match(l),t=function(e){return+e||0};if(!r)return(r=e.match(s))?new Date(0,0,0,t(r[1]),t(r[2]),t(r[4])):void 0;var a=r[1],n=--r[3],i=r[5],u=0,d=0;u=t(r[14]),d=t(r[16]),"-"===r[13]&&(u=-u,d=-d);var o,m=t(r[6])-u,f=t(r[8])-d,y=t(r[10]),v=(o=r[11],t(o=o||"")*Math.pow(10,c-o.length));return r[12]?new Date(Date.UTC(a,n,i,m,f,y,v)):new Date(a,n,i,m,f,y,v)},D=function(e,r){var t=e.match(l),a="";if(!t)return(t=e.match(s))?t[3]?"HH:mm:ss":"HH:mm":void 0;for(var n=1;n<f.length;n++)t[n]&&(a+=f[n]||t[n]);return"Z"===t[12]&&(a+="'Z'"),t[14]&&(t[15]?a+="xxx":t[16]?a+="xx":a+="x"),a},g=function(r){return"number"==typeof r?new Date(r):y(r,!e().forceIsoDateParsing)},x=function(e,a){return a?i(e)?a===d?e&&e.valueOf?e.valueOf():null:r(a,t)(e):null:e},H=function(r){return"number"==typeof r?d:n(r)?(e().forceIsoDateParsing&&(t=D(r)),t||(r.indexOf(":")>=0?m:o)):r?null:void 0;var t};module.exports={dateParser:y,deserializeDate:g,serializeDate:x,getDateSerializationFormat:H};
},{"../config":"iRjc","../../localization/ldml/date.formatter":"OW4F","../../localization/default_date_names":"Pcqq","./type":"Mw4w"}],"C20h":[function(require,module,exports) {
"use strict";var e=require("../core/utils/error"),o=require("../core/errors"),r={},t=e(o.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with the a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown data type is specified for ODataStore: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed",E4020:"Unknown store type is detected: {0}",E4021:"The server response does not provide the totalCount value",E4022:"The server response does not provide the groupCount value",E4023:"Could not parse the following XML: {0}",W4000:"Data returned from the server has an incorrect structure",W4001:'The {0} field is listed in both "keyType" and "fieldTypes". The value of "fieldTypes" is used.',W4002:"Data loading has failed for some cells due to the following error: {0}"});function n(e){var o="E4000";e&&"__id"in e&&(o=e.__id),t.log(o,e)}var s=null,i=function(e){r.errorHandler&&r.errorHandler(e)};r={errors:t,errorHandler:s,_errorHandler:i},module.exports=r;
},{"../core/utils/error":"Z4UQ","../core/errors":"BdzT"}],"mYgO":[function(require,module,exports) {
"use strict";var t=require("../core/class"),r=require("../core/utils/type"),e=require("../core/utils/iterator"),n=require("../core/utils/data").compileGetter,i=require("../core/utils/data").toComparable,u=require("../core/utils/deferred").Deferred,o=require("./errors"),s=require("./utils"),c=t.inherit({toArray:function(){var t=[];for(this.reset();this.next();)t.push(this.current());return t},countable:function(){return!1}}),a=c.inherit({ctor:function(t){this.array=t,this.index=-1},next:function(){return this.index+1<this.array.length&&(this.index++,!0)},current:function(){return this.array[this.index]},reset:function(){this.index=-1},toArray:function(){return this.array.slice(0)},countable:function(){return!0},count:function(){return this.array.length}}),h=c.inherit({ctor:function(t){this.iter=t},next:function(){return this.iter.next()},current:function(){return this.iter.current()},reset:function(){return this.iter.reset()}}),f=h.inherit({ctor:function(t,r){this.callBase(t),this.index=-1,this.mapper=r},current:function(){return this.mapper(this.callBase(),this.index)},next:function(){var t=this.callBase();return t&&this.index++,t}}),l=function(t,r){return t=i(t),r=i(r),null===t&&null!==r?-1:null!==t&&null===r?1:void 0===t&&void 0!==r?1:void 0!==t&&void 0===r?-1:t<r?-1:t>r?1:0},d=c.inherit({ctor:function(t,r,e,n){t instanceof f||(t=new f(t,this._wrap)),this.iter=t,this.rules=[{getter:r,desc:e,compare:n}]},thenBy:function(t,r,e){var n=new d(this.sortedIter||this.iter,t,r,e);return this.sortedIter||(n.rules=this.rules.concat(n.rules)),n},next:function(){return this._ensureSorted(),this.sortedIter.next()},current:function(){return this._ensureSorted(),this.sortedIter.current()},reset:function(){delete this.sortedIter},countable:function(){return this.sortedIter||this.iter.countable()},count:function(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted:function(){var t=this;t.sortedIter||(e.each(t.rules,function(){this.getter=n(this.getter)}),t.sortedIter=new f(new a(this.iter.toArray().sort(function(r,e){return t._compare(r,e)})),t._unwrap))},_wrap:function(t,r){return{index:r,value:t}},_unwrap:function(t){return t.value},_compare:function(t,r){var e=t.index,n=r.index;if((t=t.value)===(r=r.value))return e-n;for(var i=0,u=this.rules.length;i<u;i++){var o=this.rules[i],s=o.getter(t),c=o.getter(r),a=(o.compare||l)(s,c);if(a)return o.desc?-a:a}return e-n}}),p=function(){var t=function(t){return r.isDefined(t)?t.toString():""};function u(t,r,e){return function(n){n=i(t(n));var u=function(t){return""===t||0===t||!1===t}(r)?n===r:n==r;return e&&(u=!u),u}}return function(c){return r.isFunction(c)?c:s.isGroupCriterion(c)?function(t){var n=[],i=!1,u=!1;return e.each(t,function(){if(Array.isArray(this)||r.isFunction(this)){if(n.length>1&&i!==u)throw new o.errors.Error("E4019");n.push(p(this)),i=u,u=!0}else u=s.isConjunctiveOperator(this)}),function(t){for(var r=i,e=0;e<n.length;e++)if(n[e](t)!==i){r=!i;break}return r}}(c):s.isUnaryOperation(c)?function(t){var r=t[0],e=p(t[1]);if("!"===r)return function(t){return!e(t)};throw o.errors.Error("E4003",r)}(c):function(r){r=s.normalizeBinaryCriterion(r);var e=n(r[0]),c=r[1],a=r[2];switch(a=i(a),c.toLowerCase()){case"=":return u(e,a);case"<>":return u(e,a,!0);case">":return function(t){return i(e(t))>a};case"<":return function(t){return i(e(t))<a};case">=":return function(t){return i(e(t))>=a};case"<=":return function(t){return i(e(t))<=a};case"startswith":return function(r){return 0===i(t(e(r))).indexOf(a)};case"endswith":return function(r){var n=i(t(e(r))),u=t(a);return!(n.length<u.length)&&n.lastIndexOf(a)===n.length-a.length};case"contains":return function(r){return i(t(e(r))).indexOf(a)>-1};case"notcontains":return function(r){return-1===i(t(e(r))).indexOf(a)}}throw o.errors.Error("E4003",c)}(c)}}(),v=h.inherit({ctor:function(t,r){this.callBase(t),this.criteria=p(r)},next:function(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),x=c.inherit({ctor:function(t,r){this.iter=t,this.getter=r},next:function(){return this._ensureGrouped(),this.groupedIter.next()},current:function(){return this._ensureGrouped(),this.groupedIter.current()},reset:function(){delete this.groupedIter},countable:function(){return!!this.groupedIter},count:function(){return this.groupedIter.count()},_ensureGrouped:function(){if(!this.groupedIter){var t={},r=[],i=this.iter,u=n(this.getter);for(i.reset();i.next();){var o=i.current(),s=u(o);s in t?t[s].push(o):(t[s]=[o],r.push(s))}this.groupedIter=new a(e.map(r,function(r){return{key:r,items:t[r]}}))}}}),g=h.inherit({ctor:function(t,r){this.callBase(t),this.getter=n(r)},current:function(){return this.getter(this.callBase())},countable:function(){return this.iter.countable()},count:function(){return this.iter.count()}}),m=h.inherit({ctor:function(t,r,e){this.callBase(t),this.skip=Math.max(0,r),this.take=Math.max(0,e),this.pos=0},next:function(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset:function(){this.callBase(),this.pos=0},countable:function(){return this.iter.countable()},count:function(){return Math.min(this.iter.count()-this.skip,this.take)}}),y=function t(e,i){i=i||{},e instanceof c||(e=new a(e));var h=function(t){var r=i.errorHandler;r&&r(t),o._errorHandler(t)},f=function(t){var r=(new u).fail(h),n=t.step,i=t.finalize;try{e.reset();for(var o=("seed"in t?t.seed:e.next()?e.current():NaN);e.next();)o=n(o,e.current());r.resolve(i?i(o):o)}catch(s){r.reject(s)}return r.promise()},l=function(t){return f(s.aggregators[t])},p=function(t){return r.isFunction(t)||Array.isArray(t)||(t=[].slice.call(arguments)),w(new g(e,t))},y=function(t){return p(n(t))},w=function(r){return t(r,i)};return{toArray:function(){return e.toArray()},enumerate:function(){var t=(new u).fail(h);try{t.resolve(e.toArray())}catch(r){t.reject(r)}return t.promise()},sortBy:function(t,r,n){return w(new d(e,t,r,n))},thenBy:function(t,r,n){if(e instanceof d)return w(e.thenBy(t,r,n));throw o.errors.Error("E4004")},filter:function(t){return Array.isArray(t)||(t=[].slice.call(arguments)),w(new v(e,t))},slice:function(t,r){return void 0===r&&(r=Number.MAX_VALUE),w(new m(e,t,r))},select:p,groupBy:function(t){return w(new x(e,t))},aggregate:function(t,r,e){return arguments.length<2?f({step:arguments[0]}):f({seed:t,step:r,finalize:e})},count:function(){if(e.countable()){var t=(new u).fail(h);try{t.resolve(e.count())}catch(r){t.reject(r)}return t.promise()}return l("count")},sum:function(t){return t?y(t).sum():l("sum")},min:function(t){return t?y(t).min():l("min")},max:function(t){return t?y(t).max():l("max")},avg:function(t){return t?y(t).avg():l("avg")}}};module.exports=y;
},{"../core/class":"YpjV","../core/utils/type":"Mw4w","../core/utils/iterator":"FHcO","../core/utils/data":"YLhW","../core/utils/deferred":"g5TB","./errors":"C20h","./utils":"rHW0"}],"RUOb":[function(require,module,exports) {
"use strict";var e=require("../core/utils/common").grep,r=require("../core/utils/extend").extend,t=require("../core/utils/iterator").each,i=require("./array_query"),n=require("./utils").normalizeSortingInfo;function o(e,t){return e=e.groupBy(t[0].selector),t.length>1&&(e=e.select(function(e){return r({},e,{items:o(i(e.items),t.slice(1)).toArray()})})),e}function u(r,i){var n=[];return t(r,function(r,t){e(i,function(e){return t.selector===e.selector}).length<1&&n.push(t)}),n.concat(i)}function s(e,r,i){var s=(r=r||{}).filter;if(s&&(e=e.filter(s)),i)return e;var c=r.sort,l=r.select,a=r.group,p=r.skip,f=r.take;return a&&((a=n(a)).keepInitialKeyOrder=!!r.group.keepInitialKeyOrder),(c||a)&&(c=n(c||[]),a&&!a.keepInitialKeyOrder&&(c=u(a,c)),t(c,function(r){e=e[r?"thenBy":"sortBy"](this.selector,this.desc,this.compare)})),l&&(e=e.select(l)),a&&(e=o(e,a)),(f||p)&&(e=e.slice(p||0,f)),e}module.exports={multiLevelGroup:o,arrangeSortingInfo:u,queryByOptions:s};
},{"../core/utils/common":"GcQA","../core/utils/extend":"ac8T","../core/utils/iterator":"FHcO","./array_query":"mYgO","./utils":"rHW0"}],"HijJ":[function(require,module,exports) {
"use strict";var e=require("../core/class"),r=e.abstract,t=require("../core/events_mixin"),n=require("../core/utils/iterator").each,i=require("./errors"),o=require("./utils"),u=require("../core/utils/data").compileGetter,s=require("./store_helper"),a=s.queryByOptions,d=require("../core/utils/deferred").Deferred,f=require("../core/utils/common").noop,l={},c=e.inherit({ctor:function(e){var r=this;e=e||{},n(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onPush","onRemoved","onRemoving","onModified","onModifying"],function(t,n){n in e&&r.on(n.slice(2).toLowerCase(),e[n])}),this._key=e.key,this._errorHandler=e.errorHandler,this._useDefaultSearch=!0},_customLoadOptions:function(){return null},key:function(){return this._key},keyOf:function(e){return this._keyGetter||(this._keyGetter=u(this.key())),this._keyGetter(e)},_requireKey:function(){if(!this.key())throw i.errors.Error("E4005")},load:function(e){var r=this;return e=e||{},this.fireEvent("loading",[e]),this._withLock(this._loadImpl(e)).done(function(t){r.fireEvent("loaded",[t,e])})},_loadImpl:function(e){return a(this.createQuery(e),e).enumerate()},_withLock:function(e){var r=new d;return e.done(function(){var e=this,t=arguments;o.processRequestResultLock.promise().done(function(){r.resolveWith(e,t)})}).fail(function(){r.rejectWith(this,arguments)}),r},createQuery:r,totalCount:function(e){return this._totalCountImpl(e)},_totalCountImpl:function(e){return a(this.createQuery(e),e,!0).count()},byKey:function(e,r){return this._addFailHandlers(this._withLock(this._byKeyImpl(e,r)))},_byKeyImpl:r,insert:function(e){var r=this;return r.fireEvent("modifying"),r.fireEvent("inserting",[e]),r._addFailHandlers(r._insertImpl(e).done(function(e,t){r.fireEvent("inserted",[e,t]),r.fireEvent("modified")}))},_insertImpl:r,update:function(e,r){var t=this;return t.fireEvent("modifying"),t.fireEvent("updating",[e,r]),t._addFailHandlers(t._updateImpl(e,r).done(function(){t.fireEvent("updated",[e,r]),t.fireEvent("modified")}))},_updateImpl:r,push:function(e){this._pushImpl(e),this.fireEvent("push",[e])},_pushImpl:f,remove:function(e){var r=this;return r.fireEvent("modifying"),r.fireEvent("removing",[e]),r._addFailHandlers(r._removeImpl(e).done(function(e){r.fireEvent("removed",[e]),r.fireEvent("modified")}))},_removeImpl:r,_addFailHandlers:function(e){return e.fail(this._errorHandler).fail(i._errorHandler)}}).include(t);c.create=function(e,r){if(!(e in l))throw i.errors.Error("E4020",e);return new l[e](r)},c.registerClass=function(e,r){return r&&(l[r]=e),e},c.inherit=function(e){return function(r,t){var n=e.apply(this,[r]);return c.registerClass(n,t),n}}(c.inherit),module.exports=c;
},{"../core/class":"YpjV","../core/events_mixin":"masj","../core/utils/iterator":"FHcO","./errors":"C20h","./utils":"rHW0","../core/utils/data":"YLhW","./store_helper":"RUOb","../core/utils/deferred":"g5TB","../core/utils/common":"GcQA"}],"S7W5":[function(require,module,exports) {
"use strict";var e=require("./utils/window"),t=e.getWindow(),r=require("./utils/dependency_injector"),i={getXhr:function(){return new t.XMLHttpRequest}};module.exports=r(i);
},{"./utils/window":"NXH3","./utils/dependency_injector":"NtCB"}],"mdcI":[function(require,module,exports) {
"use strict";var e=require("./deferred").Deferred,t=require("../../core/dom_adapter"),r=require("../../core/http_request"),n=require("../../core/utils/window"),o=n.getWindow(),a=require("./extend").extendFromObject,s=require("./type").isDefined,c=require("../polyfills/promise"),i=require("./dependency_injector"),p="success",u="error",l="timeout",d="nocontent",f="parsererror",m=function(e){return 200<=e&&e<300},h=function(e){return 204!==e},v=function(e){var t=[];for(var r in e){var n=e[r];void 0!==n&&(null===n&&(n=""),t.push(encodeURIComponent(r)+"="+encodeURIComponent(n)))}return t.join("&")},y=function(e){var r=t.createElement("script");for(var n in e)r[n]=e[n];return r},x=function(e){e.parentNode.removeChild(e)},j=function(e){return t.getHead().appendChild(e)},T=function(e){var t=y({text:e});j(t),x(t)},w=function(e){var r=y({src:e});return new c(function(e,n){var o={load:e,error:n},a=function(e){o[e.type](),x(r)};for(var s in o)t.listen(r,s,a);j(r)})},b=function(e){var t=e.dataType||"*",r="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",n={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",jsonp:r,script:r};return a(n,e.accepts,!0),n[t]?n[t]+("*"!==t?", */*; q=0.01":""):n["*"]},q=function(e){var t;return e.data&&!e.upload&&"GET"!==E(e)&&(t="application/x-www-form-urlencoded;charset=utf-8"),e.contentType||t},C=function(e){return e.responseType&&"text"!==e.responseType||"string"!=typeof e.responseText?e.response:e.responseText},g=function(e,t,r){var n=C(t);switch(r){case"jsonp":T(n);break;case"script":T(n),e.resolve(n,p,t);break;case"json":try{e.resolve(JSON.parse(n),p,t)}catch(o){e.reject(t,f,o)}break;default:e.resolve(n,p,t)}},D=function(e){if(!n.hasWindow())return!0;var r=!1,a=t.createElement("a"),s=t.createElement("a");a.href=o.location.href;try{s.href=e,s.href=s.href,r=a.protocol+"//"+a.host!=s.protocol+"//"+s.host}catch(c){r=!0}return r},R=function(e,t){return e&&setTimeout(function(){t.customStatus=l,t.abort()},e)},S=function(e){if("jsonp"===e.dataType){var t=Math.random().toString().replace(/\D/g,""),r=e.jsonpCallback||"dxCallback"+Date.now()+"_"+t,n=e.jsonp||"callback";return e.data=e.data||{},e.data[n]=r,r}},k=function(e,t){var r=e.data,n="string"==typeof r,a=e.url||o.location.href;return n||e.cache||((r=r||{})._=Date.now()),r&&!e.upload&&(n||(r=v(r)),"GET"===E(e)?(""!==r&&(a+=(a.indexOf("?")>-1?"&":"?")+r),r=null):t["Content-Type"]&&t["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(r=r.replace(/%20/g,"+"))),{url:a,parameters:r}},E=function(e){return(e.method||"GET").toUpperCase()},O=function(e){var t=e.headers||{};return t["Content-Type"]=t["Content-Type"]||q(e),t.Accept=t.Accept||b(e),e.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t},_=function(t){var n,a=r.getXhr(),c=new e,i=c.promise(),l=!s(t.async)||t.async,f=t.dataType,v=t.timeout||0;t.crossDomain=D(t.url);var y="jsonp"===f||"script"===f;void 0===t.cache&&(t.cache=!y);var x=S(t),j=O(t),T=k(t,j),b=T.url,q=T.parameters;if(x&&(o[x]=function(e){c.resolve(e,p,a)}),t.crossDomain&&y){return w(b).then(function(){"jsonp"!==f&&c.resolve(null,p,a)},function(){c.reject(a,u)}),i}if(t.crossDomain&&!("withCredentials"in a))return c.reject(a,u),i;if(a.open(E(t),b,l,t.username,t.password),l&&(a.timeout=v,n=R(v,a,c)),a.onreadystatechange=function(e){4===a.readyState&&(clearTimeout(n),m(a.status)?h(a.status)?g(c,a,f):c.resolve(null,d,a):c.reject(a,a.customStatus||u))},t.upload&&(a.upload.onprogress=t.upload.onprogress,a.upload.onloadstart=t.upload.onloadstart,a.upload.onabort=t.upload.onabort),t.xhrFields)for(var C in t.xhrFields)a[C]=t.xhrFields[C];for(var _ in"arraybuffer"===t.responseType&&(a.responseType=t.responseType),j)Object.prototype.hasOwnProperty.call(j,_)&&s(j[_])&&a.setRequestHeader(_,j[_]);return t.beforeSend&&t.beforeSend(a),a.send(q),i.abort=function(){a.abort()},i};module.exports=i({sendRequest:_});
},{"./deferred":"g5TB","../../core/dom_adapter":"RRDy","../../core/http_request":"S7W5","../../core/utils/window":"NXH3","./extend":"ac8T","./type":"Mw4w","../polyfills/promise":"pHLT","./dependency_injector":"NtCB"}],"JUgy":[function(require,module,exports) {
"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=require("../core/utils/type"),t=require("../core/config"),i=c(t),o=require("../core/guid"),n=c(o),u=require("../core/utils/extend"),a=require("./errors"),f=require("../core/utils/object"),s=c(f),y=require("./utils");function c(e){return e&&e.__esModule?e:{default:e}}function l(e,r){for(var t="string"==typeof r?r.split():r.slice();t.length;)if(t.shift()in e)return!0;return!1}function d(e,r,t,i){var o;if(i){for(var n=0;n<r.length;n++)if(o=d(e,r[n].items||r[n].collapsedItems||[]||[],t,i-1))return o}else if(h(e,r,t)>=0)return r}function p(e,r,t,i){return i?d(e,r,t,i)||[]:r}function m(e,r){if(e.key()&&!r._dataByKeyMap){for(var t={},i=0,o=r.length;i<o;i++)t[JSON.stringify(e.keyOf(r[i]))]=r[i];r._dataByKeyMap=t}}function v(e,r){if(e._dataByKeyMap)return e._dataByKeyMap[JSON.stringify(r)]}function k(e,r){return!e._dataByKeyMap||e._dataByKeyMap[JSON.stringify(r)]}function g(e,r,t){e._dataByKeyMap&&(e._dataByKeyMap[JSON.stringify(r)]=t)}function b(e,t,i,o,n){i.forEach(function(i){var u="insert"===i.type?t:p(e,t,i.key,o);switch(m(e,u),i.type){case"update":E(e,u,i.key,i.data,!0);break;case"insert":S(e,u,i.data,n&&(0,r.isDefined)(i.index)?i.index:-1,!0);break;case"remove":x(e,u,i.key,!0)}})}function E(e,r,t,o,n){var u,f=e.key();if(f){if(l(o,f)&&!(0,y.keysEqual)(f,t,e.keyOf(o)))return!n&&(0,y.rejectedPromise)(a.errors.Error("E4017"));if(!(u=v(r,t))){var c=h(e,r,t);if(c<0)return!n&&(0,y.rejectedPromise)(a.errors.Error("E4009"));u=r[c]}}else u=t;if(s.default.deepExtendArraySafe(u,o,!0),!n)return(0,i.default)().useLegacyStoreResult?(0,y.trivialPromise)(t,o):(0,y.trivialPromise)(u,t)}function S(t,o,f,s,c){var l,d,p=t.key();if(d=(0,r.isPlainObject)(f)?(0,u.extend)({},f):f,p){if(void 0===(l=t.keyOf(d))||"object"===(void 0===l?"undefined":e(l))&&(0,r.isEmptyObject)(l)){if(Array.isArray(p))throw a.errors.Error("E4007");l=d[p]=String(new n.default)}else if(void 0!==o[h(t,o,l)])return!c&&(0,y.rejectedPromise)(a.errors.Error("E4008"))}else l=d;if(s>=0?o.splice(s,0,d):o.push(d),g(o,l,d),!c)return(0,y.trivialPromise)((0,i.default)().useLegacyStoreResult?f:d,l)}function x(e,r,t,i){var o=h(e,r,t);if(o>-1&&r.splice(o,1),!i)return(0,y.trivialPromise)(t)}function h(e,r,t){var i=e.key();if(!k(r,t))return-1;for(var o=0,n=r.length;o<n;o++)if((0,y.keysEqual)(i,e.keyOf(r[o]),t))return o;return-1}module.exports.applyBatch=b,module.exports.update=E,module.exports.insert=S,module.exports.remove=x,module.exports.indexByKey=h;
},{"../core/utils/type":"Mw4w","../core/config":"iRjc","../core/guid":"tQQP","../core/utils/extend":"ac8T","./errors":"C20h","../core/utils/object":"jPX0","./utils":"rHW0"}],"gpUn":[function(require,module,exports) {
"use strict";module.exports={};
},{}],"FF9w":[function(require,module,exports) {
"use strict";var r=require("./query_adapters"),e=require("./errors"),t=require("../core/utils/iterator").each,n=require("../core/utils/type").isFunction,i=require("../core/utils/deferred").Deferred,a=require("./array_query"),o=function o(u,s,c){c=c||[],s=s||{};var l=function(r,e){return{name:r,args:e}},f={};return t(["sortBy","thenBy","filter","slice","select","groupBy"],function(){var r=String(this);f[r]=function(){return o(u,s,c.concat(l(r,arguments)))}}),t(["count","min","max","sum","avg","aggregate","enumerate"],function(){var o=String(this);f[o]=function(){return function(o){var f,h,g,m,y,p,d,v=new i,q=function(r){var t=s.errorHandler;t&&t(r),e._errorHandler(r),v.reject(r)};function B(r){switch(r.name){case"sortBy":return y=[r.args],!0;case"thenBy":if(!y)throw e.errors.Error("E4004");return y.push(r.args),!0}return!1}try{f=s.adapter,n(f)||(f=r[f]),h=f(s),g=[].concat(c).concat(o);var S=h.optimize;for(S&&S(g);g.length;){if(!B(m=g[0])){if(y){g.unshift(l("multiSort",[y])),y=null;continue}if("enumerate"!==String(m.name)&&(!h[m.name]||!1===h[m.name].apply(h,m.args)))break}g.shift()}p=g[0],d=[],p&&"multiSort"===p.name&&(g.shift(),t(p.args[0],function(){d.push(l(d.length?"thenBy":"sortBy",this))})),g=d.concat(g),h.exec(u).done(function(r,e){if(g.length){var n=a(r,{errorHandler:s.errorHandler});t(g,function(){n=n[this.name].apply(n,this.args)}),n.done(v.resolve).fail(v.reject)}else v.resolve(r,e)}).fail(q)}catch(H){q(H)}return v.promise()}.call(this,l(o,arguments))}}),f};module.exports=o;
},{"./query_adapters":"gpUn","./errors":"C20h","../core/utils/iterator":"FHcO","../core/utils/type":"Mw4w","../core/utils/deferred":"g5TB","./array_query":"mYgO"}],"TnO4":[function(require,module,exports) {
"use strict";var r=require("./array_query"),e=require("./remote_query"),t={array:r,remote:e},u=function(){var r=Array.isArray(arguments[0])?"array":"remote";return t[r].apply(this,arguments)};module.exports=u,module.exports.queryImpl=t,module.exports.default=module.exports;
},{"./array_query":"mYgO","./remote_query":"FF9w"}],"DvKp":[function(require,module,exports) {
"use strict";var r=require("./utils"),e=require("./query"),t=o(e),a=require("./errors"),i=require("./abstract_store"),u=o(i),s=require("./array_utils"),n=o(s);function o(r){return r&&r.__esModule?r:{default:r}}var l=u.default.inherit({ctor:function(r){r=Array.isArray(r)?{data:r}:r||{},this.callBase(r);var e=r.data;if(e&&!Array.isArray(e))throw a.errors.Error("E4006");this._array=e||[]},createQuery:function(){return(0,t.default)(this._array,{errorHandler:this._errorHandler})},_byKeyImpl:function(e){var t=n.default.indexByKey(this,this._array,e);return-1===t?(0,r.rejectedPromise)(a.errors.Error("E4009")):(0,r.trivialPromise)(this._array[t])},_insertImpl:function(r){return n.default.insert(this,this._array,r)},_pushImpl:function(r){n.default.applyBatch(this,this._array,r)},_updateImpl:function(r,e){return n.default.update(this,this._array,r,e)},_removeImpl:function(r){return n.default.remove(this,this._array,r)},clear:function(){this.fireEvent("modifying"),this._array=[],this.fireEvent("modified")}},"array");module.exports=l,module.exports.default=module.exports;
},{"./utils":"rHW0","./query":"TnO4","./errors":"C20h","./abstract_store":"HijJ","./array_utils":"JUgy"}],"Ko0N":[function(require,module,exports) {
"use strict";var e=require("../core/renderer"),r=require("./utils"),t=require("./array_utils"),n=require("../core/utils/type").isFunction,o=require("../core/config"),a=require("./errors").errors,i=require("./abstract_store"),u=require("./array_query"),s=require("./store_helper").queryByOptions,l=require("../core/utils/deferred"),c=l.Deferred,f=l.when,_=l.fromPromise,h="totalCount",d="load",p="byKey",y="insert",v="update",w="remove";function m(e){return e&&n(e.then)}function D(e){return(new c).resolve(e).promise()}function F(e,r){if(!n(r))throw a.Error("E4011",e)}function q(e){throw a.Error("E4012",e)}function E(e){return function(t){var n,o,a,i;(n=t instanceof Error?t:new Error((a=(o=arguments)[0],i=o[1],(a&&a.getResponseHeader?r.errorMessageFromXhr(a,i):null)||t&&String(t)||"Unknown error"))).message!==r.XHR_ERROR_UNLOAD&&e.reject(n)}}function R(e,r){var t,n=e._loadFunc;return F(d,n),t=n.apply(e,[r]),Array.isArray(t)?t=D(t):null==t?t=D([]):m(t)||q(d),_(t)}function b(e,r){var t,o=e._totalCountFunc;if(!n(o))throw a.Error("E4021");return m(t=o.apply(e,[r]))||(t=Number(t),isFinite(t)||q(h),t=D(t)),_(t)}function g(e,r,t){var n,o=e._byKeyFunc;return F(p,o),m(n=o.apply(e,[r,t]))||(n=D(n)),_(n)}function C(e,r,t,n){if(r.__rawData)n(r.__rawData);else{var o=r.__rawDataPromise||R(r,t);r._cacheRawData&&(r.__rawDataPromise=o),o.always(function(){delete r.__rawDataPromise}).done(function(e){r._cacheRawData&&(r.__rawData=e),n(e)}).fail(E(e))}}function K(r,t,n,o){var a={};"userData"in(n=n||{})&&(a.userData=n.userData),C(r,t,a,function(a){var i,l,c,_,h=u(a,{errorHandler:t._errorHandler}),d=[];o||((i=s(h,n))===h?c=a.slice(0):d.push(i.enumerate().done(function(e){c=e}))),(n.requireTotalCount||o)&&((l=s(h,n,!0))===h?_=a.length:d.push(l.count().done(function(e){_=e}))),f.apply(e,d).done(function(){o?r.resolve(_):n.requireTotalCount?r.resolve(c,{totalCount:_}):r.resolve(c)}).fail(function(e){r.reject(e)})})}function I(e,t,n){C(e,t,{},function(o){for(var i,u=t.key(),s=0,l=o.length;s<l;s++)if(i=o[s],r.keysEqual(u,t.keyOf(o[s]),n))return void e.resolve(i);e.reject(a.Error("E4009"))})}var M=i.inherit({ctor:function(e){e=e||{},this.callBase(e),this._useDefaultSearch=!!e.useDefaultSearch||"raw"===e.loadMode,this._loadMode=e.loadMode,this._cacheRawData=!1!==e.cacheRawData,this._loadFunc=e[d],this._totalCountFunc=e[h],this._byKeyFunc=e[p],this._insertFunc=e[y],this._updateFunc=e[v],this._removeFunc=e[w]},createQuery:function(){throw a.Error("E4010")},clearRawDataCache:function(){delete this.__rawData},_totalCountImpl:function(e){var r=new c;return"raw"!==this._loadMode||this._totalCountFunc?(b(this,e).done(function(e){r.resolve(Number(e))}).fail(E(r)),r=this._addFailHandlers(r)):K(r,this,e,!0),r.promise()},_pushImpl:function(e){this.__rawData&&t.applyBatch(this,this.__rawData,e)},_loadImpl:function(e){var r=new c;return"raw"===this._loadMode?K(r,this,e,!1):(R(this,e).done(function(e,t){r.resolve(e,t)}).fail(E(r)),r=this._addFailHandlers(r)),r.promise()},_byKeyImpl:function(e,r){var t=new c;return this._byKeyViaLoad()?(this._requireKey(),I(t,this,e)):g(this,e,r).done(function(e){t.resolve(e)}).fail(E(t)),t.promise()},_byKeyViaLoad:function(){return"raw"===this._loadMode&&!this._byKeyFunc},_insertImpl:function(e){var r,t=this,n=t._insertFunc,a=new c;return F(y,n),m(r=n.apply(t,[e]))||(r=D(r)),_(r).done(function(r){o().useLegacyStoreResult?a.resolve(e,r):a.resolve(r||e,t.keyOf(r))}).fail(E(a)),a.promise()},_updateImpl:function(e,r){var t,n=this._updateFunc,a=new c;return F(v,n),m(t=n.apply(this,[e,r]))||(t=D(t)),_(t).done(function(t){o().useLegacyStoreResult?a.resolve(e,r):a.resolve(t||r,e)}).fail(E(a)),a.promise()},_removeImpl:function(e){var r,t=this._removeFunc,n=new c;return F(w,t),m(r=t.apply(this,[e]))||(r=D()),_(r).done(function(){n.resolve(e)}).fail(E(n)),n.promise()}});module.exports=M,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","./utils":"rHW0","./array_utils":"JUgy","../core/utils/type":"Mw4w","../core/config":"iRjc","./errors":"C20h","./abstract_store":"HijJ","./array_query":"mYgO","./store_helper":"RUOb","../core/utils/deferred":"g5TB"}],"DU73":[function(require,module,exports) {
"use strict";var r=require("../errors"),e=require("../../core/utils/deferred").when;function t(t){var n=[],u=!1;function i(){for(;n.length;){u=!0;var t=n.shift()();if(void 0!==t){if(t.then)return void e(t).always(i);throw r.Error("E0015")}}u=!1}return{add:function(r,e){t?(n[0]&&e&&e(n[0]),n=[r]):n.push(r),u||i()},busy:function(){return u}}}exports.create=t,exports.enqueue=t().add;
},{"../errors":"BdzT","../../core/utils/deferred":"g5TB"}],"SIr7":[function(require,module,exports) {
"use strict";var e=require("../../core/class"),t=require("../../core/utils/extend").extend,i=require("../../core/utils/common"),r=require("../../core/utils/iterator"),n=require("../../core/utils/ajax"),a=require("../../core/utils/type"),s=require("../utils"),o=require("../array_utils"),u=require("../abstract_store"),h=require("../array_store"),c=require("../custom_store"),d=require("../../core/events_mixin"),l=require("../errors").errors,p=require("../../core/utils/array"),_=require("../../core/utils/queue"),f=require("../../core/utils/deferred"),g=f.when,y=f.Deferred,L=a.isString,m=a.isNumeric,v=a.isBoolean,C=a.isDefined,O="canceled";function x(){this._counter=-1,this._deferreds={}}function S(e){return"pending"===e.state()}function P(e,i){var s,o,d;return"string"==typeof e&&(e={paginate:!1,store:(o=e,new c({load:function(){return n.sendRequest({url:o,dataType:"json"})},loadMode:i&&i.fromUrlLoadMode}))}),void 0===e&&(e=[]),void 0===(e=Array.isArray(e)||e instanceof u?{store:e}:t({},e)).store&&(e.store=[]),s=e.store,"load"in e?(d={},r.each(["useDefaultSearch","key","load","loadMode","cacheRawData","byKey","lookup","totalCount","insert","update","remove"],function(){d[this]=e[this],delete e[this]}),s=new c(d)):Array.isArray(s)?s=new h(s):a.isPlainObject(s)&&(s=function(e){var t=e.type;return delete e.type,u.create(t,e)}(t({},s))),e.store=s,e}function A(e){switch(e.length){case 0:return;case 1:return e[0]}return[].slice.call(e)}function q(e){return function(){var t=A(arguments);if(void 0===t)return this._storeLoadOptions[e];this._storeLoadOptions[e]=t}}function F(e,t,i){function n(e,i){return Array.isArray(e)?i?function(e,t){return r.map(e,function(e){var i={key:e.key,items:n(e.items,t-1)};return"aggregates"in e&&(i.aggregates=e.aggregates),i})}(e,i):r.map(e,t):e}return n(e,i?s.normalizeSortingInfo(i).length:0)}function k(e,t){return e&&!Array.isArray(e)&&e.data&&(t=e,e=e.data),Array.isArray(e)||(e=[e]),{data:e,extra:t}}x.prototype.constructor=x,x.prototype.add=function(e){return this._counter+=1,this._deferreds[this._counter]=e,this._counter},x.prototype.remove=function(e){return delete this._deferreds[e]},x.prototype.cancel=function(e){return e in this._deferreds&&(this._deferreds[e].reject(O),!0)},x.prototype.cancelAll=function(){for(;this._counter>-1;)this.cancel(this._counter),this._counter--};var E=e.inherit({ctor:function(e){var t=this,i=this,n=0!==(e=P(e)).pushAggregationTimeout?s.throttleChanges(this._onPush,function(){return void 0===e.pushAggregationTimeout?5*i._changedTime:e.pushAggregationTimeout}):this._onPush;this._changedTime=0,this._onPushHandler=function(e){t._aggregationTimeoutId=n.call(t,e)},this._store=e.store,this._store.on("push",this._onPushHandler),this._storeLoadOptions=this._extractLoadOptions(e),this._mapFunc=e.map,this._postProcessFunc=e.postProcess,this._pageIndex=void 0!==e.pageIndex?e.pageIndex:0,this._pageSize=void 0!==e.pageSize?e.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in e?e.searchValue:null,this._searchOperation=e.searchOperation||"contains",this._searchExpr=e.searchExpr,this._paginate=e.paginate,this._reshapeOnPush=!!C(e.reshapeOnPush)&&e.reshapeOnPush,r.each(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],function(t,r){r in e&&i.on(r.substr(2,1).toLowerCase()+r.substr(3),e[r])}),this._operationManager=new x,this._init()},_init:function(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,C(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose:function(){this._store.off("push",this._onPushHandler),this._disposeEvents(),clearTimeout(this._aggregationTimeoutId),delete this._store,this._delayedLoadTask&&this._delayedLoadTask.abort(),this._operationManager.cancelAll(),this._disposed=!0},_extractLoadOptions:function(e){var t={},i=["sort","filter","select","group","requireTotalCount"],n=this._store._customLoadOptions();return n&&(i=i.concat(n)),r.each(i,function(){t[this]=e[this]}),t},loadOptions:function(){return this._storeLoadOptions},items:function(){return this._items},pageIndex:function(e){if(!m(e))return this._pageIndex;this._pageIndex=e,this._isLastPage=!this._paginate},paginate:function(e){if(!v(e))return this._paginate;this._paginate!==e&&(this._paginate=e,this.pageIndex(0))},pageSize:function(e){if(!m(e))return this._pageSize;this._pageSize=e},isLastPage:function(){return this._isLastPage},sort:q("sort"),filter:function(){var e=A(arguments);if(void 0===e)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=e,this.pageIndex(0)},group:q("group"),select:q("select"),requireTotalCount:function(e){if(!v(e))return this._storeLoadOptions.requireTotalCount;this._storeLoadOptions.requireTotalCount=e},searchValue:function(e){if(arguments.length<1)return this._searchValue;this._searchValue=e,this.pageIndex(0)},searchOperation:function(e){if(!L(e))return this._searchOperation;this._searchOperation=e,this.pageIndex(0)},searchExpr:function(e){var t=arguments.length;if(0===t)return this._searchExpr;t>1&&(e=[].slice.call(arguments)),this._searchExpr=e,this.pageIndex(0)},store:function(){return this._store},key:function(){return this._store&&this._store.key()},totalCount:function(){return this._totalCount},isLoaded:function(){return this._isLoaded},isLoading:function(){return this._loadingCount>0},beginLoading:function(){this._changeLoadingCount(1)},endLoading:function(){this._changeLoadingCount(-1)},_createLoadQueue:function(){return _.create()},_changeLoadingCount:function(e){var t,i=this.isLoading();this._loadingCount+=e,i^(t=this.isLoading())&&this.fireEvent("loadingChanged",[t])},_scheduleLoadCallbacks:function(e){var t=this;t.beginLoading(),e.always(function(){t.endLoading()})},_scheduleFailCallbacks:function(e){var t=this;e.fail(function(){arguments[0]!==O&&t.fireEvent("loadError",arguments)})},_fireChanged:function(e){var t=new Date;this.fireEvent("changed",e),this._changedTime=new Date-t},_scheduleChangedCallbacks:function(e){var t=this;e.done(function(){t._fireChanged()})},loadSingle:function(e,t){var i=this,r=new y,n=this.key(),a=this._store,s=this._createStoreLoadOptions();return this._scheduleFailCallbacks(r),arguments.length<2&&(t=e,e=n),delete s.skip,delete s.group,delete s.refresh,delete s.pageIndex,delete s.searchString,(e===n||a instanceof c&&!a._byKeyViaLoad()?a.byKey(t,s):(s.take=1,s.filter=s.filter?[s.filter,[e,t]]:[e,t],a.load(s))).fail(r.reject).done(function(e){!C(e)||p.isEmpty(e)?r.reject(new l.Error("E4009")):(Array.isArray(e)||(e=[e]),r.resolve(i._applyMapFunction(e)[0]))}),r.promise()},load:function(){var e,t=this,r=new y;function n(){if(!t._disposed&&S(r))return t._loadFromStore(e,r)}return this._scheduleLoadCallbacks(r),this._scheduleFailCallbacks(r),this._scheduleChangedCallbacks(r),e=this._createLoadOperation(r),this.fireEvent("customizeStoreLoadOptions",[e]),this._loadQueue.add(function(){return"number"==typeof e.delay?t._delayedLoadTask=i.executeAsync(n,e.delay):n(),r.promise()}),r.promise({operationId:e.operationId})},_onPush:function(e){var t=this;if(this._reshapeOnPush)this.load();else{this.fireEvent("changing",[{changes:e}]);var i=this.group(),r=this.items(),n=0,a=this.paginate()||i?e.filter(function(e){return"update"===e.type}):e;i&&(n=Array.isArray(i)?i.length:1),this._mapFunc&&a.forEach(function(e){"insert"===e.type&&(e.data=t._mapFunc(e.data))}),o.applyBatch(this.store(),r,a,n,!0),this._fireChanged([{changes:e}])}},_createLoadOperation:function(e){var t=this._operationManager.add(e),i=this._createStoreLoadOptions();return e.always(function(){this._operationManager.remove(t)}.bind(this)),{operationId:t,storeLoadOptions:i}},reload:function(){var e=this.store();return e instanceof c&&e.clearRawDataCache(),this._init(),this.load()},cancel:function(e){return this._operationManager.cancel(e)},cancelAll:function(){return this._operationManager.cancelAll()},_addSearchOptions:function(e){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(e):(e.searchOperation=this._searchOperation,e.searchValue=this._searchValue,e.searchExpr=this._searchExpr))},_createStoreLoadOptions:function(){var e=t({},this._storeLoadOptions);return this._addSearchOptions(e),this._paginate&&this._pageSize&&(e.skip=this._pageIndex*this._pageSize,e.take=this._pageSize),e.userData=this._userData,e},_addSearchFilter:function(e){var t=this._searchValue,i=this._searchOperation,n=this._searchExpr,a=[];t&&(n||(n="this"),Array.isArray(n)||(n=[n]),r.each(n,function(e,r){a.length&&a.push("or"),a.push([r,i,t])}),e.filter?e.filter=[a,e.filter]:e.filter=a)},_loadFromStore:function(e,i){var r=this;function n(n,a){var s;r._disposed||S(i)&&(s=t(k(n,a),e),r.fireEvent("customizeLoadResult",[s]),g(s.data).done(function(e){s.data=e,r._processStoreLoadResult(s,i)}).fail(i.reject))}return e.data?(new y).resolve(e.data).done(n):this.store().load(e.storeLoadOptions).done(n).fail(i.reject)},_processStoreLoadResult:function(e,t){var i=this,r=e.data,n=e.extra,s=e.storeLoadOptions;function o(){return i._isLoaded=!0,i._totalCount=isFinite(n.totalCount)?n.totalCount:-1,t.resolve(r,n)}i._disposed||(r=i._applyPostProcessFunction(i._applyMapFunction(r)),a.isPlainObject(n)||(n={}),i._items=r,(!r.length||!i._paginate||i._pageSize&&r.length<i._pageSize)&&(i._isLastPage=!0),s.requireTotalCount&&!isFinite(n.totalCount)?i.store().totalCount(s).done(function(e){n.totalCount=e,o()}).fail(t.reject):o())},_applyMapFunction:function(e){return this._mapFunc?F(e,this._mapFunc,this.group()):e},_applyPostProcessFunction:function(e){return this._postProcessFunc?this._postProcessFunc(e):e}}).include(d);exports.DataSource=E,exports.normalizeDataSourceOptions=P,exports.normalizeLoadResult=k;
},{"../../core/class":"YpjV","../../core/utils/extend":"ac8T","../../core/utils/common":"GcQA","../../core/utils/iterator":"FHcO","../../core/utils/ajax":"mdcI","../../core/utils/type":"Mw4w","../utils":"rHW0","../array_utils":"JUgy","../abstract_store":"HijJ","../array_store":"DvKp","../custom_store":"Ko0N","../../core/events_mixin":"masj","../errors":"C20h","../../core/utils/array":"uivT","../../core/utils/queue":"DU73","../../core/utils/deferred":"g5TB"}],"fS07":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),n=R(e),t=require("../../core/utils/callbacks"),i=R(t),o=require("../../core/utils/variable_wrapper"),a=require("../../core/utils/data"),r=R(a),l=require("../../core/utils/common"),s=require("../../core/utils/type"),u=require("../../core/utils/iterator"),d=R(u),c=require("../../core/utils/position"),h=require("../../core/utils/extend"),m=require("../../core/utils/array"),f=require("../../core/config"),p=R(f),g=require("../../core/utils/object"),C=require("../widget/ui.errors"),x=R(C),v=require("./ui.grid_core.modules"),_=R(v),y=require("./ui.grid_core.utils"),b=require("../../core/utils/inflector"),I=R(b),S=require("../../core/utils/date_serialization"),w=R(S),F=require("../../localization/number"),O=R(F),V=require("../../localization/date"),D=R(V),B=require("../../localization/message"),z=R(B),T=require("../../core/utils/deferred"),P=require("../../data/abstract_store"),E=R(P),A=require("../../data/data_source/data_source"),G=require("../shared/filtering"),k=R(G);function R(e){return e&&e.__esModule?e:{default:e}}var N=["filterValues","filterType","fixed","fixedPosition"],q=["visibleIndex","dataField","name","dataType","width","visible","sortOrder","lastSortOrder","sortIndex","groupIndex","filterValue","selectedFilterOperation","added"].concat(N),M={visibleWidth:!0,bestFitWidth:!0,bufferedFilterValue:!0},U="dx-command-expand",W=Number.MAX_SAFE_INTEGER||9007199254740991,j="groupExpand",H=/columns\[(\d+)\]\.?/gi,L=1;module.exports={defaultOptions:function(){return{commonColumnSettings:{allowFiltering:!0,allowHiding:!0,allowSorting:!0,allowEditing:!0,encodeHtml:!0,trueText:z.default.format("dxDataGrid-trueText"),falseText:z.default.format("dxDataGrid-falseText")},allowColumnReordering:!1,allowColumnResizing:!1,columnResizingMode:"nextColumn",columnMinWidth:void 0,columnWidth:void 0,adaptColumnWidthByRatio:!0,columns:void 0,regenerateColumnsByVisibleItems:!1,customizeColumns:null,dateSerializationFormat:void 0}},controllers:{columns:_.default.Controller.inherit(function(){var e={visible:!0,showInColumnChooser:!0},t={number:["=","<>","<",">","<=",">=","between"],string:["contains","notcontains","startswith","endswith","=","<>"],date:["=","<>","<",">","<=",">=","between"],datetime:["=","<>","<",">","<=",">=","between"]},a={visibleIndex:!0,groupIndex:!0,grouped:!0,sortIndex:!0,sortOrder:!0},u=function(e){e.filterOperations=e.defaultFilterOperations},f=function(n,t,i,o){var a,r={};if(t){(0,s.isString)(t)&&(t={dataField:t});var l={};return t.command?l=(0,g.deepExtendArraySafe)(r,t):(r=n.getCommonSettings(t),i&&i.name&&i.dataField&&(t=(0,h.extend)({},t,{dataField:i.dataField})),a=n._createCalculatedColumnOptions(t,o),t.dataField&&!t.type&&(l={headerId:"dx-col-"+L++}),l=(0,g.deepExtendArraySafe)(l,e),(0,g.deepExtendArraySafe)(l,r),(0,g.deepExtendArraySafe)(l,a),(0,g.deepExtendArraySafe)(l,t),(0,g.deepExtendArraySafe)(l,{selector:null})),t.filterOperations===t.defaultFilterOperations&&u(l),l}},C=function e(n,t,i){var o=[];return t&&d.default.each(t,function(t,a){var r=n._columnsUserState&&P(a,n._columnsUserState[t])&&n._columnsUserState[t],l=f(n,a,r,i);l&&(i&&(l.ownerBand=i),o.push(l),l.columns&&(o=o.concat(e(n,l.columns,l)),delete l.columns,l.hasColumns=!0))}),o},v=function(e,n){for(var t=[],i=n[e];i;)t.unshift(i),i=n[e=i.index];return t},_=function e(n,t){var i=0,o=n.getChildrenByBandColumn(t,!0);return d.default.each(o,function(t,o){o.isBand?(o.colspan=o.colspan||e(n,o.index),i+=o.colspan||1):i+=1}),i},b=function(e){var n=(0,s.type)(e);return"string"!==n&&"boolean"!==n&&"number"!==n&&"date"!==n&&"object"!==n&&(n=void 0),n},S=function(e,n){switch(e){case"date":case"datetime":return w.default.getDateSerializationFormat(n);case"number":if((0,s.isString)(n))return"string";if((0,s.isNumeric)(n))return null}},F=function(e,n){e.deserializeValue||((0,y.isDateType)(n)&&(e.deserializeValue=function(e){return w.default.deserializeDate(e)},e.serializeValue=function(e){return(0,s.isString)(e)?e:w.default.serializeDate(e,this.serializationFormat)}),"number"===n&&(e.deserializeValue=function(e){var n=parseFloat(e);return isNaN(n)?e:n},e.serializeValue=function(e,n){return"filter"===n?e:(0,s.isDefined)(e)&&"string"===this.serializationFormat?e.toString():e}))},V=function(e){d.default.each(e._columns,function(e,n){n.index=e}),d.default.each(e._columns,function(e,n){(0,s.isObject)(n.ownerBand)&&(n.ownerBand=n.ownerBand.index)}),d.default.each(e._commandColumns,function(e,n){n.index=-(e+1)})},B=function(e,n){(0,m.normalizeIndexes)(e._columns,"groupIndex",n,function(e){var n=e.grouped;return delete e.grouped,n})},z=function(e,n,t){var i,o=(0,s.isObject)(n)?n.rowIndex:null,a="group"===t?e.getGroupColumns():"columnChooser"===t?e.getChooserColumns():e.getVisibleColumns(o);return n=(0,s.isObject)(n)?n.columnIndex:n,(i=a[n])&&i.type===j&&(i=e._columns.filter(function(e){return i.type===e.type})[0]||i),i&&(0,s.isDefined)(i.index)?i.index:-1},P=function(e,n){return e&&n&&n.name===e.name&&(n.dataField===e.dataField||e.name)},G=function(e){var n,t,i,o,a=e._columnsUserState,r=e._ignoreColumnOptionNames||[],l=e._columns,u={},d=[],c=!0,h=[];function p(e,n){var t;if(n)for(var i=0;i<q.length;i++)t=q[i],(0,m.inArray)(t,r)>=0||("dataType"===t?e[t]=e[t]||n[t]:(0,m.inArray)(t,N)>=0?t in n&&(e[t]=n[t]):("selectedFilterOperation"===t&&n[t]&&(e.defaultSelectedFilterOperation=e[t]||null),e[t]=n[t]))}function g(e,n){for(var t=n.name||n.dataField,i=u[t]||0,o=0;o<e.length;o++)if(P(n,e[o])){if(!i)return u[t]=u[t]||0,u[t]++,o;i--}return-1}if(a){for(o=0;o<l.length;o++)i=g(a,l[o]),c=c&&i>=0,h.push(i);for(o=0;o<l.length;o++)n=l[o],i=h[o],(e._hasUserState||c)&&p(n,a[i]),i>=0&&(0,s.isDefined)(a[i].initialIndex)?d[i]=n:d.push(n);var x=!1;for(o=0;o<a.length;o++)(t=a[o]).added&&g(l,t)<0&&(p(n=f(e,t.added),t),d.push(n),t.added.columns&&(x=!0));x&&(V(e),d=C(e,d)),J(e,d)}},R=function(e,n){V(e),B(e,n),function(e,n){d.default.each(e._columns,function(e,n){(0,s.isDefined)(n.sortIndex)&&!Z(n.sortOrder)&&delete n.sortIndex}),(0,m.normalizeIndexes)(e._columns,"sortIndex",n,function(e){return!(0,s.isDefined)(e.groupIndex)&&Z(e.sortOrder)})}(e,n),re(e),function(e,n){var t,i,o,a,r,l={},s=[],u=e.getBandColumnsCache(),d=e._columns.filter(function(e){return!e.command});for(t=0;t<d.length;t++)o=d[t],(r=v(t,u.columnParentByIndex)).length?(l[a=r[r.length-1].index]=l[a]||[],l[a].push(o)):s.push(o);for(i in l)(0,m.normalizeIndexes)(l[i],"visibleIndex",n);(0,m.normalizeIndexes)(s,"visibleIndex",n)}(e,n)},X=function(e){e.resetColumnsCache()},J=function(e,n){e._columns=n,X(e),e.updateColumnDataTypes()},K=function(e,n,t,i){var o=e._columnChanges||{optionNames:{length:0},changeTypes:{length:0},columnIndex:i};t=(t=t||"all").split(".")[0];var a=o.changeTypes;n&&!a[n]&&(a[n]=!0,a.length++);var r=o.optionNames;t&&!r[t]&&(r[t]=!0,r.length++),void 0!==i&&i===o.columnIndex||delete o.columnIndex,e._columnChanges=o,X(e)},Q=function(e){var n,t=e.option("onColumnsChanging"),i=e._columnChanges,o=["dataField","lookup","dataType","columns"];e.isInitialized()&&!e._updateLockCount&&i&&(t&&(e._updateLockCount++,t((0,h.extend)({component:e.component},i)),e._updateLockCount--),e._columnChanges=void 0,(n=i.optionNames)&&o.some(function(e){return n[e]})?e.reinit():e.columnsChanged.fire(i))},Y=function(e,n,t,i,o){var l,u,d,c,h,f,p=r.default.compileGetter(t),g=n.index;if(3===arguments.length)return p(n,{functionsAsIs:!0});(l=p(n,{functionsAsIs:!0}))!==i&&("groupIndex"===t||"calculateGroupValue"===t?(c="grouping",function(e,n,t){n>=0?t>=0||(e.lastSortOrder=e.sortOrder):e.sortOrder=e.lastSortOrder}(n,i,l)):c="sortIndex"===t||"sortOrder"===t||"calculateSortValue"===t?"sorting":"columns",(u=r.default.compileSetter(t))(n,i,{functionsAsIs:!0}),h=function(e,n){var t,i=[],o=e.getBandColumnsCache(),a=function(e){return e.ownerBand===n.ownerBand};if(o.isPlain){var r=e._columns.indexOf(n);r>=0&&(i=["columns["+r+"]"])}else for(t=e._columns.filter(a);t.length&&-1!==t.indexOf(n);)i.unshift("columns["+t.indexOf(n)+"]"),t=(n=o.columnParentByIndex[n.index])?e._columns.filter(a):[];return i.join(".")}(e,n),a[t]&&(R(e,n),i=p(n)),h&&function(e,n){var t=n.value,i=n.optionName,o=n.prevValue,a=n.fullOptionName;M[i]||e._skipProcessingColumnsChange||(e._skipProcessingColumnsChange=!0,e.component._notifyOptionChanged(a+"."+i,t,o),e._skipProcessingColumnsChange=!1)}(e,{fullOptionName:h,optionName:t,value:i,prevValue:l}),(0,s.isDefined)(l)||(0,s.isDefined)(i)||0===t.indexOf("buffer")||(o=!0),o?X(e):((0,m.inArray)(t,q)<0&&"visibleWidth"!==t&&(d=e.option("columns"),f=e.getColumnByPath(h,d),(0,s.isString)(f)&&(f=d[g]={dataField:f}),f&&P(f,n)&&u(f,i,{functionsAsIs:!0})),K(e,c,t,g)))},Z=function(e){return"asc"===e||"desc"===e},$=function(e,n){var t,i,o=this.dataField.split("."),a=o.length-1;for(this.serializeValue&&(n=this.serializeValue(n)),i=0;i<a;i++)e=e[t=o[i]]=e[t]||{};e[o[a]]=n},ee=function(e,n){var t=e.option("rtlEnabled");return n.command&&!oe(e,n)||!n.fixedPosition?t?"right":"left":n.fixedPosition},ne=function(e,n,t,i){var o,a=this.getRowCount(),r=e[i]&&e[i].rowspan,l=n.filter(function(e){return e.type===t});return e.forEach(function(n,i){n.type===t&&(o=i,r=e[i+1]?e[i+1].rowspan:a)}),r>1&&(l=d.default.map(l,function(e){return(0,h.extend)({},e,{rowspan:r})})),l.unshift.apply(l,(0,s.isDefined)(o)?[o,1]:[i,0]),e.splice.apply(e,l),r||1},te=function(e,n){for(var t=e?e.toString():"0";t.length<n;)t="0"+t;return t},ie=function(e,n,t,i){var o,a,r,l,s=n.slice().map(function(e){return(0,h.extend)({},e)}),u=e._isColumnFixing(),d=t.slice().map(function(e){return(0,h.extend)({fixed:u},e)}),c=function(e){return t.reduce(function(n,t,o){var a=i&&e.type===j?"expand":e.type;return t.type===a||t.command===e.command?o:n},-1)},m=function(e){return e.command!==t[l].command};for(o=0;o<n.length;o++)a=n[o],(l=a&&(a.type||a.command)?c(a):-1)>=0&&(i?(s[o]=(0,h.extend)({fixed:u},t[l],a),a.type!==j&&(d=d.filter(m))):(r={visibleIndex:a.visibleIndex,index:a.index,headerId:a.headerId,allowFixing:0===a.groupIndex,allowReordering:0===a.groupIndex,groupIndex:a.groupIndex},s[o]=(0,h.extend)({},a,t[l],a.type===j&&r)));return n.length&&i&&d.length&&(s=s.concat(d)),s},oe=function(e,n){return!!e._columns.filter(function(e){return e.type===n.type}).length},ae=function(e,n){return(0,s.isDefined)(n.fixed)||!n.type?n.fixed:e._isColumnFixing()},re=function(e){return e._bandColumnsCache=void 0};return{_getExpandColumnOptions:function(){return{type:"expand",command:"expand",width:"auto",cssClass:U,allowEditing:!1,allowGrouping:!1,allowSorting:!1,allowResizing:!1,allowReordering:!1,allowHiding:!1}},_getFirstItems:function(e){var n,t=[];return e&&e.items().length>0&&(n=(0,y.normalizeSortingInfo)(e.group()).length,t=function e(n,t){var i,o;if(!n||!t)return n;for(i=0;i<n.length;i++)if((o=e(n[i].items||n[i].collapsedItems,t-1))&&o.length)return o}(e.items(),n)||[]),t},_endUpdateCore:function(){!this._skipProcessingColumnsChange&&Q(this)},init:function(){var e=this.option("columns");this._commandColumns=this._commandColumns||[],this._columns=this._columns||[],this._isColumnsFromOptions=!!e,this._isColumnsFromOptions?(J(this,e?C(this,e):[]),G(this)):J(this,this._columnsUserState?C(this,this._columnsUserState):this._columns),function(e){var n=e._getExpandColumnOptions();e.addCommandColumn(n)}(this),this._dataSourceApplied?this.applyDataSource(this._dataSource,!0):R(this)},callbackNames:function(){return["columnsChanged"]},getColumnByPath:function(e,n){var t,i=[];return e.replace(H,function(e,n){return i.push(parseInt(n)),""}),i.length&&(t=n?i.reduce(function(e,n){return e&&e.columns&&e.columns[n]},{columns:n}):function(e,n){var t,i,o=function(e){var n=t?t.index:void 0;return e.ownerBand===n};if(e.getBandColumnsCache().isPlain)t=e._columns[n[0]];else{i=e._columns.filter(o);for(var a=0;a<n.length;a++)(t=i[n[a]])&&(i=e._columns.filter(o))}return t}(this,i)),t},optionChanged:function(e){var n=void 0;switch(e.name){case"adaptColumnWidthByRatio":e.handled=!0;break;case"dataSource":e.value===e.previousValue||this.option("columns")||Array.isArray(e.value)&&Array.isArray(e.previousValue)||(this._columns=[]);break;case"columns":n=this._skipProcessingColumnsChange,e.handled=!0,this._skipProcessingColumnsChange||(e.name===e.fullName?(this._columnsUserState=null,this._ignoreColumnOptionNames=null,this.init()):(this._columnOptionChanged(e),n=!0)),n&&this._updateRequireResize(e);break;case"commonColumnSettings":case"columnAutoWidth":case"allowColumnResizing":case"allowColumnReordering":case"columnFixing":case"grouping":case"groupPanel":case"regenerateColumnsByVisibleItems":case"customizeColumns":case"editing":case"columnHidingEnabled":case"dateSerializationFormat":case"columnResizingMode":case"columnMinWidth":case"columnWidth":e.handled=!0;var t="columnWidth"===e.fullName&&["width"],i=e.fullName&&0===e.fullName.indexOf("editing.popup"),o=e.fullName&&0===e.fullName.indexOf("editing.form");i||o||this.reinit(t);break;case"rtlEnabled":this.reinit();break;default:this.callBase(e)}},_columnOptionChanged:function(e){var n={},t=this.getColumnByPath(e.fullName),i=e.fullName.replace(H,"");t&&(i?n[i]=e.value:n=e.value,this._skipProcessingColumnsChange=!0,this.columnOption(t.index,n),this._skipProcessingColumnsChange=!1)},_updateRequireResize:function(e){var n=this.component;"width"===e.fullName.replace(H,"")&&n._updateLockCount&&(n._requireResize=!0)},publicMethods:function(){return["addColumn","deleteColumn","columnOption","columnCount","clearSorting","clearGrouping","getVisibleColumns","getVisibleColumnIndex"]},applyDataSource:function(e,n){var t=e&&e.isLoaded();if(this._dataSource=e,!this._dataSourceApplied||0===this._dataSourceColumnsCount||n||this.option("regenerateColumnsByVisibleItems")){if(t){if(!this._isColumnsFromOptions){var i=function(e,n){var t,i,a=e._getFirstItems(n),r={},l=[];for(i=0;i<a.length;i++)if(a[i])for(t in a[i])(0,s.isFunction)(a[i][t])&&!(0,o.isWrapped)(a[i][t])||(r[t]=!0);for(t in r)if(0!==t.indexOf("__")){var u=f(e,t);l.push(u)}return l}(this,e);i.length&&(J(this,i),this._dataSourceColumnsCount=this._columns.length,G(this))}return this.updateColumns(e,n)}this._dataSourceApplied=!1}else if(t&&!this.isAllDataTypesDefined(!0)&&this.updateColumnDataTypes(e))return K(this,"columns"),Q(this),(new T.Deferred).reject().promise()},reset:function(){this._dataSourceApplied=!1,this._dataSourceColumnsCount=void 0,this.reinit()},resetColumnsCache:function(){this._visibleColumns=void 0,this._fixedColumns=void 0,this._rowCount=void 0,re(this)},reinit:function(e){this._columnsUserState=this.getUserState(),this._ignoreColumnOptionNames=e||null,this.init(),e&&(this._ignoreColumnOptionNames=null)},isInitialized:function(){return!!this._columns.length||!!this.option("columns")},isDataSourceApplied:function(){return this._dataSourceApplied},getCommonSettings:function(e){var n=(!e||!e.type)&&this.option("commonColumnSettings")||{},t=this.option("grouping")||{},i=this.option("groupPanel")||{};return(0,h.extend)({allowFixing:this.option("columnFixing.enabled"),allowResizing:this.option("allowColumnResizing")||void 0,allowReordering:this.option("allowColumnReordering"),minWidth:this.option("columnMinWidth"),width:this.option("columnWidth"),autoExpandGroup:t.autoExpandAll,allowCollapsing:t.allowCollapsing,allowGrouping:i.allowColumnDragging&&i.visible||t.contextMenuEnabled},n)},isColumnOptionUsed:function(e){for(var n=0;n<this._columns.length;n++)if(this._columns[n][e])return!0},isAllDataTypesDefined:function(e){var n,t=this._columns;if(!t.length)return!1;for(n=0;n<t.length;n++)if((t[n].dataField||t[n].calculateCellValue!==t[n].defaultCalculateCellValue)&&(!t[n].dataType||e&&t[n].deserializeValue&&void 0===t[n].serializationFormat))return!1;return!0},getColumns:function(){return this._columns},isBandColumnsUsed:function(){return this.getColumns().some(function(e){return e.isBand})},getGroupColumns:function(){var e=[];return d.default.each(this._columns,function(){(0,s.isDefined)(this.groupIndex)&&(e[this.groupIndex]=this)}),e},getVisibleColumns:function(e){return this._visibleColumns=this._visibleColumns||this._getVisibleColumnsCore(),e=(0,s.isDefined)(e)?e:this._visibleColumns.length-1,this._visibleColumns[e]||[]},getFixedColumns:function(e){return this._fixedColumns=this._fixedColumns||this._getFixedColumnsCore(),e=(0,s.isDefined)(e)?e:this._fixedColumns.length-1,this._fixedColumns[e]||[]},getFilteringColumns:function(){return this.getColumns().filter(function(e){return(e.dataField||e.name)&&(e.allowFiltering||e.allowHeaderFiltering)}).map(function(e){var n=(0,h.extend)(!0,{},e);return(0,s.isDefined)(n.dataField)||(n.dataField=n.name),n.filterOperations=e.filterOperations!==e.defaultFilterOperations?n.filterOperations:null,n})},_getFixedColumnsCore:function(){var e,n,t,i,o,a,r,l,u=[],d=this.getRowCount(),c={command:"transparent"},h=0;if(this._isColumnFixing())for(e=0;e<=d;e++){for(o=0,r=null,a=null,l=this.getVisibleColumns(e,!0),n=0;n<l.length;n++)i=l[n-1],(t=l[n]).fixed?i&&i.fixed&&ee(this,i)!==ee(this,t)?(0,s.isDefined)(a)||(a=n):r=t.fixedPosition:(0===e&&(t.isBand&&t.colspan?h+=t.colspan:h++),o++,(0,s.isDefined)(a)||(a=n));if(0===e&&(0===o||o>=l.length))return[];(0,s.isDefined)(a)||(a="right"===r?0:l.length),u[e]=l.slice(0),c.colspan||(c.colspan=h),u[e].splice(a,o,c)}return u},_isColumnFixing:function(){var e=this.option("columnFixing.enabled");return!e&&d.default.each(this._columns,function(n,t){if(t.fixed)return e=!0,!1}),e},_getExpandColumnsCore:function(){return this.getGroupColumns()},getExpandColumns:function(){var e,n=this._getExpandColumnsCore(),t=n.filter(function(e){return 0===e.groupIndex})[0],i=t&&t.fixed,o=this._isColumnFixing();return n.length&&(e=this.columnOption("command:expand")),n=d.default.map(n,function(n){return(0,h.extend)({},n,{visibleWidth:null,minWidth:null,cellTemplate:(0,s.isDefined)(n.groupIndex)?null:n.cellTemplate,headerCellTemplate:null,fixed:!(!(0,s.isDefined)(n.groupIndex)||!i)||o},e,{index:n.index,type:n.type||j})})},getBandColumnsCache:function(){if(!this._bandColumnsCache){var e=this._columns,n={},t={},i=!0;e.forEach(function(o){var a=o.ownerBand,r=e[a];o.hasColumns&&(i=!1),o.colspan&&(o.colspan=void 0),o.rowspan&&(o.rowspan=void 0),r?t[o.index]=r:a=-1,n[a]=n[a]||[],n[a].push(o)}),this._bandColumnsCache={isPlain:i,columnChildrenByIndex:n,columnParentByIndex:t}}return this._bandColumnsCache},_isColumnVisible:function(e){return e.visible&&this.isParentColumnVisible(e.index)},_getVisibleColumnsCore:function(){var e,n,t,i=this,o=[],a=0,r=0,l=i.getRowCount(),u=[],c=[],h=0,m=i.option("rtlEnabled"),f=i.getBandColumnsCache(),p=ie(i,i.getExpandColumns(),i._columns),C=ie(i,i._columns,i._commandColumns,!0),x=function(e){var n;for(n=0;e>1;n++)e/=10;return n}(C.length);for(function(e,n,t){var i,o,a,r=e.getRowCount();for(i=0;i<n.length;i++)((o=n[i]).visible||o.command)&&(o.isBand&&(o.colspan=o.colspan||_(e,o.index)),o.isBand&&o.colspan||(a=r-(o.command||(0,s.isDefined)(o.groupIndex)?0:v(o.index,t.columnParentByIndex).length))>1&&(o.rowspan=a))}(i,C,f),e=0;e<l;e++)o[e]=[],c[e]=[{}],u[e]=[{},{},{}];return d.default.each(C,function(){var n,o,a=this.visibleIndex,r=v(this.index,f.columnParentByIndex);if(i._isColumnVisible(this)&&(!(0,s.isDefined)(this.groupIndex)||this.showWhenGrouped)){if(n=r.length,a<0?(a=-a,o=c[n]):(this.fixed=r.length?r[0].fixed:this.fixed,this.fixedPosition=r.length?r[0].fixedPosition:this.fixedPosition,this.fixed?(t="right"===this.fixedPosition,!m||this.command&&!oe(i,this)||(t=!t),o=t?u[n][2]:u[n][0]):o=u[n][1]),r.length)for(a=te(a,x),e=r.length-1;e>=0;e--)a=te(r[e].visibleIndex,x)+a;o[a]=o[a]||[],o[a].push(this),h++}}),d.default.each(o,function(e){(0,g.orderEach)(c[e],function(n,t){o[e].unshift.apply(o[e],t)}),n=o[e].length,d.default.each(u[e],function(n,t){(0,g.orderEach)(t,function(n,t){o[e].push.apply(o[e],t)})}),r<e+1&&(r+=ne.call(i,o[e],p,"detailExpand",n)),a<e+1&&(a+=ne.call(i,o[e],p,j,n))}),o.push(function e(n,t,i){var o=[];return n[t=t||0]&&d.default.each(n[t],function(a,r){(r.ownerBand===i||(0,s.isDefined)(r.groupIndex))&&(r.isBand&&r.colspan?o.push.apply(o,e(n,t+1,r.index)):(!r.command||t<1)&&o.push(r))}),o}(o)),!h&&i._columns.length&&o[l].push({command:"empty"}),o},getInvisibleColumns:function(e,n){var t,i=this,o=[];return e=e||i._columns,d.default.each(e,function(e,a){a.ownerBand===n&&(a.isBand?(t=a.visible?i.getInvisibleColumns(i.getChildrenByBandColumn(a.index),a.index):i.getChildrenByBandColumn(a.index)).length&&(o.push(a),o=o.concat(t)):a.visible||o.push(a))}),o},getChooserColumns:function(e){var n=e?this.getColumns():this.getInvisibleColumns();return(0,l.grep)(n,function(e){return e.showInColumnChooser})},allowMoveColumn:function(e,n,t,i){var o=z(this,e,t),a=this._columns[o];return!(!a||!(a.allowReordering||a.allowGrouping||a.allowHiding))&&(t===i?"columnChooser"!==t&&((e=(0,s.isObject)(e)?e.columnIndex:e)!==(n=(0,s.isObject)(n)?n.columnIndex:n)&&e+1!==n):"group"===t&&"columnChooser"!==i||"group"===i?a&&a.allowGrouping:"columnChooser"!==t&&"columnChooser"!==i||a&&a.allowHiding)},moveColumn:function(e,n,t,i){var o,a,r,l={},u=z(this,e,t),d=z(this,n,i);if(u>=0){if(r=this._columns[u],n=(0,s.isObject)(n)?n.columnIndex:n,a=d>=0?this._columns[d].groupIndex:-1,(0,s.isDefined)(r.groupIndex)&&"group"===t&&(a>r.groupIndex&&a--,"group"!==i?l.groupIndex=void 0:(o=r.groupIndex,delete r.groupIndex,B(this))),"group"===i)l.groupIndex=function(e,n,t){var i,o=e.getGroupColumns();if(t>=0)for(i=0;i<o.length;i++)o[i].groupIndex>=t&&o[i].groupIndex++;else for(t=0,i=0;i<o.length;i++)t=Math.max(t,o[i].groupIndex+1);return t}(this,0,a),r.groupIndex=o;else if(n>=0){var c=this._columns[d];c&&r.ownerBand===c.ownerBand?ae(this,r)^ae(this,c)?l.visibleIndex=W:l.visibleIndex=c.visibleIndex:l.visibleIndex=W}var h="columnChooser"!==i;r.visible!==h&&(l.visible=h),this.columnOption(r.index,l)}},changeSortOrder:function(e,n){var t={},i=this.option("sorting"),o=i&&i.mode,a="single"===o||!n,r="single"===o||"multiple"===o,l=this._columns[e];r&&l&&l.allowSorting&&(a&&!(0,s.isDefined)(l.groupIndex)&&d.default.each(this._columns,function(n){n!==e&&this.sortOrder&&!(0,s.isDefined)(this.groupIndex)&&(delete this.sortOrder,delete this.sortIndex)}),Z(n)?l.sortOrder!==n&&(t.sortOrder=n):"none"===n?l.sortOrder&&(t.sortIndex=void 0,t.sortOrder=void 0):function(e){if("ctrl"===n){if(!("sortOrder"in e&&"sortIndex"in e))return!1;t.sortOrder=void 0,t.sortIndex=void 0}else(0,s.isDefined)(e.groupIndex)||(0,s.isDefined)(e.sortIndex)?t.sortOrder="desc"===e.sortOrder?"asc":"desc":t.sortOrder="asc"}(l)),this.columnOption(l.index,t)},getSortDataSourceParameters:function(e){var n=[],t=[];return d.default.each(this._columns,function(){(this.dataField||this.selector||this.calculateCellValue)&&(0,s.isDefined)(this.sortIndex)&&!(0,s.isDefined)(this.groupIndex)&&(n[this.sortIndex]=this)}),d.default.each(n,function(){var n=this&&this.sortOrder;if(Z(n)){var i={selector:this.calculateSortValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue,desc:"desc"===this.sortOrder};this.sortingMethod&&(i.compare=this.sortingMethod.bind(this)),t.push(i)}}),t.length>0?t:null},getGroupDataSourceParameters:function(e){var n=[];return d.default.each(this.getGroupColumns(),function(){var t=this.calculateGroupValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue;if(t){var i={selector:t,desc:"desc"===this.sortOrder,isExpanded:!!this.autoExpandGroup};this.sortingMethod&&(i.compare=this.sortingMethod.bind(this)),n.push(i)}}),n.length>0?n:null},refresh:function(e){var t=[];return d.default.each(this._columns,function(){var n=this.lookup;if(n&&!this.calculateDisplayValue){if(e&&n.valueMap)return;n.update&&t.push(n.update())}}),T.when.apply(n.default,t).done(X.bind(null,this))},_updateColumnOptions:function(e){e.selector=e.selector||function(n){return e.calculateCellValue(n)},d.default.each(["calculateSortValue","calculateGroupValue","calculateDisplayValue"],function(n,t){var i=e[t];(0,s.isFunction)(i)&&!i.originalCallback&&(e[t]=function(n){return i.call(e,n)},e[t].originalCallback=i)}),(0,s.isString)(e.calculateDisplayValue)&&(e.displayField=e.calculateDisplayValue,e.calculateDisplayValue=r.default.compileGetter(e.displayField)),e.calculateDisplayValue&&(e.displayValueMap=e.displayValueMap||{}),F(e,e.dataType);var n=e.lookup;n&&F(n,n.dataType);var i=n?n.dataType:e.dataType;i&&(e.alignment=e.alignment||function(e,n){switch(e){case"number":return"right";case"boolean":return"center";default:return(0,c.getDefaultAlignment)(n)}}(i,this.option("rtlEnabled")),e.format=e.format||(0,y.getFormatByDataType)(i),e.customizeText=e.customizeText||function(e){if("boolean"===e)return function(e){return!0===e.value?this.trueText||"true":!1===e.value?this.falseText||"false":e.valueText||""}}(i),e.defaultFilterOperations=e.defaultFilterOperations||!n&&t[i]||[],(0,s.isDefined)(e.filterOperations)||u(e),e.defaultFilterOperation=e.filterOperations&&e.filterOperations[0]||"=",e.showEditorAlways=(0,s.isDefined)(e.showEditorAlways)?e.showEditorAlways:"boolean"===i&&!e.cellTemplate)},updateColumnDataTypes:function(e){var n=this,t=n.option("dateSerializationFormat"),i=n._getFirstItems(e),o=!1;return d.default.each(n._columns,function(e,a){var r,l,s,u,d,c=a.lookup;if((0,y.isDateType)(a.dataType)&&void 0===a.serializationFormat&&(a.serializationFormat=t),c&&(0,y.isDateType)(c.dataType)&&void 0===a.serializationFormat&&(c.serializationFormat=t),a.calculateCellValue&&i.length){if(!a.dataType||c&&!c.dataType){for(r=0;r<i.length;r++)l=a.calculateCellValue(i[r]),a.dataType||(d=b(l),(s=s||d)&&d&&s!==d&&(s="string")),c&&!c.dataType&&(d=b((0,y.getDisplayValue)(a,l,i[r])),(u=u||d)&&d&&u!==d&&(u="string"));(s||u)&&(s&&(a.dataType=s),c&&u&&(c.dataType=u),o=!0)}if(void 0===a.serializationFormat||c&&void 0===c.serializationFormat)for(r=0;r<i.length;r++)l=a.calculateCellValue(i[r],!0),void 0===a.serializationFormat&&(a.serializationFormat=S(a.dataType,l)),c&&void 0===c.serializationFormat&&(c.serializationFormat=S(c.dataType,c.calculateCellValue(l,!0)))}n._updateColumnOptions(a)}),o},_customizeColumns:function(e){var n=this.option("customizeColumns");n&&(e.some(function(e){return(0,s.isObject)(e.ownerBand)})&&R(this),n(e),J(this,C(this,e)))},_checkAsyncValidationRules:function(){var e=this.option("editing.mode");"form"!==e&&"popup"!==e&&(this._columns.some(function(e){return(e.validationRules||[]).some(function(e){return"async"===e.type})})&&x.default.log("E1057",this.component.NAME,e))},updateColumns:function(e,n){var t,i,o=this;if(n||o.updateSortingGrouping(e),!e||e.isLoaded()){t=e?e.sort()||[]:o.getSortDataSourceParameters(),i=e?e.group()||[]:o.getGroupDataSourceParameters(),o._customizeColumns(o._columns),o._checkAsyncValidationRules(),R(o);var a=o._columns;return(0,T.when)(o.refresh(!0)).always(function(){o._columns===a&&(o._updateChanges(e,{sorting:t,grouping:i}),Q(o))})}},_updateChanges:function(e,n){e&&(this.updateColumnDataTypes(e),this._dataSourceApplied=!0),(0,y.equalSortParameters)(n.sorting,this.getSortDataSourceParameters())||K(this,"sorting"),(0,y.equalSortParameters)(n.grouping,this.getGroupDataSourceParameters())||K(this,"grouping"),K(this,"columns")},updateSortingGrouping:function(e,n){var t,i,o,a,r,l=this,s=function(e,n,t){var i,o,a;d.default.each(e,function(e,r){if(delete r[t],n)for(i=0;i<n.length;i++)if(o=n[i].selector,a=n[i].isExpanded,o===r.dataField||o===r.name||o===r.selector||o===r.calculateCellValue||o===r.calculateGroupValue){r.sortOrder=r.sortOrder||(n[i].desc?"desc":"asc"),void 0!==a&&(r.autoExpandGroup=a),r[t]=i;break}})};e&&(t=(0,y.normalizeSortingInfo)(e.sort()),i=(0,y.normalizeSortingInfo)(e.group()),o=l.getGroupDataSourceParameters(),a=l.getSortDataSourceParameters(),l._columns.length||(d.default.each(i,function(e,n){l._columns.push(n.selector)}),d.default.each(t,function(e,n){l._columns.push(n.selector)}),J(l,C(l,l._columns))),!n&&(o||l._hasUserState)||(0,y.equalSortParameters)(i,o)||(s(l._columns,i,"groupIndex"),n&&(K(l,"grouping"),r=!0)),!n&&(a||l._hasUserState)||(0,y.equalSortParameters)(t,a)||(s(l._columns,t,"sortIndex"),n&&(K(l,"sorting"),r=!0)),r&&Q(l))},updateFilter:function(e,n,t,i){var o,a;if(!Array.isArray(e))return e;for(t=void 0!==(e=(0,h.extend)([],e)).columnIndex?e.columnIndex:t,i=void 0!==e.filterValue?e.filterValue:i,(0,s.isString)(e[0])?(o=this.columnOption(e[0]),n?(0,p.default)().forceIsoDateParsing&&o&&o.serializeValue&&e.length>1&&(e[e.length-1]=o.serializeValue(e[e.length-1],"filter")):o&&o.selector&&(e[0]=o.selector,e[0].columnIndex=o.index)):(0,s.isFunction)(e[0])&&(e[0].columnIndex=t,e[0].filterValue=i),a=0;a<e.length;a++)e[a]=this.updateFilter(e[a],n,t,i);return e},columnCount:function(){return this._columns?this._columns.length:0},columnOption:function(e,n,t,i){var o,a,r=this,l=(0,s.isString)(e)&&e.substr(0,e.indexOf(":")),u=r._columns.concat(r._commandColumns);if(void 0!==e){for(l&&(e=e.substr(l.length+1)),o=0;o<u.length;o++)if(l){if(""+u[o][l]===e){a=u[o];break}}else if(u[o].index===e||u[o].name===e||u[o].dataField===e||u[o].caption===e){a=u[o];break}if(a){if(1===arguments.length)return(0,h.extend)({},a);if((0,s.isString)(n)){if(2===arguments.length)return Y(r,a,n);Y(r,a,n,t,i)}else(0,s.isObject)(n)&&d.default.each(n,function(e,n){Y(r,a,e,n,i)});Q(r)}}},clearSorting:function(){var e,n=this.columnCount();for(this.beginUpdate(),e=0;e<n;e++)this.columnOption(e,"sortOrder",void 0);this.endUpdate()},clearGrouping:function(){var e,n=this.columnCount();for(this.beginUpdate(),e=0;e<n;e++)this.columnOption(e,"groupIndex",void 0);this.endUpdate()},getVisibleIndex:function(e,n){var t,i=this.getVisibleColumns(n);for(t=i.length-1;t>=0;t--)if(i[t].index===e)return t;return-1},getVisibleColumnIndex:function(e,n){var t=this.columnOption(e,"index");return this.getVisibleIndex(t,n)},addColumn:function(e){var n=f(this,e),t=this._columns.length;this._columns.push(n),n.isBand&&(this._columns=C(this,this._columns),n=this._columns[t]),n.added=e,R(this,n),this.updateColumns(this._dataSource)},deleteColumn:function(e){var n,t,i=this.columnOption(e);i&&i.index>=0&&((t=this._columns).forEach(function(e){(0,s.isDefined)(e.ownerBand)&&(e.ownerBand=t[e.ownerBand])}),this._columns.splice(i.index,1),i.isBand&&(n=this.getChildrenByBandColumn(i.index).map(function(e){return e.index}),this._columns=this._columns.filter(function(e){return n.indexOf(e.index)<0})),R(this),this.updateColumns(this._dataSource))},addCommandColumn:function(e){var n=this._commandColumns.filter(function(n){return n.command===e.command})[0];n||(n=e,this._commandColumns.push(n))},getUserState:function(){var e,n=this._columns,t=[];function i(i,o){void 0!==n[e][o]&&(t[e][o]=n[e][o])}for(e=0;e<n.length;e++)t[e]={},d.default.each(q,i);return t},setUserState:function(e){var n,t=this._dataSource,i=this.option("stateStoring.ignoreColumnOptionNames");if(!i){i=[],n=this.getCommonSettings(),this.option("columnChooser.enabled")||i.push("visible"),"none"===this.option("sorting.mode")&&i.push("sortIndex","sortOrder"),n.allowGrouping||i.push("groupIndex"),n.allowFixing||i.push("fixed","fixedPosition"),n.allowResizing||i.push("width","visibleWidth");var o=!this.option("filterPanel.visible");!this.option("filterRow.visible")&&o&&i.push("filterValue","selectedFilterOperation"),!this.option("headerFilter.visible")&&o&&i.push("filterValues","filterType")}this._columnsUserState=e,this._ignoreColumnOptionNames=i,this._hasUserState=!!e,K(this,"filtering"),this.init(),t&&(t.sort(this.getSortDataSourceParameters()),t.group(this.getGroupDataSourceParameters()))},_createCalculatedColumnOptions:function(e,n){var t,a={},l=e.dataField;return(Array.isArray(e.columns)&&e.columns.length||e.isBand)&&(a.isBand=!0,l=null),l?((0,s.isString)(l)&&(t=r.default.compileGetter(l),a={caption:I.default.captionize(l),calculateCellValue:function(e,n){var i=t(e);return this.deserializeValue&&!n?this.deserializeValue(i):i},setCellValue:$,parseValue:function(e){var n,t;return"number"===this.dataType?(0,s.isString)(e)&&this.format?(t=O.default.parse(e),(0,s.isNumeric)(t)&&(n=t)):(0,s.isDefined)(e)&&(0,s.isNumeric)(e)&&(n=Number(e)):"boolean"===this.dataType?e===this.trueText?n=!0:e===this.falseText&&(n=!1):(0,y.isDateType)(this.dataType)?(t=D.default.parse(e,this.format))&&(n=t):n=e,n}}),a.allowFiltering=!0):a.allowFiltering=!!e.calculateFilterExpression,a.calculateFilterExpression=function(){return k.default.defaultCalculateFilterExpression.apply(this,arguments)},a.createFilterExpression=function(e){var n;return this.calculateFilterExpression&&(n=this.calculateFilterExpression.apply(this,arguments)),(0,s.isFunction)(n)&&(n=[n,"=",!0]),n&&(n.columnIndex=this.index,n.filterValue=e),n},l&&(0,s.isString)(l)||(0,h.extend)(!0,a,{allowSorting:!1,allowGrouping:!1,calculateCellValue:function(){return null}}),n&&(a.allowFixing=!1),e.dataType&&(a.userDataType=e.dataType),!e.selectedFilterOperation||"defaultSelectedFilterOperation"in a||(a.defaultSelectedFilterOperation=e.selectedFilterOperation),e.lookup&&(a.lookup={calculateCellValue:function(e,n){return this.valueExpr&&(e=this.valueMap&&this.valueMap[e]),this.deserializeValue&&!n?this.deserializeValue(e):e},updateValueMap:function(){var e,n,t,i;if(this.valueMap={},this.items)for(e=r.default.compileGetter(this.valueExpr),n=r.default.compileGetter(this.displayExpr),i=0;i<this.items.length;i++){var o=n(t=this.items[i]);this.valueMap[e(t)]=o,this.dataType=this.dataType||b(o)}},update:function(){var e,n=this,t=n.dataSource;if(t)if((0,s.isFunction)(t)&&!(0,o.isWrapped)(t)&&(t=t({})),(0,s.isPlainObject)(t)||t instanceof E.default||Array.isArray(t)){if(n.valueExpr)return(e=(0,A.normalizeDataSourceOptions)(t)).paginate=!1,(t=new A.DataSource(e)).load().done(function(e){n.items=e,n.updateValueMap&&n.updateValueMap()})}else x.default.log("E1016");else n.updateValueMap&&n.updateValueMap()}}),a.resizedCallbacks=(0,i.default)(),e.resized&&a.resizedCallbacks.add(e.resized.bind(e)),d.default.each(a,function(e){var n;(0,s.isFunction)(a[e])&&0!==e.indexOf("default")&&(n="default"+e.charAt(0).toUpperCase()+e.substr(1),a[n]=a[e])}),a},getRowCount:function(){var e,n,t;return this._rowCount=this._rowCount||(n=1,t=(e=this).getBandColumnsCache().columnParentByIndex,e._columns.forEach(function(e){var i=v(e.index,t),o=i.filter(function(e){return!e.visible});e.visible&&!o.length&&(n=Math.max(n,i.length+1))}),n),this._rowCount},getRowIndex:function(e,n){var t=this._columns[e],i=this.getBandColumnsCache();return t&&(n||t.visible&&!t.command&&!(0,s.isDefined)(t.groupIndex))?v(e,i.columnParentByIndex).length:0},getChildrenByBandColumn:function(e,n){var t=function e(n,t,i){var o,a=[],r=t[n];if(r)for(var l=0;l<r.length;l++)o=r[l],(0,s.isDefined)(o.groupIndex)&&!o.showWhenGrouped||(a.push(o),i&&o.isBand&&(a=a.concat(e(o.index,t,i))));return a}(e,this.getBandColumnsCache().columnChildrenByIndex,!n);return n?t.filter(function(e){return e.visible&&!e.command}).sort(function(e,n){return e.visibleIndex-n.visibleIndex}):t},isParentBandColumn:function(e,n){var t=!1,i=this._columns[e],o=this.getBandColumnsCache(),a=i&&v(e,o.columnParentByIndex);return a&&d.default.each(a,function(e,i){if(i.index===n)return t=!0,!1}),t},isParentColumnVisible:function(e){var n=!0,t=this.getBandColumnsCache(),i=e>=0&&v(e,t.columnParentByIndex);return i&&d.default.each(i,function(e,t){return n=n&&t.visible}),n},getColumnId:function(e){return e.command&&e.type===j?oe(this,e)?"type:"+e.type:"command:"+e.command:e.index}}}())}};
},{"../../core/renderer":"qxFQ","../../core/utils/callbacks":"gtoU","../../core/utils/variable_wrapper":"SPUa","../../core/utils/data":"YLhW","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/iterator":"FHcO","../../core/utils/position":"Zh3q","../../core/utils/extend":"ac8T","../../core/utils/array":"uivT","../../core/config":"iRjc","../../core/utils/object":"jPX0","../widget/ui.errors":"RFsS","./ui.grid_core.modules":"vXU0","./ui.grid_core.utils":"kk68","../../core/utils/inflector":"i2nR","../../core/utils/date_serialization":"kANi","../../localization/number":"mjsA","../../localization/date":"F0Sb","../../localization/message":"Njcj","../../core/utils/deferred":"g5TB","../../data/abstract_store":"HijJ","../../data/data_source/data_source":"SIr7","../shared/filtering":"gV8h"}],"uGft":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/type"),r=require("./ui.tree_list.core"),t=l(r),o=require("../grid_core/ui.grid_core.columns_controller"),n=l(o);function l(e){return e&&e.__esModule?e:{default:e}}exports.ColumnsController=n.default.controllers.columns.inherit({_getFirstItems:function(e){return this.callBase(e).map(function(e){return e.data})},getFirstDataColumnIndex:function(){for(var r=this.getVisibleColumns(),t=r.length,o=0,n=0;n<=t-1;n++)if(!(0,e.isDefined)(r[n].command)){o=r[n].index;break}return o}}),t.default.registerModule("columns",{defaultOptions:n.default.defaultOptions,controllers:{columns:exports.ColumnsController}});
},{"../../core/utils/type":"Mw4w","./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.columns_controller":"fS07"}],"aFu5":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/extend"),r=require("../grid_core/ui.grid_core.utils"),u=t(r),i=require("../grid_core/ui.grid_core.modules"),d=t(i);function t(e){return e&&e.__esModule?e:{default:e}}(0,e.extend)(exports,d.default,u.default,{modules:[]});
},{"../../core/utils/extend":"ac8T","../grid_core/ui.grid_core.utils":"kk68","../grid_core/ui.grid_core.modules":"vXU0"}],"irsi":[function(require,module,exports) {
"use strict";var a=require("../../core/utils/callbacks"),e=p(a),t=require("../data_grid/ui.data_grid.core"),o=p(t),n=require("../../core/utils/common"),i=require("../../core/utils/type"),r=p(i),s=require("../../core/utils/iterator"),d=require("../../core/utils/extend"),u=require("../../data/array_store"),h=p(u),c=require("../../data/array_utils"),l=p(c),g=require("../../core/utils/deferred");function p(a){return a&&a.__esModule?a:{default:a}}module.exports=o.default.Controller.inherit(function(){function a(e,t){if(e&&(e=e.slice(0),t))for(var o=0;o<e.length;o++)e[o]=(0,d.extend)({key:e[o].key},e[o]),e[o].items=a(e[o].items,t-1);return e}function t(a,e){var t={};return e&&((t={sorting:!o.default.equalSortParameters(a.sort,e.sort),grouping:!o.default.equalSortParameters(a.group,e.group,!0),groupExpanding:!o.default.equalSortParameters(a.group,e.group)||e.groupExpand,filtering:!o.default.equalFilterParameters(a.filter,e.filter),pageIndex:a.pageIndex!==e.pageIndex,skip:a.skip!==e.skip,take:a.take!==e.take}).reload=t.sorting||t.grouping||t.filtering,t.paging=t.pageIndex||t.take),t}function i(a){return a.cachedPagesData.pages[a.pageIndex]}return{init:function(a,t){var o=this;o._dataSource=a,o._remoteOperations=t||{},o._isLastPage=!a.isLastPage(),o._hasLastPage=!1,o._currentTotalCount=0,o._cachedPagesData={pages:{}},o._lastOperationTypes={},o.changed=(0,e.default)(),o.loadingChanged=(0,e.default)(),o.loadError=(0,e.default)(),o.customizeStoreLoadOptions=(0,e.default)(),o.changing=(0,e.default)(),o._dataChangedHandler=o._handleDataChanged.bind(o),o._dataLoadingHandler=o._handleDataLoading.bind(o),o._dataLoadedHandler=o._handleDataLoaded.bind(o),o._loadingChangedHandler=o._handleLoadingChanged.bind(o),o._loadErrorHandler=o._handleLoadError.bind(o),o._pushHandler=o._handlePush.bind(o),o._changingHandler=o._handleChanging.bind(o),a.on("changed",o._dataChangedHandler),a.on("customizeStoreLoadOptions",o._dataLoadingHandler),a.on("customizeLoadResult",o._dataLoadedHandler),a.on("loadingChanged",o._loadingChangedHandler),a.on("loadError",o._loadErrorHandler),a.on("changing",o._changingHandler),a.store().on("push",o._pushHandler),(0,s.each)(a,function(a,e){!o[a]&&r.default.isFunction(e)&&(o[a]=function(){return this._dataSource[a].apply(this._dataSource,arguments)})})},remoteOperations:function(){return this._remoteOperations},dispose:function(a){var e=this._dataSource,t=e.store();e.off("changed",this._dataChangedHandler),e.off("customizeStoreLoadOptions",this._dataLoadingHandler),e.off("customizeLoadResult",this._dataLoadedHandler),e.off("loadingChanged",this._loadingChangedHandler),e.off("loadError",this._loadErrorHandler),e.off("changing",this._changingHandler),t&&t.off("push",this._pushHandler),a||e.dispose()},refresh:function(a,e,t){var o=this._dataSource;(e||t.reload)&&(this._currentTotalCount=0,this._isLastPage=!o.paginate(),this._hasLastPage=this._isLastPage)},resetCache:function(){this._cachedStoreData=void 0,this._cachedPagingData=void 0},resetPagesCache:function(){this._cachedPagesData={pages:{}}},_needClearStoreDataCache:function(){var a=this.remoteOperations(),e=t(this._lastLoadOptions||{},{});return!Object.keys(a).every(function(t){return!e[t]||!a[t]})},push:function(a,e){var t=this.store();this._needClearStoreDataCache()&&(this._cachedStoreData=void 0),this._cachedPagingData=void 0,this.resetPagesCache(!0),this._cachedStoreData&&l.default.applyBatch(t,this._cachedStoreData,a),e||this._applyBatch(a)},getDataIndexGetter:function(){var a=this;if(!this._dataIndexGetter){var e=void 0,t=void 0,o=this.store();this._dataIndexGetter=function(i){var r=t&&t!==a._cachedStoreData;if(!e||r){t=a._cachedStoreData||[],e={};for(var s=0;s<t.length;s++)e[(0,n.getKeyHash)(o.keyOf(t[s]))]=s}return e[(0,n.getKeyHash)(o.keyOf(i))]}}return this._dataIndexGetter},_getKeyInfo:function(){return this.store()},_applyBatch:function(a){var e=this._getKeyInfo(),t=this._dataSource,n=o.default.normalizeSortingInfo(this.group()).length;a=a.filter(function(a){return!t.paginate()||"insert"!==a.type||void 0!==a.index}),l.default.applyBatch(e,this._items,a,n,!0),l.default.applyBatch(e,t.items(),a,n,!0),a.splice(0,a.length)},_handlePush:function(a){this.push(a,!0)},_handleChanging:function(a){this.changing.fire(a),this._applyBatch(a.changes)},_needCleanCacheByOperation:function(a,e){var t=["filtering","sorting","paging"],o=t.indexOf(a);return(o>=0?t.slice(o):[a]).some(function(a){return e[a]})},_customizeRemoteOperations:function(a,e,t){var o=this,n=o._cachedStoreData,i=o._cachedPagingData,r=o._cachedPagesData;(a.storeLoadOptions.filter&&!a.remoteOperations.filtering||a.storeLoadOptions.sort&&!a.remoteOperations.sorting)&&(a.remoteOperations={filtering:a.remoteOperations.filtering}),e?(n=void 0,i=void 0,r={pages:{}}):(t.reload?(i=void 0,r={pages:{}}):(t.take||t.groupExpanding)&&(r={pages:{}}),(0,s.each)(t,function(e,t){t&&o._needCleanCacheByOperation(e,a.remoteOperations)&&(n=void 0,i=void 0)})),i&&(a.remoteOperations.paging=!1),a.cachedStoreData=n,a.cachedPagingData=i,a.cachedPagesData=r,a.isCustomLoading||(o._cachedStoreData=n,o._cachedPagingData=i,o._cachedPagesData=r)},_handleDataLoading:function(a){var e,o,n=this,i=n._dataSource,r=n._lastLoadOptions;n.customizeStoreLoadOptions.fire(a),a.delay=this.option("loadingTimeout"),a.originalStoreLoadOptions=a.storeLoadOptions,a.remoteOperations=(0,d.extend)({},this.remoteOperations());var s=!n.isLoaded()&&!n._isRefreshing;if(n.option("integrationOptions.renderedOnServer")&&!n.isLoaded()&&(a.delay=void 0),o=t(e=(0,d.extend)({pageIndex:n.pageIndex()},a.storeLoadOptions),r),n._customizeRemoteOperations(a,s,o),!a.isCustomLoading){var u=n._isRefreshing;a.pageIndex=i.pageIndex(),a.lastLoadOptions=e,a.operationTypes=o,n._loadingOperationTypes=o,n._isRefreshing=!0,(0,g.when)(u||n._isRefreshed||n.refresh(a,s,o)).done(function(){n._lastOperationId===a.operationId&&(n._isRefreshed=!0,n.load().always(function(){n._isRefreshed=!1}))}).fail(function(){i.cancel(a.operationId)}).always(function(){n._isRefreshing=!1}),i.cancel(n._lastOperationId),n._lastOperationId=a.operationId,n._isRefreshing&&i.cancel(n._lastOperationId)}this._handleDataLoadingCore(a)},_handleDataLoadingCore:function(a){var e=a.remoteOperations;a.loadOptions={};var t=a.cachedPagesData.extra,o={filter:!e.filtering,sort:!e.sorting,group:!e.grouping,summary:!e.summary,skip:!e.paging,take:!e.paging,requireTotalCount:t&&"totalCount"in t||!e.paging};(0,s.each)(a.storeLoadOptions,function(e,t){o[e]&&(a.loadOptions[e]=t,delete a.storeLoadOptions[e])}),t&&(a.extra=t),a.data=i(a)||a.cachedStoreData},_handleDataLoaded:function(e){var t=this,n=e.loadOptions,s=e.remoteOperations&&!e.remoteOperations.paging,u=e.cachedPagesData,c=e.storeLoadOptions,l=!1!==this.option("cacheEnabled")&&c,p=l&&!e.isCustomLoading&&u&&(!s||c.group)&&!this.option("legacyRendering"),f=l&&s,_=f&&!e.isCustomLoading;if(n){e.lastLoadOptions&&(this._lastLoadOptions=e.lastLoadOptions,Object.keys(e.operationTypes).forEach(function(a){t._lastOperationTypes[a]=t._lastOperationTypes[a]||e.operationTypes[a]})),s&&(e.skip=n.skip,e.take=n.take,delete n.skip,delete n.take),n.group&&(n.group=e.group||n.group);var C=o.default.normalizeSortingInfo(c.group||n.group).length;p&&i(e)||(f&&e.cachedPagingData?e.data=a(e.cachedPagingData,C):(_&&(this._cachedStoreData?e.mergeStoreLoadData&&(e.data=this._cachedStoreData=this._cachedStoreData.concat(e.data)):this._cachedStoreData=a(e.data,o.default.normalizeSortingInfo(c.group).length)),new h.default(e.data).load(n).done(function(o){e.data=o,_&&(t._cachedPagingData=a(e.data,C))}).fail(function(a){e.data=(new g.Deferred).reject(a)})),n.requireTotalCount&&s&&(e.extra=r.default.isPlainObject(e.extra)?e.extra:{},e.extra.totalCount=e.data.length),e.extra&&e.extra.totalCount>=0&&(!1===c.requireTotalCount||!1===n.requireTotalCount)&&(e.extra.totalCount=-1),this._handleDataLoadedCore(e),p&&(u.extra=u.extra||(0,d.extend)({},e.extra),(0,g.when)(e.data).done(function(t){!function(a,e){var t=a.pageIndex;void 0!==t&&(a.cachedPagesData.pages[t]=e)}(e,a(t,C))}))),e.storeLoadOptions=e.originalStoreLoadOptions}else this._dataSource.cancel(e.operationId)},_handleDataLoadedCore:function(a){a.remoteOperations&&!a.remoteOperations.paging&&Array.isArray(a.data)&&(void 0!==a.skip&&(a.data=a.data.slice(a.skip)),void 0!==a.take&&(a.data=a.data.slice(0,a.take)))},_handleLoadingChanged:function(a){this.loadingChanged.fire(a)},_handleLoadError:function(a){this.loadError.fire(a),this.changed.fire({changeType:"loadError",error:a})},_handleDataChanged:function(a){var e,t=this._dataSource,o=!1,n=this.itemsCount();this._isLastPage=!n||!this.pageSize()||n<this.pageSize(),this._isLastPage&&(this._hasLastPage=!0),t.totalCount()>=0?t.pageIndex()>=this.pageCount()&&(t.pageIndex(this.pageCount()-1),this.pageIndex(t.pageIndex()),this.resetPagesCache(),t.load(),o=!0):(e=t.pageIndex()*this.pageSize()+n,this._currentTotalCount=Math.max(this._currentTotalCount,e),0===n&&t.pageIndex()>=this.pageCount()&&(t.pageIndex(this.pageCount()-1),"infinite"!==this.option("scrolling.mode")&&(t.load(),o=!0))),o||(this._operationTypes=this._lastOperationTypes,this._lastOperationTypes={},this.component._optionCache={},this.changed.fire(a),this.component._optionCache=void 0)},_scheduleCustomLoadCallbacks:function(a){var e=this;e._isCustomLoading=!0,a.always(function(){e._isCustomLoading=!1})},loadingOperationTypes:function(){return this._loadingOperationTypes},operationTypes:function(){return this._operationTypes},isLastPage:function(){return this._isLastPage},totalCount:function(){return parseInt(this._currentTotalCount||this._dataSource.totalCount())},itemsCount:function(){return this._dataSource.items().length},totalItemsCount:function(){return this.totalCount()},pageSize:function(){var a=this._dataSource;return arguments.length||a.paginate()?a.pageSize.apply(a,arguments):0},pageCount:function(){var a=this.totalItemsCount(),e=this.pageSize();return e&&a>0?Math.max(1,Math.ceil(a/e)):1},hasKnownLastPage:function(){return this._hasLastPage||this._dataSource.totalCount()>=0},loadFromStore:function(a){var e=this._dataSource,t=new g.Deferred;if(e)return e.store().load(a).done(function(a,e){a&&!Array.isArray(a)&&Array.isArray(a.data)&&(e=a,a=a.data),t.resolve(a,e)}).fail(t.reject),t},isCustomLoading:function(){return!!this._isCustomLoading},load:function(a){var e,t,o,i,d,u=this,h=u._dataSource,c=new g.Deferred;return a?(e=h.store(),o=h.loadOptions(),t={storeLoadOptions:a,isCustomLoading:!0},(0,s.each)(e._customLoadOptions()||[],function(a,e){e in t.storeLoadOptions||(t.storeLoadOptions[e]=o[e])}),u._scheduleCustomLoadCallbacks(c),h._scheduleLoadCallbacks(c),u._handleDataLoading(t),i=function(){if(!h.store())return c.reject("canceled");(0,g.when)(t.data||u.loadFromStore(t.storeLoadOptions)).done(function(o,n){t.data=o,t.extra=n||{},u._handleDataLoaded(t),a.requireTotalCount&&void 0===t.extra.totalCount&&(t.extra.totalCount=e.totalCount(t.storeLoadOptions)),(0,g.when)(t.data,t.extra.totalCount).done(function(a,e){t.extra.totalCount=e,c.resolve(a,t.extra)}).fail(c.reject)}).fail(c.reject)},d=u.option("loadingTimeout"),r.default.isDefined(d)?(0,n.executeAsync)(i,d):i(),c.fail(function(){u.fireEvent("loadError",arguments)}).promise()):h.load()},reload:function(a){return a?this._dataSource.reload():this._dataSource.load()},getCachedStoreData:function(){return this._cachedStoreData}}}());
},{"../../core/utils/callbacks":"gtoU","../data_grid/ui.data_grid.core":"aFu5","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/iterator":"FHcO","../../core/utils/extend":"ac8T","../../data/array_store":"DvKp","../../data/array_utils":"JUgy","../../core/utils/deferred":"g5TB"}],"OZ2D":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),t=N(e),r=require("../widget/ui.errors"),i=N(r),n=require("../../core/utils/common"),o=require("../../core/utils/type"),a=N(o),s=require("../../core/utils/iterator"),d=require("../../core/utils/data"),l=N(d),h=require("../../core/utils/extend"),u=require("../grid_core/ui.grid_core.utils"),c=N(u),f=require("../../data/array_store"),p=N(f),_=require("../../data/query"),y=N(_),g=require("../grid_core/ui.grid_core.data_source_adapter"),v=N(g),I=require("../../core/utils/deferred"),m=require("../../data/store_helper");function N(e){return e&&e.__esModule?e:{default:e}}var x="id",O=function(e){return"fullBranch"===e.option("filterMode")},k=v.default.inherit({_createKeyGetter:function(){var e=this.getKeyExpr();return l.default.compileGetter(e)},_createKeySetter:function(){var e=this.getKeyExpr();return a.default.isFunction(e)?e:l.default.compileSetter(e)},_createParentIdGetter:function(){return l.default.compileGetter(this.option("parentIdExpr"))},createParentIdSetter:function(){var e=this.option("parentIdExpr");return a.default.isFunction(e)?e:l.default.compileSetter(e)},_createItemsGetter:function(){return l.default.compileGetter(this.option("itemsExpr"))},_createHasItemsGetter:function(){var e=this.option("hasItemsExpr");return e&&l.default.compileGetter(e)},_createHasItemsSetter:function(){var e=this.option("hasItemsExpr");return a.default.isFunction(e)?e:e&&l.default.compileSetter(e)},_updateIndexByKeyObject:function(e){var t=this;t._indexByKey={},(0,s.each)(e,function(e,r){t._indexByKey[r.key]=e})},_calculateHasItems:function(e,t){var r,i=t.storeLoadOptions.parentIds,n=O(this);return this._hasItemsGetter&&(i||!t.storeLoadOptions.filter||n)&&(r=this._hasItemsGetter(e.data)),void 0===r&&(r=!(this._isChildrenLoaded[e.key]||!t.remoteOperations.filtering||!i&&!n)||(t.loadOptions.filter&&!t.remoteOperations.filtering&&n?e.children.length:e.hasChildren)),!!r},_createVisibleItemsByNodes:function(e,t){for(var r=[],i=0;i<e.length;i++)e[i].visible&&r.push(e[i]),(this.isRowExpanded(e[i].key,t)||!e[i].visible)&&e[i].hasChildren&&e[i].children.length&&(r=r.concat(this._createVisibleItemsByNodes(e[i].children,t)));return r},_convertItemToNode:function(e,t,r){var i,n,o=this._keyGetter(e),s=this._parentIdGetter(e);return i=r[s=a.default.isDefined(s)?s:t]=r[s]||{key:s,children:[]},(n=r[o]=r[o]||{key:o,children:[]}).data=e,n.parent=i,n},_createNodesByItems:function(e,t){var r,i=this.option("rootValue"),n={},o=this._nodeByKey={};if(t)for(r=0;r<t.length;r++)n[this._keyGetter(t[r])]=!0;for(r=0;r<e.length;r++){var a=this._convertItemToNode(e[r],i,o);if(void 0===a.key)return;a.visible=!t||!!n[a.key],a.parent&&a.parent.children.push(a)}var s=o[i]||{key:i,children:[]};return s.level=-1,s},_convertDataToPlainStructure:function(e,t,r){var i,n,o,s;if(this._itemsGetter&&!e.isConverted){r=r||[];for(var d=0;d<e.length;d++)n=c.default.createObjectWithChanges(e[d]),void 0===(i=this._keyGetter(n))&&(i=r.length+1,this._keySetter(n,i)),this._parentIdSetter(n,void 0===t?this.option("rootValue"):t),r.push(n),(s=this._itemsGetter(n))&&s.length&&(this._convertDataToPlainStructure(s,i,r),o=this.option("itemsExpr"),a.default.isFunction(o)||delete n[o]);return r.isConverted=!0,r}return e},_createIdFilter:function(e,t){for(var r=[],i=0;i<t.length;i++)r.push([e,"=",t[i]]);return c.default.combineFilters(r,"or")},_customizeRemoteOperations:function(e,t,r){this.callBase.apply(this,arguments),e.remoteOperations.paging=!1;var i=!1;this.option("autoExpandAll")&&(e.remoteOperations.sorting=!1,e.remoteOperations.filtering=!1,this._lastLoadOptions&&(!r.filtering||e.storeLoadOptions.filter)||e.isCustomLoading||(i=!0)),e.isCustomLoading||(this._isReload=this._isReload||t||r.reload,e.cachedStoreData||(this._isChildrenLoaded={}),this.option("expandNodesOnFiltering")&&(r.filtering||this._isReload&&e.storeLoadOptions.filter)&&(e.storeLoadOptions.filter?i=!0:e.collapseVisibleNodes=!0)),e.expandVisibleNodes=i},_getParentIdsToLoad:function(e){for(var t=[],r=0;r<e.length;r++){var i=this.getNodeByKey(e[r]);(!i||i.hasChildren&&!i.children.length)&&t.push(e[r])}return t},_handleDataLoading:function(e){var t,r,i=this.option("rootValue"),n=this.option("parentIdExpr"),o=e.storeLoadOptions.parentIds;o&&(e.isCustomLoading=!1),this.callBase.apply(this,arguments),e.remoteOperations.filtering&&!e.isCustomLoading&&(O(this)&&e.cachedStoreData||!e.storeLoadOptions.filter)&&(r=e.collapseVisibleNodes?[]:this.option("expandedRowKeys"),o=[i].concat(r).concat(o||[]),(t=e.data?this._getParentIdsToLoad(o):o).length&&(e.cachedPagingData=void 0,e.data=void 0,e.mergeStoreLoadData=!0),e.storeLoadOptions.parentIds=t,e.storeLoadOptions.filter=this._createIdFilter(n,t))},_generateInfoToLoad:function(e,t){var r,i,n,o={},a={},s=[],d=this.option("rootValue");for(n=0;n<e.length;n++)o[r=t?this._parentIdGetter(e[n]):this._keyGetter(e[n])]=!0;for(n=0;n<e.length;n++)r=t?this._keyGetter(e[n]):this._parentIdGetter(e[n]),i=t?this.isRowExpanded(r):r!==d,o[r]||a[r]||!i||(a[r]=!0,s.push(r));return{keyMap:a,keys:s}},_loadParentsOrChildren:function(e,t,r){var i,n,o,a=this,s=this,d=s._generateInfoToLoad(e,r),l=d.keys,u=d.keyMap,c=new I.Deferred,f=t.remoteOperations.filtering,_=s.option("maxFilterLengthInRequest"),g=f?t.storeLoadOptions:t.loadOptions;function v(t){return f&&(s._cachedStoreData=s._cachedStoreData.concat(t)),e.concat(t)}if(!l.length)return c.resolve(e);var m=l.map(function(e){return a.getNodeByKey(e)}).filter(function(e){return e&&e.data});return m.length===l.length&&(r&&(m=m.reduce(function(e,t){return e.concat(t.children)},[])),m.length)?s._loadParentsOrChildren(v(m.map(function(e){return e.data})),t,r):(n=r?s.option("parentIdExpr"):s.getKeyExpr(),i=s._createIdFilter(n,l),encodeURI(JSON.stringify(i)).length>_&&(i=function(e){return u[s._keyGetter(e)]},o=f),g=(0,h.extend)({},g,{filter:o?null:i}),(t.fullData?new p.default(t.fullData):s._dataSource.store()).load(g).done(function(n){n.length?(o&&(n=(0,y.default)(n).filter(i).toArray()),s._loadParentsOrChildren(v(n),t,r).done(c.resolve).fail(c.reject)):c.resolve(e)}).fail(c.reject),c)},_loadParents:function(e,t){return this._loadParentsOrChildren(e,t)},_loadChildrenIfNeed:function(e,t){return O(this)?this._loadParentsOrChildren(e,t,!0):(0,I.when)(e)},_updateHasItemsMap:function(e){var t=e.storeLoadOptions.parentIds;if(t)for(var r=0;r<t.length;r++)this._isChildrenLoaded[t[r]]=!0},_getKeyInfo:function(){return{key:function(){return"key"},keyOf:function(e){return e.key}}},_applyBatch:function(e){var t=this,r=[];e.forEach(function(e){"insert"===e.type?r=r.concat(t._applyInsert(e)):"remove"===e.type?r=r.concat(t._applyRemove(e)):"update"===e.type&&r.push({type:e.type,key:e.key,data:{data:e.data}})}),this.callBase(r)},_setHasItems:function(e,t){var r=this._hasItemsSetter;e.hasChildren=t,r&&e.data&&r(e.data,t)},_applyInsert:function(e){var t=[],r=this.parentKeyOf(e.data),i=this.getNodeByKey(r);if(i){var n=this.option("rootValue"),o=this._convertItemToNode(e.data,n,this._nodeByKey);if(o.hasChildren=!1,o.level=i.level+1,o.visible=!0,i.children.push(o),this._isChildrenLoaded[o.key]=!0,this._setHasItems(i,!0),(!i.parent||this.isRowExpanded(i.key))&&void 0!==e.index){var a=this.items().indexOf(i)+1;a+=e.index>=0?Math.min(e.index,i.children.length):i.children.length,t.push({type:e.type,data:o,index:a})}}return t},_applyRemove:function(e){var t=[],r=this.getNodeByKey(e.key),i=r&&r.parent;if(i){var n=i.children.indexOf(r);n>=0&&(i.children.splice(n,1),i.children.length||this._setHasItems(i,!1),t.push(e),t=t.concat(this.getChildNodeKeys(e.key).map(function(t){return{type:e.type,key:t}})))}return t},_handleDataLoaded:function(e){var t=e.data=this._convertDataToPlainStructure(e.data);!e.remoteOperations.filtering&&e.loadOptions.filter&&(e.fullData=(0,m.queryByOptions)((0,y.default)(e.data),{sort:e.loadOptions&&e.loadOptions.sort}).toArray()),this._updateHasItemsMap(e),this.callBase(e),t.isConverted&&this._cachedStoreData&&(this._cachedStoreData.isConverted=!0)},_fillNodes:function(e,r,i,n){var o=O(this);n=n||0;for(var a=0;a<e.length;a++){var s=e[a],d=!1;this._fillNodes(e[a].children,r,i,n+1),s.level=n,s.hasChildren=this._calculateHasItems(s,r),s.visible&&s.hasChildren&&(o?s.children.filter(function(e){return e.visible}).length?d=!0:s.children.length&&t.default.foreachNodes(s.children,function(e){e.visible=!0}):d=!0,r.expandVisibleNodes&&d&&i.push(s.key)),(s.visible||s.hasChildren)&&(s.parent.hasChildren=!0)}},_processTreeStructure:function(e,t){var r=e.data,n=e.storeLoadOptions.parentIds,o=[];if(n&&n.length||this._isReload){if(e.fullData&&e.fullData.length>e.data.length&&(r=e.fullData,t=t||e.data),this._rootNode=this._createNodesByItems(r,t),!this._rootNode)return void(e.data=(new I.Deferred).reject(i.default.Error("E1046",this.getKeyExpr())));this._fillNodes(this._rootNode.children,e,o),this._isNodesInitializing=!0,(e.collapseVisibleNodes||o.length)&&this.option("expandedRowKeys",o),this.executeAction("onNodesInitialized",{root:this._rootNode}),this._isNodesInitializing=!1,this._isReload=!1}r=this._createVisibleItemsByNodes(this._rootNode.children,e),e.data=r,this._totalItemsCount=r.length},_handleDataLoadedCore:function(e){var t,r=this,i=e.data,n=r.callBase,o=e.storeLoadOptions.filter||e.loadOptions.filter,a=r.option("filterMode"),s=e.storeLoadOptions.parentIds,d=o&&(!s||!s.length)&&"standard"!==a;if(!e.isCustomLoading){if(d){var l=e.data=new I.Deferred;return"matchOnly"===a&&(t=i),r._loadParents(i,e).done(function(i){r._loadChildrenIfNeed(i,e).done(function(i){e.data=i,r._processTreeStructure(e,t),n.call(r,e),l.resolve(e.data)})}).fail(l.reject)}r._processTreeStructure(e)}r.callBase(e)},_handlePush:function(e){this._dataSource._reshapeOnPush&&!!e.length&&(this._isReload=!0),this.callBase.apply(this,arguments)},init:function(e,t){this.callBase.apply(this,arguments);var r=this.option("dataStructure");this._keyGetter=this._createKeyGetter(),this._parentIdGetter=this._createParentIdGetter(),this._hasItemsGetter=this._createHasItemsGetter(),this._hasItemsSetter=this._createHasItemsSetter(),"tree"===r&&(this._itemsGetter=this._createItemsGetter(),this._keySetter=this._createKeySetter(),this._parentIdSetter=this.createParentIdSetter()),this._nodeByKey={},this._isChildrenLoaded={},this._totalItemsCount=0,this.createAction("onNodesInitialized")},getKeyExpr:function(){var e=this.store(),t=e&&e.key(),r=this.option("keyExpr");if(a.default.isDefined(t)&&a.default.isDefined(r)&&!(0,n.equalByValue)(t,r))throw i.default.Error("E1044");return t||r||x},keyOf:function(e){return this._keyGetter&&this._keyGetter(e)},parentKeyOf:function(e){return this._parentIdGetter&&this._parentIdGetter(e)},getRootNode:function(){return this._rootNode},totalItemsCount:function(){return this._totalItemsCount},isRowExpanded:function(e,t){if(t){var r=t.isExpandedByKey;return r||(r=t.isExpandedByKey={},this.option("expandedRowKeys").forEach(function(e){r[e]=!0})),!!r[e]}return c.default.getIndexByKey(e,this.option("expandedRowKeys"),null)>=0},_changeRowExpandCore:function(e){var t=this.option("expandedRowKeys"),r=c.default.getIndexByKey(e,t,null);r<0?t.push(e):t.splice(r,1),this.option("expandedRowKeys",t)},changeRowExpand:function(e){return this._changeRowExpandCore(e),this._isNodesInitializing?(new I.Deferred).resolve():this.load()},getNodeByKey:function(e){if(this._nodeByKey)return this._nodeByKey[e]},getNodeLeafKeys:function(){var e,r=this,i=[];return(r._rootNode?[r._rootNode.key]:[]).forEach(function(n){(e=r.getNodeByKey(n))&&t.default.foreachNodes([e],function(e){!e.children.length&&i.push(e.key)})}),i},getChildNodeKeys:function(e){var r=this.getNodeByKey(e),i=[];return r&&t.default.foreachNodes(r.children,function(e){i.push(e.key)}),i},loadDescendants:function(e,t){var r,i=this,n=new I.Deferred,o=i.remoteOperations();return e=a.default.isDefined(e)?Array.isArray(e)?e:[e]:i.getNodeLeafKeys(),o.filtering&&e.length?((r=i._dataSource._createStoreLoadOptions()).parentIds=e,i.load(r).done(function(){if(!t){var r=function(e,t){var r=[];return t.forEach(function(t){var i=e.getNodeByKey(t);i&&i.children.forEach(function(e){r.push(e.key)})}),r}(i,e);if(r.length)return void i.loadDescendants(r,t).done(n.resolve).fail(n.reject)}n.resolve()}).fail(n.reject),n.promise()):n.resolve()},forEachNode:function(){var e,r,i=[];1===arguments.length?(e=arguments[0],i=(r=this.getRootNode())&&r.children||[]):2===arguments.length&&(e=arguments[1],i=arguments[0],i=Array.isArray(i)?i:[i]),t.default.foreachNodes(i,e)}});module.exports={extend:function(e){k=k.inherit(e)},create:function(e){return new k(e)}};
},{"./ui.tree_list.core":"O4Kv","../widget/ui.errors":"RFsS","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/iterator":"FHcO","../../core/utils/data":"YLhW","../../core/utils/extend":"ac8T","../grid_core/ui.grid_core.utils":"kk68","../../data/array_store":"DvKp","../../data/query":"TnO4","../grid_core/ui.grid_core.data_source_adapter":"irsi","../../core/utils/deferred":"g5TB","../../data/store_helper":"RUOb"}],"srCI":[function(require,module,exports) {
"use strict";var a=require("./data/data_source/data_source").DataSource,e=require("./core/utils/extend").extend,t=require("./data/data_source/data_source").normalizeDataSourceOptions,r="_dataSourceOptions",d="_dataSourceChangedHandler",o="_dataSourceLoadErrorHandler",i="_dataSourceLoadingChangedHandler",n="_dataSourceFromUrlLoadMode",s="_getSpecificDataSourceOption",h={postCtor:function(){this.on("disposing",function(){this._disposeDataSource()}.bind(this))},_refreshDataSource:function(){this._initDataSource(),this._loadDataSource()},_initDataSource:function(){var d,o,i=s in this?this[s]():this.option("dataSource");this._disposeDataSource(),i&&(i instanceof a?(this._isSharedDataSource=!0,this._dataSource=i):(d=r in this?this[r]():{},o=this._dataSourceType?this._dataSourceType():a,i=t(i,{fromUrlLoadMode:n in this&&this[n]()}),this._dataSource=new o(e(!0,{},d,i))),this._addDataSourceHandlers())},_addDataSourceHandlers:function(){d in this&&this._addDataSourceChangeHandler(),o in this&&this._addDataSourceLoadErrorHandler(),i in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher:function(){this._dataSource.on("loadingChanged",function(a){this._ready&&this._ready(!a)}.bind(this))},_addDataSourceChangeHandler:function(){var a=this._dataSource;this._proxiedDataSourceChangedHandler=function(e){this[d](a.items(),e)}.bind(this),a.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler:function(){this._proxiedDataSourceLoadErrorHandler=this[o].bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler:function(){this._proxiedDataSourceLoadingChangedHandler=this[i].bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource:function(){if(this._dataSource){var a=this._dataSource;a.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():a.load()}},_loadSingle:function(a,e){return a="this"===a?this._dataSource.key()||"this":a,this._dataSource.loadSingle(a,e)},_isLastPage:function(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading:function(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource:function(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)},getDataSource:function(){return this._dataSource||null}};module.exports=h;
},{"./data/data_source/data_source":"SIr7","./core/utils/extend":"ac8T"}],"eDzl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.findChanges=void 0;var e=require("./type"),r=function(r,t){var n=t(r);if((0,e.isObject)(n))try{return JSON.stringify(n)}catch(i){return n}return n},t=function(e,t,n,i){return t[n[r(e,i)]]},n=exports.findChanges=function(e,n,i,a){var u={},o={},f=0,s=0,d=[];e.forEach(function(e,t){var n=r(e,i);u[n]=t}),n.forEach(function(e,t){var n=r(e,i);o[n]=t});for(var c=Math.max(e.length,n.length),p=0;p<c+f;p++){var h=n[p],v=p-f+s,y=e[v];if(!h||y&&!t(y,n,o,i))y&&(d.push({type:"remove",key:i(y),index:p,oldItem:y}),s++,p--);else{var l=r(h,i),x=u[l],g=e[x];if(g){if(x!==v)return;a(g,h)||d.push({type:"update",data:h,key:i(h),index:p,oldItem:g})}else f++,d.push({type:"insert",data:h,index:p})}}return d};
},{"./type":"Mw4w"}],"IFpg":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=S(e),a=require("./ui.grid_core.modules"),n=S(a),i=require("./ui.grid_core.utils"),r=S(i),o=require("../../data/array_store"),s=S(o),l=require("../../data/custom_store"),d=S(l),u=require("../widget/ui.errors"),c=S(u),h=require("../../core/utils/common"),g=require("../../core/utils/iterator"),p=require("../../core/utils/type"),f=S(p),_=require("../../core/utils/extend"),m=require("../../data_helper"),y=S(m),C=require("../../core/utils/deferred"),v=require("../../core/utils/array_compare");function S(e){return e&&e.__esModule?e:{default:e}}module.exports={defaultOptions:function(){return{loadingTimeout:0,dataSource:null,cacheEnabled:!0,repaintChangesOnly:!1,highlightChanges:!1,onDataErrorOccurred:null,remoteOperations:"auto",paging:{enabled:!0,pageSize:void 0,pageIndex:void 0}}},controllers:{data:n.default.Controller.inherit({}).include(y.default).inherit(function(){var e=function(e,t,a){var n=e._dataSource;return n?void 0!==a?n[t]()!==a?("pageSize"===t&&n.pageIndex(0),n[t](a),e._skipProcessingPagingChange=!0,e.option("paging."+t,a),e._skipProcessingPagingChange=!1,n["pageIndex"===t?"load":"reload"]().done(e.pageChanged.fire.bind(e.pageChanged))):(0,C.Deferred)().resolve().promise():n[t]():0},a={init:function(){var e=this;e._items=[],e._columnsController=e.getController("columns"),e._columnsChangedHandler=e._handleColumnsChanged.bind(e),e._dataChangedHandler=e._handleDataChanged.bind(e),e._loadingChangedHandler=e._handleLoadingChanged.bind(e),e._loadErrorHandler=e._handleLoadError.bind(e),e._customizeStoreLoadOptionsHandler=e._handleCustomizeStoreLoadOptions.bind(e),e._changingHandler=e._handleChanging.bind(e),e._columnsController.columnsChanged.add(e._columnsChangedHandler),e._isLoading=!1,e._isCustomLoading=!1,e._repaintChangesOnly=void 0,e._changes=[],e.createAction("onDataErrorOccurred"),e.dataErrorOccurred.add(function(t){return e.executeAction("onDataErrorOccurred",{error:t})}),e._refreshDataSource()},callbackNames:function(){return["changed","loadingChanged","dataErrorOccurred","pageChanged","dataSourceChanged"]},callbackFlags:function(e){if("dataErrorOccurred"===e)return{stopOnFalse:!0}},publicMethods:function(){return["beginCustomLoading","endCustomLoading","refresh","filter","clearFilter","getCombinedFilter","keyOf","byKey","getDataByKeys","pageIndex","pageSize","pageCount","totalCount","_disposeDataSource","getKeyByRowIndex","getRowIndexByKey","getDataSource","getVisibleRows","repaintRows"]},reset:function(){this._columnsController.reset(),this._items=[],this._refreshDataSource()},optionChanged:function(e){var t;function a(){e.handled=!0}if("dataSource"===e.name&&e.name===e.fullName&&(e.value===e.previousValue||this.option("columns")&&Array.isArray(e.value)&&Array.isArray(e.previousValue))){if(e.value!==e.previousValue){var n=this.store();n&&(n._array=e.value)}return a(),void this.refresh(this.option("repaintChangesOnly"))}switch(e.name){case"cacheEnabled":case"repaintChangesOnly":case"highlightChanges":case"loadingTimeout":case"remoteOperations":a();break;case"keyExpr":case"dataSource":case"scrolling":a(),this.skipProcessingPagingChange(e.fullName)||this.reset();break;case"paging":(t=this.dataSource())&&this._setPagingOptions(t)&&t.load().done(this.pageChanged.fire.bind(this.pageChanged)),a();break;case"rtlEnabled":this.reset();break;case"columns":(t=this.dataSource())&&t.isLoading()&&e.name===e.fullName&&t.load();break;default:this.callBase(e)}},isReady:function(){return!this._isLoading},getDataSource:function(){return this._dataSource&&this._dataSource._dataSource},getCombinedFilter:function(e){return this.combinedFilter(void 0,e)},combinedFilter:function(e,t){var a,n=this._dataSource,i=this._columnsController;return n&&(void 0===e&&(e=n.filter()),(a=this._calculateAdditionalFilter())&&(i.isDataSourceApplied()||i.isAllDataTypesDefined())&&(e=r.default.combineFilters([a,e])),e=i.updateFilter(e,t||n.remoteOperations().filtering)),e},waitReady:function(){return this._updateLockCount?(this._readyDeferred=new C.Deferred,this._readyDeferred):(0,C.when)()},_endUpdateCore:function(){var e=this._changes;if(e.length){this._changes=[];var t=e.every(function(e){return e.repaintChangesOnly});this.updateItems(1===e.length?e[0]:{repaintChangesOnly:t})}this._readyDeferred&&(this._readyDeferred.resolve(),this._readyDeferred=null)},_handleCustomizeStoreLoadOptions:function(e){var t=this._columnsController,a=this._dataSource,n=e.storeLoadOptions;e.isCustomLoading&&!n.isLoadingAll||(n.filter=this.combinedFilter(n.filter),t.isDataSourceApplied()||t.updateColumnDataTypes(a),this._columnsUpdating=!0,t.updateSortingGrouping(a,!this._isFirstLoading),this._columnsUpdating=!1,n.sort=t.getSortDataSourceParameters(),n.group=t.getGroupDataSourceParameters(),a.sort(n.sort),a.group(n.group),n.sort=t.getSortDataSourceParameters(!a.remoteOperations().sorting),e.group=t.getGroupDataSourceParameters(!a.remoteOperations().grouping))},_handleColumnsChanged:function(e){var t,a,n,i=this,o=e.changeTypes,s=e.optionNames;if(o.sorting||o.grouping)i._dataSource&&!i._columnsUpdating&&(i._dataSource.group(i._columnsController.getGroupDataSourceParameters()),i._dataSource.sort(i._columnsController.getSortDataSourceParameters()),i.reload());else if(o.columns&&((s.filterValues||s.filterValue||s.selectedFilterOperation)&&(t=i._columnsController.columnOption(e.columnIndex,"filterValue"),a=i._columnsController.columnOption(e.columnIndex,"filterValues"),(Array.isArray(a)||void 0===e.columnIndex||f.default.isDefined(t)||!s.selectedFilterOperation||s.filterValue)&&(i._applyFilter(),n=!0)),i._needApplyFilter||r.default.checkChanges(s,["width","visibleWidth","filterValue","bufferedFilterValue","selectedFilterOperation","filterValues","filterType"])||i._columnsController.columnsChanged.add(function e(){i._columnsController.columnsChanged.remove(e),i.updateItems()}),f.default.isDefined(s.visible))){var l=i._columnsController.columnOption(e.columnIndex);l&&(f.default.isDefined(l.filterValue)||f.default.isDefined(l.filterValues))&&(i._applyFilter(),n=!0)}!n&&o.filtering&&i.reload()},_handleDataChanged:function(e){var t=this,a=t._dataSource,n=t._columnsController,i=!1;this._isFirstLoading=!1,a&&!t._isDataSourceApplying&&(t._isDataSourceApplying=!0,(0,C.when)(t._columnsController.applyDataSource(a)).done(function(){t._isLoading&&t._handleLoadingChanged(!1),i&&e&&e.isDelayed&&(e.isDelayed=!1),t._isDataSourceApplying=!1;var a,n=t._needApplyFilter;t._needApplyFilter=!1,n&&!t._isAllDataTypesDefined&&((a=t._calculateAdditionalFilter())&&a.length)?(c.default.log("W1005",t.component.NAME),t._applyFilter()):t.updateItems(e,!0)}).fail(function(){t._isDataSourceApplying=!1}),t._isDataSourceApplying&&(i=!0,t._handleLoadingChanged(!0)),t._needApplyFilter=!t._columnsController.isDataSourceApplied(),t._isAllDataTypesDefined=n.isAllDataTypesDefined())},_handleLoadingChanged:function(e){this._isLoading=e,this._fireLoadingChanged()},_handleLoadError:function(e){this.dataErrorOccurred.fire(e)},fireError:function(){this.dataErrorOccurred.fire(c.default.Error.apply(c.default,arguments))},_setPagingOptions:function(e){var t=this.option("paging.pageIndex"),a=this.option("paging.pageSize"),n=this.option("paging.enabled"),i=this.option("scrolling.mode"),r="infinite"===i,o=n||"virtual"===i||r,s=!1;return e.requireTotalCount(!r),void 0!==n&&e.paginate()!==o&&(e.paginate(o),s=!0),void 0!==a&&e.pageSize()!==a&&(e.pageSize(a),s=!0),void 0!==t&&e.pageIndex()!==t&&(e.pageIndex(t),s=!0),s},_getSpecificDataSourceOption:function(){var e=this.option("dataSource");return Array.isArray(e)?{store:{type:"array",data:e,key:this.option("keyExpr")}}:e},_initDataSource:function(){var e=this.option("dataSource"),t=this._dataSource;this.callBase(),e=this._dataSource,this._isFirstLoading=!0,e?(this._setPagingOptions(e),this.setDataSource(e)):t&&this.updateItems()},_loadDataSource:function(){var e=this._dataSource,t=new C.Deferred;return(0,C.when)(this._columnsController.refresh(!0)).always(function(){e?e.load().done(t.resolve).fail(t.reject):t.resolve()}),t.promise()},_beforeProcessItems:function(e){return e.slice(0)},getRowIndexDelta:function(){return 0},_processItems:function(e,t){var a=this,n=a.getRowIndexDelta(),i=t.changeType,r=a._columnsController.getVisibleColumns(null,"loadingAll"===i),o=a._items,s={visibleColumns:r,dataIndex:"append"===i&&o.length>0?o[o.length-1].dataIndex+1:0},l=[];return(0,g.each)(e,function(e,t){f.default.isDefined(t)&&(s.rowIndex=e-n,t=a._processItem(t,s),l.push(t))}),l},_processItem:function(e,t){return e=this._generateDataItem(e,t),(e=this._processDataItem(e,t)).dataIndex=t.dataIndex++,e},_generateDataItem:function(e){return{rowType:"data",data:e,key:this.keyOf(e)}},_processDataItem:function(e,t){return e.values=this.generateDataValues(e.data,t.visibleColumns),e},generateDataValues:function(e,t,a){for(var n,i,r=[],o=0;o<t.length;o++)i=a?void 0:null,(n=t[o]).command||(n.calculateCellValue?i=n.calculateCellValue(e):n.dataField&&(i=e[n.dataField])),r.push(i);return r},_applyChange:function(e){"update"===e.changeType?this._applyChangeUpdate(e):this.items().length&&e.repaintChangesOnly&&"refresh"===e.changeType?this._applyChangesOnly(e):"refresh"===e.changeType&&this._applyChangeFull(e)},_applyChangeFull:function(e){this._items=e.items.slice(0)},_getRowIndices:function(e){var t=e.rowIndices.slice(0),a=this.getRowIndexDelta();t.sort(function(e,t){return e-t});for(var n=0;n<t.length;n++){var i=t[n];e.allowInvisibleRowIndices&&(i+=a),i<0&&(t.splice(n,1),n--)}return t},_applyChangeUpdate:function(e){var t,a=this,n=e.items,i=a._getRowIndices(e),r=a.getRowIndexDelta(),o=a.option("repaintChangesOnly"),s=-1,l=0;e.items=[],e.rowIndices=[],e.columnIndices=[],e.changeTypes=[];var d=function(e,t,a){var n=e&&t&&(0,h.equalByValue)(e.key,t.key);return n&&a&&(n=e.rowType===t.rowType&&("detail"!==t.rowType||e.isEditing===t.isEditing)),n};(0,g.each)(i,function(i,u){var c,h,g,p,f,_;if(s!==(u+=l+r)){if(s=u,c=a._items[u],g=a._items[u+1],h=n[u],p=n[u+1],f=d(c,g)||d(h,p),h&&(h.rowIndex=u,e.items.push(h)),c&&h&&d(c,h,f))t="update",a._items[u]=h,c.visible!==h.visible?e.items.splice(-1,1,{visible:h.visible}):o&&!e.isFullUpdate&&(h.cells=c.cells,_=a._getChangedColumnIndices(c,h,u-r));else if(h&&!c||p&&d(c,p,f))t="insert",a._items.splice(u,0,h),l++;else if(c&&!h||g&&d(h,g,f))t="remove",a._items.splice(u,1),l--,s=-1;else{if(!h)return;t="update",a._items[u]=h}e.rowIndices.push(u-r),e.changeTypes.push(t),e.columnIndices.push(_)}})},_isCellChanged:function(e,t,a,n,i){if(JSON.stringify(e.values[n])!==JSON.stringify(t.values[n]))return!0;function r(e,t){return!!e.modifiedValues&&void 0!==e.modifiedValues[t]}return r(e,n)!==r(t,n)},_getChangedColumnIndices:function(e,t,a,n){if(e.rowType===t.rowType&&"group"!==t.rowType&&"groupFooter"!==t.rowType){var i=[];if("detail"!==t.rowType)for(var r=0;r<e.values.length;r++)if(this._isCellChanged(e,t,a,r,n))i.push(r);else{var o=e.cells&&e.cells[r];o&&o.update&&o.update(t)}return e.update&&e.update(t),i}},_applyChangesOnly:function(e){var t=this,a=[],n=[],i=[],r=[],o={};function s(e){if(e)return e.rowType+","+JSON.stringify(e.key)}var l=this._items.slice();e.items.forEach(function(e,t){var a=s(e);o[a]=t,e.rowIndex=t});var d=(0,v.findChanges)(l,e.items,s,function(e,t){return JSON.stringify(e.values)===JSON.stringify(t.values)&&!["modified","isNewRow","removed","isEditing"].some(function(a){return e[a]!==t[a]})&&("group"!==e.rowType&&"groupFooter"!==e.rowType||e.isExpanded===t.isExpanded&&JSON.stringify(e.summaryCells)===JSON.stringify(t.summaryCells))&&(e.cells&&(e.update&&e.update(t),e.cells.forEach(function(e){e&&e.update&&e.update(t)})),!0)});d?(d.forEach(function(e){switch(e.type){case"update":var o=e.index,s=e.data,l=e.oldItem,d=t._getChangedColumnIndices(l,s,o,!0);a.push(o),i.push("update"),r.push(s),t._items[o]=s,s.cells=l.cells,s.oldValues=l.values,n.push(d);break;case"insert":a.push(e.index),i.push("insert"),r.push(e.data),n.push(void 0),t._items.splice(e.index,0,e.data);break;case"remove":a.push(e.index),i.push("remove"),t._items.splice(e.index,1),r.push(e.oldItem),n.push(void 0)}}),e.repaintChangesOnly=!0,e.changeType="update",e.rowIndices=a,e.columnIndices=n,e.changeTypes=i,e.items=r,l.length&&(e.isLiveUpdate=!0),this._correctRowIndices(function(e){var t=s(l[e]),a=o[t];return a>=0?a-e:0})):this._applyChangeFull(e)},_correctRowIndices:h.noop,_updateItemsCore:function(e){var t,a,n=this._dataSource,i=e.changeType||"refresh";e.changeType=i,n?(t=e.items||n.items(),t=this._beforeProcessItems(t),t=this._processItems(t,e),e.items=t,a=this._items.length===t.length&&this._items,this._applyChange(e),(0,g.each)(this._items,function(e,t){t.rowIndex=e,a&&(t.cells=a[e].cells||[])})):this._items=[]},_handleChanging:function(e){var t=this.getVisibleRows();this.dataSource()&&e.changes.forEach(function(e){if("insert"===e.type&&e.index>=0){for(var a,n=0,i=0;i<e.index;i++)!(a=t[i])||"data"!==a.rowType&&"group"!==a.rowType||n++;e.index=n}})},updateItems:function(e,t){e=e||{};if(void 0!==this._repaintChangesOnly)e.repaintChangesOnly=this._repaintChangesOnly;else if(e.changes)e.repaintChangesOnly=this.option("repaintChangesOnly");else if(t){var a=this.dataSource().operationTypes();e.repaintChangesOnly=a&&!a.grouping&&!a.filtering&&this.option("repaintChangesOnly"),e.isDataChanged=!0,a&&(a.reload||a.paging||a.groupExpanding)&&(e.needUpdateDimensions=!0)}this._updateLockCount?this._changes.push(e):(this._updateItemsCore(e),e.cancel||this._fireChanged(e))},loadingOperationTypes:function(){var e=this.dataSource();return e&&e.loadingOperationTypes()||{}},_fireChanged:function(e){var t=this;(0,h.deferRender)(function(){t.changed.fire(e)})},isLoading:function(){return this._isLoading||this._isCustomLoading},_fireLoadingChanged:function(){this.loadingChanged.fire(this.isLoading(),this._loadingText)},_calculateAdditionalFilter:function(){return null},_applyFilter:function(){var e=this._dataSource;if(e)return e.pageIndex(0),this.reload().done(this.pageChanged.fire.bind(this.pageChanged))},filter:function(e){var t=this._dataSource,a=t&&t.filter();if(0===arguments.length)return a;e=arguments.length>1?Array.prototype.slice.call(arguments,0):e,r.default.equalFilterParameters(a,e)||(t&&t.filter(e),this._applyFilter())},clearFilter:function(e){var t=this._columnsController,a=function(e){var a,n=t.columnCount();for(a=0;a<n;a++)t.columnOption(a,e,void 0)};if(this.component.beginUpdate(),arguments.length>0)switch(e){case"dataSource":this.filter(null);break;case"search":this.searchByText("");break;case"header":a("filterValues");break;case"row":a("filterValue")}else this.filter(null),this.searchByText(""),a("filterValue"),a("filterValues");this.component.endUpdate()},_fireDataSourceChanged:function(){var e=this;e.changed.add(function t(){e.changed.remove(t),e.dataSourceChanged.fire()})},_getDataSourceAdapter:h.noop,_createDataSourceAdapterCore:function(e,t){var a=this._getDataSourceAdapter().create(this.component);return a.init(e,t),a},isLocalStore:function(e){return(e=e||this.store())instanceof s.default},isCustomStore:function(e){return(e=e||this.store())instanceof d.default},_createDataSourceAdapter:function(e){var t=this.option("remoteOperations"),a=e.store(),n={filtering:!0,sorting:!0,paging:!0,grouping:!0,summary:!0};return t&&t.groupPaging&&(t=(0,_.extend)({},n,t)),"auto"===t&&(t=this.isLocalStore(a)||this.isCustomStore(a)?{}:{filtering:!0,sorting:!0,paging:!0}),!0===t&&(t=n),this._createDataSourceAdapterCore(e,t)},setDataSource:function(e){var t=this._dataSource;!e&&t&&(t.changed.remove(this._dataChangedHandler),t.loadingChanged.remove(this._loadingChangedHandler),t.loadError.remove(this._loadErrorHandler),t.customizeStoreLoadOptions.remove(this._customizeStoreLoadOptionsHandler),t.changing.remove(this._changingHandler),t.cancelAll(),t.dispose(this._isSharedDataSource)),e&&(e=this._createDataSourceAdapter(e)),this._dataSource=e,e&&(this._fireDataSourceChanged(),this._isLoading=!e.isLoaded(),this._needApplyFilter=!0,this._isAllDataTypesDefined=this._columnsController.isAllDataTypesDefined(),e.changed.add(this._dataChangedHandler),e.loadingChanged.add(this._loadingChangedHandler),e.loadError.add(this._loadErrorHandler),e.customizeStoreLoadOptions.add(this._customizeStoreLoadOptionsHandler),e.changing.add(this._changingHandler))},items:function(){return this._items},isEmpty:function(){return!this.items().length},pageCount:function(){return this._dataSource?this._dataSource.pageCount():1},dataSource:function(){return this._dataSource},store:function(){var e=this._dataSource;return e&&e.store()},loadAll:function(e){var t=this,a=new C.Deferred,n=t._dataSource;if(n)if(e){var i={data:e,isCustomLoading:!0,storeLoadOptions:{isLoadingAll:!0},loadOptions:{filter:t.getCombinedFilter(),group:n.group(),sort:n.sort()}};n._handleDataLoaded(i),(0,C.when)(i.data).done(function(e){e=t._beforeProcessItems(e),a.resolve(t._processItems(e,{changeType:"loadingAll"}),i.extra&&i.extra.summary)}).fail(a.reject)}else if(n.isLoading())a.reject();else{var r=(0,_.extend)({},n.loadOptions(),{isLoadingAll:!0,requireTotalCount:!1});n.load(r).done(function(e,n){e=t._beforeProcessItems(e),e=t._processItems(e,{changeType:"loadingAll"}),a.resolve(e,n&&n.summary)}).fail(a.reject)}else a.resolve([]);return a},getKeyByRowIndex:function(e){var t=this.items()[e];if(t)return t.key},getRowIndexByKey:function(e){return r.default.getIndexByKey(e,this.items())},keyOf:function(e){var t=this.store();if(t)return t.keyOf(e)},byKey:function(e){var t,a=this.store(),n=this.getRowIndexByKey(e);if(a)return n>=0&&(t=(new C.Deferred).resolve(this.items()[n].data)),t||a.byKey(e)},key:function(){var e=this.store();if(e)return e.key()},getRowIndexOffset:function(){return 0},getDataByKeys:function(e){var a=this,n=new C.Deferred,i=[],r=[];return(0,g.each)(e,function(e,t){i.push(a.byKey(t).done(function(t){r[e]=t}))}),C.when.apply(t.default,i).always(function(){n.resolve(r)}),n},pageIndex:function(t){return e(this,"pageIndex",t)},pageSize:function(t){return e(this,"pageSize",t)},beginCustomLoading:function(e){this._isCustomLoading=!0,this._loadingText=e||"",this._fireLoadingChanged()},endCustomLoading:function(){this._isCustomLoading=!1,this._loadingText=void 0,this._fireLoadingChanged()},refresh:function(e){!0===e?e={reload:!0,changesOnly:!0}:e||(e={lookup:!0,selection:!0,reload:!0});var t=this,a=t.getDataSource(),n=e.changesOnly,i=new C.Deferred,r=function(){t._repaintChangesOnly=!!n};return(0,C.when)(!e.lookup||t._columnsController.refresh()).always(function(){e.load||e.reload?(a&&a.on("customizeLoadResult",r),(0,C.when)(t.reload(e.reload,n)).always(function(){a&&a.off("customizeLoadResult",r),t._repaintChangesOnly=void 0}).done(i.resolve).fail(i.reject)):(t.updateItems({repaintChangesOnly:e.changesOnly}),i.resolve())}),i.promise()},getVisibleRows:function(){return this.items()},_disposeDataSource:function(){this.setDataSource(null)},dispose:function(){this._disposeDataSource(),this.callBase.apply(this,arguments)},repaintRows:function(e,t){((e=Array.isArray(e)?e:[e]).length>1||f.default.isDefined(e[0]))&&this.updateItems({changeType:"update",rowIndices:e,isFullUpdate:!t})},skipProcessingPagingChange:function(e){return this._skipProcessingPagingChange&&("paging.pageIndex"===e||"paging.pageSize"===e)},getUserState:function(){return{searchText:this.option("searchPanel.text"),pageIndex:this.pageIndex(),pageSize:this.pageSize()}},getCachedStoreData:function(){return this._dataSource&&this._dataSource.getCachedStoreData()}};return r.default.proxyMethod(a,"load"),r.default.proxyMethod(a,"reload"),r.default.proxyMethod(a,"push"),r.default.proxyMethod(a,"itemsCount",0),r.default.proxyMethod(a,"totalItemsCount",0),r.default.proxyMethod(a,"hasKnownLastPage",!0),r.default.proxyMethod(a,"isLoaded",!0),r.default.proxyMethod(a,"totalCount",0),a}())}};
},{"../../core/renderer":"qxFQ","./ui.grid_core.modules":"vXU0","./ui.grid_core.utils":"kk68","../../data/array_store":"DvKp","../../data/custom_store":"Ko0N","../widget/ui.errors":"RFsS","../../core/utils/common":"GcQA","../../core/utils/iterator":"FHcO","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","../../data_helper":"srCI","../../core/utils/deferred":"g5TB","../../core/utils/array_compare":"eDzl"}],"Atsw":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/extend"),t=require("../../core/utils/deferred"),a=require("./ui.tree_list.core"),o=u(a),n=require("../../core/utils/common"),r=require("./ui.tree_list.data_source_adapter"),i=u(r),d=require("../grid_core/ui.grid_core.data_controller"),s=u(d);function u(e){return e&&e.__esModule?e:{default:e}}exports.DataController=s.default.controllers.data.inherit({_getDataSourceAdapter:function(){return i.default},_getNodeLevel:function(e){for(var t=-1;e.parent;)e.visible&&t++,e=e.parent;return t},_generateDataItem:function(e,t){return{rowType:"data",node:e,key:e.key,data:e.data,isExpanded:this.isRowExpanded(e.key,t),level:this._getNodeLevel(e)}},_loadOnOptionChange:function(){this._dataSource.load()},init:function(){this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed"),this.callBase.apply(this,arguments)},keyOf:function(e){var t=this._dataSource;if(t)return t.keyOf(e)},key:function(){var e=this._dataSource;if(e)return e.getKeyExpr()},publicMethods:function(){return this.callBase().concat(["expandRow","collapseRow","isRowExpanded","getRootNode","getNodeByKey","loadDescendants","forEachNode"])},changeRowExpand:function(e){if(this._dataSource){var a=this,o={key:e},n=this.isRowExpanded(e);if(a.executeAction(n?"onRowCollapsing":"onRowExpanding",o),!o.cancel)return a._dataSource.changeRowExpand(e).done(function(){a.executeAction(n?"onRowCollapsed":"onRowExpanded",o)})}return(new t.Deferred).resolve()},isRowExpanded:function(e,t){return this._dataSource&&this._dataSource.isRowExpanded(e,t)},expandRow:function(e){return this.isRowExpanded(e)?(new t.Deferred).resolve():this.changeRowExpand(e)},collapseRow:function(e){return this.isRowExpanded(e)?this.changeRowExpand(e):(new t.Deferred).resolve()},getRootNode:function(){return this._dataSource&&this._dataSource.getRootNode()},optionChanged:function(e){switch(e.name){case"rootValue":case"parentIdExpr":case"itemsExpr":case"filterMode":case"expandNodesOnFiltering":case"autoExpandAll":case"hasItemsExpr":case"dataStructure":this._columnsController.reset(),this._items=[],this._refreshDataSource(),e.handled=!0;break;case"expandedRowKeys":case"onNodesInitialized":!this._dataSource||this._dataSource._isNodesInitializing||(0,n.equalByValue)(e.value,e.previousValue)||this._loadOnOptionChange(),e.handled=!0;break;case"maxFilterLengthInRequest":e.handled=!0;break;default:this.callBase(e)}},getNodeByKey:function(e){if(this._dataSource)return this._dataSource.getNodeByKey(e)},getChildNodeKeys:function(e){if(this._dataSource)return this._dataSource.getChildNodeKeys(e)},loadDescendants:function(e,t){if(this._dataSource)return this._dataSource.loadDescendants(e,t)},forEachNode:function(){this._dataSource.forEachNode.apply(this,arguments)}}),o.default.registerModule("data",{defaultOptions:function(){return(0,e.extend)({},s.default.defaultOptions(),{itemsExpr:"items",parentIdExpr:"parentId",rootValue:0,dataStructure:"plain",expandedRowKeys:[],filterMode:"withAncestors",expandNodesOnFiltering:!0,autoExpandAll:!1,onNodesInitialized:null,maxFilterLengthInRequest:1500,paging:{enabled:!1}})},controllers:{data:exports.DataController}});
},{"../../core/utils/extend":"ac8T","../../core/utils/deferred":"g5TB","./ui.tree_list.core":"O4Kv","../../core/utils/common":"GcQA","./ui.tree_list.data_source_adapter":"OZ2D","../grid_core/ui.grid_core.data_controller":"IFpg"}],"O7bE":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/type"),t=require("../../core/renderer"),r=n(t);function n(e){return e&&e.__esModule?e:{default:e}}var o="dx-sort",s="dx-sort-none",i="dx-sort-up",d="dx-sort-down",a="dx-sort-index",l="dx-sort-index-icon",c="action";module.exports={_applyColumnState:function(t){var n,s,u=this.option("sorting.mode"),g=t.rootElement,h=t.column,m=this._getIndicatorContainer(g);if("sort"===t.name){if(g.find("."+o).remove(),!m.children().length&&m.remove(),("single"===u||"multiple"===u)&&h.allowSorting||(0,e.isDefined)(h.sortOrder))n="asc"===h.sortOrder?"ascending":"descending",s=this.callBase(t).toggleClass(i,"asc"===h.sortOrder).toggleClass(d,"desc"===h.sortOrder),this.getController&&!!this.getController("columns").columnOption("sortIndex:1")&&this.option("sorting.showSortIndexes")&&h.sortIndex>=0&&((0,r.default)("<span>").addClass(l).text(h.sortIndex+1).appendTo(s),s.addClass(a)),t.rootElement.addClass(this.addWidgetPrefix(c));return(0,e.isDefined)(h.sortOrder)?this.setAria("sort",n,g):this.setAria("sort","none",g),s}return this.callBase(t)},_getIndicatorClassName:function(e){return"sort"===e?o:"sortIndex"===e?l:this.callBase(e)},_renderIndicator:function(t){var r,n=t.column,o=t.container,i=t.indicator;"sort"===t.name&&(r=this.option("rtlEnabled"),(0,e.isDefined)(n.sortOrder)||i&&i.addClass(s),o.children().length&&(!r&&"left"===t.columnAlignment||r&&"right"===t.columnAlignment))?o.prepend(i):this.callBase(t)},_updateIndicator:function(t,r,n){if("sort"!==n||!(0,e.isDefined)(r.groupIndex))return this.callBase.apply(this,arguments)},_getIndicatorElements:function(e,t){var r=this.callBase(e);return t?r:r&&r.not("."+s)}};
},{"../../core/utils/type":"Mw4w","../../core/renderer":"qxFQ"}],"UxFn":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=g(e),n=require("../../events/core/events_engine"),r=g(n),a=require("../../events/click"),i=g(a),o=require("../../core/utils/type"),l=require("../../core/utils/extend"),s=require("../grid_core/ui.grid_core.sorting_mixin"),d=g(s),c=require("../../localization/message"),u=g(c),m=require("../../events/utils");function g(e){return e&&e.__esModule?e:{default:e}}var f="dxDataGridColumnHeadersView",h=(0,l.extend)({},d.default,{_createRow:function(e){var t=this,n=this.callBase(e);return"header"===e.rowType&&r.default.on(n,(0,m.addNamespace)(i.default.name,f),"td",this.createAction(function(e){t._processHeaderAction(e.event,n)})),n},_processHeaderAction:function(e,n){if((0,t.default)(e.currentTarget).parent().get(0)===n.get(0)){var r=this,a=null,i=(0,t.default)(e.currentTarget),l=i.parent().index(),s=-1;[].slice.call(r.getCellElements(l)).some(function(e,t){if(e===i.get(0))return s=t,!0});var d=r._columnsController.getVisibleColumns(l)[s],c=r.getController("editing"),u=r.option("editing.mode");!(c&&c.isEditing()&&("batch"===u||"cell"===u))&&r._isSortableElement((0,t.default)(e.target))&&(!d||(0,o.isDefined)(d.groupIndex)||d.command||(e.shiftKey?a="shift":e.ctrlKey&&(a="ctrl"),setTimeout(function(){r._columnsController.changeSortOrder(d.index,a)})))}},_renderCellContent:function(e,t){var n=t.column;n.command||"header"!==t.rowType||this._applyColumnState({name:"sort",rootElement:e,column:n,showColumnLines:this.option("showColumnLines")}),this.callBase(e,t)},_columnOptionChanged:function(e){var t=e.changeTypes;1===t.length&&t.sorting?this._updateIndicators("sort"):this.callBase(e)},optionChanged:function(e){switch(e.name){case"sorting":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}}}),p=(0,l.extend)({},d.default,{_createGroupPanelItem:function(e,t){var n=this,a=n.callBase.apply(n,arguments);return r.default.on(a,(0,m.addNamespace)(i.default.name,"dxDataGridHeaderPanel"),n.createAction(function(){n._processGroupItemAction(t.index)})),n._applyColumnState({name:"sort",rootElement:a,column:{alignment:n.option("rtlEnabled")?"right":"left",allowSorting:t.allowSorting,sortOrder:"desc"===t.sortOrder?"desc":"asc"},showColumnLines:!0}),a},_processGroupItemAction:function(e){var t=this;setTimeout(function(){return t.getController("columns").changeSortOrder(e)})},optionChanged:function(e){switch(e.name){case"sorting":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}}});module.exports={defaultOptions:function(){return{sorting:{mode:"single",ascendingText:u.default.format("dxDataGrid-sortingAscendingText"),descendingText:u.default.format("dxDataGrid-sortingDescendingText"),clearText:u.default.format("dxDataGrid-sortingClearText"),showSortIndexes:!0}}},extenders:{views:{columnHeadersView:h,headerPanel:p}}};
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../events/click":"RTmy","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","../grid_core/ui.grid_core.sorting_mixin":"O7bE","../../localization/message":"Njcj","../../events/utils":"cNvJ"}],"pOYp":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),r=u(e),i=require("../grid_core/ui.grid_core.sorting"),t=u(i);function u(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("sorting",t.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.sorting":"UxFn"}],"SrQ4":[function(require,module,exports) {
"use strict";var e=require("../../events/core/events_engine"),t=require("../../core/class"),i=t.abstract,s=require("../../events/utils"),n=require("../../events/gesture/emitter.gesture"),r=require("../../events/core/emitter_registrator"),c=require("../../animation/frame"),a=require("../../core/devices").real(),o=require("../../core/utils/version").compare,l="dxscrollinit",h="dxscrollstart",_="dxscroll",v="dxscrollend",u="dxscrollstop",f="dxscrollcancel",m=t.inherit(function(){var t=s.addNamespace("scroll","dxScrollEmitter");return{ctor:function(i){this._element=i,this._locked=!1;var s=this;this._proxiedScroll=function(e){s._scroll(e)},e.on(this._element,t,this._proxiedScroll)},_scroll:i,check:function(e,t){this._locked&&t()},dispose:function(){e.off(this._element,t,this._proxiedScroll)}}}()),d=m.inherit({ctor:function(e,t){this.callBase(e),this._timeout=t},_scroll:function(){this._prepare(),this._forget()},_prepare:function(){this._timer&&this._clearTimer(),this._locked=!0},_clearTimer:function(){clearTimeout(this._timer),this._locked=!1,this._timer=null},_forget:function(){var e=this;this._timer=setTimeout(function(){e._clearTimer()},this._timeout)},dispose:function(){this.callBase(),this._clearTimer()}}),p=d.inherit({ctor:function(e){this.callBase(e,400),this._lastWheelDirection=null},check:function(e,t){this._checkDirectionChanged(e),this.callBase(e,t)},_checkDirectionChanged:function(e){if(s.isDxMouseWheelEvent(e)){var t=e.shiftKey||!1,i=null!==this._lastWheelDirection&&t!==this._lastWheelDirection;this._lastWheelDirection=t,this._locked=this._locked&&!i}else this._lastWheelDirection=null}}),D=d.inherit({ctor:function(e){this.callBase(e,400)}});!function(){var e=a.ios&&o(a.version,[8])>=0,t=a.android&&o(a.version,[5])>=0;(e||t)&&(D=m.inherit({_scroll:function(){this._locked=!0;var e=this;c.cancelAnimationFrame(this._scrollFrame),this._scrollFrame=c.requestAnimationFrame(function(){e._locked=!1})},check:function(e,t){c.cancelAnimationFrame(this._scrollFrame),c.cancelAnimationFrame(this._checkFrame);var i=this,s=this.callBase;this._checkFrame=c.requestAnimationFrame(function(){s.call(i,e,t),i._locked=!1})},dispose:function(){this.callBase(),c.cancelAnimationFrame(this._scrollFrame),c.cancelAnimationFrame(this._checkFrame)}}))}();var k=n.inherit(function(){var e=Math.round(1e3/60);return{ctor:function(e){this.callBase.apply(this,arguments),this.direction="both",this._pointerLocker=new D(e),this._wheelLocker=new p(e)},validate:function(){return!0},configure:function(e){e.scrollTarget&&(this._pointerLocker.dispose(),this._wheelLocker.dispose(),this._pointerLocker=new D(e.scrollTarget),this._wheelLocker=new p(e.scrollTarget)),this.callBase(e)},_init:function(e){this._wheelLocker.check(e,function(){s.isDxMouseWheelEvent(e)&&this._accept(e)}.bind(this)),this._pointerLocker.check(e,function(){var t=this.isNative&&s.isMouseEvent(e);s.isDxMouseWheelEvent(e)||t||this._accept(e)}.bind(this)),this._fireEvent(l,e),this._prevEventData=s.eventData(e)},move:function(e){this.callBase.apply(this,arguments),e.isScrollingEvent=this.isNative||e.isScrollingEvent},_start:function(e){this._savedEventData=s.eventData(e),this._fireEvent(h,e),this._prevEventData=s.eventData(e)},_move:function(e){var t=s.eventData(e);this._fireEvent(_,e,{delta:s.eventDelta(this._prevEventData,t)}),s.eventDelta(this._savedEventData,t).time>200&&(this._savedEventData=this._prevEventData),this._prevEventData=s.eventData(e)},_end:function(t){var i=s.eventDelta(this._prevEventData,s.eventData(t)),n={x:0,y:0};if(!s.isDxMouseWheelEvent(t)&&i.time<100){var r=s.eventDelta(this._savedEventData,this._prevEventData),c=e/r.time;n={x:r.x*c,y:r.y*c}}this._fireEvent(v,t,{velocity:n})},_stop:function(e){this._fireEvent(u,e)},cancel:function(e){this.callBase.apply(this,arguments),this._fireEvent(f,e)},dispose:function(){this.callBase.apply(this,arguments),this._pointerLocker.dispose(),this._wheelLocker.dispose()},_clearSelection:function(){if(!this.isNative)return this.callBase.apply(this,arguments)},_toggleGestureCover:function(){if(!this.isNative)return this.callBase.apply(this,arguments)}}}());r({emitter:k,events:[l,h,_,v,u,f]}),module.exports={init:l,start:h,move:_,end:v,stop:u,cancel:f};
},{"../../events/core/events_engine":"oNrb","../../core/class":"YpjV","../../events/utils":"cNvJ","../../events/gesture/emitter.gesture":"qiE1","../../events/core/emitter_registrator":"IPLR","../../animation/frame":"SaLI","../../core/devices":"LpzF","../../core/utils/version":"Dkvf"}],"Lufy":[function(require,module,exports) {
"use strict";var i=require("../../core/utils/common").noop,t=require("../../core/class"),e=t.abstract,s=require("../../animation/frame"),o=t.inherit({ctor:function(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=this._stepCore.bind(this)},start:function(){this._stopped=!1,this._finished=!1,this._stepCore()},stop:function(){this._stopped=!0,s.cancelAnimationFrame(this._stepAnimationFrame)},_stepCore:function(){if(this._isStopped())this._stop();else{if(this._isFinished())return this._finished=!0,void this._complete();this._step(),this._stepAnimationFrame=s.requestAnimationFrame(this._proxiedStepCore)}},_step:e,_isFinished:i,_stop:i,_complete:i,_isStopped:function(){return this._stopped},inProgress:function(){return!(this._stopped||this._finished)}});module.exports=o;
},{"../../core/utils/common":"GcQA","../../core/class":"YpjV","../../animation/frame":"SaLI"}],"HXek":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=C(t),i=require("../../core/dom_adapter"),n=C(i),o=require("../../events/core/events_engine"),s=C(o),a=require("../../core/utils/ready_callbacks"),r=C(a),l=require("../../animation/translator"),h=C(l),d=require("../widget/ui.widget"),c=C(d),u=require("../../events/utils"),b=C(u),_=require("../../core/utils/common"),f=C(_),p=require("../../core/utils/type"),v=require("../../core/utils/extend"),m=require("../../events/pointer"),S=C(m);function C(t){return t&&t.__esModule?t:{default:t}}var y="dxScrollbar",M="dx-scrollable-scrollbar",g=M+"-active",H="dx-scrollable-scroll",$="dx-scrollable-scroll-content",z="dx-scrollbar-hoverable",w="horizontal",R=15,k={onScroll:"onScroll",onHover:"onHover",always:"always",never:"never"},x=c.default.inherit({_getDefaultOptions:function(){return(0,v.extend)(this.callBase(),{direction:null,visible:!1,activeStateEnabled:!1,visibilityMode:k.onScroll,containerSize:0,contentSize:0,expandable:!0,scaleRatio:1})},_init:function(){this.callBase(),this._isHovered=!1},_initMarkup:function(){this._renderThumb(),this.callBase()},_render:function(){this.callBase(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode()),this.$element().toggleClass(z,this.option("hoverStateEnabled"))},_renderThumb:function(){this._$thumb=(0,e.default)("<div>").addClass(H),(0,e.default)("<div>").addClass($).appendTo(this._$thumb),this.$element().addClass(M).append(this._$thumb)},isThumb:function(t){return!!this.$element().find(t).length},_isHoverMode:function(){var t=this.option("visibilityMode");return(t===k.onHover||t===k.always)&&this.option("expandable")},_renderDirection:function(){var t=this.option("direction");this.$element().addClass("dx-scrollbar-"+t),this._dimension=t===w?"width":"height",this._prop=t===w?"left":"top"},_attachPointerDownHandler:function(){s.default.on(this._$thumb,b.default.addNamespace(S.default.down,y),this.feedbackOn.bind(this))},feedbackOn:function(){this.$element().addClass(g),T=this},feedbackOff:function(){this.$element().removeClass(g),T=null},cursorEnter:function(){this._isHovered=!0,this._needScrollbar()&&this.option("visible",!0)},cursorLeave:function(){this._isHovered=!1,this.option("visible",!1)},_renderDimensions:function(){this._$thumb.css({width:this.option("width"),height:this.option("height")})},_toggleVisibility:function(t){this.option("visibilityMode")===k.onScroll&&this._$thumb.css("opacity"),t=this._adjustVisibility(t),this.option().visible=t,this._$thumb.toggleClass("dx-state-invisible",!t)},_adjustVisibility:function(t){if(this._baseContainerToContentRatio&&!this._needScrollbar())return!1;switch(this.option("visibilityMode")){case k.onScroll:break;case k.onHover:t=t||!!this._isHovered;break;case k.never:t=!1;break;case k.always:t=!0}return t},moveTo:function(t){if(!this._isHidden()){(0,p.isPlainObject)(t)&&(t=t[this._prop]||0);var e={};e[this._prop]=this._calculateScrollBarPosition(t),h.default.move(this._$thumb,e)}},_calculateScrollBarPosition:function(t){return-t*this._thumbRatio},_update:function(){var t=Math.round(this.option("containerSize")),e=Math.round(this.option("contentSize")),i=Math.round(this.option("baseContainerSize")),n=Math.round(this.option("baseContentSize"));isNaN(i)&&(i=t,n=e),this._baseContainerToContentRatio=n?i/n:i,this._realContainerToContentRatio=e?t/e:t;var o=Math.round(Math.max(Math.round(t*this._realContainerToContentRatio),R));this._thumbRatio=(t-o)/(this.option("scaleRatio")*(e-t)),this.option(this._dimension,o/this.option("scaleRatio")),this.$element().css("display",this._needScrollbar()?"":"none")},_isHidden:function(){return this.option("visibilityMode")===k.never},_needScrollbar:function(){return!this._isHidden()&&this._baseContainerToContentRatio<1},containerToContentRatio:function(){return this._realContainerToContentRatio},_normalizeSize:function(t){return(0,p.isPlainObject)(t)?t[this._dimension]||0:t},_clean:function(){this.callBase(),this===T&&(T=null),s.default.off(this._$thumb,"."+y)},_optionChanged:function(t){if(!this._isHidden())switch(t.name){case"containerSize":case"contentSize":this.option()[t.name]=this._normalizeSize(t.value),this._update();break;case"baseContentSize":case"baseContainerSize":this._update();break;case"visibilityMode":case"direction":this._invalidate();break;case"scaleRatio":this._update();break;default:this.callBase.apply(this,arguments)}},update:f.default.deferRenderer(function(){this._adjustVisibility()&&this.option("visible",!0)})}),T=null;r.default.add(function(){s.default.subscribeGlobal(n.default.getDocument(),b.default.addNamespace(S.default.up,y),function(){T&&T.feedbackOff()})}),module.exports=x;
},{"../../core/renderer":"qxFQ","../../core/dom_adapter":"RRDy","../../events/core/events_engine":"oNrb","../../core/utils/ready_callbacks":"pyvP","../../animation/translator":"IRTp","../widget/ui.widget":"gtOK","../../events/utils":"cNvJ","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","../../events/pointer":"HDhW"}],"WzLf":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=D(t),i=require("../../core/dom_adapter"),n=D(i),o=require("../../events/core/events_engine"),r=D(o),s=require("../../core/utils/inflector"),l=require("../../core/utils/extend"),c=require("../../core/utils/window"),a=require("../../core/utils/iterator"),h=require("../../core/utils/type"),_=require("../../animation/translator"),u=D(_),d=require("../../core/class"),f=D(d),p=require("./animator"),v=D(p),m=require("../../core/devices"),b=D(m),S=require("../../events/utils"),g=require("../../core/utils/common"),y=require("./ui.scrollbar"),A=D(y),T=require("../../core/utils/deferred");function D(t){return t&&t.__esModule?t:{default:t}}var B,H,x=b.default.real,$="android"===x.platform,w="dxSimulatedScrollable",E="dxScrollableStrategy",M=w+"Cursor",C=w+"Keyboard",O="dx-scrollable-simulated",L="dx-scrollable-scrollbars-hidden",R="dx-scrollable-scrollbars-alwaysvisible",P="dx-scrollable-scrollbar",z="vertical",U="horizontal",W=$?.95:.92,q=.5,k=1,I=Math.round(1e3/60),N=40,F=500,G=k/5,K=$?300:400,V=K/I,j=(1-Math.pow(W,V))/(1-W),Y={PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home",LEFT:"leftArrow",UP:"upArrow",RIGHT:"rightArrow",DOWN:"downArrow",TAB:"tab"},J=v.default.inherit({ctor:function(t){this.callBase(),this.scroller=t},VELOCITY_LIMIT:k,_isFinished:function(){return Math.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT},_step:function(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()},_acceleration:function(){return this.scroller._inBounds()?W:q},_complete:function(){this.scroller._scrollComplete()},_stop:function(){this.scroller._stopComplete()}}),Q=J.inherit({VELOCITY_LIMIT:G,_isFinished:function(){return this.scroller._crossBoundOnNextStep()||this.callBase()},_acceleration:function(){return W},_complete:function(){this.scroller._move(this.scroller._bounceLocation),this.callBase()}}),X=f.default.inherit({ctor:function(t){this._initOptions(t),this._initAnimators(),this._initScrollbar()},_initOptions:function(t){var e=this;this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=t.direction===U?"x":"y",this._prop=t.direction===U?"left":"top",this._dimension=t.direction===U?"width":"height",this._scrollProp=t.direction===U?"scrollLeft":"scrollTop",(0,a.each)(t,function(t,i){e["_"+t]=i})},_initAnimators:function(){this._inertiaAnimator=new J(this),this._bounceAnimator=new Q(this)},_initScrollbar:function(){this._scrollbar=new A.default((0,e.default)("<div>").appendTo(this._$container),{direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),expandable:this._scrollByThumb}),this._$scrollbar=this._scrollbar.$element()},_visibilityModeNormalize:function(t){return!0===t?"onScroll":!1===t?"never":t},_scrollStep:function(t){var e=this._location;this._location+=t,this._suppressBounce(),this._move(),Math.abs(e-this._location)<1||r.default.triggerHandler(this._$container,{type:"scroll"})},_suppressBounce:function(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())},_boundLocation:function(t){return t=void 0!==t?t:this._location,Math.max(Math.min(t,this._maxOffset),this._minOffset)},_move:function(t){this._location=void 0!==t?t*this._getScaleRatio():this._location,this._moveContent(),this._moveScrollbar()},_moveContent:function(){var t=this._location;this._$container[this._scrollProp](-t/this._getScaleRatio()),this._moveContentByTranslator(t)},_getScaleRatio:function(){if((0,c.hasWindow)()&&!this._scaleRatio){var t=this._$element.get(0),e=this._getRealDimension(t,this._dimension),i=this._getBaseDimension(t,this._dimension);this._scaleRatio=Math.round(e/i*100)/100}return this._scaleRatio||1},_getRealDimension:function(t,e){return Math.round(t.getBoundingClientRect()[e])},_getBaseDimension:function(t,e){return t["offset"+(0,s.titleize)(e)]},_moveContentByTranslator:function(t){var e=void 0,i=-this._maxScrollPropValue;if(e=t>0?t:t<=i?t-i:t%1,this._translateOffset!==e){var n={};n[this._prop]=e,this._translateOffset=e,0!==e?u.default.move(this._$content,n):u.default.resetPosition(this._$content)}},_moveScrollbar:function(){this._scrollbar.moveTo(this._location)},_scrollComplete:function(){this._inBounds()&&(this._hideScrollbar(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()},_scrollToBounds:function(){this._inBounds()||(this._bounceAction(),this._setupBounce(),this._bounceAnimator.start())},_setupBounce:function(){var t=(this._bounceLocation=this._boundLocation())-this._location;this._velocity=t/j},_inBounds:function(t){return t=void 0!==t?t:this._location,this._boundLocation(t)===t},_crossBoundOnNextStep:function(){var t=this._location,e=t+this._velocity;return t<this._minOffset&&e>=this._minOffset||t>this._maxOffset&&e<=this._maxOffset},_initHandler:function(t){return this._stopDeferred=new T.Deferred,this._stopScrolling(),this._prepareThumbScrolling(t),this._stopDeferred.promise()},_stopScrolling:(0,g.deferRenderer)(function(){this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()}),_prepareThumbScrolling:function(t){if(!(0,S.isDxMouseWheelEvent)(t.originalEvent)){var i=(0,e.default)(t.originalEvent.target),n=this._isScrollbar(i);n&&this._moveToMouseLocation(t),this._thumbScrolling=n||this._isThumb(i),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(i),this._thumbScrolling&&this._scrollbar.feedbackOn()}},_isThumbScrollingHandler:function(t){return this._isThumb(t)},_moveToMouseLocation:function(t){var e=t["page"+this._axis.toUpperCase()]-this._$element.offset()[this._prop],i=this._location+e/this._containerToContentRatio()-this._$container.height()/2;this._scrollStep(-Math.round(i))},_stopComplete:function(){this._stopDeferred&&this._stopDeferred.resolve()},_startHandler:function(){this._showScrollbar()},_moveHandler:function(t){this._crossThumbScrolling||(this._thumbScrolling&&(t[this._axis]=-Math.round(t[this._axis]/this._containerToContentRatio())),this._scrollBy(t))},_scrollBy:function(t){t=t[this._axis],this._inBounds()||(t*=q),this._scrollStep(t)},_scrollByHandler:function(t){this._scrollBy(t),this._scrollComplete()},_containerToContentRatio:function(){return this._scrollbar.containerToContentRatio()},_endHandler:function(t){return this._completeDeferred=new T.Deferred,this._velocity=t[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()},_inertiaHandler:function(){this._suppressInertia(),this._inertiaAnimator.start()},_suppressInertia:function(){this._inertiaEnabled&&!this._thumbScrolling||(this._velocity=0)},_resetThumbScrolling:function(){this._thumbScrolling=!1,this._crossThumbScrolling=!1},_stopHandler:function(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()},_disposeHandler:function(){this._stopScrolling(),this._$scrollbar.remove()},_updateHandler:function(){this._update(),this._moveToBounds()},_update:function(){var t=this;return this._stopScrolling(),(0,g.deferUpdate)(function(){t._resetScaleRatio(),t._updateLocation(),t._updateBounds(),t._updateScrollbar(),(0,g.deferRender)(function(){t._moveScrollbar(),t._scrollbar.update()})})},_resetScaleRatio:function(){this._scaleRatio=null},_updateLocation:function(){this._location=(u.default.locate(this._$content)[this._prop]-this._$container[this._scrollProp]())*this._getScaleRatio()},_updateBounds:function(){this._maxOffset=Math.round(this._getMaxOffset()),this._minOffset=Math.round(this._getMinOffset())},_getMaxOffset:function(){return 0},_getMinOffset:function(){return this._maxScrollPropValue=Math.max(this._contentSize()-this._containerSize(),0),-this._maxScrollPropValue},_updateScrollbar:(0,g.deferUpdater)(function(){var t=this,e=this._containerSize(),i=this._contentSize(),n=this._getBaseDimension(this._$container.get(0),this._dimension),o=this._getBaseDimension(this._$content.get(0),this._dimension);(0,g.deferRender)(function(){t._scrollbar.option({containerSize:e,contentSize:i,baseContainerSize:n,baseContentSize:o,scaleRatio:t._getScaleRatio()})})}),_moveToBounds:(0,g.deferRenderer)((0,g.deferUpdater)((0,g.deferRenderer)(function(){var t=this._boundLocation(),e=t!==this._location;this._location=t,this._move(),e&&this._scrollAction()}))),_createActionsHandler:function(t){this._scrollAction=t.scroll,this._bounceAction=t.bounce},_showScrollbar:function(){this._scrollbar.option("visible",!0)},_hideScrollbar:function(){this._scrollbar.option("visible",!1)},_containerSize:function(){return this._getRealDimension(this._$container.get(0),this._dimension)},_contentSize:function(){var t="hidden"===this._$content.css("overflow"+this._axis.toUpperCase()),e=this._getRealDimension(this._$content.get(0),this._dimension);if(!t){var i=this._$content[0]["scroll"+(0,s.titleize)(this._dimension)]*this._getScaleRatio();e=Math.max(i,e)}return e},_validateEvent:function(t){var i=(0,e.default)(t.originalEvent.target);return this._isThumb(i)||this._isScrollbar(i)||this._isContent(i)},_isThumb:function(t){return this._scrollByThumb&&this._scrollbar.isThumb(t)},_isScrollbar:function(t){return this._scrollByThumb&&t&&t.is(this._$scrollbar)},_isContent:function(t){return this._scrollByContent&&!!t.closest(this._$element).length},_reachedMin:function(){return this._location<=this._minOffset},_reachedMax:function(){return this._location>=this._maxOffset},_cursorEnterHandler:function(){this._updateScrollbar(),this._scrollbar.cursorEnter()},_cursorLeaveHandler:function(){this._scrollbar.cursorLeave()},dispose:g.noop}),Z=f.default.inherit({ctor:function(t){this._init(t)},_init:function(t){this._component=t,this._$element=t.$element(),this._$container=t._$container,this._$wrapper=t._$wrapper,this._$content=t._$content,this.option=t.option.bind(t),this._createActionByOption=t._createActionByOption.bind(t),this._isLocked=t._isLocked.bind(t),this._isDirection=t._isDirection.bind(t),this._allowedDirection=t._allowedDirection.bind(t)},render:function(){this._$element.addClass(O),this._createScrollers(),this.option("useKeyboard")&&this._$container.prop("tabIndex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()},_createScrollers:function(){this._scrollers={},this._isDirection(U)&&this._createScroller(U),this._isDirection(z)&&this._createScroller(z),this._$element.toggleClass(R,"always"===this.option("showScrollbar")),this._$element.toggleClass(L,!this.option("showScrollbar"))},_createScroller:function(t){this._scrollers[t]=new X(this._scrollerOptions(t))},_scrollerOptions:function(t){return{direction:t,$content:this._$content,$container:this._$container,$wrapper:this._$wrapper,$element:this._$element,scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:this._isAnyThumbScrolling.bind(this)}},_applyScaleRatio:function(t){for(var e in this._scrollers){var i=this._getPropByDirection(e);if((0,h.isDefined)(t[i])){var n=this._scrollers[e];t[i]*=n._getScaleRatio()}}return t},_isAnyThumbScrolling:function(t){var e=!1;return this._eventHandler("isThumbScrolling",t).done(function(t,i){e=t||i}),e},handleInit:function(t){this._suppressDirections(t),this._eventForUserAction=t,this._eventHandler("init",t).done(this._stopAction)},_suppressDirections:function(t){(0,S.isDxMouseWheelEvent)(t.originalEvent)?this._prepareDirections(!0):(this._prepareDirections(),this._eachScroller(function(e,i){var n=e._validateEvent(t);this._validDirections[i]=n}))},_prepareDirections:function(t){t=t||!1,this._validDirections={},this._validDirections[U]=t,this._validDirections[z]=t},_eachScroller:function(t){t=t.bind(this),(0,a.each)(this._scrollers,function(e,i){t(i,e)})},handleStart:function(t){this._eventForUserAction=t,this._eventHandler("start").done(this._startAction)},_saveActive:function(){H=this},_resetActive:function(){H===this&&(H=null)},handleMove:function(t){if(this._isLocked())return t.cancel=!0,void this._resetActive();this._saveActive(),t.preventDefault&&t.preventDefault(),this._adjustDistance(t,t.delta),this._eventForUserAction=t,this._eventHandler("move",t.delta)},_adjustDistance:function(t,e){e.x*=this._validDirections[U],e.y*=this._validDirections[z];var i=this._tryGetDevicePixelRatio();i&&(0,S.isDxMouseWheelEvent)(t.originalEvent)&&(e.x=Math.round(e.x/i*100)/100,e.y=Math.round(e.y/i*100)/100)},_tryGetDevicePixelRatio:function(){if((0,c.hasWindow)())return(0,c.getWindow)().devicePixelRatio},handleEnd:function(t){return this._resetActive(),this._refreshCursorState(t.originalEvent&&t.originalEvent.target),this._adjustDistance(t,t.velocity),this._eventForUserAction=t,this._eventHandler("end",t.velocity).done(this._endAction)},handleCancel:function(t){return this._resetActive(),this._eventForUserAction=t,this._eventHandler("end",{x:0,y:0})},handleStop:function(){this._resetActive(),this._eventHandler("stop")},handleScroll:function(){this._scrollAction()},_attachKeyboardHandler:function(){r.default.off(this._$element,"."+C),!this.option("disabled")&&this.option("useKeyboard")&&r.default.on(this._$element,(0,S.addNamespace)("keydown",C),this._keyDownHandler.bind(this))},_keyDownHandler:function(t){var e=this;if(clearTimeout(this._updateHandlerTimeout),this._updateHandlerTimeout=setTimeout(function(){(0,S.normalizeKeyName)(t)===Y.TAB&&e._eachScroller(function(t){t._updateHandler()})}),this._$container.is(n.default.getActiveElement())){var i=!0;switch((0,S.normalizeKeyName)(t)){case Y.DOWN:this._scrollByLine({y:1});break;case Y.UP:this._scrollByLine({y:-1});break;case Y.RIGHT:this._scrollByLine({x:1});break;case Y.LEFT:this._scrollByLine({x:-1});break;case Y.PAGE_DOWN:this._scrollByPage(1);break;case Y.PAGE_UP:this._scrollByPage(-1);break;case Y.HOME:this._scrollToHome();break;case Y.END:this._scrollToEnd();break;default:i=!1}i&&(t.stopPropagation(),t.preventDefault())}},_scrollByLine:function(t){var e=this._tryGetDevicePixelRatio(),i=N;e&&(i=Math.abs(i/e*100)/100),this.scrollBy({top:(t.y||0)*-i,left:(t.x||0)*-i})},_scrollByPage:function(t){var e=this._wheelProp(),i=this._dimensionByProp(e),n={};n[e]=t*-this._$container[i](),this.scrollBy(n)},_dimensionByProp:function(t){return"left"===t?"width":"height"},_getPropByDirection:function(t){return t===U?"left":"top"},_scrollToHome:function(){var t={};t[this._wheelProp()]=0,this._component.scrollTo(t)},_scrollToEnd:function(){var t=this._wheelProp(),e=this._dimensionByProp(t),i={};i[t]=this._$content[e]()-this._$container[e](),this._component.scrollTo(i)},createActions:function(){this._startAction=this._createActionHandler("onStart"),this._stopAction=this._createActionHandler("onStop"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()},_createScrollerActions:function(){this._scrollAction=this._createActionHandler("onScroll"),this._bounceAction=this._createActionHandler("onBounce"),this._eventHandler("createActions",{scroll:this._scrollAction,bounce:this._bounceAction})},_createActionHandler:function(t){var e=this,i=arguments,n=this._createActionByOption(t);return function(){n((0,l.extend)(e._createActionArgs(),i))}},_createActionArgs:function(){var t=this._scrollers[U],e=this._scrollers[z],i=this.location();return this._scrollOffset={top:e&&-i.top,left:t&&-i.left},{event:this._eventForUserAction,scrollOffset:this._scrollOffset,reachedLeft:t&&t._reachedMax(),reachedRight:t&&t._reachedMin(),reachedTop:e&&e._reachedMax(),reachedBottom:e&&e._reachedMin()}},_eventHandler:function(t){var i=[].slice.call(arguments).slice(1),n=(0,a.map)(this._scrollers,function(e){return e["_"+t+"Handler"].apply(e,i)});return T.when.apply(e.default,n).promise()},location:function(){var t=u.default.locate(this._$content);return t.top-=this._$container.scrollTop(),t.left-=this._$container.scrollLeft(),t},disabledChanged:function(){this._attachCursorHandlers()},_attachCursorHandlers:function(){r.default.off(this._$element,"."+M),!this.option("disabled")&&this._isHoverMode()&&(r.default.on(this._$element,(0,S.addNamespace)("mouseenter",M),this._cursorEnterHandler.bind(this)),r.default.on(this._$element,(0,S.addNamespace)("mouseleave",M),this._cursorLeaveHandler.bind(this)))},_isHoverMode:function(){return"onHover"===this.option("showScrollbar")},_cursorEnterHandler:function(t){(t=t||{}).originalEvent=t.originalEvent||{},H||t.originalEvent._hoverHandled||(B&&B._cursorLeaveHandler(),B=this,this._eventHandler("cursorEnter"),t.originalEvent._hoverHandled=!0)},_cursorLeaveHandler:function(t){B===this&&H!==B&&(this._eventHandler("cursorLeave"),B=null,this._refreshCursorState(t&&t.relatedTarget))},_refreshCursorState:function(t){if(this._isHoverMode()||t&&!H){var i=(0,e.default)(t).closest("."+O+":not(.dx-state-disabled)"),n=i.length&&i.data(E);B&&B!==n&&B._cursorLeaveHandler(),n&&n._cursorEnterHandler()}},update:function(){var t=this,e=this._eventHandler("update").done(this._updateAction);return(0,T.when)(e,(0,g.deferUpdate)(function(){var e=t._allowedDirections();return(0,g.deferRender)(function(){var i=e.vertical?"pan-x":"";i=e.horizontal?"pan-y":i,i=e.vertical&&e.horizontal?"none":i,t._$container.css("touchAction",i)}),(0,T.when)().promise()}))},_allowedDirections:function(){var t=this.option("bounceEnabled"),e=this._scrollers[z],i=this._scrollers[U];return{vertical:e&&(e._minOffset<0||t),horizontal:i&&(i._minOffset<0||t)}},updateBounds:function(){this._scrollers[U]&&this._scrollers[U]._updateBounds()},scrollBy:function(t){var e=this._scrollers[z],i=this._scrollers[U];e&&(t.top=e._boundLocation(t.top+e._location)-e._location),i&&(t.left=i._boundLocation(t.left+i._location)-i._location),this._prepareDirections(!0),this._startAction(),this._eventHandler("scrollBy",{x:t.left,y:t.top}),this._endAction()},validate:function(t){return!this.option("disabled")&&(!!this.option("bounceEnabled")||((0,S.isDxMouseWheelEvent)(t)?this._validateWheel(t):this._validateMove(t)))},_validateWheel:function(t){var e=this,i=this._scrollers[this._wheelDirection(t)],n=i._reachedMin(),o=i._reachedMax(),r=!n||!o,s=!n&&!o,l=n&&t.delta>0,c=o&&t.delta<0,a=r&&(s||l||c);return(a=a||void 0!==this._validateWheelTimer)&&(clearTimeout(this._validateWheelTimer),this._validateWheelTimer=setTimeout(function(){e._validateWheelTimer=void 0},F)),a},_validateMove:function(t){return!(!this.option("scrollByContent")&&!(0,e.default)(t.target).closest("."+P).length)&&this._allowedDirection()},getDirection:function(t){return(0,S.isDxMouseWheelEvent)(t)?this._wheelDirection(t):this._allowedDirection()},_wheelProp:function(){return this._wheelDirection()===U?"left":"top"},_wheelDirection:function(t){switch(this.option("direction")){case U:return U;case z:return z;default:return t&&t.shiftKey?U:z}},verticalOffset:function(){return 0},dispose:function(){this._resetActive(),B===this&&(B=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass(O),this._eventForUserAction=null,clearTimeout(this._validateWheelTimer),clearTimeout(this._updateHandlerTimeout)},_detachEventHandlers:function(){r.default.off(this._$element,"."+M),r.default.off(this._$container,"."+C)}});exports.SimulatedStrategy=Z,exports.Scroller=X;
},{"../../core/renderer":"qxFQ","../../core/dom_adapter":"RRDy","../../events/core/events_engine":"oNrb","../../core/utils/inflector":"i2nR","../../core/utils/extend":"ac8T","../../core/utils/window":"NXH3","../../core/utils/iterator":"FHcO","../../core/utils/type":"Mw4w","../../animation/translator":"IRTp","../../core/class":"YpjV","./animator":"Lufy","../../core/devices":"LpzF","../../events/utils":"cNvJ","../../core/utils/common":"GcQA","./ui.scrollbar":"HXek","../../core/utils/deferred":"g5TB"}],"lcP1":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),i=p(t),e=require("../../events/core/events_engine"),o=p(e),n=require("../../events/utils"),s=p(n),r=require("../../core/utils/common"),c=require("../../core/utils/iterator"),l=require("../../core/devices"),a=p(l),h=require("../../core/class"),d=p(h),_=require("./ui.scrollbar"),u=p(_);function p(t){return t&&t.__esModule?t:{default:t}}var f="dxNativeScrollable",b="dx-scrollable-native",S="dx-scrollable-scrollbar-simulated",m="dx-scrollable-scrollbars-hidden",v="vertical",g="horizontal",$=500,B=d.default.inherit({ctor:function(t){this._init(t)},_init:function(t){this._component=t,this._$element=t.$element(),this._$container=t._$container,this._$content=t._$content,this._direction=t.option("direction"),this._useSimulatedScrollbar=t.option("useSimulatedScrollbar"),this._showScrollbar=t.option("showScrollbar"),this.option=t.option.bind(t),this._createActionByOption=t._createActionByOption.bind(t),this._isLocked=t._isLocked.bind(t),this._isDirection=t._isDirection.bind(t),this._allowedDirection=t._allowedDirection.bind(t)},render:function(){this._renderPushBackOffset();var t=a.default.real().platform;this._$element.addClass(b).addClass(b+"-"+t).toggleClass(m,!this._showScrollbar),this._showScrollbar&&this._useSimulatedScrollbar&&this._renderScrollbars()},updateBounds:r.noop,_renderPushBackOffset:function(){var t=this.option("pushBackValue");(t||this._component._lastPushBackValue)&&(this._$content.css({paddingTop:t,paddingBottom:t}),this._component._lastPushBackValue=t)},_renderScrollbars:function(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass(S),this._renderScrollbar(v),this._renderScrollbar(g)},_renderScrollbar:function(t){this._isDirection(t)&&(this._scrollbars[t]=new u.default((0,i.default)("<div>").appendTo(this._$element),{direction:t,expandable:this._component.option("scrollByThumb")}))},handleInit:r.noop,handleStart:function(){this._disablePushBack=!0},handleMove:function(t){this._isLocked()?t.cancel=!0:this._allowedDirection()&&(t.originalEvent.isScrollingEvent=!0)},handleEnd:function(){this._disablePushBack=!1},handleCancel:r.noop,handleStop:r.noop,_eachScrollbar:function(t){t=t.bind(this),(0,c.each)(this._scrollbars||{},function(i,e){t(e,i)})},createActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")},_createActionArgs:function(){var t=this.location(),i=this._$container.get(0);return{event:this._eventForUserAction,scrollOffset:{top:-t.top,left:-t.left},reachedLeft:this._isDirection(g)?t.left>=0:void 0,reachedRight:this._isDirection(g)?Math.abs(t.left)>=i.scrollWidth-i.clientWidth:void 0,reachedTop:this._isDirection(v)?t.top>=0:void 0,reachedBottom:this._isDirection(v)?Math.abs(t.top)>=i.scrollHeight-i.clientHeight-2*this.option("pushBackValue"):void 0}},handleScroll:function(t){this._isScrollLocationChanged()?(this._eventForUserAction=t,this._moveScrollbars(),this._scrollAction(this._createActionArgs()),this._lastLocation=this.location(),this._pushBackFromBoundary()):t.stopImmediatePropagation()},_pushBackFromBoundary:function(){var t=this.option("pushBackValue");if(t&&!this._disablePushBack){var i=this._containerSize.height-this._contentSize.height,e=this._$container.scrollTop();e?i+e-2*t||this._$container.scrollTop(t-i):this._$container.scrollTop(t)}},_isScrollLocationChanged:function(){var t=this.location(),i=this._lastLocation||{},e=i.top!==t.top,o=i.left!==t.left;return e||o},_moveScrollbars:function(){this._eachScrollbar(function(t){t.moveTo(this.location()),t.option("visible",!0)}),this._hideScrollbars()},_hideScrollbars:function(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout(function(){this._eachScrollbar(function(t){t.option("visible",!1)})}.bind(this),$)},location:function(){return{left:-this._$container.scrollLeft(),top:this.option("pushBackValue")-this._$container.scrollTop()}},disabledChanged:r.noop,update:function(){this._update(),this._updateAction(this._createActionArgs())},_update:function(){this._updateDimensions(),this._updateScrollbars()},_updateDimensions:function(){this._containerSize={height:this._$container.height(),width:this._$container.width()},this._componentContentSize={height:this._component.$content().height(),width:this._component.$content().width()},this._contentSize={height:this._$content.height(),width:this._$content.width()},this._pushBackFromBoundary()},_updateScrollbars:function(){this._eachScrollbar(function(t,i){var e=i===v?"height":"width";t.option({containerSize:this._containerSize[e],contentSize:this._componentContentSize[e]}),t.update()})},_allowedDirections:function(){return{vertical:this._isDirection(v)&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection(g)&&this._contentSize.width>this._containerSize.width}},dispose:function(){var t=this._$element.get(0).className,i=new RegExp(b+"\\S*","g");i.test(t)&&this._$element.removeClass(t.match(i).join(" ")),o.default.off(this._$element,"."+f),o.default.off(this._$container,"."+f),this._removeScrollbars(),clearTimeout(this._hideScrollbarTimeout)},_removeScrollbars:function(){this._eachScrollbar(function(t){t.$element().remove()})},scrollBy:function(t){var i=this.location();this._$container.scrollTop(Math.round(-i.top-t.top+this.option("pushBackValue"))),this._$container.scrollLeft(Math.round(-i.left-t.left))},validate:function(t){return!this.option("disabled")&&((!s.default.isDxMouseWheelEvent(t)||!this._isScrolledInMaxDirection(t))&&!!this._allowedDirection())},_isScrolledInMaxDirection:function(t){var i=this._$container.get(0);return t.delta>0?t.shiftKey?!i.scrollLeft:!i.scrollTop:t.shiftKey?i.clientWidth+i.scrollLeft>=i.scrollWidth:i.clientHeight+i.scrollTop>=i.scrollHeight},getDirection:function(){return this._allowedDirection()},verticalOffset:function(){return this.option("pushBackValue")}});module.exports=B;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../events/utils":"cNvJ","../../core/utils/common":"GcQA","../../core/utils/iterator":"FHcO","../../core/devices":"LpzF","../../core/class":"YpjV","./ui.scrollbar":"HXek"}],"tHRk":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=z(t),i=require("../../events/core/events_engine"),n=z(i),a=require("../../core/utils/support"),o=z(a),l=require("../../core/utils/browser"),s=z(l),r=require("../../core/utils/common"),c=z(r),d=require("../../core/utils/type"),u=z(d),h=require("../../core/utils/extend"),f=require("../../core/utils/dom"),p=require("../../core/utils/window"),_=z(p),v=require("../../core/dom_adapter"),b=z(v),g=require("../../core/devices"),m=z(g),S=require("../../core/component_registrator"),y=z(S),w=require("../../core/dom_component"),D=z(w),$=require("../widget/selectors"),k=z($),C=require("../../events/utils"),B=z(C),N=require("./ui.events.emitter.gesture.scroll"),q=z(N),T=require("./ui.scrollable.simulated"),x=z(T),O=require("./ui.scrollable.native"),E=z(O),P=require("../../core/utils/deferred");function z(t){return t&&t.__esModule?t:{default:t}}var M="dxScrollable",H="dxScrollableStrategy",R="dx-scrollable",I="dx-scrollable-disabled",L="dx-scrollable-container",V="dx-scrollable-wrapper",W="dx-scrollable-content",A="dx-scrollable-customizable-scrollbars",U="vertical",K="horizontal",j="both",F=function(){return[{device:function(){return!o.default.nativeScrolling},options:{useNative:!1}},{device:function(t){return!m.default.isSimulator()&&"desktop"===m.default.real().deviceType&&"generic"===t.platform},options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:o.default.touch,showScrollbar:"onHover"}}]},G=D.default.inherit({_getDefaultOptions:function(){return(0,h.extend)(this.callBase(),{disabled:!1,onScroll:null,direction:U,showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,onStop:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,pushBackValue:0,updateManually:!1})},_defaultOptionsRules:function(){return this.callBase().concat(F(),[{device:function(){return o.default.nativeScrolling&&"android"===m.default.real().platform&&!s.default.mozilla},options:{useSimulatedScrollbar:!0}},{device:function(){return"ios"===m.default.real().platform},options:{pushBackValue:1}}])},_initOptions:function(t){this.callBase(t),"useSimulatedScrollbar"in t||this._setUseSimulatedScrollbar()},_setUseSimulatedScrollbar:function(){this.initialOption("useSimulatedScrollbar")||this.option("useSimulatedScrollbar",!this.option("useNative"))},_init:function(){this.callBase(),this._initScrollableMarkup(),this._locked=!1},_visibilityChanged:function(t){t?(this.update(),this._updateRtlPosition(),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset):this._savedScrollOffset=this.scrollOffset()},_initScrollableMarkup:function(){var t=this.$element().addClass(R),i=this._$container=(0,e.default)("<div>").addClass(L),a=this._$wrapper=(0,e.default)("<div>").addClass(V),o=this._$content=(0,e.default)("<div>").addClass(W);b.default.hasDocumentProperty("onbeforeactivate")&&s.default.msie&&s.default.version<12&&n.default.on(t,B.default.addNamespace("beforeactivate",M),function(t){(0,e.default)(t.target).is(k.default.focusable)||t.preventDefault()}),o.append(t.contents()).appendTo(i),i.appendTo(a),a.appendTo(t)},_dimensionChanged:function(){this.update()},_attachNativeScrollbarsCustomizationCss:function(){"desktop"!==m.default.real().deviceType||_.default.getNavigator().platform.indexOf("Mac")>-1&&s.default.webkit||this.$element().addClass(A)},_initMarkup:function(){this.callBase(),this._renderDirection()},_render:function(){this._renderStrategy(),this._attachNativeScrollbarsCustomizationCss(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),this.callBase(),this._updateRtlPosition()},_updateRtlPosition:function(){var t=this;this._updateBounds(),this.option("rtlEnabled")&&this.option("direction")!==U&&c.default.deferUpdate(function(){var e=t._container().get(0),i=e.scrollWidth-e.clientWidth;c.default.deferRender(function(){t.scrollTo({left:i})})})},_updateBounds:function(){this._strategy.updateBounds()},_attachEventHandlers:function(){var t=this._strategy,e={getDirection:t.getDirection.bind(t),validate:this._validate.bind(this),isNative:this.option("useNative"),scrollTarget:this._$container};n.default.off(this._$wrapper,"."+M),n.default.on(this._$wrapper,B.default.addNamespace(q.default.init,M),e,this._initHandler.bind(this)),n.default.on(this._$wrapper,B.default.addNamespace(q.default.start,M),t.handleStart.bind(t)),n.default.on(this._$wrapper,B.default.addNamespace(q.default.move,M),t.handleMove.bind(t)),n.default.on(this._$wrapper,B.default.addNamespace(q.default.end,M),t.handleEnd.bind(t)),n.default.on(this._$wrapper,B.default.addNamespace(q.default.cancel,M),t.handleCancel.bind(t)),n.default.on(this._$wrapper,B.default.addNamespace(q.default.stop,M),t.handleStop.bind(t)),n.default.off(this._$container,"."+M),n.default.on(this._$container,B.default.addNamespace("scroll",M),t.handleScroll.bind(t))},_validate:function(t){return!this._isLocked()&&(this._updateIfNeed(),this._strategy.validate(t))},_initHandler:function(){var t=this._strategy;t.handleInit.apply(t,arguments)},_renderDisabledState:function(){this.$element().toggleClass(I,this.option("disabled")),this.option("disabled")?this._lock():this._unlock()},_renderDirection:function(){this.$element().removeClass("dx-scrollable-"+K).removeClass("dx-scrollable-"+U).removeClass("dx-scrollable-"+j).addClass("dx-scrollable-"+this.option("direction"))},_renderStrategy:function(){this._createStrategy(),this._strategy.render(),this.$element().data(H,this._strategy)},_createStrategy:function(){this._strategy=this.option("useNative")?new E.default(this):new x.default.SimulatedStrategy(this)},_createActions:function(){this._strategy&&this._strategy.createActions()},_clean:function(){this._strategy&&this._strategy.dispose()},_optionChanged:function(t){switch(t.name){case"onStart":case"onEnd":case"onStop":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"scrollByContent":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":case"pushBackValue":this._invalidate();break;case"disabled":this._renderDisabledState(),this._strategy&&this._strategy.disabledChanged();break;case"updateManually":break;case"width":this.callBase(t),this._updateRtlPosition();break;default:this.callBase(t)}},_resetInactiveDirection:function(){var t=this._getInactiveProp();if(t&&_.default.hasWindow()){var e=this.scrollOffset();e[t]=0,this.scrollTo(e)}},_getInactiveProp:function(){var t=this.option("direction");return t===U?"left":t===K?"top":void 0},_location:function(){return this._strategy.location()},_normalizeLocation:function(t){if(u.default.isPlainObject(t)){var e=c.default.ensureDefined(t.left,t.x),i=c.default.ensureDefined(t.top,t.y);return{left:u.default.isDefined(e)?-e:void 0,top:u.default.isDefined(i)?-i:void 0}}var n=this.option("direction");return{left:n!==U?-t:void 0,top:n!==K?-t:void 0}},_isLocked:function(){return this._locked},_lock:function(){this._locked=!0},_unlock:function(){this.option("disabled")||(this._locked=!1)},_isDirection:function(t){var e=this.option("direction");return t===U?e!==K:t===K?e!==U:e===t},_updateAllowedDirection:function(){var t=this._strategy._allowedDirections();this._isDirection(j)&&t.vertical&&t.horizontal?this._allowedDirectionValue=j:this._isDirection(K)&&t.horizontal?this._allowedDirectionValue=K:this._isDirection(U)&&t.vertical?this._allowedDirectionValue=U:this._allowedDirectionValue=null},_allowedDirection:function(){return this._allowedDirectionValue},_container:function(){return this._$container},$content:function(){return this._$content},content:function(){return(0,f.getPublicElement)(this._$content)},scrollOffset:function(){var t=this._location();return{top:-t.top,left:-t.left}},scrollTop:function(){return this.scrollOffset().top},scrollLeft:function(){return this.scrollOffset().left},clientHeight:function(){return this._$container.height()},scrollHeight:function(){return this.$content().outerHeight()-2*this._strategy.verticalOffset()},clientWidth:function(){return this._$container.width()},scrollWidth:function(){return this.$content().outerWidth()},update:function(){if(this._strategy)return(0,P.when)(this._strategy.update()).done(function(){this._updateAllowedDirection()}.bind(this))},scrollBy:function(t){((t=this._normalizeLocation(t)).top||t.left)&&(this._updateIfNeed(),this._strategy.scrollBy(t))},scrollTo:function(t){t=this._normalizeLocation(t),this._updateIfNeed();var e=this._location();this.option("useNative")||(t=this._strategy._applyScaleRatio(t),e=this._strategy._applyScaleRatio(e));var i=this._normalizeLocation({left:e.left-c.default.ensureDefined(t.left,e.left),top:e.top-c.default.ensureDefined(t.top,e.top)});(i.top||i.left)&&this._strategy.scrollBy(i)},scrollToElement:function(t,i){var n=(0,e.default)(t),a=this.$content().find(t).length,o=n.parents("."+R).length-n.parents("."+W).length==0;if(a&&o){var l={top:0,left:0},s=this.option("direction");s!==U&&(l.left=this.getScrollElementPosition(n,K,i)),s!==K&&(l.top=this.getScrollElementPosition(n,U,i)),this.scrollTo(l)}},getScrollElementPosition:function(t,e,i){i=i||{};var n=e===U,a=(n?i.top:i.left)||0,o=(n?i.bottom:i.right)||0,l=n?this._strategy.verticalOffset():0,s=this._elementPositionRelativeToContent(t,n?"top":"left")-l,r=t[n?"outerHeight":"outerWidth"](),c=n?this.scrollTop():this.scrollLeft(),d=c-s+a,u=c-s-r+(n?this.clientHeight():this.clientWidth())-o;return d<=0&&u>=0?c:c-(Math.abs(d)>Math.abs(u)?u:d)},_elementPositionRelativeToContent:function(t,e){for(var i=0;this._hasScrollContent(t);)i+=t.position()[e],t=t.offsetParent();return i},_hasScrollContent:function(t){var e=this.$content();return t.closest(e).length&&!t.is(e)},_updateIfNeed:function(){this.option("updateManually")||this.update()}});(0,y.default)(M,G),module.exports=G,module.exports.deviceDependentOptions=F;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/utils/support":"eZC7","../../core/utils/browser":"nlvS","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","../../core/utils/dom":"vDwZ","../../core/utils/window":"NXH3","../../core/dom_adapter":"RRDy","../../core/devices":"LpzF","../../core/component_registrator":"g3fO","../../core/dom_component":"Jnhm","../widget/selectors":"m3d1","../../events/utils":"cNvJ","./ui.events.emitter.gesture.scroll":"SrQ4","./ui.scrollable.simulated":"WzLf","./ui.scrollable.native":"lcP1","../../core/utils/deferred":"g5TB"}],"IQCY":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=y(e),n=require("../../core/utils/window"),o=require("../../events/core/events_engine"),i=y(o),r=require("../../core/utils/common"),l=require("../../core/utils/style"),a=y(l),s=require("../../core/utils/type"),d=require("../../core/utils/iterator"),u=require("../../core/utils/extend"),c=require("../../core/utils/string"),h=require("../../core/utils/position"),g=require("../../core/utils/data"),p=require("./ui.grid_core.utils"),f=require("./ui.grid_core.columns_view"),m=y(f),_=require("../scroll_view/ui.scrollable"),w=y(_),C=require("../../core/remove_event"),v=y(C),b=require("../../localization/message"),x=y(b),T=require("../../core/utils/browser"),R=y(T);function y(e){return e&&e.__esModule?e:{default:e}}var E="rowsview",I="content",S="nowrap",D="dx-group-row",L="dx-group-cell",H="dx-data-row",W="dx-freespace-row",B="dx-row-lines",k="dx-column-lines",P="dx-row-alt",M="dx-last-row-border",q="dx-empty",O="row-inserted-animation",A=200;module.exports={defaultOptions:function(){return{hoverStateEnabled:!1,scrolling:{useNative:"auto"},loadPanel:{enabled:"auto",text:x.default.format("Loading"),width:200,height:90,showIndicator:!0,indicatorSrc:"",showPane:!0},rowTemplate:null,columnAutoWidth:!1,noDataText:x.default.format("dxDataGrid-noDataText"),wordWrapEnabled:!1,showColumnLines:!0,showRowLines:!1,rowAlternationEnabled:!1,activeStateEnabled:!1,twoWayBindingEnabled:!0}},views:{rowsView:m.default.ColumnsView.inherit(function(){var e=function(e,t){var n=(0,c.isEmpty)(t.text)&&"data"===t.rowType,o=t.text,i=e.get(0);n?(0,p.setEmptyText)(e):t.column.encodeHtml?i.textContent=o:i.innerHTML=o},o=function(e){var t=e.getScrollable();return t?Math.ceil(parseFloat(t.$content().css("paddingBottom"))):0};return{_getDefaultTemplate:function(t){switch(t.command){case"empty":return function(e){e.html("&nbsp;")};default:return e}},_getDefaultGroupTemplate:function(e){var t=this.option("summary.texts");return function(n,o){var i=o.data,r=o.column.caption+": "+o.text,l=n.get(0);o.summaryItems&&o.summaryItems.length&&(r+=" "+(0,p.getGroupRowSummaryText)(o.summaryItems,t)),i&&(o.groupContinuedMessage&&o.groupContinuesMessage?r+=" ("+o.groupContinuedMessage+". "+o.groupContinuesMessage+")":o.groupContinuesMessage?r+=" ("+o.groupContinuesMessage+")":o.groupContinuedMessage&&(r+=" ("+o.groupContinuedMessage+")")),n.addClass(L),e.encodeHtml?l.textContent=r:l.innerHTML=r}},_update:function(){},_getCellTemplate:function(e){var t=e.column;return"group"!==e.rowType||!(0,s.isDefined)(t.groupIndex)||t.showWhenGrouped||t.command?("data"===e.rowType||t.command)&&t.cellTemplate?t.cellTemplate:{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(t)}:t.groupCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultGroupTemplate(t)}},_createRow:function(e){var t,n,o,i=this.callBase(e);return e&&(t="group"===e.rowType,(n="data"===e.rowType)&&i.addClass(H),n&&this.option("showRowLines")&&i.addClass(B),this.option("showColumnLines")&&i.addClass(k),!1===e.visible&&i.hide(),t&&(i.addClass(D),o=e.isExpanded,this.setAria("role","row",i),this.setAria("expanded",(0,s.isDefined)(o)&&o.toString(),i))),i},_rowPrepared:function(e,t,n){var o=this;if("data"===t.rowType){if(this.option("rowAlternationEnabled")){var i=function(){return n.dataIndex%2==1};i()&&e.addClass(P),t.watch&&t.watch(i,function(t){e.toggleClass(P,t)})}this._setAriaRowIndex(t,e),t.watch&&t.watch(function(){return t.rowIndex},function(){return o._setAriaRowIndex(t,e)})}this.callBase.apply(this,arguments)},_setAriaRowIndex:function(e,t){var n=this.component,o="standard"===n.option("scrolling.mode")&&"virtual"!==n.option("scrolling.rowRenderingMode"),i=e.rowIndex+1;o?i=n.pageIndex()*n.pageSize()+i:i+=this._dataController.getRowIndexOffset(),this.setAria("rowindex",i,t)},_afterRowPrepared:function(e){var t=this,n=e.args[0],o=this._dataController,r=o.getVisibleRows()[n.rowIndex],l=this.option("integrationOptions.watchMethod");if(n.data&&"data"===n.rowType&&!n.isNewRow&&this.option("twoWayBindingEnabled")&&l&&r){var a=l(function(){return o.generateDataValues(n.data,n.columns)},function(){o.repaintRows([r.rowIndex],t.option("repaintChangesOnly"))},{deep:!0,skipImmediate:!0});i.default.on(n.rowElement,v.default,a)}},_renderScrollable:function(e){var t=this.element();if(t.children().length||t.append("<div>"),!e&&this._loadPanel||this._renderLoadPanel(t,t.parent(),this._dataController.isLocalStore()),(e||!this.getScrollable())&&this._dataController.isLoaded()){for(var n=this.getColumns(),o=!0,i=0;i<n.length;i++)if(!n[i].width&&!n[i].minWidth){o=!1;break}(this.option("columnAutoWidth")||this._hasHeight||o||this._columnsController._isColumnFixing())&&this._renderScrollableCore(t)}},_handleScroll:function(e){this._isScrollByEvent=!!e.event,this._scrollTop=e.scrollOffset.top,this._scrollLeft=e.scrollOffset.left,this.scrollChanged.fire(e.scrollOffset,this.name)},_renderScrollableCore:function(e){var t=this._createScrollableOptions(),n=this._handleScroll.bind(this);t.onScroll=n,t.onStop=n,this._scrollable=this._createComponent(e,w.default,t),this._scrollableContainer=this._scrollable&&this._scrollable._$container},_renderLoadPanel:p.renderLoadPanel,_renderContent:function(e,n){return e.replaceWith((0,t.default)("<div>").addClass(this.addWidgetPrefix(I)).append(n)),this._findContentElement()},_updateContent:function(e,t){var n=this,o=n._getTableElement(),i=n._findContentElement(),r=t&&t.changeType,l=[],a=this.option("highlightChanges"),u=this.addWidgetPrefix(O);switch(r){case"update":(0,d.each)(t.rowIndices,function(i,r){var d=n._getRowElements(e).eq(i),c=t.changeTypes&&t.changeTypes[i],h=t.items&&t.items[i];l.push(function(){var e=n._getRowElements(),l=e.eq(r);switch(c){case"update":if(h){var g=t.columnIndices&&t.columnIndices[i];(0,s.isDefined)(h.visible)&&h.visible!==l.is(":visible")?l.toggle(h.visible):g?n._updateCells(l,d,g):l.replaceWith(d)}break;case"insert":e.length?l.length?d.insertBefore(l):d.insertAfter(e.last()):d.prependTo(o.children("tbody")),a&&t.isLiveUpdate&&d.addClass(u);break;case"remove":l.remove()}})}),(0,d.each)(l,function(){this()}),e.remove();break;default:n._setTableElement(e),i.addClass(n.addWidgetPrefix(I)),n._renderContent(i,e)}},_createEmptyRow:function(e,t,n){var o,i,r=this._createRow(),l=t?this.getFixedColumns():this.getColumns();for(r.addClass(e).toggleClass(k,this.option("showColumnLines")),o=0;o<l.length;o++)i=this._createCell({column:l[o],rowType:"freeSpace",columnIndex:o,columns:l}),(0,s.isNumeric)(n)&&i.css("height",n),r.append(i);return this.setAria("role","presentation",r),r},_appendEmptyRow:function(e,t,n){var o=this._getBodies(e),i=o.length&&!t.is("tbody")?o:e;"top"===n?i.first().prepend(t):i.last().append(t)},_renderFreeSpaceRow:function(e){var t=this._createEmptyRow(W);t=this._wrapRowIfNeed(e,t),this._appendEmptyRow(e,t)},_checkRowKeys:function(e){var t=this,n=t._getRows(e),o=t._dataController.store()&&t._dataController.store().key();o&&n.some(function(e){if("data"===e.rowType&&void 0===e.key)return t._dataController.fireError("E1046",o),!0})},_needUpdateRowHeight:function(e){return e>0&&!this._rowHeight},_getRowsHeight:function(e){return e.children("tbody").children().not(".dx-virtual-row").not("."+W).toArray().reduce(function(e,t){return e+t.getBoundingClientRect().height},0)},_updateRowHeight:function(){var e,t=this._getTableElement(),n=this._dataController.items().length;t&&this._needUpdateRowHeight(n)&&(e=this._getRowsHeight(t),this._rowHeight=e/n)},_findContentElement:function(){var e=this.element(),t=this.getScrollable();if(e)return t&&(e=t.$content()),e.children().first()},_getRowElements:function(e){var t=this.callBase(e);return t&&t.not("."+W)},_getFreeSpaceRowElements:function(e){var t=e||this.getTableElements();return t&&t.children("tbody").children("."+W)},_getNoDataText:function(){return this.option("noDataText")},_rowClick:function(e){var t=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowClick",(0,u.extend)({evaluate:function(e){return(0,g.compileGetter)(e)(t.data)}},e,t))},_rowDblClick:function(e){var t=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowDblClick",(0,u.extend)({},e,t))},_getColumnsCountBeforeGroups:function(e){for(var t=0;t<e.length;t++)if("groupExpand"===e[t].type)return t;return 0},_getGroupCellOptions:function(e){var t=this._getColumnsCountBeforeGroups(e.columns),n=(e.row.groupIndex||0)+t;return{columnIndex:n,colspan:e.columns.length-n-1}},_renderCells:function(e,t){"group"===t.row.rowType?this._renderGroupedCells(e,t):t.row.values&&this.callBase(e,t)},_renderGroupedCells:function(e,t){var n,o,i,r,l,a=t.row,s=t.columns,d=a.rowIndex,c=this._getGroupCellOptions(t);for(n=0;n<=c.columnIndex;n++)n===c.columnIndex&&s[n].allowCollapsing&&"infinite"!==t.scrollingMode?(i=!!a.isExpanded,o=s[n]):(i=null,o={command:"expand",cssClass:s[n].cssClass}),this._renderCell(e,{value:i,row:a,rowIndex:d,column:o,columnIndex:n});l=(0,h.getDefaultAlignment)(this.option("rtlEnabled")),r=(0,u.extend)({},s[c.columnIndex],{command:null,cssClass:null,width:null,showWhenGrouped:!1,alignment:l}),c.colspan>1&&(r.colspan=c.colspan),this._renderCell(e,{value:a.values[a.groupIndex],row:a,rowIndex:d,column:r,columnIndex:c.columnIndex})},_renderRows:function(e,t){var n=this.option("scrolling.mode");this.callBase(e,(0,u.extend)({scrollingMode:n},t)),this._checkRowKeys(t.change),this._renderFreeSpaceRow(e),this._hasHeight||this.updateFreeSpaceRowHeight(e)},_renderRow:function(e,t){var n=t.row,o=this.option("rowTemplate");"data"!==n.rowType&&"group"!==n.rowType||(0,s.isDefined)(n.groupIndex)||!o?this.callBase(e,t):this.renderTemplate(e,o,(0,u.extend)({columns:t.columns},n),!0)},_renderTable:function(e){var t=this,o=t.callBase(e);return(0,s.isDefined)(t._getTableElement())?t._renderScrollable():(t._setTableElement(o),t._renderScrollable(!0),t.resizeCompleted.add(function e(){var o=t.getScrollable();o&&t.element().closest((0,n.getWindow)().document).length&&(t.resizeCompleted.remove(e),o._visibilityChanged(!0))})),o},_createTable:function(){var e=this.callBase.apply(this,arguments);return this.option("rowTemplate")&&e.appendTo(this.component.$element()),e},_renderCore:function(e){var t,n=this.element();n.addClass(this.addWidgetPrefix(E)).toggleClass(this.addWidgetPrefix(S),!this.option("wordWrapEnabled")),n.toggleClass(q,0===this._dataController.items().length),this.setAria("role","presentation",n),t=this._renderTable({change:e}),this._updateContent(t,e),this.callBase(e),this._lastColumnWidths=null},_getRows:function(e){return e&&e.items||this._dataController.items()},_getCellOptions:function(e){var t,n,o,i=e.column,r=e.row,l=r.data,a=r&&r.summaryCells,d=e.value,u=(0,p.getDisplayValue)(i,d,l,r.rowType);return(t=this.callBase(e)).value=d,t.oldValue=e.oldValue,t.displayValue=u,t.row=r,t.key=r.key,t.data=l,t.rowType=r.rowType,t.values=r.values,t.text=i.command?"":(0,p.formatValue)(u,i),t.rowIndex=r.rowIndex,t.summaryItems=a&&a[e.columnIndex],t.resized=i.resizedCallbacks,(0,s.isDefined)(i.groupIndex)&&!i.command&&(n=this.option("grouping.texts"),"virtual"!==(o=this.option("scrolling.mode"))&&"infinite"!==o&&(t.groupContinuesMessage=l&&l.isContinuationOnNextPage&&n&&n.groupContinuesMessage,t.groupContinuedMessage=l&&l.isContinuation&&n&&n.groupContinuedMessage)),t},_setRowsOpacityCore:function(e,n,o,i){var r=this._columnsController,l=r.getColumns(),a=l&&l[o],u=a&&a.isBand&&a.index;(0,d.each)(e,function(l,a){if(!(0,t.default)(a).hasClass(D))for(var d=0;d<n.length&&(!((0,s.isNumeric)(u)&&r.isParentBandColumn(n[d].index,u)||n[d].index===o)||(e.eq(l).children().eq(d).css({opacity:i}),(0,s.isNumeric)(u)));d++);})},_getDevicePixelRatio:function(){return(0,n.getWindow)().devicePixelRatio},renderNoDataText:p.renderNoDataText,getCellOptions:function(e,t){var n,o,i=this._dataController.items()[e];return i&&(o=(0,s.isString)(t)?this._columnsController.columnOption(t):this._columnsController.getVisibleColumns()[t])&&(n=this._getCellOptions({value:o.calculateCellValue(i.data),rowIndex:i.rowIndex,row:i,column:o})),n},getRow:function(e){if(e>=0){var n=this._getRowElements();if(n.length>e)return(0,t.default)(n[e])}},updateFreeSpaceRowHeight:function(e){var t,n,i=this,l=i._dataController,s=l.items(!0).length,d=i._findContentElement(),u=i._getFreeSpaceRowElements(e);if(u&&d&&l.totalCount()>=0){var c=!1;s>0?i._hasHeight?(u.hide(),(0,r.deferUpdate)(function(){var t=o(i),n=i.getScrollbarWidth(!0),l=i.element().height()-n-t,a=l-d.outerHeight()>0,s=i._getRowsHeight(d.children().first()),h=e||i.getTableElements(),g=l-s-Math.ceil(parseFloat(h.css("borderTopWidth")))-(R.default.webkit&&i._getDevicePixelRatio()>=2?1:0);a&&(0,r.deferRender)(function(){u.css("height",g),c=!0,u.show()}),(0,r.deferRender)(function(){i._updateLastRowBorder(c)})})):(t=l.pageSize()-s,n=i.option("scrolling.mode"),t>0&&l.pageCount()>1&&"virtual"!==n&&"infinite"!==n&&(a.default.setHeight(u,t*i._rowHeight),c=!0),!c&&e?a.default.setHeight(u,0):u.toggle(c),i._updateLastRowBorder(c)):(u.css("height",0),u.show(),i._updateLastRowBorder(!0))}},_columnOptionChanged:function(e){var t=e.optionNames;e.changeTypes.grouping||(t.width||t.visibleWidth)&&(this.callBase(e),this._fireColumnResizedCallbacks())},getScrollable:function(){return this._scrollable},init:function(){var e=this,t=e.getController("data");e.callBase(),e._editorFactoryController=e.getController("editorFactory"),e._rowHeight=0,e._scrollTop=0,e._scrollLeft=-1,e._hasHeight=!1,t.loadingChanged.add(function(t,n){e.setLoading(t,n)}),t.dataSourceChanged.add(function(){e._scrollLeft>=0&&e._handleScroll({scrollOffset:{top:e._scrollTop,left:e._scrollLeft}})})},_handleDataChanged:function(e){switch(e.changeType){case"refresh":case"prepend":case"append":case"update":this.render(null,e);break;default:this._update(e)}},publicMethods:function(){return["isScrollbarVisible","getTopVisibleRowData","getScrollbarWidth","getCellElement","getRowElement","getScrollable"]},contentWidth:function(){return this.element().width()-this.getScrollbarWidth()},getScrollbarWidth:function(e){var t=this._scrollableContainer&&this._scrollableContainer.get(0),n=0;return t&&(e?(n=t.clientHeight?t.offsetHeight-t.clientHeight:0,n+=o(this)):n=t.clientWidth?t.offsetWidth-t.clientWidth:0),n>0?n:0},_fireColumnResizedCallbacks:function(){var e,t=this._lastColumnWidths||[],n=[],o=this.getColumns();for(e=0;e<o.length;e++)n[e]=o[e].visibleWidth,o[e].resizedCallbacks&&!(0,s.isDefined)(o[e].groupIndex)&&t[e]!==n[e]&&o[e].resizedCallbacks.fire(n[e]);this._lastColumnWidths=n},_updateLastRowBorder:function(e){this.option("showBorders")&&this.option("showRowLines")&&!e?this.element().addClass(M):this.element().removeClass(M)},_updateScrollable:function(){var e=w.default.getInstance(this.element());e&&(e.update(),this._updateHorizontalScrollPosition())},_updateHorizontalScrollPosition:function(){var e=this.getScrollable(),t=e&&e.scrollOffset().left;this._scrollLeft>=0&&t!==this._scrollLeft&&e.scrollTo({x:this._scrollLeft})},_resizeCore:function(){var e=this;e._fireColumnResizedCallbacks(),e._updateRowHeight(),(0,r.deferRender)(function(){e._renderScrollable(),e.renderNoDataText(),e.updateFreeSpaceRowHeight(),(0,r.deferUpdate)(function(){e._updateScrollable()})})},scrollTo:function(e){var t=this.element(),n=t&&w.default.getInstance(t);n&&n.scrollTo(e)},height:function(e,t){var n=this.element();if(0===arguments.length)return n?n.outerHeight(!0):0;this._hasHeight=void 0===t?"auto"!==e:t,(0,s.isDefined)(e)&&n&&a.default.setHeight(n,e)},setLoading:function(e,t){var o,i=this._loadPanel,r=this._dataController,l=this.option("loadPanel")||{},a=r.isLoaded()?l.animation:null,s=this.element();(0,n.hasWindow)()&&(!i&&void 0!==t&&r.isLocalStore()&&"auto"===l.enabled&&s&&(this._renderLoadPanel(s,s.parent()),i=this._loadPanel),i&&(o={message:t||l.text,animation:a,visible:e},clearTimeout(this._hideLoadingTimeoutID),i.option("visible")&&!e?this._hideLoadingTimeoutID=setTimeout(function(){i.option(o)},A):i.option(o)))},setRowsOpacity:function(e,t){var n=this._getRowElements().not("."+D)||[];this._setRowsOpacityCore(n,this.getColumns(),e,t)},_getCellElementsCore:function(e){var t,n=this.callBase(e);return n&&(t=n.filter("."+L).index())>=0&&n.length>t+1?n.slice(0,t+1):n},getTopVisibleItemIndex:function(e){var t,n,o=0,i=0,r=0,l=this._scrollTop,a=this._findContentElement(),s=a&&a.offset().top,d=this._dataController.items(),u=this._getTableElement();if(d.length&&u){for(t=this._getRowElements(u).filter(":visible"),o=0;o<d.length;o++)if(i=r,(n=t.eq(o)).length&&(r=n.offset().top-s)>l){o&&(e||2*l<Math.round(r+i))&&o--;break}o&&o===d.length&&o--}return o},getTopVisibleRowData:function(){var e=this.getTopVisibleItemIndex(),t=this._dataController.items();if(t[e])return t[e].data},_scrollToElement:function(e,t){var n=this.getScrollable();n&&n.scrollToElement(e,t)},optionChanged:function(e){switch(this.callBase(e),e.name){case"wordWrapEnabled":case"showColumnLines":case"showRowLines":case"rowAlternationEnabled":case"rowTemplate":case"twoWayBindingEnabled":this._invalidate(!0,!0),e.handled=!0;break;case"scrolling":this._rowHeight=null,this._tableElement=null,e.handled=!0;break;case"rtlEnabled":this._rowHeight=null,this._tableElement=null;break;case"loadPanel":this._tableElement=null,this._invalidate(!0,"loadPanel.enabled"!==e.fullName),e.handled=!0;break;case"noDataText":this.renderNoDataText(),e.handled=!0}},dispose:function(){clearTimeout(this._hideLoadingTimeoutID),this._scrollable&&this._scrollable.dispose()},setScrollerSpacing:function(){}}}())}};
},{"../../core/renderer":"qxFQ","../../core/utils/window":"NXH3","../../events/core/events_engine":"oNrb","../../core/utils/common":"GcQA","../../core/utils/style":"DyYH","../../core/utils/type":"Mw4w","../../core/utils/iterator":"FHcO","../../core/utils/extend":"ac8T","../../core/utils/string":"X4J5","../../core/utils/position":"Zh3q","../../core/utils/data":"YLhW","./ui.grid_core.utils":"kk68","./ui.grid_core.columns_view":"G3QA","../scroll_view/ui.scrollable":"tHRk","../../core/remove_event":"zNXU","../../localization/message":"Njcj","../../core/utils/browser":"nlvS"}],"a7FF":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=i(e),n=require("./ui.tree_list.core"),r=i(n),a=require("../grid_core/ui.grid_core.rows"),d=i(a);function i(e){return e&&e.__esModule?e:{default:e}}var s="dx-treelist-text-content",l="dx-treelist-icon-container",o="dx-treelist-cell-expandable",u="dx-treelist-empty-space",c="dx-treelist-expanded",p="dx-treelist-collapsed";exports.RowsView=d.default.views.rowsView.inherit(function(){var e=function(e,n){for(var r,a,d,i=n.level,s=0;s<=i;s++)e.append((r=s===i&&n.node.hasChildren,a=n.isExpanded,d=void 0,d=(0,t.default)("<div>").addClass(u),r&&d.toggleClass(c,a).toggleClass(p,!a).append((0,t.default)("<span>")),d))};return{_renderExpandIcon:function(n,r){var a=(0,t.default)("<div>").addClass(l).appendTo(n);return e(a,r.row),r.watch&&r.watch(function(){return[r.row.level,r.row.isExpanded,r.row.node.hasChildren]},function(){a.empty(),e(a,r.row)}),n.addClass(o),a},_renderCellCommandContent:function(e,t){return this._renderExpandIcon(e,t),!0},_processTemplate:function(e,n){var r=this,a=this.callBase(e),d=r._columnsController.getFirstDataColumnIndex();return a&&n.column.index===d?{render:function(e){var n=e.container;r._renderCellCommandContent(n,e.model)&&(e.container=function(e){return(0,t.default)("<div>").addClass(s).appendTo(e)}(n)),a.render(e)}}:a},_updateCell:function(e,t){e=e.hasClass(s)?e.parent():e,this.callBase(e,t)},_rowClick:function(e){var n=this._dataController,r=(0,t.default)(e.event.target),a=this.isExpandIcon(r),d=n&&n.items()[e.rowIndex];a&&d&&n.changeRowExpand(d.key),this.callBase(e)},_createRow:function(e){var t=e&&e.node,n=this.callBase.apply(this,arguments);return t&&(this.setAria("level",e.level,n),t.hasChildren&&this.setAria("expanded",e.isExpanded,n)),n},isExpandIcon:function(e){return!!e.closest("."+c+", ."+p).length}}}()),r.default.registerModule("rows",{defaultOptions:d.default.defaultOptions,views:{rowsView:exports.RowsView}});
},{"../../core/renderer":"qxFQ","./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.rows":"IQCY"}],"NDxX":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),i="dx-inkripple",n="dx-inkripple-wave",t="dx-inkripple-showing",a="dx-inkripple-hiding",r=2,s=4e3,o=300,d=1e3,u=0,h=function(e){void 0===(e=e||{}).useHoldAnimation&&(e.useHoldAnimation=!0);var i={waveSizeCoefficient:e.waveSizeCoefficient||r,isCentered:e.isCentered||!1,wavesNumber:e.wavesNumber||1,durations:g(e.useHoldAnimation)};return{showWave:v.bind(this,i),hideWave:w.bind(this,i)}},l=function(n){var t=n.children("."+i);return 0===t.length&&(t=e("<div>").addClass(i).appendTo(n)),t},c=function(i,t){for(var a=l(i),r=a.children("."+n).toArray(),s=r.length;s<t;s++){var o=e("<div>").appendTo(a).addClass(n);r.push(o[0])}return e(r)},m=function(e,i){var n,t,a=i.element,r=a.outerWidth(),o=a.outerHeight(),d=parseInt(Math.sqrt(r*r+o*o)),u=Math.min(s,parseInt(d*e.waveSizeCoefficient));if(e.isCentered)n=(r-u)/2,t=(o-u)/2;else{var h=i.event,l=i.element.offset();n=h.pageX-l.left-u/2,t=h.pageY-l.top-u/2}return{left:n,top:t,height:u,width:u}},v=function(e,i){var n=c(i.element,e.wavesNumber).eq(i.wave||u);e.hidingTimeout&&clearTimeout(e.hidingTimeout),f(n),n.css(m(e,i)),e.showingTimeout=setTimeout(p.bind(this,e,n),0)},p=function(e,i){var n=e.durations.showingScale+"ms";i.addClass(t).css("transitionDuration",n)},g=function(e){return{showingScale:e?d:o,hidingScale:o,hidingOpacity:o}},f=function(e){e.removeClass(a).css("transitionDuration","")},w=function(e,i){e.showingTimeout&&clearTimeout(e.showingTimeout);var n=c(i.element,i.wavesNumber).eq(i.wave||u),r=e.durations,s=r.hidingScale+"ms, "+r.hidingOpacity+"ms";n.addClass(a).removeClass(t).css("transitionDuration",s);var o=Math.max(r.hidingScale,r.hidingOpacity);e.hidingTimeout=setTimeout(f.bind(this,n),o)};module.exports={render:h};
},{"../../core/renderer":"qxFQ"}],"W6A0":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=s(e);function s(e){return e&&e.__esModule?e:{default:e}}var r="dx-icon",a="dx-svg-icon",n=function(e){return!(!e||"string"!=typeof e)&&(/^\s*<svg[^>]*>(.|\r\n|\r|\n)*?<\/svg>\s*$/i.test(e)?"svg":/data:.*base64|\.|[^<\s]\//.test(e)?"image":/^[\w-_]+$/.test(e)?"dxIcon":!!/^\s?([\w-_]\s?)+$/.test(e)&&"fontIcon")},d=function(e){switch(n(e)){case"image":return(0,t.default)("<img>").attr("src",e).addClass(r);case"fontIcon":return(0,t.default)("<i>").addClass(r+" "+e);case"dxIcon":return(0,t.default)("<i>").addClass(r+" "+r+"-"+e);case"svg":return(0,t.default)("<i>").addClass(r+" "+a).append(e);default:return null}};exports.getImageSourceType=n,exports.getImageContainer=d;
},{"../../core/renderer":"qxFQ"}],"nnGl":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=o(e),r=require("../../core/utils/type"),n=require("../../core/utils/browser"),i=o(n),u=require("../../core/dom_adapter"),a=o(u);function o(e){return e&&e.__esModule?e:{default:e}}var c=i.default.msie||i.default.safari,d=function(e){var t=void 0;try{t={start:e.selectionStart,end:e.selectionEnd}}catch(r){t={start:0,end:0}}return t},s=function(e,t){if(a.default.getBody().contains(e))try{e.selectionStart=t.start,e.selectionEnd=t.end}catch(r){}},l=function(e,n){if(e=(0,t.default)(e).get(0),!(0,r.isDefined)(n))return d(e);c&&a.default.getActiveElement()!==e||s(e,n)};module.exports=l;
},{"../../core/renderer":"qxFQ","../../core/utils/type":"Mw4w","../../core/utils/browser":"nlvS","../../core/dom_adapter":"RRDy"}],"X5o6":[function(require,module,exports) {
"use strict";var t=require("../../core/class"),e=require("../../core/utils/extend").extend,r=require("../../core/utils/array").inArray,n=require("../../core/utils/type"),i=require("../../core/utils/common").noop,s=n.isFunction,a=" ",u=t.inherit({ctor:function(t){this._value=a,e(this,t)},next:function(t){if(!arguments.length)return this._next;this._next=t},text:i,value:i,rawValue:i,handle:i,_prepareHandlingArgs:function(t,e){e=e||{};var r=Object.prototype.hasOwnProperty.call(t,"value")?"value":"text";return t[r]=n.isDefined(e.str)?e.str:t[r],t.start=n.isDefined(e.start)?e.start:t.start,t.length=n.isDefined(e.length)?e.length:t.length,t.index=t.index+1,t},reset:i,clear:i,first:function(t){return t=t||0,this.next().first(t+1)},isAccepted:function(){return!1},adjustedCaret:function(t,e,r){return e?this._adjustedForward(t,0,r):this._adjustedBackward(t,0,r)},_adjustedForward:i,_adjustedBackward:i,isValid:i}),l=u.inherit({next:i,handle:function(){return 0},text:function(){return""},value:function(){return""},first:function(){return 0},rawValue:function(){return""},adjustedCaret:function(){return 0},isValid:function(){return!0}}),h=u.inherit({text:function(){return(this._value!==a?this._value:this.maskChar)+this.next().text()},value:function(){return this._value+this.next().value()},rawValue:function(){return this._value+this.next().rawValue()},handle:function(t){var e=Object.prototype.hasOwnProperty.call(t,"value")?t.value:t.text;if(!e||!e.length||!t.length)return 0;if(t.start)return this.next().handle(this._prepareHandlingArgs(t,{start:t.start-1}));var r=e[0],n=e.substring(1);return this._tryAcceptChar(r,t),this._accepted()?this.next().handle(this._prepareHandlingArgs(t,{str:n,length:t.length-1}))+1:this.handle(this._prepareHandlingArgs(t,{str:n,length:t.length-1}))},clear:function(t){this._tryAcceptChar(a,t),this.next().clear(this._prepareHandlingArgs(t))},reset:function(){this._accepted(!1),this.next().reset()},_tryAcceptChar:function(t,e){if(this._accepted(!1),this._isAllowed(t,e)){var r=t===a?this.maskChar:t;e.fullText=e.fullText.substring(0,e.index)+r+e.fullText.substring(e.index+1),this._accepted(!0),this._value=t}},_accepted:function(t){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!t},first:function(t){return this._value===a?t||0:this.callBase(t)},_isAllowed:function(t,e){return t===a||this._isValid(t,e)},_isValid:function(t,e){var n=this.allowedChars;return n instanceof RegExp?n.test(t):s(n)?n(t,e.index,e.fullText):Array.isArray(n)?r(t,n)>-1:n===t},isAccepted:function(t){return 0===t?this._accepted():this.next().isAccepted(t-1)},_adjustedForward:function(t,e,r){return e>=t?e:this.next()._adjustedForward(t,e+1,r)||e+1},_adjustedBackward:function(t,e){return e>=t-1?t:this.next()._adjustedBackward(t,e+1)||e+1},isValid:function(t){return this._isValid(this._value,t)&&this.next().isValid(this._prepareHandlingArgs(t))}}),c=h.inherit({value:function(){return this.next().value()},handle:function(t){var e=Object.prototype.hasOwnProperty.call(t,"value"),r=e?t.value:t.text;if(!r.length||!t.length)return 0;if(t.start||e)return this.next().handle(this._prepareHandlingArgs(t,{start:t.start&&t.start-1}));var n=r[0],i=r.substring(1);this._tryAcceptChar(n);var s=this._isAllowed(n)?this._prepareHandlingArgs(t,{str:i,length:t.length-1}):t;return this.next().handle(s)+1},clear:function(t){this._accepted(!1),this.next().clear(this._prepareHandlingArgs(t))},_tryAcceptChar:function(t){this._accepted(this._isValid(t))},_isValid:function(t){return t===this.maskChar},first:function(t){return t=t||0,this.next().first(t+1)},_adjustedForward:function(t,e,r){return e>=t&&r===this.maskChar?e:t===e+1&&this._accepted()?t:this.next()._adjustedForward(t,e+1,r)},_adjustedBackward:function(t,e){return e>=t-1?0:this.next()._adjustedBackward(t,e+1)},isValid:function(t){return this.next().isValid(this._prepareHandlingArgs(t))}});module.exports.MaskRule=h,module.exports.StubMaskRule=c,module.exports.EmptyMaskRule=l;
},{"../../core/class":"YpjV","../../core/utils/extend":"ac8T","../../core/utils/array":"uivT","../../core/utils/type":"Mw4w","../../core/utils/common":"GcQA"}],"E8TJ":[function(require,module,exports) {
"use strict";var e=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),t=require("../core/class"),i=y(t),a=require("../core/utils/extend"),r=require("../core/utils/array"),n=require("../core/utils/iterator"),o=require("../core/events_mixin"),l=y(o),u=require("../core/errors"),s=y(u),d=require("../core/utils/common"),f=require("../core/utils/type"),v=y(f),c=require("../localization/number"),h=y(c),p=require("../localization/message"),g=y(p),_=require("../core/polyfills/promise"),m=y(_),V=require("../core/utils/deferred");function y(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var k={valid:"valid",invalid:"invalid",pending:"pending"},I=function(){function t(){R(this,t),this.NAME="base"}return e(t,[{key:"defaultMessage",value:function(e){return g.default.getFormatter("validation-"+this.NAME)(e)}},{key:"defaultFormattedMessage",value:function(e){return g.default.getFormatter("validation-"+this.NAME+"-formatted")(e)}},{key:"_isValueEmpty",value:function(e){return!S.required.validate(e,{})}},{key:"validate",value:function(e,t){var i=this,a=Array.isArray(e)?e:[e],r=!0;return a.length?a.every(function(e){return r=i._validate(e,t)}):r=this._validate(null,t),r}}]),t}(),w=function(t){function i(){R(this,i);var e=E(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e.NAME="required",e}return b(i,I),e(i,[{key:"_validate",value:function(e,t){return!!v.default.isDefined(e)&&(!1!==e&&(e=String(e),!t.trim&&v.default.isDefined(t.trim)||(e=e.trim()),""!==e))}}]),i}(),C=function(t){function i(){R(this,i);var e=E(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e.NAME="numeric",e}return b(i,I),e(i,[{key:"_validate",value:function(e,t){return!(!1===t.ignoreEmptyValue||!this._isValueEmpty(e))||(t.useCultureSettings&&v.default.isString(e)?!isNaN(h.default.parse(e)):v.default.isNumeric(e))}}]),i}(),O=function(t){function i(){R(this,i);var e=E(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e.NAME="range",e}return b(i,I),e(i,[{key:"_validate",value:function(e,t){if(!1!==t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;var i=S.numeric.validate(e,t),a=v.default.isDefined(e)&&""!==e,r=i?parseFloat(e):a&&e.valueOf(),n=t.min,o=t.max;if(!i&&!v.default.isDate(e)&&!a)return!1;if(v.default.isDefined(n))return v.default.isDefined(o)?r>=n&&r<=o:r>=n;if(v.default.isDefined(o))return r<=o;throw s.default.Error("E0101")}}]),i}(),A=function(t){function i(){R(this,i);var e=E(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e.NAME="stringLength",e}return b(i,I),e(i,[{key:"_validate",value:function(e,t){return e=v.default.isDefined(e)?String(e):"",!t.trim&&v.default.isDefined(t.trim)||(e=e.trim()),!(!t.ignoreEmptyValue||!this._isValueEmpty(e))||S.range.validate(e.length,(0,a.extend)({},t))}}]),i}(),P=function(t){function i(){R(this,i);var e=E(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e.NAME="custom",e}return b(i,I),e(i,[{key:"validate",value:function(e,t){if(t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;var i=t.validator,r=i&&v.default.isFunction(i.option)&&i.option("dataGetter"),n=v.default.isFunction(r)&&r(),o={value:e,validator:i,rule:t};return n&&(0,a.extend)(o,n),t.validationCallback(o)}}]),i}(),G=function(t){function i(){R(this,i);var e=E(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e.NAME="async",e}return b(i,P),e(i,[{key:"validate",value:function(e,t){if(v.default.isDefined(t.reevaluate)||(0,a.extend)(t,{reevaluate:!0}),t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;var i=t.validator,r=i&&v.default.isFunction(i.option)&&i.option("dataGetter"),n=v.default.isFunction(r)&&r(),o={value:e,validator:i,rule:t};n&&(0,a.extend)(o,n);var l=t.validationCallback(o);if(!v.default.isPromise(l))throw s.default.Error("E0103");return this._getWrappedPromise((0,V.fromPromise)(l).promise())}},{key:"_getWrappedPromise",value:function(e){var t=new V.Deferred;return e.then(function(e){t.resolve(e)},function(e){var i={isValid:!1};v.default.isDefined(e)&&(v.default.isString(e)?i.message=e:v.default.isObject(e)&&v.default.isDefined(e.message)&&v.default.isString(e.message)&&(i.message=e.message)),t.resolve(i)}),t.promise()}}]),i}(),D=function(t){function i(){R(this,i);var e=E(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e.NAME="compare",e}return b(i,I),e(i,[{key:"_validate",value:function(e,t){if(!t.comparisonTarget)throw s.default.Error("E0102");if(t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;(0,a.extend)(t,{reevaluate:!0});var i=t.comparisonTarget();switch(t.comparisonType||"=="){case"==":return e==i;case"!=":return e!=i;case"===":return e===i;case"!==":return e!==i;case">":return e>i;case">=":return e>=i;case"<":return e<i;case"<=":return e<=i}}}]),i}(),M=function(t){function i(){R(this,i);var e=E(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e.NAME="pattern",e}return b(i,I),e(i,[{key:"_validate",value:function(e,t){if(!1!==t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;var i=t.pattern;return v.default.isString(i)&&(i=new RegExp(i)),i.test(e)}}]),i}(),x=function(t){function i(){R(this,i);var e=E(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e.NAME="email",e}return b(i,I),e(i,[{key:"_validate",value:function(e,t){return!(!1===t.ignoreEmptyValue||!this._isValueEmpty(e))||S.pattern.validate(e,(0,a.extend)({},t,{pattern:/^[\d\w._-]+@([\d\w._-]+\.)+[\w]+$/i}))}}]),i}(),S={required:new w,numeric:new C,range:new O,stringLength:new A,custom:new P,async:new G,compare:new D,pattern:new M,email:new x},j=i.default.inherit({ctor:function(e){this.group=e,this.validators=[],this._pendingValidators=[],this._onValidatorStatusChanged=this._onValidatorStatusChanged.bind(this),this._resetValidationInfo()},validate:function(){var e=this,t={isValid:!0,brokenRules:[],validators:[],status:k.valid,complete:null};return this._unsubscribeFromAllChangeEvents(),this._pendingValidators=[],this._resetValidationInfo(),(0,n.each)(this.validators,function(i,a){var r=a.validate();t.isValid=t.isValid&&r.isValid,r.brokenRules&&(t.brokenRules=t.brokenRules.concat(r.brokenRules)),t.validators.push(a),r.status===k.pending&&e._addPendingValidator(a),e._subscribeToChangeEvents(a)}),this._pendingValidators.length?t.status=k.pending:(t.status=t.isValid?k.valid:k.invalid,this._unsubscribeFromAllChangeEvents(),this._raiseValidatedEvent(t)),this._updateValidationInfo(t),(0,a.extend)({},this._validationInfo.result)},_subscribeToChangeEvents:function(e){e.on("validating",this._onValidatorStatusChanged),e.on("validated",this._onValidatorStatusChanged)},_unsubscribeFromChangeEvents:function(e){e.off("validating",this._onValidatorStatusChanged),e.off("validated",this._onValidatorStatusChanged)},_unsubscribeFromAllChangeEvents:function(){var e=this;(0,n.each)(this.validators,function(t,i){e._unsubscribeFromChangeEvents(i)})},_updateValidationInfo:function(e){this._validationInfo.result=e,e.status===k.pending&&(this._validationInfo.deferred||(this._validationInfo.deferred=new V.Deferred,this._validationInfo.result.complete=this._validationInfo.deferred.promise()))},_addPendingValidator:function(e){(0,d.grep)(this._pendingValidators,function(t){return t===e})[0]||this._pendingValidators.push(e)},_removePendingValidator:function(e){var t=(0,r.inArray)(e,this._pendingValidators);t>=0&&this._pendingValidators.splice(t,1)},_orderBrokenRules:function(e){var t=[];return(0,n.each)(this.validators,function(i,a){var r=(0,d.grep)(e,function(e){return e.validator===a});r.length&&(t=t.concat(r))}),t},_updateBrokenRules:function(e){if(this._validationInfo.result){var t=this._validationInfo.result.brokenRules,i=(0,d.grep)(t,function(t){return t.validator!==e.validator});e.brokenRules&&(t=i.concat(e.brokenRules)),this._validationInfo.result.brokenRules=this._orderBrokenRules(t)}},_onValidatorStatusChanged:function(e){e.status!==k.pending?this._resolveIfComplete(e):this._addPendingValidator(e.validator)},_resolveIfComplete:function(e){if(this._removePendingValidator(e.validator),this._updateBrokenRules(e),!this._pendingValidators.length){if(this._unsubscribeFromAllChangeEvents(),!this._validationInfo.result)return;this._validationInfo.result.status=0===this._validationInfo.result.brokenRules.length?k.valid:k.invalid,this._validationInfo.result.isValid=this._validationInfo.result.status===k.valid;var t=(0,a.extend)({},this._validationInfo.result,{complete:null}),i=this._validationInfo.deferred;this._resetValidationInfo(),this._raiseValidatedEvent(t),i&&setTimeout(function(){i.resolve(t)})}},_raiseValidatedEvent:function(e){this.fireEvent("validated",[e])},_resetValidationInfo:function(){this._validationInfo={result:null,deferred:null}},_synchronizeValidationInfo:function(){this._validationInfo.result&&(this._validationInfo.result.validators=this.validators)},removeRegisteredValidator:function(e){var t=(0,r.inArray)(e,this.validators);t>-1&&(this.validators.splice(t,1),this._synchronizeValidationInfo(),this._resolveIfComplete({validator:e}))},registerValidator:function(e){(0,r.inArray)(e,this.validators)<0&&(this.validators.push(e),this._synchronizeValidationInfo())},reset:function(){(0,n.each)(this.validators,function(e,t){t.reset()}),this._pendingValidators=[],this._resetValidationInfo()}}).include(l.default),F={groups:[],getGroupConfig:function(e){var t=(0,d.grep)(this.groups,function(t){return t.group===e});if(t.length)return t[0]},findGroup:function(e,t){var i=e.parents(".dx-validationgroup").first();return i.length?i.dxValidationGroup("instance"):t},initGroups:function(){this.groups=[],this.addGroup()},addGroup:function(e){var t=this.getGroupConfig(e);return t||(t=new j(e),this.groups.push(t)),t},removeGroup:function(e){var t=this.getGroupConfig(e),i=(0,r.inArray)(t,this.groups);return i>-1&&this.groups.splice(i,1),t},_setDefaultMessage:function(e){var t=e.rule,i=e.validator,a=e.name;v.default.isDefined(t.message)||(i.defaultFormattedMessage&&v.default.isDefined(a)?t.message=i.defaultFormattedMessage(a):t.message=i.defaultMessage())},_addBrokenRule:function(e){var t=e.result,i=e.rule;t.brokenRule||(t.brokenRule=i),t.brokenRules||(t.brokenRules=[]),t.brokenRules.push(i)},validate:function(e,t,i){var a=this,r={name:i,value:e,brokenRule:null,brokenRules:null,isValid:!0,validationRules:t,pendingRules:null,status:k.valid,complete:null},o=[];return(0,n.each)(t||[],function(t,n){var l=S[n.type],u=void 0;if(!l)throw s.default.Error("E0100");return v.default.isDefined(n.isValid)&&n.value===e&&!n.reevaluate?!!n.isValid||(r.isValid=!1,a._addBrokenRule({result:r,rule:n}),!1):(n.value=e,"async"===n.type?(o.push({rule:n,ruleValidator:l}),!0):(u=l.validate(e,n),n.isValid=u,u||(r.isValid=!1,a._setDefaultMessage({rule:n,validator:l,name:i}),a._addBrokenRule({result:r,rule:n})),!!n.isValid&&void 0))}),r.isValid&&!r.brokenRules&&o.length&&(r=this._validateAsyncRules({value:e,items:o,result:r,name:i})),r.status=r.pendingRules?k.pending:r.isValid?k.valid:k.invalid,r},_validateAsyncRules:function(e){var t=this,i=e.result,a=e.value,r=e.items,o=e.name,l=[];return(0,n.each)(r,function(e,r){var n=r.ruleValidator.validate(a,r.rule);if(v.default.isPromise(n)){i.pendingRules||(i.pendingRules=[]),i.pendingRules.push(r.rule);var u=n.then(function(e){var i=t._getPatchedRuleResult(e);return t._updateRuleConfig({rule:r.rule,ruleResult:i,validator:r.ruleValidator,name:o}),i});l.push(u)}else t._updateRuleConfig({rule:r.rule,ruleResult:t._getPatchedRuleResult(n),validator:r.ruleValidator,name:o})}),l.length&&(i.complete=m.default.all(l).then(function(e){return t._getAsyncRulesResult({result:i,values:e})})),i},_updateRuleConfig:function(e){var t=e.rule,i=e.ruleResult,a=e.validator,r=e.name;t.isValid=i.isValid,i.isValid||(v.default.isDefined(i.message)&&v.default.isString(i.message)&&i.message.length?t.message=i.message:this._setDefaultMessage({rule:t,validator:a,name:r}))},_getPatchedRuleResult:function(e){var t=void 0;return v.default.isObject(e)?(t=(0,a.extend)({},e),v.default.isDefined(t.isValid)||(t.isValid=!0)):t={isValid:!v.default.isBoolean(e)||e},t},_getAsyncRulesResult:function(e){var t=this,i=e.values,a=e.result;return(0,n.each)(i,function(e,i){if(!1===i.isValid){a.isValid=i.isValid;var r=a.pendingRules[e];t._addBrokenRule({result:a,rule:r})}}),a.pendingRules=null,a.complete=null,a.status=a.isValid?k.valid:k.invalid,a},registerValidatorInGroup:function(e,t){var i=F.addGroup(e);i.registerValidator.call(i,t)},_shouldRemoveGroup:function(e,t){var i=void 0===e,a=e&&"dxValidationGroup"===e.NAME;return!i&&!a&&!t.length},removeRegisteredValidator:function(e,t){var i=F.getGroupConfig(e);if(i){i.removeRegisteredValidator.call(i,t);var a=i.validators;this._shouldRemoveGroup(e,a)&&this.removeGroup(e)}},initValidationOptions:function(e){var t=this,i={};if(e){["isValid","validationStatus","validationError","validationErrors"].forEach(function(r){r in e&&(0,a.extend)(i,t.synchronizeValidationOptions({name:r,value:e[r]},e))})}return i},synchronizeValidationOptions:function(e,t){var i=e.name,a=e.value;switch(i){case"validationStatus":var r=a===k.valid||a===k.pending;return t.isValid!==r?{isValid:r}:{};case"isValid":var n=t.validationStatus,o=n;return a&&n===k.invalid?o=k.valid:a||n===k.invalid||(o=k.invalid),o!==n?{validationStatus:o}:{};case"validationErrors":var l=a&&a.length?a[0]:null;return t.validationError!==l?{validationError:l}:{};case"validationError":var u=t.validationErrors;if(!a&&u)return{validationErrors:null};if(a&&!u)return{validationErrors:[a]};if(a&&u&&a!==u[0])return u[0]=a,{validationErrors:u.slice()}}return{}},validateGroup:function(e){var t=F.getGroupConfig(e);if(!t)throw s.default.Error("E0110");return t.validate()},resetGroup:function(e){var t=F.getGroupConfig(e);if(!t)throw s.default.Error("E0110");return t.reset()}};F.initGroups(),module.exports=F,module.exports.default=module.exports;
},{"../core/class":"YpjV","../core/utils/extend":"ac8T","../core/utils/array":"uivT","../core/utils/iterator":"FHcO","../core/events_mixin":"masj","../core/errors":"BdzT","../core/utils/common":"GcQA","../core/utils/type":"Mw4w","../localization/number":"mjsA","../localization/message":"Njcj","../core/polyfills/promise":"pHLT","../core/utils/deferred":"g5TB"}],"IJZF":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=b(e),i=require("../../core/element_data"),a=b(i),n=require("../../core/utils/callbacks"),s=b(n),o=require("../../core/utils/common"),l=b(o),r=require("../../core/utils/window"),d=b(r),u=require("../../events/utils"),h=require("../../core/utils/position"),c=require("../../core/utils/extend"),v=require("../../core/guid"),g=b(v),_=require("../widget/ui.widget"),p=b(_),f=require("../overlay"),m=b(f),M=require("../validation_engine"),C=b(M),V=require("../../events/core/events_engine"),y=b(V);function b(e){return e&&e.__esModule?e:{default:e}}var O="dx-state-readonly",B="dx-invalid",A="dx-invalid-message",E="dx-invalid-message-content",k="dx-invalid-message-auto",x="dx-invalid-message-always",w="dx-show-invalid-badge",S="dx-validation-target",T=100,$="valid",q="invalid",R="editorReadOnly",W=function(e){var t="";return e&&e.forEach(function(e){e.message&&(t+=(t?"<br />":"")+e.message)}),t},I=p.default.inherit({ctor:function(){this.showValidationMessageTimeout=null,this.validationRequest=(0,s.default)(),this.callBase.apply(this,arguments);var e=this.$element();e&&a.default.data(e[0],S,this)},_initOptions:function(e){this.callBase.apply(this,arguments),this.option(C.default.initValidationOptions(e))},_init:function(){this.callBase(),this._initInnerOptionCache("validationTooltipOptions"),this.$element().addClass(w)},_getDefaultOptions:function(){return(0,c.extend)(this.callBase(),{value:null,name:"",onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationErrors:null,validationStatus:$,validationMessageMode:"auto",validationBoundary:void 0,validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})},_attachKeyboardEvents:function(){this.option("readOnly")||(this.callBase(),this._keyboardProcessor&&this._attachChildKeyboardEvents())},_attachChildKeyboardEvents:l.default.noop,_setOptionsByReference:function(){this.callBase(),(0,c.extend)(this._optionsByReference,{validationError:!0})},_createValueChangeAction:function(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})},_suppressValueChangeAction:function(){this._valueChangeActionSuppressed=!0},_resumeValueChangeAction:function(){this._valueChangeActionSuppressed=!1},_initMarkup:function(){this._toggleReadOnlyState(),this._setSubmitElementName(this.option("name")),this.callBase(),this._renderValidationState()},_raiseValueChangeAction:function(e,t){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(e,t))},_valueChangeArgs:function(e,t){return{value:e,previousValue:t,event:this._valueChangeEventInstance}},_saveValueChangeEvent:function(e){this._valueChangeEventInstance=e},_focusInHandler:function(e){var t=this,i="auto"===this.option("validationMessageMode");return this._canValueBeChangedByClick()&&i&&(this._$validationMessage&&this._$validationMessage.removeClass(k),clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(function(){return t._$validationMessage&&t._$validationMessage.addClass(k)},150)),this.callBase(e)},_canValueBeChangedByClick:function(){return!1},_renderValidationState:function(){var e=this.option("isValid")&&this.option("validationStatus")!==q,i=this.option("validationMessageMode"),a=this.$element(),n=this.option("validationErrors");if(!n&&this.option("validationError")&&(n=[this.option("validationError")]),a.toggleClass(B,!e),this.setAria(q,!e||void 0),d.default.hasWindow()){this._$validationMessage&&(this._$validationMessage.remove(),this.setAria("describedby",null),this._$validationMessage=null);var s=W(n);if(!e&&s){this._$validationMessage=(0,t.default)("<div>").addClass(A).html(s).appendTo(a);var o=this._getValidationMessageTarget();this._validationMessage=this._createComponent(this._$validationMessage,m.default,(0,c.extend)({integrationOptions:{},templatesRenderAsynchronously:!1,target:o,shading:!1,width:"auto",height:"auto",container:a,position:this._getValidationMessagePosition("below"),closeOnOutsideClick:!1,closeOnTargetScroll:!1,animation:null,visible:!0,propagateOutsideClick:!0,_checkParentVisibility:!1},this._getInnerOptionsCache("validationTooltipOptions"))),this._$validationMessage.toggleClass(k,"auto"===i).toggleClass(x,"always"===i);var l="dx-"+new g.default;this._validationMessage.$content().addClass(E).attr("id",l),this.setAria("describedby",l),this._setValidationMessageMaxWidth(),this._bindInnerWidgetOptions(this._validationMessage,"validationTooltipOptions")}}},_setValidationMessageMaxWidth:function(){if(this._validationMessage)if(0!==this._getValidationMessageTarget().outerWidth()){var e=Math.max(T,this._getValidationMessageTarget().outerWidth());this._validationMessage.option("maxWidth",e)}else this._validationMessage.option("maxWidth","100%")},_getValidationMessageTarget:function(){return this.$element()},_getValidationMessagePosition:function(e){var t=this.option("rtlEnabled"),i=(0,h.getDefaultAlignment)(t),a=this.option("validationMessageOffset"),n={h:a.h,v:a.v},s="below"===e?[" top"," bottom"]:[" bottom"," top"];return t&&(n.h=-n.h),"below"!==e&&(n.v=-n.v),{offset:n,boundary:this.option("validationBoundary"),my:i+s[0],at:i+s[1],collision:"none flip"}},_toggleReadOnlyState:function(){var e=this.option("readOnly");this._toggleBackspaceHandler(e),this.$element().toggleClass(O,!!e),this.setAria("readonly",e||void 0)},_toggleBackspaceHandler:function(e){var t=this._keyboardEventBindingTarget(),i=(0,u.addNamespace)("keydown",R);y.default.off(t,i),e&&y.default.on(t,i,function(e){"backspace"===(0,u.normalizeKeyName)(e)&&e.preventDefault()})},_dispose:function(){var e=this.$element()[0];a.default.data(e,S,null),clearTimeout(this.showValidationMessageTimeout),this.callBase()},_setSubmitElementName:function(e){var t=this._getSubmitElement();t&&(e.length>0?t.attr("name",e):t.removeAttr("name"))},_getSubmitElement:function(){return null},_optionChanged:function(e){switch(e.name){case"onValueChanged":this._createValueChangeAction();break;case"isValid":case"validationError":this.option(C.default.synchronizeValidationOptions(e,this.option()));break;case"validationErrors":case"validationStatus":this.option(C.default.synchronizeValidationOptions(e,this.option())),this._renderValidationState();break;case"validationBoundary":case"validationMessageMode":this._renderValidationState();break;case"validationTooltipOptions":this._innerOptionChanged(this._validationMessage,e);break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":this._valueChangeActionSuppressed||(this._raiseValueChangeAction(e.value,e.previousValue),this._saveValueChangeEvent(void 0)),e.value!=e.previousValue&&this.validationRequest.fire({value:e.value,editor:this});break;case"width":this.callBase(e),this._setValidationMessageMaxWidth();break;case"name":this._setSubmitElementName(e.value);break;default:this.callBase(e)}},reset:function(){var e=this._getDefaultOptions();this.option("value",e.value)}});module.exports=I;
},{"../../core/renderer":"qxFQ","../../core/element_data":"yYfn","../../core/utils/callbacks":"gtoU","../../core/utils/common":"GcQA","../../core/utils/window":"NXH3","../../events/utils":"cNvJ","../../core/utils/position":"Zh3q","../../core/utils/extend":"ac8T","../../core/guid":"tQQP","../widget/ui.widget":"gtOK","../overlay":"byva","../validation_engine":"E8TJ","../../events/core/events_engine":"oNrb"}],"EKtI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),t=require("../../../core/renderer"),n=i(t);function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(e,n,i){r(this,t),this.instance=null,this.$container=null,this.$placeMarker=null,this.editor=n,this.name=e,this.options=i||{}}return e(t,[{key:"_addPlaceMarker",value:function(e){this.$placeMarker=(0,n.default)("<div>").appendTo(e)}},{key:"_addToContainer",value:function(e){var t=this.$placeMarker,n=this.$container;t?t.replaceWith(e):e.appendTo(n)}},{key:"_attachEvents",value:function(){throw"Not implemented"}},{key:"_create",value:function(){throw"Not implemented"}},{key:"_isRendered",value:function(){return!!this.instance}},{key:"_isVisible",value:function(){var e=this.editor;return this.options.visible||!e.option("readOnly")}},{key:"_isDisabled",value:function(){throw"Not implemented"}},{key:"_shouldRender",value:function(){return this._isVisible()&&!this._isRendered()}},{key:"dispose",value:function(){var e=this.instance,t=this.$placeMarker;e&&(e.dispose?e.dispose():e.remove(),this.instance=null),t&&t.remove()}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$container;if(this.$container=e,this._isVisible()){var t=this._create(),n=t.instance,i=t.$element;this.instance=n,this._attachEvents(n,i)}else this._addPlaceMarker(e)}},{key:"update",value:function(){return this._shouldRender()&&this.render(),!!this.instance}}]),t}();exports.default=a;
},{"../../../core/renderer":"qxFQ"}],"rA5s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},n=require("../../core/renderer"),r=f(n),o=require("../../events/core/events_engine"),i=f(o),a=require("./texteditor_button_collection/button"),u=f(a),l=require("../../events/utils"),s=require("../../events/pointer"),c=require("../../events/click");function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y="dx-state-invisible",_="dx-clear-button-area",b="dx-icon-clear",h="dx-icon",g="dx-show-clear-button",O=function(n){function o(){return p(this,o),d(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return v(o,u.default),e(o,[{key:"_create",value:function(){var e=(0,r.default)("<span>").addClass(_).append((0,r.default)("<span>").addClass(h).addClass(b));return this._addToContainer(e),this.update(!0),{instance:e,$element:e}}},{key:"_isVisible",value:function(){return this.editor._isClearButtonVisible()}},{key:"_attachEvents",value:function(e,t){var n=this.editor,r=n.NAME;i.default.on(t,(0,l.addNamespace)(s.down,r),function(e){"mouse"===e.pointerType?e.preventDefault():n._clearValueHandler(e)}),i.default.on(t,(0,l.addNamespace)(c.name,r),function(e){return n._clearValueHandler(e)})}},{key:"_legacyRender",value:function(e,t){e.toggleClass(g,t)}},{key:"update",value:function(){!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"update",this).call(this);var e=this.editor,n=this.instance,r=e.$element(),i=this._isVisible();n&&n.toggleClass(y,!i),this._legacyRender(r,i)}}]),o}();exports.default=O;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","./texteditor_button_collection/button":"EKtI","../../events/utils":"cNvJ","../../events/pointer":"HDhW","../../events/click":"RTmy"}],"kKaI":[function(require,module,exports) {
"use strict";var t=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),e=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0},n=require("../core/renderer"),i=O(n),o=require("../core/devices"),a=O(o),r=require("../events/core/events_engine"),u=O(r),l=require("./widget/utils.ink_ripple"),s=O(l),p=require("../core/component_registrator"),c=O(p),d=require("./themes"),_=O(d),h=require("./validation_engine"),f=O(h),v=require("./widget/ui.widget"),y=O(v),b=require("../events/utils"),m=require("../core/utils/extend"),g=require("../core/templates/function_template"),k=require("../core/utils/icon"),x=require("../core/utils/dom"),C=require("../events/click");function O(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function A(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var P=function(n){function o(){var t;S(this,o);for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=$(this,(t=o.__proto__||Object.getPrototypeOf(o)).call.apply(t,[this].concat(n)));return a._feedbackHideTimeout=100,a}return A(o,y.default),t(o,[{key:"_clean",value:function(){delete this._inkRipple,delete this._$content,e(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_clean",this).call(this)}},{key:"_defaultOptionsRules",value:function(){return e(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_defaultOptionsRules",this).call(this).concat([{device:function(){return"desktop"===a.default.real().deviceType&&!a.default.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return _.default.isMaterial(_.default.current())},options:{useInkRipple:!0}}])}},{key:"_executeClickAction",value:function(t){this._clickAction({validationGroup:this._validationGroupConfig,event:t})}},{key:"_findGroup",value:function(){var t=this.$element();return this.option("validationGroup")||f.default.findGroup(t,this._modelByElement(t))}},{key:"_getAnonymousTemplateName",value:function(){return"content"}},{key:"_getContentData",value:function(){var t=this.option(),e=t.icon,n=t.text,i=t.type,o=t._templateData;return(0,m.extend)({icon:"back"!==i||e?e:"back",text:n},o)}},{key:"_getDefaultOptions",value:function(){return(0,m.extend)(e(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_getDefaultOptions",this).call(this),{hoverStateEnabled:!0,onClick:null,type:"normal",text:"",icon:"",iconPosition:"left",validationGroup:void 0,activeStateEnabled:!0,template:"content",useSubmitBehavior:!1,useInkRipple:!1,_templateData:{},stylingMode:"contained"})}},{key:"_getSubmitAction",value:function(){var t=this;return this._createAction(function(e){var n=e.event;if(t._needValidate){var i=t._validationGroupConfig;if(i){var o=i.validate(),a=o.status,r=o.complete;t._validationStatus=a,"pending"===a&&(t._needValidate=!1,t._setDisabled(!0),t._waitForValidationCompleting(r))}}else t._needValidate=!0;"valid"!==t._validationStatus&&n.preventDefault(),n.stopPropagation()})}},{key:"_initMarkup",value:function(){this.$element().addClass("dx-button"),this._renderType(),this._renderStylingMode(),this.option("useInkRipple")&&this._renderInkRipple(),this._renderClick(),this.setAria("role","button"),this._updateAriaLabel(),e(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_initMarkup",this).call(this),this._updateContent()}},{key:"_initTemplates",value:function(){var t=this;e(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_initTemplates",this).call(this),this._defaultTemplates.content=new g.FunctionTemplate(function(e){var n=e.model,o=void 0===n?{}:n,a=e.container,r=o.text,u=o.icon,l=(0,k.getImageContainer)(u),s=r&&(0,i.default)("<span>").text(r).addClass("dx-button-text"),p=(0,i.default)(a);p.append(s),"left"===t.option("iconPosition")?p.prepend(l):(l.addClass("dx-icon-right"),p.append(l))})}},{key:"_optionChanged",value:function(t){var n=t.name,i=t.previousValue;switch(n){case"onClick":this._renderClick();break;case"icon":case"text":this._updateContent(),this._updateAriaLabel();break;case"type":this._refreshType(i),this._updateContent(),this._updateAriaLabel();break;case"_templateData":break;case"template":case"iconPosition":this._updateContent();break;case"stylingMode":this._renderStylingMode();break;case"useInkRipple":case"useSubmitBehavior":this._invalidate();break;default:e(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_optionChanged",this).call(this,t)}}},{key:"_refreshType",value:function(t){var e=this.option("type"),n=this.$element();t&&n.removeClass("dx-button-"+t).addClass("dx-button-"+e),n.hasClass("dx-button-has-icon")||"back"!==e||this._updateContent()}},{key:"_renderClick",value:function(){var t={excludeValidators:["readOnly"]};this.option("useSubmitBehavior")&&(t.afterExecute=function(t){var e=t.component;return setTimeout(function(){return e._$submitInput.get(0).click()})}),this._clickAction=this._createActionByOption("onClick",t);var e=this.$element(),n=(0,b.addNamespace)(C.name,this.NAME);u.default.off(e,n),u.default.on(e,n,this._executeClickAction.bind(this))}},{key:"_renderInkRipple",value:function(){var t=this.option(),e=t.text,n=t.icon,i=t.type,o={};(!e&&n||"back"===i)&&(0,m.extend)(o,{waveSizeCoefficient:1,useHoldAnimation:!1,isCentered:!0}),this._inkRipple=s.default.render(o)}},{key:"_renderStylingMode",value:function(){var t=this.$element(),e=this.option("stylingMode"),n="dx-button-mode-"+e;(["dx-button-mode-contained","dx-button-mode-text","dx-button-mode-outlined"].forEach(t.removeClass.bind(t)),-1===["contained","text","outlined"].indexOf(e))&&(n="dx-button-mode-"+this._getDefaultOptions().stylingMode);t.addClass(n)}},{key:"_renderSubmitInput",value:function(){var t=this._getSubmitAction();this._needValidate=!0,this._validationStatus="valid",this._$submitInput=(0,i.default)("<input>").attr("type","submit").attr("tabindex",-1).addClass("dx-button-submit-input").appendTo(this._$content),u.default.on(this._$submitInput,"click",function(e){return t({event:e})})}},{key:"_renderType",value:function(){var t=this.option("type");t&&this.$element().addClass("dx-button-"+t)}},{key:"_setDisabled",value:function(t){this.option("disabled",t)}},{key:"_supportedKeys",value:function(){var t=this,n=function(e){e.preventDefault(),t._executeClickAction(e)};return(0,m.extend)(e(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_supportedKeys",this).call(this),{space:n,enter:n})}},{key:"_toggleActiveState",value:function(t,n,i){if(e(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_toggleActiveState",this).call(this,t,n,i),this._inkRipple){var a={element:this._$content,event:i};n?this._inkRipple.showWave(a):this._inkRipple.hideWave(a)}}},{key:"_updateAriaLabel",value:function(){var t=this.option(),e=t.icon,n=t.text;"image"===(0,k.getImageSourceType)(e)&&(e=-1===e.indexOf("base64")?e.replace(/.+\/([^.]+)\..+$/,"$1"):"Base64");var i=n||e||"";i=i.toString().trim(),this.setAria("label",i.length?i:null)}},{key:"_updateContent",value:function(){var t=this.$element(),e=this._getContentData(),n=e.icon,o=e.text;this._$content?this._$content.empty():this._$content=(0,i.default)("<div>").addClass("dx-button-content").appendTo(t),t.toggleClass("dx-button-has-icon",!!n).toggleClass("dx-button-icon-right",!!n&&"left"!==this.option("iconPosition")).toggleClass("dx-button-has-text",!!o);var a=this._getAnonymousTemplateName()===this.option("template"),r=this._getTemplateByOption("template"),u=(0,i.default)(r.render({model:e,container:(0,x.getPublicElement)(this._$content),transclude:a}));u.hasClass("dx-template-wrapper")&&(this._$content.replaceWith(u),this._$content=u,this._$content.addClass("dx-button-content")),this.option("useSubmitBehavior")&&this._renderSubmitInput()}},{key:"_waitForValidationCompleting",value:function(t){var e=this;t.then(function(t){return e._validationStatus=t.status,e._setDisabled(!1),"valid"===e._validationStatus&&e._$submitInput.get(0).click(),t})}},{key:"_validationGroupConfig",get:function(){return f.default.getGroupConfig(this._findGroup())}}]),o}();(0,c.default)("dxButton",P),module.exports=P,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../core/devices":"LpzF","../events/core/events_engine":"oNrb","./widget/utils.ink_ripple":"NDxX","../core/component_registrator":"g3fO","./themes":"k2ha","./validation_engine":"E8TJ","./widget/ui.widget":"gtOK","../events/utils":"cNvJ","../core/utils/extend":"ac8T","../core/templates/function_template":"Xd2Y","../core/utils/icon":"W6A0","../core/utils/dom":"vDwZ","../events/click":"RTmy"}],"vbKq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),t=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},n=require("../../../core/renderer"),o=b(n),r=require("./button"),i=b(r),u=require("../../button"),a=b(u),s=require("../../../core/utils/extend"),l=require("../../../events/core/events_engine"),c=b(l),f=require("../../../events/hover"),d=b(f),p=require("../../../events/click"),v=b(p);function b(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O="dx-custom-button-hovered",m=function(n){function r(){return h(this,r),y(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return _(r,i.default),e(r,[{key:"_attachEvents",value:function(e,t){var n=this.editor;c.default.on(t,d.default.start,function(){n.$element().addClass(O)}),c.default.on(t,d.default.end,function(){n.$element().removeClass(O)}),c.default.on(t,v.default.name,function(e){e.stopPropagation()})}},{key:"_create",value:function(){var e=this.editor,t=(0,o.default)("<div>");return this._addToContainer(t),{$element:t,instance:e._createComponent(t,a.default,(0,s.extend)({},this.options,{disabled:this._isDisabled(),integrationOptions:{skipTemplates:["content"]}}))}}},{key:"update",value:function(){var e=t(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"update",this).call(this);return this.instance&&this.instance.option("disabled",this._isDisabled()),e}},{key:"_isVisible",value:function(){return this.editor.option("visible")}},{key:"_isDisabled",value:function(){return void 0!==this.options.disabled?this.instance?this.instance.option("disabled"):this.options.disabled:this.editor.option("readOnly")}}]),r}();exports.default=m;
},{"../../../core/renderer":"qxFQ","./button":"EKtI","../../button":"kKaI","../../../core/utils/extend":"ac8T","../../../events/core/events_engine":"oNrb","../../../events/hover":"bLXJ","../../../events/click":"RTmy"}],"TOK8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=require("../../../core/renderer"),r=s(n),o=require("./custom"),u=s(o),i=require("../../../core/utils/extend"),f=require("../../../core/utils/array"),a=require("../../widget/ui.errors"),c=s(a);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var d="dx-texteditor-buttons-container";function y(t){var n;!function(){if(!t||"object"!==(void 0===t?"undefined":e(t))||Array.isArray(t))throw c.default.Error("E1053")}(),function(){if(!("name"in t))throw c.default.Error("E1054")}(),function(){if("string"!=typeof t.name)throw c.default.Error("E1055")}(),n=t.location,"location"in t&&"after"!==n&&"before"!==n&&(t.location="after")}function p(t,e){if(-1!==t.indexOf(e))throw c.default.Error("E1055",e);t.push(e)}function h(t,e){return!!(0,f.find)(e,function(e){return e.name===t})}var v=function(){function e(t,n){l(this,e),this.buttons=[],this.defaultButtonsInfo=n,this.editor=t}return t(e,[{key:"_compileButtonInfo",value:function(t){var e=this,n=[];return t.map(function(t){var r="string"==typeof t;if(r||y(t),r||h(t.name,e.defaultButtonsInfo)){var o=(0,f.find)(e.defaultButtonsInfo,function(e){var n=e.name;return n===t||n===t.name});if(!o)throw c.default.Error("E1056",e.editor.NAME,t);return p(n,t),o}var a=t.name;return p(n,a),(0,i.extend)(t,{Ctor:u.default})})}},{key:"_createButton",value:function(t){var e=t.Ctor,n=t.options,r=new e(t.name,this.editor,n);return this.buttons.push(r),r}},{key:"_renderButtons",value:function(t,e,n){var o=this,u=null,i=t?this._compileButtonInfo(t):this.defaultButtonsInfo;return i.forEach(function(t){var i=t.location;(void 0===i?"after":i)===n&&o._createButton(t).render((u=u||(0,r.default)("<div>").addClass(d),"before"===n?e.prepend(u):e.append(u),u))}),u}},{key:"clean",value:function(){this.buttons.forEach(function(t){return t.dispose()}),this.buttons=[]}},{key:"getButton",value:function(t){var e=(0,f.find)(this.buttons,function(e){return e.name===t});return e&&e.instance}},{key:"renderAfterButtons",value:function(t,e){return this._renderButtons(t,e,"after")}},{key:"renderBeforeButtons",value:function(t,e){return this._renderButtons(t,e,"before")}},{key:"updateButtons",value:function(t){this.buttons.forEach(function(e){t&&-1===t.indexOf(e.name)||e.update()})}}]),e}();exports.default=v;
},{"../../../core/renderer":"qxFQ","./custom":"vbKq","../../../core/utils/extend":"ac8T","../../../core/utils/array":"uivT","../../widget/ui.errors":"RFsS"}],"gQcx":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=P(t),n=require("../../core/dom_adapter"),i=P(n),r=require("../../events/core/events_engine"),a=P(r),s=require("../../core/utils/dom"),o=P(s),l=require("../widget/selectors"),u=require("../../core/utils/type"),d=require("../../core/utils/extend"),h=require("../../core/utils/array"),c=require("../../core/utils/iterator"),p=require("../themes"),_=P(p),f=require("../editor/editor"),g=P(f),v=require("../../events/utils"),C=P(v),y=require("../../events/pointer"),E=P(y),m=require("./ui.text_editor.clear"),b=P(m),x=require("./texteditor_button_collection/index"),B=P(x),V=require("../../core/config"),I=P(V),$=require("../widget/ui.errors"),A=P($),k=require("../../core/utils/deferred"),M=require("../load_indicator"),S=P(M);function P(t){return t&&t.__esModule?t:{default:t}}var w="dx-texteditor",T="dx-texteditor-input-container",N="dx-texteditor-input",O="."+N,K="dx-texteditor-container",q="dx-texteditor-buttons-container",D="dx-placeholder",H="dx-texteditor-empty",F="dx-editor-",U=[F+"outlined",F+"filled",F+"underlined"],R="dx-state-invisible",L="dx-pending-indicator",W="dx-validation-pending",z="dx-valid",j=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"],G=["tab","enter","shift","control","alt","escape","pageUp","pageDown","end","home","leftArrow","upArrow","rightArrow","downArrow"];function J(t){if((0,u.isDefined)(t)&&!Array.isArray(t))throw A.default.Error("E1053")}var Q=g.default.inherit({ctor:function(t,e){e&&J(e.buttons),this._buttonCollection=new B.default(this,this._getDefaultButtons()),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return(0,d.extend)(this.callBase(),{buttons:void 0,value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",inputAttr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,displayValueFormatter:function(t){return(0,u.isDefined)(t)&&!1!==t?t:""},stylingMode:(0,I.default)().editorStylingMode||"outlined"})},_defaultOptionsRules:function(){var t=_.default.current();return this.callBase().concat([{device:function(){return _.default.isMaterial(t)},options:{stylingMode:(0,I.default)().editorStylingMode||"underlined"}}])},_getDefaultButtons:function(){return[{name:"clear",Ctor:b.default}]},_isClearButtonVisible:function(){return this.option("showClearButton")&&!this.option("readOnly")},_input:function(){return this.$element().find(O).first()},_isFocused:function(){return(0,l.focused)(this._input())||this.callBase()},_inputWrapper:function(){return this.$element()},_buttonsContainer:function(){return this._inputWrapper().find("."+q).eq(0)},_isControlKey:function(t){return-1!==G.indexOf(t)},_renderStylingMode:function(){var t=this,e=this.option("stylingMode");U.forEach(function(e){return t.$element().removeClass(e)});var n=F+e;if(-1===U.indexOf(n)){var i=this._getDefaultOptions().stylingMode,r=this._convertRulesToOptions(this._defaultOptionsRules()).stylingMode;n=F+(r||i)}this.$element().addClass(n),this._updateButtonsStyling(e)},_initMarkup:function(){this.$element().addClass(w),this._renderInput(),this._renderStylingMode(),this._renderInputType(),this._renderPlaceholder(),this._renderProps(),this.callBase(),this._renderValue()},_render:function(){this._renderPlaceholder(),this._refreshValueChangeEvent(),this._renderEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent(),this.callBase()},_renderInput:function(){this._$textEditorContainer=(0,e.default)("<div>").addClass(K).appendTo(this.$element()),this._$textEditorInputContainer=(0,e.default)("<div>").addClass(T).appendTo(this._$textEditorContainer),this._$textEditorInputContainer.append(this._createInput()),this._renderButtonContainers()},_getInputContainer:function(){return this._$textEditorInputContainer},_renderPendingIndicator:function(){this.$element().addClass(W);var t=this._getInputContainer(),n=(0,e.default)("<div>").addClass(L).appendTo(t);this._pendingIndicator=this._createComponent(n,S.default)},_disposePendingIndicator:function(){this._pendingIndicator&&(this._pendingIndicator.dispose(),this._pendingIndicator.$element().remove(),this._pendingIndicator=null,this.$element().removeClass(W))},_renderValidationState:function(){this.callBase();var t="pending"===this.option("validationStatus"),e=this.$element();t?(!this._pendingIndicator&&this._renderPendingIndicator(),this._showValidMark=!1):("invalid"===this.option("validationStatus")&&(this._showValidMark=!1),this._showValidMark||(this._showValidMark="valid"===this.option("validationStatus")&&!!this._pendingIndicator),this._disposePendingIndicator()),e.toggleClass(z,this._showValidMark)},_renderButtonContainers:function(){var t=this.option("buttons");this._$beforeButtonsContainer=this._buttonCollection.renderBeforeButtons(t,this._$textEditorContainer),this._$afterButtonsContainer=this._buttonCollection.renderAfterButtons(t,this._$textEditorContainer)},_clean:function(){this._buttonCollection.clean(),this._disposePendingIndicator(),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._$textEditorContainer=null,this.callBase()},_createInput:function(){var t=(0,e.default)("<input>");return this._applyInputAttributes(t,this.option("inputAttr")),t},_setSubmitElementName:function(t){var e=this.option("inputAttr.name");return this.callBase(t||e||"")},_applyInputAttributes:function(t,e){t.attr("autocomplete","off").attr(e).addClass(N).css("minHeight",this.option("height")?"0":"")},_updateButtons:function(t){this._buttonCollection.updateButtons(t)},_updateButtonsStyling:function(t){var e=this;(0,c.each)(this.option("buttons"),function(n,i){if(i.options&&!i.options.stylingMode){var r=e.getButton(i.name);r.option&&r.option("stylingMode","underlined"===t?"text":"contained")}})},_renderValue:function(){return this._renderInputValue().promise()},_renderInputValue:function(t){t=t||this.option("value");var e=this.option("text"),n=this.option("displayValue"),i=this.option("displayValueFormatter");return void 0!==n&&null!==t?e=i(n):(0,u.isDefined)(e)||(e=i(t)),this.option("text",e),this._input().val()!==((0,u.isDefined)(e)?e:"")?this._renderDisplayText(e):this._toggleEmptinessEventHandler(),(new k.Deferred).resolve()},_renderDisplayText:function(t){this._input().val(t),this._toggleEmptinessEventHandler()},_isValueValid:function(){if(this._input().length){var t=this._input().get(0).validity;if(t)return t.valid}return!0},_toggleEmptiness:function(t){this.$element().toggleClass(H,t),this._togglePlaceholder(t)},_togglePlaceholder:function(t){this._$placeholder&&this._$placeholder.toggleClass(R,!t)},_renderProps:function(){this._toggleReadOnlyState(),this._toggleSpellcheckState(),this._toggleTabIndex()},_toggleDisabledState:function(t){this.callBase.apply(this,arguments);var e=this._input();t?e.attr("disabled",!0):e.removeAttr("disabled")},_toggleTabIndex:function(){var t=this._input(),e=this.option("disabled"),n=this.option("focusStateEnabled");e||!n?t.attr("tabIndex",-1):t.removeAttr("tabIndex")},_toggleReadOnlyState:function(){this._input().prop("readOnly",this._readOnlyPropValue()),this.callBase()},_readOnlyPropValue:function(){return this.option("readOnly")},_toggleSpellcheckState:function(){this._input().prop("spellcheck",this.option("spellcheck"))},_renderPlaceholder:function(){this._renderPlaceholderMarkup(),this._attachPlaceholderEvents()},_renderPlaceholderMarkup:function(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);var t=this._input(),n=this.option("placeholder"),i=this._$placeholder=(0,e.default)("<div>").attr("data-dx_placeholder",n);i.insertAfter(t),i.addClass(D)},_attachPlaceholderEvents:function(){var t=this,e=C.default.addNamespace(E.default.up,t.NAME);a.default.on(t._$placeholder,e,function(){a.default.trigger(t._input(),"focus")}),t._toggleEmptinessEventHandler()},_placeholder:function(){return this._$placeholder||(0,e.default)()},_clearValueHandler:function(t){var e=this._input();t.stopPropagation(),this._saveValueChangeEvent(t),this._clearValue(),!this._isFocused()&&a.default.trigger(e,"focus"),a.default.trigger(e,"input")},_clearValue:function(){this.reset()},_renderEvents:function(){var t=this,e=t._input();(0,c.each)(j,function(n,i){if(t.hasActionSubscription("on"+i)){var r=t._createActionByOption("on"+i,{excludeValidators:["readOnly"]});a.default.on(e,C.default.addNamespace(i.toLowerCase(),t.NAME),function(e){t._disposed||r({event:e})})}})},_refreshEvents:function(){var t=this,e=this._input();(0,c.each)(j,function(n,i){a.default.off(e,C.default.addNamespace(i.toLowerCase(),t.NAME))}),this._renderEvents()},_keyPressHandler:function(){this.option("text",this._input().val())},_renderValueChangeEvent:function(){var t=C.default.addNamespace(this._renderValueEventName(),this.NAME+"TextChange"),e=C.default.addNamespace(this.option("valueChangeEvent"),this.NAME+"ValueChange");a.default.on(this._input(),t,this._keyPressHandler.bind(this)),a.default.on(this._input(),e,this._valueChangeEventHandler.bind(this))},_cleanValueChangeEvent:function(){var t=this.NAME+"ValueChange",e=C.default.addNamespace(this._renderValueEventName(),this.NAME+"TextChange");a.default.off(this._input(),"."+t),a.default.off(this._input(),e)},_refreshValueChangeEvent:function(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()},_renderValueEventName:function(){return"input change keypress"},_focusTarget:function(){return this._input()},_focusEventTarget:function(){return this.element()},_preventNestedFocusEvent:function(t){if(t.isDefaultPrevented())return!0;var e=this._isNestedTarget(t.relatedTarget);return"focusin"===t.type&&(e=e&&this._isNestedTarget(t.target)),e&&t.preventDefault(),e},_isNestedTarget:function(t){return!!this.$element().find(t).length},_focusClassTarget:function(){return this.$element()},_focusInHandler:function(t){this._preventNestedFocusEvent(t),this.callBase.apply(this,arguments)},_focusOutHandler:function(t){this._preventNestedFocusEvent(t),this.callBase.apply(this,arguments)},_toggleFocusClass:function(t,e){this.callBase(t,this._focusClassTarget(e))},_hasFocusClass:function(t){return this.callBase((0,e.default)(t||this.$element()))},_renderEmptinessEvent:function(){var t=this._input();a.default.on(t,"input blur",this._toggleEmptinessEventHandler.bind(this))},_toggleEmptinessEventHandler:function(){var t=this._input().val(),e=(""===t||null===t)&&this._isValueValid();this._toggleEmptiness(e)},_valueChangeEventHandler:function(t,e){this._saveValueChangeEvent(t),this.option("value",arguments.length>1?e:this._input().val()),this._saveValueChangeEvent(void 0)},_renderEnterKeyAction:function(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),a.default.off(this._input(),"keyup.onEnterKey.dxTextEditor"),a.default.on(this._input(),"keyup.onEnterKey.dxTextEditor",this._enterKeyHandlerUp.bind(this))},_enterKeyHandlerUp:function(t){this._disposed||"enter"===C.default.normalizeKeyName(t)&&this._enterKeyAction({event:t})},_updateValue:function(){this.option("text",void 0),this._renderValue()},_dispose:function(){this._enterKeyAction=void 0,this.callBase()},_getSubmitElement:function(){return this._input()},_optionChanged:function(t){var e=t.name;if((0,h.inArray)(e.replace("on",""),j)>-1)this._refreshEvents();else switch(e){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"focusStateEnabled":this.callBase(t),this._toggleTabIndex();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder();break;case"readOnly":case"disabled":this._updateButtons(),this.callBase(t);break;case"showClearButton":this._updateButtons(["clear"]);break;case"text":break;case"value":this._updateValue(),this.callBase(t);break;case"inputAttr":this._applyInputAttributes(this._input(),t.value);break;case"stylingMode":this._renderStylingMode();break;case"buttons":t.fullName===t.name&&J(t.value),this._$beforeButtonsContainer&&this._$beforeButtonsContainer.remove(),this._$afterButtonsContainer&&this._$afterButtonsContainer.remove(),this._buttonCollection.clean(),this._renderButtonContainers();break;case"displayValueFormatter":this._invalidate();break;default:this.callBase(t)}},_renderInputType:function(){this._setInputType(this.option("mode"))},_setInputType:function(t){var e=this._input();"search"===t&&(t="text");try{e.prop("type",t)}catch(n){e.prop("type","text")}},getButton:function(t){return this._buttonCollection.getButton(t)},focus:function(){a.default.trigger(this._input(),"focus")},blur:function(){this._input().is(i.default.getActiveElement())&&o.default.resetActiveElement()},reset:function(){this._showValidMark&&(this._showValidMark=!1,this._renderValidationState());var t=this._getDefaultOptions();this.option("value")===t.value?(this.option("text",""),this._renderValue()):this.option("value",t.value)},on:function(t,e){var n=this.callBase(t,e),i=t.charAt(0).toUpperCase()+t.substr(1);return j.indexOf(i)>=0&&this._refreshEvents(),n}});module.exports=Q;
},{"../../core/renderer":"qxFQ","../../core/dom_adapter":"RRDy","../../events/core/events_engine":"oNrb","../../core/utils/dom":"vDwZ","../widget/selectors":"m3d1","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","../../core/utils/array":"uivT","../../core/utils/iterator":"FHcO","../themes":"k2ha","../editor/editor":"IJZF","../../events/utils":"cNvJ","../../events/pointer":"HDhW","./ui.text_editor.clear":"rA5s","./texteditor_button_collection/index":"TOK8","../../core/config":"iRjc","../widget/ui.errors":"RFsS","../../core/utils/deferred":"g5TB","../load_indicator":"ncdk"}],"BbY3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),t=require("../../events/core/events_engine"),n=s(t),i=require("../../events/utils"),r=require("../../core/utils/array"),a=require("../../core/utils/dom");function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u="dxMask",d="blur beforedeactivate",l=" ",h=function(){function t(e){o(this,t),this.editor=e,this.DIRECTION={FORWARD:"forward",BACKWARD:"backward"},this.NAME=this._getStrategyName()}return e(t,[{key:"_getStrategyName",value:function(){return"base"}},{key:"editorOption",value:function(){var e;return(e=this.editor).option.apply(e,arguments)}},{key:"editorInput",value:function(){return this.editor._input()}},{key:"editorCaret",value:function(e){if(!e)return this.editor._caret();this.editor._caret(e)}},{key:"getHandler",value:function(e){return(this["_"+e+"Handler"]||function(){}).bind(this)}},{key:"attachEvents",value:function(){var e=this,t=this.editorInput();this.getHandleEventNames().forEach(function(r){var a=(0,i.addNamespace)(r.toLowerCase(),u);n.default.on(t,a,e.getEventHandler(r))}),this._attachChangeEventHandlers()}},{key:"getHandleEventNames",value:function(){return["focusIn","focusOut","keyDown","input","paste","cut","drop"]}},{key:"getEventHandler",value:function(e){return this["_"+e+"Handler"].bind(this)}},{key:"detachEvents",value:function(){n.default.off(this.editorInput(),"."+u)}},{key:"_attachChangeEventHandlers",value:function(){-1!==(0,r.inArray)("change",this.editorOption("valueChangeEvent").split(" "))&&n.default.on(this.editorInput(),(0,i.addNamespace)(d,u),function(e){this._suppressCaretChanging(this._changeHandler,[e]),this._changeHandler(e)}.bind(this.editor))}},{key:"_focusInHandler",value:function(){if(this.editor._showMaskPlaceholder(),this.editor._direction(this.DIRECTION.FORWARD),!this.editor._isValueEmpty()&&this.editorOption("isValid"))this.editor._adjustCaret();else{var e=this.editor._maskRulesChain.first();this._caretTimeout=setTimeout(function(){this._caret({start:e,end:e})}.bind(this.editor),0)}}},{key:"_focusOutHandler",value:function(e){this.editor._changeHandler(e),"onFocus"===this.editorOption("showMaskMode")&&this.editor._isValueEmpty()&&(this.editorOption("text",""),this.editor._renderDisplayText(""))}},{key:"_cutHandler",value:function(e){var t=this.editorCaret(),n=this.editorInput().val().substring(t.start,t.end);this.editor._maskKeyHandler(e,function(){return(0,a.clipboardText)(e,n)})}},{key:"_dropHandler",value:function(){this._clearDragTimer(),this._dragTimer=setTimeout(function(){this.option("value",this._convertToValue(this._input().val()))}.bind(this.editor))}},{key:"_clearDragTimer",value:function(){clearTimeout(this._dragTimer)}},{key:"_keyDownHandler",value:function(){this._keyPressHandled=!1}},{key:"_pasteHandler",value:function(e){var t=this.editor;this._keyPressHandled=!0;var n=this.editorCaret();t._maskKeyHandler(e,function(){var i=(0,a.clipboardText)(e),r=t._maskRulesChain.text().substring(n.end),s=t._handleChain({text:i,start:n.start,length:i.length}),o=n.start+s;t._handleChain({text:r,start:o,length:r.length}),t._caret({start:o,end:o})})}},{key:"runWithoutEventProcessing",value:function(e){var t=this._keyPressHandled;this._keyPressHandled=!0,e(),this._keyPressHandled=t}},{key:"_backspaceHandler",value:function(){}},{key:"_delHandler",value:function(e){var t=this.editor;this._keyPressHandled=!0,t._maskKeyHandler(e,function(){return!t._hasSelection()&&t._handleKey(l)})}},{key:"clean",value:function(){this._clearDragTimer(),clearTimeout(this._backspaceHandlerTimeout),clearTimeout(this._caretTimeout)}}]),t}();exports.default=h;
},{"../../events/core/events_engine":"oNrb","../../events/utils":"cNvJ","../../core/utils/array":"uivT","../../core/utils/dom":"vDwZ"}],"kElX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},r=require("./ui.text_editor.mask.strategy.base"),n=s(r),a=require("../../events/utils"),i=require("../../core/polyfills/promise"),o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f="deleteContentBackward",p=" ",y=function(r){function i(){return l(this,i),c(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return d(i,n.default),e(i,[{key:"_getStrategyName",value:function(){return"default"}},{key:"getHandleEventNames",value:function(){return[].concat(u(t(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"getHandleEventNames",this).call(this)),["keyPress"])}},{key:"_keyPressHandler",value:function(e){if(!this._keyPressHandled&&(this._keyPressHandled=!0,!this.editor._isControlKeyFired(e))){var t=this.editor;t._maskKeyHandler(e,function(){return t._handleKey((0,a.getChar)(e))})}}},{key:"_inputHandler",value:function(e){if(this._backspaceInputHandled(e.originalEvent&&e.originalEvent.inputType)&&this._handleBackspaceInput(e),!this._keyPressHandled){this._keyPressHandled=!0;var t=this.editorInput().val(),r=this.editorCaret();if(r.end){r.start=r.end-1;var n=t.substring(0,r.start)+t.substring(r.end),a=t[r.start];this.editorInput().val(n),this._inputHandlerTimer=setTimeout(function(){var t=this;this._caret({start:r.start,end:r.start}),this._maskKeyHandler(e,function(){return t._handleKey(a)})}.bind(this.editor))}}}},{key:"_backspaceHandler",value:function(e){var t=this,r=this.editor;this._keyPressHandled=!0;var n=function(e,n){e&&(r._direction(t.DIRECTION.FORWARD),r._adjustCaret());var a=t.editorCaret();return new o.default(function(e){clearTimeout(t._backspaceHandlerTimeout),t._backspaceHandlerTimeout=setTimeout(function(){n(a),e()})})};r._maskKeyHandler(e,function(){return r._hasSelection()?n(!0,function(e){r._displayMask(e),r._maskRulesChain.reset()}):r._tryMoveCaretBackward()?n(!1,function(e){t.editorCaret(e)}):(r._handleKey(p,t.DIRECTION.BACKWARD),n(!0,function(e){r._displayMask(e),r._maskRulesChain.reset()}))})}},{key:"_backspaceInputHandled",value:function(e){return e===f&&!this._keyPressHandled}},{key:"_handleBackspaceInput",value:function(e){var t=this.editorCaret(),r=t.start,n=t.end;this.editorCaret({start:r+1,end:n+1}),this._backspaceHandler(e)}},{key:"clean",value:function(){t(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"clean",this).call(this),clearTimeout(this._inputHandlerTimer)}}]),i}();exports.default=y;
},{"./ui.text_editor.mask.strategy.base":"BbY3","../../events/utils":"cNvJ","../../core/polyfills/promise":"pHLT"}],"oWNz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),e=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0},r=require("./ui.text_editor.mask.strategy.base"),n=i(r);function i(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l="deleteContentBackward",p=function(r){function i(){return a(this,i),u(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return s(i,n.default),t(i,[{key:"_getStrategyName",value:function(){return"android"}},{key:"getHandleEventNames",value:function(){return[].concat(o(e(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"getHandleEventNames",this).call(this)),["beforeInput"])}},{key:"_beforeInputHandler",value:function(){this._prevCaret=this.editorCaret()}},{key:"_inputHandler",value:function(t){var e=t.originalEvent;if(e){var r=e.inputType,n=e.data,i=this.editorCaret();if(r===l){var o=this._prevCaret.end-this._prevCaret.start||1;this.editor.setBackwardDirection(),this._updateEditorMask({start:i.start,length:o,text:this._getEmptyString(o)})}else{if(!i.end)return;this.editorCaret(i);var a=this._prevCaret.end-this._prevCaret.start,u=n+(a?this._getEmptyString(a-n.length):"");this.editor.setForwardDirection(),this._updateEditorMask({start:this._prevCaret.start,length:a||u.length,text:u})||this.editorCaret(this._prevCaret)}}}},{key:"_getEmptyString",value:function(t){return Array(t+1).join(" ")}},{key:"_updateEditorMask",value:function(t){var e=t.text.length,r=this.editor._handleChain(t);if(this.editor.isForwardDirection()){var n=this.editorCaret(),i=n.start,o=n.end,a=r-e;i<=r&&r>1&&this.editorCaret({start:i+a,end:o+a}),this.editor.isForwardDirection()&&this.editor._adjustCaret()}return this.editor._displayMask(),!!r}}]),i}();exports.default=p;
},{"./ui.text_editor.mask.strategy.base":"BbY3"}],"efhL":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("./utils.caret"),i=require("../../core/devices"),a=require("../../core/utils/iterator").each,s=require("../../events/utils"),n=require("../../events/core/events_engine"),r=require("../../core/utils/extend").extend,h=require("../widget/selectors").focused,u=require("../../core/utils/type").isDefined,o=require("../../localization/message"),l=require("../../core/utils/common").noop,c=require("../../core/utils/string"),d=require("../../events/core/wheel"),_=require("./ui.text_editor.mask.rule"),k=require("./ui.text_editor.base"),m=require("./ui.text_editor.mask.strategy.default").default,p=require("./ui.text_editor.mask.strategy.android").default,f=function(){return{}},v=" ",M="\\",g="dx-texteditor-masked",C="forward",y="backward",E={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:function(e){return R(e)},l:function(e){return R(e)||V(e)},C:/\S/,c:/./,A:function(e){return R(e)||w(e)},a:function(e){return R(e)||w(e)||V(e)}},w=function(e){return/[0-9]/.test(e)},R=function(e){var t=e.charCodeAt();return 64<t&&t<91||96<t&&t<123||t>127},V=function(e){return" "===e},x=k.inherit({_getDefaultOptions:function(){return r(this.callBase(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:o.format("validation-mask"),useMaskedValue:!1,showMaskMode:"always"})},_supportedKeys:function(){var e=this,t={backspace:e._maskStrategy.getHandler("backspace"),del:e._maskStrategy.getHandler("del"),enter:e._changeHandler},i=e.callBase();return a(t,function(t,a){var s=i[t];i[t]=function(t){e.option("mask")&&a.call(e,t),s&&s(t)}}),i},_getSubmitElement:function(){return this.option("mask")?this._$hiddenElement:this.callBase()},_init:function(){this.callBase(),this._initMaskStrategy()},_initMaskStrategy:function(){var e=i.real();this._maskStrategy=e.android&&e.version[0]>4?new p(this):new m(this)},_initMarkup:function(){this._renderHiddenElement(),this.callBase()},_attachMouseWheelEventHandlers:function(){if(this._onMouseWheel!==l){var e=this._input(),t=s.addNamespace(d.name,this.NAME),i=this._createAction(function(t){if(h(e)){var i=t.event;this._onMouseWheel(i),i.preventDefault(),i.stopPropagation()}}.bind(this));n.off(e,t),n.on(e,t,function(e){i({event:e})})}},_onMouseWheel:l,_render:function(){this.callBase(),this._renderMask(),this._attachMouseWheelEventHandlers()},_renderHiddenElement:function(){this.option("mask")&&(this._$hiddenElement=e("<input>").attr("type","hidden").appendTo(this._inputWrapper()))},_removeHiddenElement:function(){this._$hiddenElement&&this._$hiddenElement.remove()},_renderMask:function(){this.$element().removeClass(g),this._maskRulesChain=null,this._maskStrategy.detachEvents(),this.option("mask")&&(this.$element().addClass(g),this._maskStrategy.attachEvents(),this._parseMask(),this._renderMaskedValue())},_suppressCaretChanging:function(e,i){var a=t;t=f;try{e.apply(this,i)}finally{t=a}},_changeHandler:function(e){var t=this._input(),i=t.val();if(i!==this._changedValue){this._changedValue=i;var a=s.createEvent(e,{type:"change"});n.trigger(t,a)}},_parseMask:function(){this._maskRules=r({},E,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)},_parseMaskRule:function(e){var t=this.option("mask");if(e>=t.length)return new _.EmptyMaskRule;var i=t[e],a=i===M,s=a?new _.StubMaskRule({maskChar:t[e+1]}):this._getMaskRule(i);return s.next(this._parseMaskRule(e+1+a)),s},_getMaskRule:function(e){var t;return a(this._maskRules,function(i,a){if(i===e)return t={pattern:i,allowedChars:a},!1}),u(t)?new _.MaskRule(r({maskChar:this.option("maskChar")},t)):new _.StubMaskRule({maskChar:e})},_renderMaskedValue:function(){if(this._maskRulesChain){var e=this.option("value")||"";this._maskRulesChain.clear(this._normalizeChainArguments());var t={length:e.length};t[this._isMaskedValueMode()?"text":"value"]=e,this._handleChain(t),this._displayMask()}},_replaceSelectedText:function(e,t,i){return void 0===i?e:e.slice(0,t.start)+i+e.slice(t.end)},_isMaskedValueMode:function(){return this.option("useMaskedValue")},_displayMask:function(e){e=e||this._caret(),this._renderValue(),this._caret(e)},_isValueEmpty:function(){return c.isEmpty(this._value)},_shouldShowMask:function(){return"onFocus"!==this.option("showMaskMode")||(h(this._input())||!this._isValueEmpty())},_showMaskPlaceholder:function(){if(this._shouldShowMask()){var e=this._maskRulesChain.text();this.option("text",e),"onFocus"===this.option("showMaskMode")&&this._renderDisplayText(e)}},_renderValue:function(){if(this._maskRulesChain){var e=this._maskRulesChain.text();if(this._showMaskPlaceholder(),this._$hiddenElement){var t=this._maskRulesChain.value(),i=this._isMaskedValueMode()?e:t;this._$hiddenElement.val(c.isEmpty(t)?"":i)}}return this.callBase()},_valueChangeEventHandler:function(e){this._maskRulesChain?(this._saveValueChangeEvent(e),this.option("value",this._convertToValue().replace(/\s+$/,""))):this.callBase.apply(this,arguments)},_isControlKeyFired:function(e){return this._isControlKey(s.normalizeKeyName(e))||e.ctrlKey||e.metaKey},_handleChain:function(e){var t=this._maskRulesChain.handle(this._normalizeChainArguments(e));return this._value=this._maskRulesChain.value(),this._textValue=this._maskRulesChain.text(),t},_normalizeChainArguments:function(e){return(e=e||{}).index=0,e.fullText=this._maskRulesChain.text(),e},_convertToValue:function(e){return e=this._isMaskedValueMode()?this._replaceMaskCharWithEmpty(e||this._textValue||""):e||this._value||""},_replaceMaskCharWithEmpty:function(e){return e.replace(new RegExp(this.option("maskChar"),"g"),v)},_maskKeyHandler:function(e,t){var i=this;if(!this.option("readOnly")){this.setForwardDirection(),e.preventDefault(),this._handleSelection();var a=this._input().val(),s=function(){a!==i._input().val()&&i._maskStrategy.runWithoutEventProcessing(function(){return n.trigger(i._input(),"input")})},r=t();r?r.then(s):(this.setForwardDirection(),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset(),s())}},_handleKey:function(e,t){this._direction(t||C),this._adjustCaret(e),this._handleKeyChain(e),this._moveCaret()},_handleSelection:function(){if(this._hasSelection()){var e=this._caret(),t=new Array(e.end-e.start+1).join(v);this._handleKeyChain(t)}},_handleKeyChain:function(e){var t=this._caret(),i=this.isForwardDirection()?t.start:t.start-1,a=this.isForwardDirection()?t.end:t.end-1,s=i===a?1:a-i;this._handleChain({text:e,start:i,length:s})},_tryMoveCaretBackward:function(){this.setBackwardDirection();var e=this._caret().start;return this._adjustCaret(),!e||e!==this._caret().start},_adjustCaret:function(e){var t=this._maskRulesChain.adjustedCaret(this._caret().start,this.isForwardDirection(),e);this._caret({start:t,end:t})},_moveCaret:function(){var e=this._caret().start,t=e+(this.isForwardDirection()?0:-1),i=this._maskRulesChain.isAccepted(t)?e+(this.isForwardDirection()?1:-1):e;this._caret({start:i,end:i})},_caret:function(e){var i=this._input();if(i.length)return arguments.length?void t(i,e):t(i)},_hasSelection:function(){var e=this._caret();return e.start!==e.end},_direction:function(e){if(!arguments.length)return this._typingDirection;this._typingDirection=e},setForwardDirection:function(){this._direction(C)},setBackwardDirection:function(){this._direction(y)},isForwardDirection:function(){return this._direction()===C},_clean:function(){this._maskStrategy&&this._maskStrategy.clean(),this.callBase()},_validateMask:function(){if(this._maskRulesChain){var e=c.isEmpty(this.option("value"))||this._maskRulesChain.isValid(this._normalizeChainArguments());this.option({isValid:e,validationError:e?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}},_updateHiddenElement:function(){this._removeHiddenElement(),this.option("mask")&&(this._input().removeAttr("name"),this._renderHiddenElement()),this._setSubmitElementName(this.option("name"))},_updateMaskOption:function(){this._updateHiddenElement(),this._renderMask(),this._validateMask()},_processEmptyMask:function(e){if(!e){var t=this.option("value");this.option({text:t,isValid:!0}),this.validationRequest.fire({value:t,editor:this}),this._renderValue()}},_optionChanged:function(e){switch(e.name){case"mask":this._updateMaskOption(),this._processEmptyMask(e.value);break;case"maskChar":case"maskRules":case"useMaskedValue":this._updateMaskOption();break;case"value":this._renderMaskedValue(),this._validateMask(),this.callBase(e),this._changedValue=this._input().val();break;case"maskInvalidMessage":break;case"showMaskMode":this.option("text",""),this._renderValue();break;default:this.callBase(e)}}});module.exports=x;
},{"../../core/renderer":"qxFQ","./utils.caret":"nnGl","../../core/devices":"LpzF","../../core/utils/iterator":"FHcO","../../events/utils":"cNvJ","../../events/core/events_engine":"oNrb","../../core/utils/extend":"ac8T","../widget/selectors":"m3d1","../../core/utils/type":"Mw4w","../../localization/message":"Njcj","../../core/utils/common":"GcQA","../../core/utils/string":"X4J5","../../events/core/wheel":"hGY0","./ui.text_editor.mask.rule":"X5o6","./ui.text_editor.base":"gQcx","./ui.text_editor.mask.strategy.default":"kElX","./ui.text_editor.mask.strategy.android":"oWNz"}],"Jy4U":[function(require,module,exports) {
"use strict";var e=require("../../core/component_registrator"),r=require("./ui.text_editor.mask");e("dxTextEditor",r),module.exports=r;
},{"../../core/component_registrator":"g3fO","./ui.text_editor.mask":"efhL"}],"p7Xm":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../core/utils/window"),r=t.getWindow(),n=t.getNavigator(),i=require("../../core/utils/browser"),o=require("../../events/core/events_engine"),a=require("../../core/devices"),s=require("../../core/utils/array").inArray,h=require("../../core/utils/extend").extend,l=require("../../core/component_registrator"),u=require("./ui.text_editor"),c=require("../../events/utils"),d=n.userAgent,g=["backspace","tab","enter","pageUp","pageDown","end","home","leftArrow","rightArrow","downArrow","upArrow","del"],_="dx-textbox",p="dx-searchbox",x="dx-icon",f="dx-icon-search",m=u.inherit({ctor:function(e,t){t&&(this._showClearButton=t.showClearButton),this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return h(this.callBase(),{value:"",mode:"text",maxLength:null})},_initMarkup:function(){this.$element().addClass(_),this.callBase(),this.setAria("role","textbox")},_renderContentImpl:function(){this._renderMaxLengthHandlers(),this.callBase()},_renderInputType:function(){this.callBase(),this._renderSearchMode()},_renderMaxLengthHandlers:function(){this._isAndroidOrIE()&&(o.on(this._input(),c.addNamespace("keydown",this.NAME),this._onKeyDownCutOffHandler.bind(this)),o.on(this._input(),c.addNamespace("change",this.NAME),this._onChangeCutOffHandler.bind(this)))},_renderProps:function(){this.callBase(),this._toggleMaxLengthProp()},_toggleMaxLengthProp:function(){var e=this._getMaxLength();e&&e>0?this._input().attr("maxLength",e):this._input().removeAttr("maxLength")},_renderSearchMode:function(){var e=this._$element;"search"===this.option("mode")?(e.addClass(p),this._renderSearchIcon(),void 0===this._showClearButton&&(this._showClearButton=this.option("showClearButton"),this.option("showClearButton",!0))):(e.removeClass(p),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",void 0===this._showClearButton?this.option("showClearButton"):this._showClearButton),delete this._showClearButton)},_renderSearchIcon:function(){var t=e("<div>").addClass(x).addClass(f);t.prependTo(this._input().parent()),this._$searchIcon=t},_optionChanged:function(e){switch(e.name){case"maxLength":this._toggleMaxLengthProp(),this._renderMaxLengthHandlers();break;case"mask":this.callBase(e),this._toggleMaxLengthProp();break;default:this.callBase(e)}},_onKeyDownCutOffHandler:function(t){var n=this._getMaxLength();if(n){var i=e(t.target),o=c.normalizeKeyName(t);return this._cutOffExtraChar(i),i.val().length<n||-1!==s(o,g)||""!==r.getSelection().toString()}return!0},_onChangeCutOffHandler:function(t){var r=e(t.target);this.option("maxLength")&&this._cutOffExtraChar(r)},_cutOffExtraChar:function(e){var t=this._getMaxLength(),r=e.val();t&&r.length>t&&e.val(r.substr(0,t))},_getMaxLength:function(){return!!this.option("mask")?null:this.option("maxLength")},_isAndroidOrIE:function(){var e=a.real(),t=e.version.join(".");return i.msie||"android"===e.platform&&t&&/^(2\.|4\.1)/.test(t)&&!/chrome/i.test(d)}});l("dxTextBox",m),module.exports=m;
},{"../../core/renderer":"qxFQ","../../core/utils/window":"NXH3","../../core/utils/browser":"nlvS","../../events/core/events_engine":"oNrb","../../core/devices":"LpzF","../../core/utils/array":"uivT","../../core/utils/extend":"ac8T","../../core/component_registrator":"g3fO","./ui.text_editor":"Jy4U","../../events/utils":"cNvJ"}],"DM5G":[function(require,module,exports) {
"use strict";module.exports=require("./text_box/text_box"),module.exports.default=module.exports;
},{"./text_box/text_box":"p7Xm"}],"ogZK":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=l(e),a=require("../../core/utils/extend"),r=require("../../localization/message"),i=l(r),s=require("../text_box"),n=l(s),o=require("../widget/ui.errors"),h=l(o),c=require("../../core/utils/deferred");function l(e){return e&&e.__esModule?e:{default:e}}module.exports={_getDefaultOptions:function(){return(0,a.extend)(this.callBase(),{searchMode:"",searchExpr:null,searchValue:"",searchEnabled:!1,searchEditorOptions:{}})},_initMarkup:function(){this._renderSearch(),this.callBase()},_renderSearch:function(){var e,a=this.$element(),r=this.option("searchEnabled"),i=this._addWidgetPrefix("search"),s=this._addWidgetPrefix("with-search");if(!r)return a.removeClass(s),void this._removeSearchBox();e=this._getSearchEditorOptions(),this._searchEditor?this._searchEditor.option(e):(a.addClass(s),this._$searchEditorElement=(0,t.default)("<div>").addClass(i).prependTo(a),this._searchEditor=this._createComponent(this._$searchEditorElement,n.default,e))},_removeSearchBox:function(){this._$searchEditorElement&&this._$searchEditorElement.remove(),delete this._$searchEditorElement,delete this._searchEditor},_getSearchEditorOptions:function(){var e=this,t=e.option("searchEditorOptions"),r=i.default.format("Search");return(0,a.extend)({mode:"search",placeholder:r,tabIndex:e.option("tabIndex"),value:e.option("searchValue"),valueChangeEvent:"input",inputAttr:{"aria-label":r},onValueChanged:function(t){var a=e.option("searchTimeout");e._valueChangeDeferred=new c.Deferred,clearTimeout(e._valueChangeTimeout),e._valueChangeDeferred.done(function(){this.option("searchValue",t.value)}.bind(e)),t.event&&"input"===t.event.type&&a?e._valueChangeTimeout=setTimeout(function(){e._valueChangeDeferred.resolve()},a):e._valueChangeDeferred.resolve()}},t)},_getAriaTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.$element()},_focusTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_updateFocusState:function(e,t){this.option("searchEnabled")&&this._toggleFocusClass(t,this.$element()),this.callBase(e,t)},getOperationBySearchMode:function(e){return"equals"===e?"=":e},_cleanAria:function(e){this.setAria({role:null,activedescendant:null},e),e.attr("tabIndex",null)},_optionChanged:function(e){switch(e.name){case"searchEnabled":case"searchEditorOptions":this._cleanAria(this.option("searchEnabled")?this.$element():this._itemContainer()),this._invalidate();break;case"searchExpr":case"searchMode":case"searchValue":if(!this._dataSource)return void h.default.log("W1009");"searchMode"===e.name?this._dataSource.searchOperation(this.getOperationBySearchMode(e.value)):this._dataSource[e.name](e.value),this._dataSource.load();break;case"searchTimeout":break;default:this.callBase(e)}},focus:function(){this.option("focusedElement")||!this.option("searchEnabled")?this.callBase():this._searchEditor&&this._searchEditor.focus()},_refresh:function(){this._valueChangeDeferred&&this._valueChangeDeferred.resolve(),this.callBase()}};
},{"../../core/renderer":"qxFQ","../../core/utils/extend":"ac8T","../../localization/message":"Njcj","../text_box":"DM5G","../widget/ui.errors":"RFsS","../../core/utils/deferred":"g5TB"}],"CFvy":[function(require,module,exports) {
"use strict";var e=require("../../core/class"),t=require("../../core/utils/extend").extend,i=require("../../ui/widget/ui.errors"),n=require("../../core/utils/iterator").each,s=require("../../core/utils/type"),r=e.inherit({ctor:function(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0},_indexByKey:{},_convertItemsToNodes:function(e,t){var i=this;n(e,function(e,n){var r=s.isDefined(t)?t:i._getParentId(n),a=i._convertItemToNode(n,r);i._dataStructure.push(a),i._checkForDuplicateId(a.internalFields.key),i._indexByKey[a.internalFields.key]=i._dataStructure.length-1,i._itemHasChildren(n)&&i._convertItemsToNodes(i._dataAccessors.getters.items(n),a.internalFields.key)})},_checkForDuplicateId:function(e){if(s.isDefined(this._indexByKey[e]))throw i.Error("E1040",e)},_getParentId:function(e){return"plain"===this._dataType?this._dataAccessors.getters.parentKey(e):void 0},_itemHasChildren:function(e){if("plain"!==this._dataType){var t=this._dataAccessors.getters.items(e);return t&&t.length}},_getUniqueKey:function(e){var t=this._dataAccessors.getters.key,i=t(e);return t&&(i||0===i)&&s.isPrimitive(i)?i:this.getItemsCount()},_convertItemToNode:function(e,i){this._itemsCount++,!1!==e.visible&&this._visibleItemsCount++;var n={internalFields:{disabled:this._dataAccessors.getters.disabled(e,{defaultValue:!1}),expanded:this._dataAccessors.getters.expanded(e,{defaultValue:!1}),selected:this._dataAccessors.getters.selected(e,{defaultValue:!1}),key:this._getUniqueKey(e),parentKey:s.isDefined(i)?i:this._rootValue,item:this._makeObjectFromPrimitive(e),childrenKeys:[]}};return t(n,e),delete n.items,n},setChildrenKeys:function(){var e=this;n(this._dataStructure,function(t,i){if(i.internalFields.parentKey!==e._rootValue){var n=e.getParentNode(i);n&&n.internalFields.childrenKeys.push(i.internalFields.key)}})},_makeObjectFromPrimitive:function(e){if(s.isPrimitive(e)){var t=e;e={},this._dataAccessors.setters.key(e,t)}return e},_convertToPublicNode:function(e,t){if(!e)return null;var i={text:this._dataAccessors.getters.display(e),key:e.internalFields.key,selected:e.internalFields.selected,expanded:e.internalFields.expanded,disabled:e.internalFields.disabled,parent:t||null,itemData:e.internalFields.item,children:[],items:[]};return i.parent&&(i.parent.children.push(i),i.parent.items.push(i)),i},convertToPublicNodes:function(e,t){if(!e.length)return[];var i=this,r=[];return n(e,function(e,n){n=s.isPrimitive(n)?i._getByKey(n):n;var a=i._convertToPublicNode(n,t);a.children=i.convertToPublicNodes(n.internalFields.childrenKeys,a),r.push(a),n.internalFields.publicNode=a}),r},setDataAccessors:function(e){this._dataAccessors=e},_getByKey:function(e){return this._dataStructure[this.getIndexByKey(e)]||null},getParentNode:function(e){return this._getByKey(e.internalFields.parentKey)},getByKey:function(e,t){var i=null,s=this,r=function e(t,r){return n(t,function(t,n){var a=n.internalFields&&n.internalFields.key||s._dataAccessors.getters.key(n),d=s._dataAccessors.getters.items(n);if(a.toString()===r.toString())return i=n,!1;d&&e(d,r)}),i};return r(e,t)},getItemsCount:function(){return this._itemsCount},getVisibleItemsCount:function(){return this._visibleItemsCount},updateIndexByKey:function(){var e=this;this._indexByKey={},n(this._dataStructure,function(t,i){e._checkForDuplicateId(i.internalFields.key),e._indexByKey[i.internalFields.key]=t})},updateChildrenKeys:function(){this._indexByKey={},this.removeChildrenKeys(),this.updateIndexByKey(),this.setChildrenKeys()},removeChildrenKeys:function(){this._indexByKey={},n(this._dataStructure,function(e,t){t.internalFields.childrenKeys=[]})},getIndexByKey:function(e){return this._indexByKey[e]},createPlainStructure:function(e,t,i){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=t,this._dataType=i,this._indexByKey={},this._convertItemsToNodes(e),this.setChildrenKeys(),this._dataStructure}});module.exports=r;
},{"../../core/class":"YpjV","../../core/utils/extend":"ac8T","../../ui/widget/ui.errors":"RFsS","../../core/utils/iterator":"FHcO","../../core/utils/type":"Mw4w"}],"fgR6":[function(require,module,exports) {
"use strict";var e=require("../../core/class"),t=require("../../core/utils/common"),i=require("../../core/utils/iterator"),n=require("../../core/utils/iterator").each,r=require("../../core/utils/type"),s=require("../../core/utils/extend").extend,a=require("../../ui/widget/ui.errors"),o=require("../../ui/widget/ui.search_box_mixin").getOperationBySearchMode,d=require("../../core/utils/array").inArray,l=require("../../data/query"),u=require("../../data/store_helper"),c=require("./ui.data_converter"),h="expanded",_="selected",p="disabled",y=e.inherit({ctor:function(e){this.options={},s(this.options,this._defaultOptions(),e),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._createInternalDataStructure(),this.getTreeNodes()},setOption:function(e,t){this.options[e]=t,"recursiveSelection"===e&&this._updateSelection()},_defaultOptions:function(){return{dataAccessors:void 0,items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",searchMode:"contains",dataConverter:new c,onNodeChanged:t.noop,sort:null}},_createInternalDataStructure:function(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()},_updateSelection:function(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(_)},_updateExpansion:function(e){this.options.recursiveExpansion&&(e?this._updateOneBranch(e):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray(h)},_updateNodesKeysArray:function(e){var t=this,i=[];return n(t._getDataBySelectionMode(),function(n,r){t._isNodeVisible(r)&&r.internalFields[e]&&(e===h||t.options.multipleSelection?i.push(r.internalFields.key):(i.length&&t.toggleSelection(i[0],!1,!0),i=[r.internalFields.key]))}),i},_getDataBySelectionMode:function(){return this.options.multipleSelection?this.getData():this.getFullData()},_isNodeVisible:function(e){return!1!==e.internalFields.item.visible},_getByKey:function(e,t){return e===this._dataStructure?this.options.dataConverter._getByKey(t):this.options.dataConverter.getByKey(e,t)},_setChildrenSelection:function(){var e=this;n(this._dataStructure,function(t,i){if(i.internalFields.childrenKeys.length){var n=i.internalFields.selected;!0===n&&e._toggleChildrenSelection(i,n)}})},_setParentSelection:function(){var e=this;n(this._dataStructure,function(t,i){e.options.dataConverter.getParentNode(i)&&i.internalFields.parentKey!==e.options.rootValue&&e._iterateParents(i,function(t){var i=e._calculateSelectedState(t);e._setFieldState(t,_,i)})})},_setParentExpansion:function(){var e=this;n(this._dataStructure,function(t,i){i.internalFields.expanded&&e._updateOneBranch(i.internalFields.key)})},_updateOneBranch:function(e){var t=this,i=this.getNodeByKey(e);t._iterateParents(i,function(e){t._setFieldState(e,h,!0)})},_iterateChildren:function(e,t,i,s){if(r.isFunction(i)){var a=this,o=e.internalFields.key;-1===(s=s||[]).indexOf(o)&&(s.push(o),n(e.internalFields.childrenKeys,function(e,n){var r=a.getNodeByKey(n);i(r),r.internalFields.childrenKeys.length&&t&&a._iterateChildren(r,t,i,s)}))}},_iterateParents:function(e,t,i){if(e.internalFields.parentKey!==this.options.rootValue&&r.isFunction(t)){i=i||[];var n=e.internalFields.key;if(-1===i.indexOf(n)){i.push(n);var s=this.options.dataConverter.getParentNode(e);s&&(t(s),s.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(s,t,i))}}},_calculateSelectedState:function(e){for(var t=e.internalFields.childrenKeys.length,i=0,n=0,r=!1,s=0;s<=t-1;s++){var a=this.getNodeByKey(e.internalFields.childrenKeys[s]),o=!1===a.internalFields.item.visible,d=a.internalFields.selected;o?n++:d?i++:void 0===d&&(i+=.5)}return i&&(r=i===t-n||void 0),r},_toggleChildrenSelection:function(e,t){var i=this;this._iterateChildren(e,!0,function(e){i._isNodeVisible(e)&&i._setFieldState(e,_,t)})},_setFieldState:function(e,t,i){e.internalFields[t]!==i&&(e.internalFields[t]=i,e.internalFields.publicNode&&(e.internalFields.publicNode[t]=i),this.options.dataAccessors.setters[t](e.internalFields.item,i),this.options.onNodeChanged(e))},_markChildren:function(e){var t=this;n(e,function(e,i){var n=t.getIndexByKey(i),r=t.getNodeByKey(i);t._dataStructure[n]=0,r.internalFields.childrenKeys.length&&t._markChildren(r.internalFields.childrenKeys)})},_removeNode:function(e){var t=this.getNodeByKey(e);this._dataStructure[this.getIndexByKey(e)]=0,this._markChildren(t.internalFields.childrenKeys);var i=this,r=0,a=s([],this._dataStructure);n(a,function(e,t){t||(i._dataStructure.splice(e-r,1),r++)})},_addNode:function(e){var t=this.options.dataConverter,i=t._convertItemToNode(e,this.options.dataAccessors.getters.parentKey(e));this._dataStructure=this._dataStructure.concat(i),this._initialDataStructure=this._initialDataStructure.concat(i),t._dataStructure=t._dataStructure.concat(i)},_updateFields:function(){this.options.dataConverter.updateChildrenKeys(),this._updateSelection(),this._updateExpansion()},getSelectedNodesKeys:function(){return this._selectedNodesKeys},getExpandedNodesKeys:function(){return this._expandedNodesKeys},getData:function(){return this._dataStructure},getFullData:function(){return this._initialDataStructure},getNodeByItem:function(e){var t=null;return n(this._dataStructure,function(i,n){if(n.internalFields.item===e)return t=n,!1}),t},getNodesByItems:function(e){var t=this,i=[];return n(e,function(e,n){var r=t.getNodeByItem(n);r&&i.push(r)}),i},getNodeByKey:function(e,t){return this._getByKey(t||this._getDataBySelectionMode(),e)},getTreeNodes:function(){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())},getItemsCount:function(){return this.options.dataConverter.getItemsCount()},getVisibleItemsCount:function(){return this.options.dataConverter.getVisibleItemsCount()},getPublicNode:function(e){return e.internalFields.publicNode},getRootNodes:function(){return this.getChildrenNodes(this.options.rootValue)},getChildrenNodes:function(e){return l(this._dataStructure).filter(["internalFields.parentKey",e]).toArray()},getIndexByKey:function(e){return this.options.dataConverter.getIndexByKey(e)},addItem:function(e){this._addNode(e),this._updateFields()},removeItem:function(e){this._removeNode(e),this._updateFields()},toggleSelection:function(e,t,i){var n=this._isSingleModeUnselect(t),r=this._getByKey(i||n?this._initialDataStructure:this._dataStructure,e);this._setFieldState(r,_,t),this.options.recursiveSelection&&!i&&(t?this._setChildrenSelection():this._toggleChildrenSelection(r,t),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(_)},_isSingleModeUnselect:function(e){return!this.options.multipleSelection&&!e},toggleNodeDisabledState:function(e,t){var i=this.getNodeByKey(e);this._setFieldState(i,p,t)},toggleSelectAll:function(e){if(r.isDefined(e)){var t=this,i=t._selectedNodesKeys[t._selectedNodesKeys.length-1],s=t._isSingleModeUnselect(e)?this._initialDataStructure:this._dataStructure;n(s,function(i,n){t._isNodeVisible(n)&&t._setFieldState(n,_,e)}),t._selectedNodesKeys=t._updateNodesKeysArray(_),!e&&t.options.selectionRequired&&t.toggleSelection(i,!0)}},isAllSelected:function(){return!!this.getSelectedNodesKeys().length&&(this.getSelectedNodesKeys().length===this.getVisibleItemsCount()||void 0)},toggleExpansion:function(e,t){var i=this.getNodeByKey(e);this._setFieldState(i,h,t),t&&this._updateExpansion(e),this._expandedNodesKeys=this._updateNodesKeysArray(h)},isFiltered:function(e){return!this.options.searchValue.length||!!this._filterDataStructure(this.options.searchValue,[e]).length},_createCriteria:function(e,t,n){var r=[];return Array.isArray(e)?(i.each(e,function(e,i){r.push([i,n,t],"or")}),r.pop(),r):[e,n,t]},_filterDataStructure:function(e,t){var i=this.options.searchExpr||this.options.dataAccessors.getters.display,n=o(this.options.searchMode),r=this._createCriteria(i,e,n);return t=t||this._initialDataStructure,l(t).filter(r).toArray()},search:function(e){var t=this,i=this._filterDataStructure(e),r=this.options.dataConverter;return function e(i,n){for(var s=i.length;n<s;){var o=i[n];if(o.internalFields.parentKey!==t.options.rootValue){var l=r.getParentNode(o);l?(l.internalFields.expanded||t._setFieldState(l,h,!0),d(l,i)>-1?n++:(i.splice(n,0,l),e(i,n))):(a.log("W1007",o.internalFields.parentKey,o.internalFields.key),n++)}else n++}}(i,0),this.options.sort&&(i=u.queryByOptions(l(i),{sort:this.options.sort}).toArray()),r._indexByKey={},n(i,function(e,t){t.internalFields.childrenKeys=[],r._indexByKey[t.internalFields.key]=e}),r._dataStructure=i,r.setChildrenKeys(),r._dataStructure}});module.exports=y;
},{"../../core/class":"YpjV","../../core/utils/common":"GcQA","../../core/utils/iterator":"FHcO","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","../../ui/widget/ui.errors":"RFsS","../../ui/widget/ui.search_box_mixin":"ogZK","../../core/utils/array":"uivT","../../data/query":"TnO4","../../data/store_helper":"RUOb","./ui.data_converter":"CFvy"}],"Dcm1":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=require("../../core/class"),i=require("../../core/utils/iterator").each,s=require("../../core/utils/public_component"),n="dx-state-invisible",r="dx-state-disabled",o="dx-item-content-placeholder",a=function(t,e,i){var s,n=function(t){s!==t&&(i(t,s),s=t)};return{dispose:t(e,n),force:function(){n(e())}}},c=e.inherit({ctor:function(t,e,i){this._$element=t,this._options=e,this._rawData=i,s.attachInstanceToElement(t,this,this._dispose),this._render()},_render:function(){var e=t("<div>").addClass(o);this._$element.append(e),this._watchers=[],this._renderWatchers()},_renderWatchers:function(){this._startWatcher("disabled",this._renderDisabled.bind(this)),this._startWatcher("visible",this._renderVisible.bind(this))},_startWatcher:function(t,e){var i=this._rawData,s=this._options.fieldGetter(t),n=a(this._options.watchMethod(),function(){return s(i)},function(t,i){this._dirty=!0,e(t,i)}.bind(this));this._watchers.push(n)},setDataField:function(){if(this._dirty=!1,i(this._watchers,function(t,e){e.force()}),this._dirty)return!0},_renderDisabled:function(t,e){this._$element.toggleClass(r,!!t),this._updateOwnerFocus(t)},_updateOwnerFocus:function(t){var e=this._options.owner;e&&t&&e._resetItemFocus(this._$element)},_renderVisible:function(t,e){this._$element.toggleClass(n,void 0!==t&&!t)},_dispose:function(){i(this._watchers,function(t,e){e.dispose()})}});c.getInstance=function(t){return s.getInstanceByElement(t,this)},module.exports=c;
},{"../../core/renderer":"qxFQ","../../core/class":"YpjV","../../core/utils/iterator":"FHcO","../../core/utils/public_component":"exJN"}],"zW3q":[function(require,module,exports) {
"use strict";var t=require("./utils"),e=require("./core/emitter"),i=require("./core/emitter_registrator"),r=Math.abs,s="dxhold",n=750,o=5,a=e.inherit({start:function(e){this._startEventData=t.eventData(e),this._startTimer(e)},_startTimer:function(t){var e="timeout"in this?this.timeout:n;this._holdTimer=setTimeout(function(){this._requestAccept(t),this._fireEvent(s,t,{target:t.target}),this._forgetAccept()}.bind(this),e)},move:function(t){this._touchWasMoved(t)&&this._cancel(t)},_touchWasMoved:function(e){var i=t.eventDelta(this._startEventData,t.eventData(e));return r(i.x)>o||r(i.y)>o},end:function(){this._stopTimer()},_stopTimer:function(){clearTimeout(this._holdTimer)},cancel:function(){this._stopTimer()},dispose:function(){this._stopTimer()}});i({emitter:a,bubble:!0,events:[s]}),module.exports={name:s};
},{"./utils":"cNvJ","./core/emitter":"mbKE","./core/emitter_registrator":"IPLR"}],"eEkj":[function(require,module,exports) {
"use strict";var e=require("../core/renderer"),n=require("../events/core/events_engine"),r=require("../core/utils/support"),t=require("../core/devices"),i=require("../core/class"),o=require("./core/event_registrator"),u=require("./utils"),s=require("./hold"),c="dxContexMenu",a=u.addNamespace("contextmenu",c),d=u.addNamespace(s.name,c),l="dxcontextmenu",f=i.inherit({setup:function(i){var o=e(i);n.on(o,a,this._contextMenuHandler.bind(this)),(r.touch||t.isSimulator())&&n.on(o,d,this._holdHandler.bind(this))},_holdHandler:function(e){u.isMouseEvent(e)&&!t.isSimulator()||this._fireContextMenu(e)},_contextMenuHandler:function(e){this._fireContextMenu(e)},_fireContextMenu:function(e){return u.fireEvent({type:l,originalEvent:e})},teardown:function(e){n.off(e,"."+c)}});o(l,new f),exports.name=l;
},{"../core/renderer":"qxFQ","../events/core/events_engine":"oNrb","../core/utils/support":"eZC7","../core/devices":"LpzF","../core/class":"YpjV","./core/event_registrator":"czcP","./utils":"cNvJ","./hold":"zW3q"}],"pNX9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BindableTemplate=void 0;var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t=require("../renderer"),n=f(t),r=require("./template_base"),o=require("../../events/core/events_engine"),i=require("../remove_event"),u=f(i),c=require("../utils/type");function f(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e,t,n,r,o){var i=void 0,u=function(e,t,n){return t(function(){return e},n)}(e,t,function(e){i&&i(),(0,c.isPrimitive)(e)?o(e):i=function(e,t,n,r,o){var i={},u=n.slice(),c=n.map(function(n){var c=r[n];return t(c?function(){return c(e)}:function(){return e[n]},function(e){if(i[n]=e,u.length){var t=u.indexOf(n);t>=0&&u.splice(t,1)}u.length||o(i)})});return function(){c.forEach(function(e){return e()})}}(e,t,n,r,o)});return function(){i&&i(),u&&u()}},d=exports.BindableTemplate=function(t){function i(e,t,n,r){a(this,i);var o=l(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o._render=e,o._fields=t,o._fieldsMap=r||{},o._watchMethod=n,o}return s(i,r.TemplateBase),e(i,[{key:"_renderCore",value:function(e){var t=this,r=(0,n.default)(e.container),i=p(e.model,this._watchMethod,this._fields,this._fieldsMap,function(n){r.empty(),t._render(r,n,e.model)});return(0,o.on)(r,u.default,i),r.contents()}}]),i}();
},{"../renderer":"qxFQ","./template_base":"ztVS","../../events/core/events_engine":"oNrb","../remove_event":"zNXU","../utils/type":"Mw4w"}],"IiPN":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=G(e),n=require("../../events/core/events_engine"),i=G(n),s=require("../../core/utils/common"),a=G(s),o=require("../../core/utils/dom"),r=require("../../core/dom_adapter"),l=G(r),d=require("../../core/utils/type"),u=require("../../core/utils/deferred"),c=require("../../core/utils/extend"),m=require("../../core/utils/array"),h=require("../../core/utils/iterator"),_=G(h),f=require("../../core/action"),p=G(f),I=require("../../core/guid"),g=G(I),v=require("../widget/ui.widget"),C=G(v),x=require("../../events/utils"),E=G(x),b=require("../../events/pointer"),F=G(b),D=require("../../data_helper"),y=G(D),A=require("./item"),T=G(A),H=require("../widget/selectors"),w=G(H),k=require("../../localization/message"),M=G(k),S=require("../../events/hold"),B=G(S),P=require("../../core/utils/data"),q=require("../../events/click"),N=G(q),O=require("../../events/contextmenu"),R=G(O),$=require("../../core/templates/bindable_template");function G(e){return e&&e.__esModule?e:{default:e}}var L="dx-collection",K="dx-item",W="-content",V="dx-item-content-placeholder",X="dxItemData",j="dxItemIndex",z="tmpl-",U="[data-options*='dxItem']",J="dx-item-selected",Q="dx-item-response-wait",Y="dx-empty-collection",Z="dx-template-wrapper",ee=/^([^.]+\[\d+\]\.)+([\w.]+)$/,te="up",ne="down",ie="left",se="right",ae="pageup",oe="pagedown",re="last",le="first",de=C.default.inherit({_activeStateUnit:"."+K,_supportedKeys:function(){var e=function(e){var n=(0,t.default)(this.option("focusedElement"));n.length&&this._itemClickHandler((0,c.extend)({},e,{target:n,currentTarget:n}))},n=function(e,t){t.preventDefault(),t.stopPropagation(),this._moveFocus(e,t)};return(0,c.extend)(this.callBase(),{space:function(t){t.preventDefault(),e.call(this,t)},enter:e,leftArrow:n.bind(this,ie),rightArrow:n.bind(this,se),upArrow:n.bind(this,te),downArrow:n.bind(this,ne),pageUp:n.bind(this,te),pageDown:n.bind(this,ne),home:n.bind(this,le),end:n.bind(this,re)})},_getDefaultOptions:function(){return(0,c.extend)(this.callBase(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:M.default.format("dxCollectionWidget-noDataText"),dataSource:null,_itemAttributes:{},itemTemplateProperty:"template",focusOnSelectedItem:!0,focusedElement:null,displayExpr:void 0,disabledExpr:function(e){return e?e.disabled:void 0},visibleExpr:function(e){return e?e.visible:void 0}})},_getAnonymousTemplateName:function(){return"item"},_init:function(){this._compileDisplayGetter(),this.callBase(),this._cleanRenderedItems(),this._refreshDataSource()},_compileDisplayGetter:function(){var e=this.option("displayExpr");this._displayGetter=e?(0,P.compileGetter)(this.option("displayExpr")):void 0},_initTemplates:function(){this._initItemsFromMarkup(),this.callBase(),this._initDefaultItemTemplate()},_initDefaultItemTemplate:function(){var e=this._getFieldsMap();this._defaultTemplates.item=new $.BindableTemplate(function(t,n){(0,d.isPlainObject)(n)?this._prepareDefaultItemTemplate(n,t):(e&&(0,d.isFunction)(e.text)&&(n=e.text(n)),t.text(String(a.default.ensureDefined(n,""))))}.bind(this),this._getBindableFields(),this.option("integrationOptions.watchMethod"),e)},_getBindableFields:function(){return["text","html"]},_getFieldsMap:function(){if(this._displayGetter)return{text:this._displayGetter}},_prepareDefaultItemTemplate:function(e,t){(0,d.isDefined)(e.text)&&t.text(e.text),(0,d.isDefined)(e.html)&&t.html(e.html)},_initItemsFromMarkup:function(){var e=this,n=this.$element().contents().filter(U);if(n.length&&!this.option("items").length){var i=[].slice.call(n).map(function(n){var i=(0,t.default)(n),s=(0,o.getElementOptions)(n).dxItem;return i.html().trim()&&!s.template?s.template=e._prepareItemTemplate(i):i.remove(),s});this.option("items",i)}},_prepareItemTemplate:function(e){var t=z+new g.default,n=e.detach().clone().removeAttr("data-options").addClass(Z);return this._saveTemplate(t,n),t},_dataSourceOptions:function(){return{paginate:!1}},_cleanRenderedItems:function(){this._renderedItemsCount=0},_focusTarget:function(){return this.$element()},_focusInHandler:function(e){if(this.callBase.apply(this,arguments),-1!==(0,m.inArray)(e.target,this._focusTarget())){var n=(0,t.default)(this.option("focusedElement"));if(n.length)this._setFocusedItem(n);else{var i=this._getActiveItem();i.length&&this.option("focusedElement",(0,o.getPublicElement)(i))}}},_focusOutHandler:function(){this.callBase.apply(this,arguments);var e=(0,t.default)(this.option("focusedElement"));this._updateFocusedItemState(e,!1)},_getActiveItem:function(e){var n=(0,t.default)(this.option("focusedElement"));if(n.length)return n;var i=this.option("focusOnSelectedItem")?this.option("selectedIndex"):0,s=this._getActiveElement(),a=s.length-1;return i<0&&(i=e?a:0),s.eq(i)},_moveFocus:function(e){var t,n=this._getAvailableItems();switch(e){case ae:case te:t=this._prevItem(n);break;case oe:case ne:t=this._nextItem(n);break;case se:t=this.option("rtlEnabled")?this._prevItem(n):this._nextItem(n);break;case ie:t=this.option("rtlEnabled")?this._nextItem(n):this._prevItem(n);break;case le:t=n.first();break;case re:t=n.last();break;default:return!1}0!==t.length&&this.option("focusedElement",(0,o.getPublicElement)(t))},_getVisibleItems:function(e){return(e=e||this._itemElements()).filter(":visible")},_getAvailableItems:function(e){return this._getVisibleItems(e).not(".dx-state-disabled")},_prevItem:function(e){var n=this._getActiveItem(),i=e.index(n),s=e.last(),a=(0,t.default)(e[i-1]),o=this.option("loopItemFocus");return 0===a.length&&o&&(a=s),a},_nextItem:function(e){var n=this._getActiveItem(!0),i=e.index(n),s=e.first(),a=(0,t.default)(e[i+1]),o=this.option("loopItemFocus");return 0===a.length&&o&&(a=s),a},_selectFocusedItem:function(e){this.selectItem(e)},_updateFocusedItemState:function(e,n,i){var s=(0,t.default)(e);s.length&&(this._refreshActiveDescendant(),this._refreshItemId(s,i),this._toggleFocusClass(n,s))},_refreshActiveDescendant:function(e){this.setAria("activedescendant",(0,d.isDefined)(this.option("focusedElement"))?this.getFocusedItemId():null,e)},_refreshItemId:function(e,t){!t&&this.option("focusedElement")?this.setAria("id",this.getFocusedItemId(),e):this.setAria("id",null,e)},_setFocusedItem:function(e){e&&e.length&&(this._updateFocusedItemState(e,!0),this.onFocusedItemChanged(this.getFocusedItemId()),this.option("selectOnFocus")&&this._selectFocusedItem(e))},_findItemElementByItem:function(e){var n=(0,t.default)(),i=this;return this.itemElements().each(function(){var s=(0,t.default)(this);if(s.data(i._itemDataKey())===e)return n=s,!1}),n},_getIndexByItem:function(e){return this.option("items").indexOf(e)},_itemOptionChanged:function(e,t,n,i){var s=this._findItemElementByItem(e);s.length&&(this.constructor.ItemClass.getInstance(s).setDataField(t,n)||this._refreshItem(s,e),"disabled"===t&&n&&this._resetItemFocus(s))},_resetItemFocus:function(e){e.is(this.option("focusedElement"))&&this.option("focusedElement",null)},_refreshItem:function(e){var t=this._getItemData(e),n=e.data(this._itemIndexKey());this._renderItem(this._renderedItemsCount+n,t,null,e)},_optionChanged:function(e){if("items"===e.name){var n=e.fullName.match(ee);if(n&&n.length){var i=n[n.length-1],s=e.fullName.replace("."+i,""),a=this.option(s);return void this._itemOptionChanged(a,i,e.value,e.previousValue)}}switch(e.name){case"items":case"_itemAttributes":case"itemTemplateProperty":case"showItemDataTitle":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._renderEmptyMessage();break;case"noDataText":this._renderEmptyMessage();break;case"itemTemplate":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"selectOnFocus":case"loopItemFocus":case"focusOnSelectedItem":break;case"focusedElement":this._updateFocusedItemState(e.previousValue,!1,!0),this._setFocusedItem((0,t.default)(e.value));break;case"displayExpr":this._compileDisplayGetter(),this._initDefaultItemTemplate(),this._invalidate();break;case"visibleExpr":case"disabledExpr":this._invalidate();break;default:this.callBase(e)}},_invalidate:function(){return this.option("focusedElement",null),this.callBase.apply(this,arguments)},_loadNextPage:function(){var e=this._dataSource;return this._expectNextPageLoading(),e.pageIndex(1+e.pageIndex()),e.load()},_expectNextPageLoading:function(){this._startIndexForAppendedItems=0},_expectLastItemLoading:function(){this._startIndexForAppendedItems=-1},_forgetNextPageLoading:function(){this._startIndexForAppendedItems=null},_dataSourceChangedHandler:function(e){var t=this.option("items");this._initialized&&t&&this._shouldAppendItems()?(this._renderedItemsCount=t.length,this._isLastPage()&&-1===this._startIndexForAppendedItems||(this.option().items=t.concat(e.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._refreshContent()):this.option("items",e.slice())},_refreshContent:function(){this._prepareContent(),this._renderContent()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this.option("items",this.option("items"))},_shouldAppendItems:function(){return null!=this._startIndexForAppendedItems&&this._allowDynamicItemsAppend()},_allowDynamicItemsAppend:function(){return!1},_clean:function(){this._cleanFocusState(),this._cleanItemContainer()},_cleanItemContainer:function(){(0,t.default)(this._itemContainer()).empty()},_dispose:function(){this.callBase(),clearTimeout(this._itemFocusTimeout)},_refresh:function(){this._cleanRenderedItems(),this.callBase.apply(this,arguments)},_itemContainer:function(){return this.$element()},_itemClass:function(){return K},_itemContentClass:function(){return this._itemClass()+W},_selectedItemClass:function(){return J},_itemResponseWaitClass:function(){return Q},_itemSelector:function(){return"."+this._itemClass()},_itemDataKey:function(){return X},_itemIndexKey:function(){return j},_itemElements:function(){return this._itemContainer().find(this._itemSelector())},_initMarkup:function(){this.callBase(),this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.$element().addClass(L),this._prepareContent()},_prepareContent:a.default.deferRenderer(function(){this._renderContentImpl()}),_renderContent:function(){this._fireContentReadyAction()},_render:function(){this.callBase(),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()},_attachClickEvent:function(){var e=this._itemSelector(),n=E.default.addNamespace(N.default.name,this.NAME),s=E.default.addNamespace(F.default.down,this.NAME),a=this,o=new p.default(function(e){var t=e.event;a._itemPointerDownHandler(t)});i.default.off(this._itemContainer(),n,e),i.default.off(this._itemContainer(),s,e),i.default.on(this._itemContainer(),n,e,function(e){this._itemClickHandler(e)}.bind(this)),i.default.on(this._itemContainer(),s,e,function(e){o.execute({element:(0,t.default)(e.target),event:e})})},_itemClickHandler:function(e,t,n){this._itemDXEventHandler(e,"onItemClick",t,n)},_itemPointerDownHandler:function(e){this.option("focusStateEnabled")&&(this._itemFocusHandler=function(){if(clearTimeout(this._itemFocusTimeout),this._itemFocusHandler=null,!e.isDefaultPrevented()){var n=(0,t.default)(e.target),i=n.closest(this._itemElements()),s=this._closestFocusable(n);i.length&&s&&-1!==(0,m.inArray)(s.get(0),this._focusTarget())&&this.option("focusedElement",(0,o.getPublicElement)(i))}}.bind(this),this._itemFocusTimeout=setTimeout(this._forcePointerDownFocus.bind(this)))},_closestFocusable:function(e){if(e.is(w.default.focusable))return e;for(e=e.parent();e.length&&!l.default.isDocument(e.get(0));){if(e.is(w.default.focusable))return e;e=e.parent()}},_forcePointerDownFocus:function(){this._itemFocusHandler&&this._itemFocusHandler()},_updateFocusState:function(){this.callBase.apply(this,arguments),this._forcePointerDownFocus()},_attachHoldEvent:function(){var e=this._itemContainer(),t=this._itemSelector(),n=E.default.addNamespace(B.default.name,this.NAME);i.default.off(e,n,t),i.default.on(e,n,t,{timeout:this._getHoldTimeout()},this._itemHoldHandler.bind(this))},_getHoldTimeout:function(){return this.option("itemHoldTimeout")},_shouldFireHoldEvent:function(){return this.hasActionSubscription("onItemHold")},_itemHoldHandler:function(e){this._shouldFireHoldEvent()?this._itemDXEventHandler(e,"onItemHold"):e.cancel=!0},_attachContextMenuEvent:function(){var e=this._itemContainer(),t=this._itemSelector(),n=E.default.addNamespace(R.default.name,this.NAME);i.default.off(e,n,t),i.default.on(e,n,t,this._itemContextMenuHandler.bind(this))},_shouldFireContextMenuEvent:function(){return this.hasActionSubscription("onItemContextMenu")},_itemContextMenuHandler:function(e){this._shouldFireContextMenuEvent()?this._itemDXEventHandler(e,"onItemContextMenu"):e.cancel=!0},_renderContentImpl:function(){var e=this.option("items")||[];this._renderedItemsCount?this._renderItems(e.slice(this._renderedItemsCount)):this._renderItems(e)},_renderItems:function(e){e.length&&_.default.each(e,function(e,t){this._renderItem(this._renderedItemsCount+e,t)}.bind(this)),this._renderEmptyMessage()},_renderItem:function(e,t,n,i){n=n||this._itemContainer();var s=this._renderItemFrame(e,t,n,i);this._setElementData(s,t,e),s.attr(this.option("_itemAttributes")),this._attachItemClickEvent(t,s);var a=this._getItemContent(s),r=this._renderItemContent({index:e,itemData:t,container:(0,o.getPublicElement)(a),contentClass:this._itemContentClass(),defaultTemplateName:this.option("itemTemplate")}),l=this;return(0,u.when)(r).done(function(n){l._postprocessRenderItem({itemElement:s,itemContent:n,itemData:t,itemIndex:e}),l._executeItemRenderAction(e,t,(0,o.getPublicElement)(s))}),s},_getItemContent:function(e){var t=e.find("."+V);return t.removeClass(V),t},_attachItemClickEvent:function(e,t){e&&e.onClick&&i.default.on(t,N.default.name,function(n){this._itemEventHandlerByHandler(t,e.onClick,{event:n})}.bind(this))},_renderItemContent:function(e){var n=this._getItemTemplateName(e),i=this._getTemplate(n);this._addItemContentClasses(e);var s=(0,t.default)(this._createItemByTemplate(i,e));return s.hasClass(Z)?this._renderItemContentByNode(e,s):e.container},_renderItemContentByNode:function(e,n){return(0,t.default)(e.container).replaceWith(n),e.container=(0,o.getPublicElement)(n),this._addItemContentClasses(e),n},_addItemContentClasses:function(e){var n=[K+W,e.contentClass];(0,t.default)(e.container).addClass(n.join(" "))},_appendItemToContainer:function(e,t,n){t.appendTo(e)},_renderItemFrame:function(e,n,i,s){var a=(0,t.default)("<div>");if(new this.constructor.ItemClass(a,this._itemOptions(),n||{}),s&&s.length?s.replaceWith(a):this._appendItemToContainer.call(this,i,a,e),this.option("showItemDataTitle")){var o=this._displayGetter?this._displayGetter(n):n;a.attr("title",o)}return a},_itemOptions:function(){var e=this;return{watchMethod:function(){return e.option("integrationOptions.watchMethod")},owner:e,fieldGetter:function(t){var n=e.option(t+"Expr");return(0,P.compileGetter)(n)}}},_postprocessRenderItem:a.default.noop,_executeItemRenderAction:function(e,t,n){this._getItemRenderAction()({itemElement:n,itemIndex:e,itemData:t})},_setElementData:function(e,t,n){e.addClass([K,this._itemClass()].join(" ")).data(this._itemDataKey(),t).data(this._itemIndexKey(),n)},_createItemRenderAction:function(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["disabled","readOnly"],category:"rendering"})},_getItemRenderAction:function(){return this._itemRenderAction||this._createItemRenderAction()},_getItemTemplateName:function(e){var t=e.itemData,n=e.templateProperty||this.option("itemTemplateProperty");return t&&t[n]||e.defaultTemplateName},_createItemByTemplate:function(e,t){return e.render({model:t.itemData,container:t.container,index:t.index})},_emptyMessageContainer:function(){return this._itemContainer()},_renderEmptyMessage:function(e){e=e||this.option("items");var n=this.option("noDataText"),i=!n||e&&e.length||this._isDataSourceLoading();i&&this._$noData&&(this._$noData.remove(),this._$noData=null,this.setAria("label",void 0)),i||(this._$noData=this._$noData||(0,t.default)("<div>").addClass("dx-empty-message"),this._$noData.appendTo(this._emptyMessageContainer()).html(n),this.setAria("label",n)),this.$element().toggleClass(Y,!i)},_itemDXEventHandler:function(e,t,n,i){this._itemEventHandler(e.target,t,(0,c.extend)(n,{event:e}),i)},_itemEventHandler:function(e,t,n,i){var s=this._createActionByOption(t,(0,c.extend)({validatingTargetName:"itemElement"},i));return this._itemEventHandlerImpl(e,s,n)},_itemEventHandlerByHandler:function(e,t,n,i){var s=this._createAction(t,(0,c.extend)({validatingTargetName:"itemElement"},i));return this._itemEventHandlerImpl(e,s,n)},_itemEventHandlerImpl:function(e,n,i){var s=this._closestItemElement((0,t.default)(e)),a=(0,c.extend)({},i);return n((0,c.extend)(i,this._extendActionArgs(s),a))},_extendActionArgs:function(e){return{itemElement:(0,o.getPublicElement)(e),itemIndex:this._itemElements().index(e),itemData:this._getItemData(e)}},_closestItemElement:function(e){return(0,t.default)(e).closest(this._itemSelector())},_getItemData:function(e){return(0,t.default)(e).data(this._itemDataKey())},_getSummaryItemsWidth:function(e,n){var i=0;return e&&_.default.each(e,function(e,s){i+=(0,t.default)(s).outerWidth(n||!1)}),i},getFocusedItemId:function(){return this._focusedItemId||(this._focusedItemId="dx-"+new g.default),this._focusedItemId},itemElements:function(){return this._itemElements()},itemsContainer:function(){return this._itemContainer()}}).include(y.default);de.ItemClass=T.default,module.exports=de;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/utils/common":"GcQA","../../core/utils/dom":"vDwZ","../../core/dom_adapter":"RRDy","../../core/utils/type":"Mw4w","../../core/utils/deferred":"g5TB","../../core/utils/extend":"ac8T","../../core/utils/array":"uivT","../../core/utils/iterator":"FHcO","../../core/action":"Bpfv","../../core/guid":"tQQP","../widget/ui.widget":"gtOK","../../events/utils":"cNvJ","../../events/pointer":"HDhW","../../data_helper":"srCI","./item":"Dcm1","../widget/selectors":"m3d1","../../localization/message":"Njcj","../../events/hold":"zW3q","../../core/utils/data":"YLhW","../../events/click":"RTmy","../../events/contextmenu":"eEkj","../../core/templates/bindable_template":"pNX9"}],"VxSu":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../core/class"),i=require("../../core/utils/common").equalByValue,n=t.abstract,r=t.inherit({ctor:function(e){this._collectionWidget=e},getIndexByItemData:n,getItemDataByIndex:n,getKeysByItems:n,getItemsByKeys:n,itemsGetter:n,getKeyByIndex:function(e){var t=this._denormalizeItemIndex(e);return this.getKeysByItems([this.getItemDataByIndex(t)])[0]},_equalKeys:function(e,t){return this._collectionWidget._isKeySpecified()?i(e,t):e===t},beginCache:function(){this._cache={}},endCache:function(){this._cache=null},getIndexByKey:n,getNormalizedIndex:function(e){return this._isNormalizedItemIndex(e)?e:this._isItemIndex(e)?this._normalizeItemIndex(e):this._isDOMNode(e)?this._getNormalizedItemIndex(e):this._normalizeItemIndex(this.getIndexByItemData(e))},getIndex:function(e){return this._isNormalizedItemIndex(e)?this._denormalizeItemIndex(e):this._isItemIndex(e)?e:this._isDOMNode(e)?this._denormalizeItemIndex(this._getNormalizedItemIndex(e)):this.getIndexByItemData(e)},getItemElement:function(t){if(this._isNormalizedItemIndex(t))return this._getItemByNormalizedIndex(t);if(this._isItemIndex(t))return this._getItemByNormalizedIndex(this._normalizeItemIndex(t));if(this._isDOMNode(t))return e(t);var i=this._normalizeItemIndex(this.getIndexByItemData(t));return this._getItemByNormalizedIndex(i)},deleteItemAtIndex:n,itemPlacementFunc:function(e,t){return this._itemsFromSameParent(e,t)&&e<t?"after":"before"},moveItemAtIndexToIndex:n,_isNormalizedItemIndex:function(e){return"number"==typeof e&&Math.round(e)===e},_isDOMNode:function(t){var i;try{i=e(t)}catch(n){return!1}return i&&i.length&&i.get(0).nodeType},_isItemIndex:n,_getNormalizedItemIndex:n,_normalizeItemIndex:n,_denormalizeItemIndex:n,_getItemByNormalizedIndex:n,_itemsFromSameParent:n});module.exports=r;
},{"../../core/renderer":"qxFQ","../../core/class":"YpjV","../../core/utils/common":"GcQA"}],"UUEY":[function(require,module,exports) {
"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=require("../../core/utils/array").inArray,n=require("./ui.collection_widget.edit.strategy"),i=n.inherit({_getPlainItems:function(){return this._collectionWidget.option("items")||[]},getIndexByItemData:function(e){var n=this._collectionWidget.keyOf.bind(this._collectionWidget);return n?this.getIndexByKey(n(e)):t(e,this._getPlainItems())},getItemDataByIndex:function(e){return this._getPlainItems()[e]},deleteItemAtIndex:function(e){this._getPlainItems().splice(e,1)},itemsGetter:function(){return this._getPlainItems()},getKeysByItems:function(e){var t=this._collectionWidget.keyOf.bind(this._collectionWidget),n=e;if(t){n=[];for(var i=0;i<e.length;i++)n.push(t(e[i]))}return n},getIndexByKey:function(t){var n=this._cache,i=n&&n.keys||this.getKeysByItems(this._getPlainItems());if(n&&!n.keys&&(n.keys=i),"object"!==(void 0===t?"undefined":e(t)))return i.indexOf(t);for(var o=0,r=i.length;o<r;o++)if(this._equalKeys(t,i[o]))return o;return-1},getItemsByKeys:function(e,t){return(t||e).slice()},moveItemAtIndexToIndex:function(e,t){var n=this._getPlainItems(),i=n[e];n.splice(e,1),n.splice(t,0,i)},_isItemIndex:function(e){return"number"==typeof e&&Math.round(e)===e},_getNormalizedItemIndex:function(e){return this._collectionWidget._itemElements().index(e)},_normalizeItemIndex:function(e){return e},_denormalizeItemIndex:function(e){return e},_getItemByNormalizedIndex:function(e){return e>-1?this._collectionWidget._itemElements().eq(e):null},_itemsFromSameParent:function(){return!0}});module.exports=i;
},{"../../core/utils/array":"uivT","./ui.collection_widget.edit.strategy":"VxSu"}],"CaMx":[function(require,module,exports) {
"use strict";var e=require("../../data/query"),t=require("../../core/utils/common"),s=require("../../core/utils/type"),i=t.getKeyHash,o=require("../../core/class"),n=require("../../core/utils/deferred").Deferred;module.exports=o.inherit({ctor:function(e){this.options=e,this._setOption("disabledItemKeys",[]),this._clearItemKeys()},_clearItemKeys:function(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])},validate:t.noop,_setOption:function(e,t){this.options[e]=t},onSelectionChanged:function(){var e=this.options.addedItemKeys,s=this.options.removedItemKeys,i=this.options.addedItems,o=this.options.removedItems,n=this.options.selectedItems,r=this.options.selectedItemKeys,l=this.options.onSelectionChanged||t.noop;this._clearItemKeys(),l({selectedItems:n,selectedItemKeys:r,addedItemKeys:e,removedItemKeys:s,addedItems:i,removedItems:o})},equalKeys:function(e,i){return this.options.equalByReference&&s.isObject(e)&&s.isObject(i)?e===i:t.equalByValue(e,i)},getSelectableItems:function(e){return e.filter(function(e){return!e.disabled})},_clearSelection:function(e,t,s,i){return e=e||[],e=Array.isArray(e)?e:[e],this.validate(),this.selectedItemKeys(e,t,s,i)},_loadFilteredData:function(t,i,o){var r=encodeURI(JSON.stringify(t)).length,l=this.options.maxFilterLengthInRequest&&r>this.options.maxFilterLengthInRequest,a=new n,d={filter:l?void 0:t,select:l?this.options.dataFields():o||this.options.dataFields()};return t&&0===t.length?a.resolve([]):this.options.load(d).done(function(o){var n=s.isPlainObject(o)?o.data:o;i?n=n.filter(i):l&&(n=e(n).filter(t).toArray()),a.resolve(n)}).fail(a.reject.bind(a)),a},updateSelectedItemKeyHash:function(e){for(var t=0;t<e.length;t++){var o=i(e[t]);if(!s.isObject(o))this.options.keyHashIndices[o]=this.options.keyHashIndices[o]||[],this.options.keyHashIndices[o].push(t)}},_isAnyItemSelected:function(e){for(var t=0;t<e.length;t++)if(this.options.isItemSelected(e[t]))return;return!1},_getFullSelectAllState:function(){var t=this.options.plainItems(),s=this.options.filter(),i=this.options.selectedItems;s&&(i=e(i).filter(s).toArray());var o=i.length;return o?o>=this.options.totalCount()-this.options.disabledItemKeys.length||void 0:this._isAnyItemSelected(t)},_getVisibleSelectAllState:function(){for(var e=this.getSelectableItems(this.options.plainItems()),t=!1,s=!1,i=0;i<e.length;i++){var o=e[i],n=this.options.getItemData(o),r=this.options.keyOf(n);this.options.isSelectableItem(o)&&(this.isItemKeySelected(r)?t=!0:s=!0)}return!!t&&(!s||void 0)}});
},{"../../data/query":"TnO4","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/class":"YpjV","../../core/utils/deferred":"g5TB"}],"P2hv":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/type"),t=require("./selection.strategy"),i=require("../widget/ui.errors"),r=require("../../data/query"),n=require("../../core/utils/deferred").Deferred;module.exports=t.inherit({getSelectedItems:function(){return this._loadFilteredData(this.options.selectionFilter)},getSelectedItemKeys:function(){var t=new n,i=this,r=this.options.key(),l=e.isString(r)?[r]:r;return this._loadFilteredData(this.options.selectionFilter,null,l).done(function(e){var r=e.map(function(e){return i.options.keyOf(e)});t.resolve(r)}).fail(t.reject),t.promise()},selectedItemKeys:function(e,t,i,r){if(r){var l=this.options.filter();l?this._addSelectionFilter(i,l,r):this._setOption("selectionFilter",i?[]:null)}else{t||this._setOption("selectionFilter",[]);for(var s=0;s<e.length;s++)i?this.removeSelectedItem(e[s]):this.addSelectedItem(e[s])}return this.onSelectionChanged(),(new n).resolve()},setSelectedItems:function(e){this._setOption("selectionFilter",null);for(var t=0;t<e.length;t++)this.addSelectedItem(e[t])},isItemDataSelected:function(e){return this.isItemKeySelected(e)},isItemKeySelected:function(e){var t=this.options.selectionFilter;return!t||!!r([e]).filter(t).toArray().length},_processSelectedItem:function(e){var t=this.options.key(),i=[t,"=",e];if(Array.isArray(t)){i=[];for(var r=0;r<t.length;r++)i.push([t[r],"=",e[t[r]]]),r!==t.length-1&&i.push("and")}return i},addSelectedItem:function(e){var t=this._processSelectedItem(e);this._addSelectionFilter(!1,t)},removeSelectedItem:function(e){var t=this._processSelectedItem(e);this._addSelectionFilter(!0,t)},validate:function(){var e=this.options.key;if(e&&void 0===e())throw i.Error("E1042","Deferred selection")},_findSubFilter:function(e,t){if(!e)return-1;for(var i=JSON.stringify(t),r=0;r<e.length;r++){var n=e[r];if(n&&JSON.stringify(n)===i)return r}return-1},_isLastSubFilter:function(e,t){return!(!e||!t)&&(this._findSubFilter(e,t)===e.length-1||0===this._findSubFilter([e],t))},_addFilterOperator:function(t,i){return t.length>1&&e.isString(t[1])&&t[1]!==i&&(t=[t]),t.length&&t.push(i),t},_denormalizeFilter:function(t){return t&&e.isString(t[0])&&(t=[t]),t},_addSelectionFilter:function(e,t,i){var r=!0,n=e?["!",t]:t,l=e?"and":"or",s=this.options.selectionFilter||[];if((s=this._denormalizeFilter(s))&&s.length){this._removeSameFilter(s,t,e,i);var o=this._removeSameFilter(s,t,!e);o&&("or"!==o&&e||"and"!==o&&!e)&&(r=!1,s=[]),r&&(s=this._addFilterOperator(s,l))}r&&s.push(n),s=this._normalizeFilter(s),this._setOption("selectionFilter",e||s.length?s:null)},_normalizeFilter:function(e){return e&&1===e.length&&(e=e[0]),e},_removeFilterByIndex:function(e,t,i){var r;return r=t>0?e.splice(t-1,2)[0]:e.splice(t,2)[1]||"undefined",i&&"and"===r&&e.splice(0,e.length),r},_removeSameFilter:function(e,t,i,r){t=i?["!",t]:t;var n=this._findSubFilter(e,t);if(JSON.stringify(t)===JSON.stringify(e))return e.splice(0,e.length),"undefined";if(n>=0)return this._removeFilterByIndex(e,n,r);for(var l=0;l<e.length;l++){var s=Array.isArray(e[l])&&e[l].length>2&&this._removeSameFilter(e[l],t,!1,r);if(s)return e[l].length?1===e[l].length&&(e[l]=e[l][0]):this._removeFilterByIndex(e,l,r),s}},getSelectAllState:function(){var e=this.options.filter(),t=this.options.selectionFilter;return!t||!!t.length&&(e&&e.length?(t=this._denormalizeFilter(t),!!this._isLastSubFilter(t,e)||!this._isLastSubFilter(t,["!",e])&&void 0):void 0)}});
},{"../../core/utils/type":"Mw4w","./selection.strategy":"CaMx","../widget/ui.errors":"RFsS","../../data/query":"TnO4","../../core/utils/deferred":"g5TB"}],"jcUF":[function(require,module,exports) {
"use strict";var r=require("./common").getKeyHash,t=require("./common").equalByValue,n=require("./type"),e=function(e,i){var u;this.getLocalFilter=function(r,n,e,i){return n=void 0===n?t:n,o.bind(this,n,r,e,i)},this.getExpr=function(r){var t;if(r)return e.forEach(function(e,u){var o;t=t||[],u>0&&t.push(i?"and":"or"),o=n.isString(r)?a(r,e):f(r,e),t.push(o)}),t&&1===t.length&&(t=t[0]),t},this.getCombinedFilter=function(r,t){var n=this.getExpr(r),e=n;return i&&t&&(n?((e=[]).push(n),e.push(t)):e=t),e};var o=function(t,o,a,f,c){var s,h,v=o(c);if(!a&&(s=r(v),!n.isObject(s)))return function(t){if(!u){u={};for(var n=0;n<t.length;n++)u[r(t[n])]=!0}return u}(function(r,t,n){return Array.isArray(n)?r.map(function(r){return t(r)}):r}(e,o,f))[s]?!i:!!i;for(h=0;h<e.length;h++)if(t(e[h],v))return!i;return!!i},a=function(r,t){if(void 0!==t)return[r,i?"<>":"=",t]},f=function(r,t){for(var n=[],e=0,u=r.length;e<u;e++){var o=r[e],f=t&&t[o],c=a(o,f);if(!c)break;e>0&&n.push(i?"or":"and"),n.push(c)}return n}};exports.SelectionFilterCreator=e;
},{"./common":"GcQA","./type":"Mw4w"}],"csgW":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/common"),t=require("../../core/utils/type"),s=t.isDefined,i=e.getKeyHash,n=require("../../data/query"),o=require("../../core/utils/deferred"),l=require("../../core/utils/selection_filter").SelectionFilterCreator,h=o.when,r=o.Deferred,d=require("../widget/ui.errors"),c=require("./selection.strategy");module.exports=c.inherit({ctor:function(e){this.callBase(e),this._initSelectedItemKeyHash()},_initSelectedItemKeyHash:function(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})},getSelectedItemKeys:function(){return this.options.selectedItemKeys.slice(0)},getSelectedItems:function(){return this.options.selectedItems.slice(0)},_preserveSelectionUpdate:function(e,t){var s,i,n,o=this.options.keyOf;if(o){var l=t&&e.length>1&&!this.options.equalByReference;for(l&&(s={}),n=0;n<e.length;n++){var h=e[n],r=o(h);t?(i=this.removeSelectedItem(r,s),s&&i>=0&&(s[i]=!0)):this.addSelectedItem(r,h)}l&&this._batchRemoveSelectedItems(s)}},_batchRemoveSelectedItems:function(e){var t=this.options.selectedItemKeys.slice(0),s=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(var i=0;i<t.length;i++)e[i]||(this.options.selectedItemKeys.push(t[i]),this.options.selectedItems.push(s[i]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)},_loadSelectedItemsCore:function(e,t,s){var i=new r,o=this.options.key();if(!e.length&&!s)return i.resolve([]),i;var h=this.options.filter();if(s&&t&&!h)return i.resolve(this.getSelectedItems()),i;var d=new l(e,s),c=d.getCombinedFilter(o,h),a=[];t&&(a=c?n(this.options.selectedItems).filter(c).toArray():this.options.selectedItems.slice(0));var u=a.length?a:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData),p=d.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,o);return u=u.filter(p),a.length||!s&&u.length===e.length?i.resolve(u):i=this._loadFilteredData(c,p),i},_replaceSelectionUpdate:function(e){var t=[],s=this.options.keyOf;if(s){for(var i=0;i<e.length;i++){var n=s(e[i]);t.push(n)}this.setSelectedItems(t,e)}},_warnOnIncorrectKeys:function(e){for(var t=this.options.allowNullValue,s=0;s<e.length;s++){var i=e[s];t&&null===i||this.isItemKeySelected(i)||d.log("W1002",i)}},_loadSelectedItems:function(e,t,s){var i=this,n=new r;return h(i._lastLoadDeferred).always(function(){i._loadSelectedItemsCore(e,t,s).done(n.resolve).fail(n.reject)}),i._lastLoadDeferred=n,n},selectedItemKeys:function(e,t,s,i){var n=this,o=n._loadSelectedItems(e,s,i);return o.done(function(e){t?n._preserveSelectionUpdate(e,s):n._replaceSelectionUpdate(e),n.onSelectionChanged()}),o},addSelectedItem:function(e,i){if(s(i)&&i.disabled)-1===this.options.disabledItemKeys.indexOf(e)&&this.options.disabledItemKeys.push(e);else{var n=this._getKeyHash(e);-1===this._indexOfSelectedItemKey(n)&&(!t.isObject(n)&&this.options.keyHashIndices&&(this.options.keyHashIndices[n]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(e),this.options.addedItemKeys.push(e),this.options.addedItems.push(i),this.options.selectedItems.push(i))}},_getSelectedIndexByKey:function(e,t){for(var s=this.options.selectedItemKeys,i=0;i<s.length;i++)if((!t||!t[i])&&this.equalKeys(s[i],e))return i;return-1},_getSelectedIndexByHash:function(e,t){var s=this.options.keyHashIndices[e];return s&&s.length>1&&t&&(s=s.filter(function(e){return!t[e]})),s&&s[0]>=0?s[0]:-1},_indexOfSelectedItemKey:function(e,s){return this.options.equalByReference?this.options.selectedItemKeys.indexOf(e):t.isObject(e)?this._getSelectedIndexByKey(e,s):this._getSelectedIndexByHash(e,s)},_shiftSelectedKeyIndices:function(e){for(var t=e;t<this.options.selectedItemKeys.length;t++){var s=this.options.selectedItemKeys[t],n=i(s),o=this.options.keyHashIndices[n];if(o)for(var l=0;l<o.length;l++)o[l]>e&&o[l]--}},removeSelectedItem:function(e,s){var i=this._getKeyHash(e),n=!!s,o=this._indexOfSelectedItemKey(i,s);if(o<0)return o;if(this.options.removedItemKeys.push(e),this.options.removedItems.push(this.options.selectedItems[o]),n)return o;if(this.options.selectedItemKeys.splice(o,1),this.options.selectedItems.splice(o,1),t.isObject(i)||!this.options.keyHashIndices)return o;var l=this.options.keyHashIndices[i];return l?(l.shift(),l.length||delete this.options.keyHashIndices[i],this._shiftSelectedKeyIndices(o),o):o},_updateAddedItemKeys:function(e,t){for(var s=0;s<e.length;s++)this.isItemKeySelected(e[s])||(this.options.addedItemKeys.push(e[s]),this.options.addedItems.push(t[s]))},_updateRemovedItemKeys:function(e,t,s){for(var i=0;i<t.length;i++)this.isItemKeySelected(t[i])||(this.options.removedItemKeys.push(t[i]),this.options.removedItems.push(s[i]))},_getKeyHash:function(e){return this.options.equalByReference?e:i(e)},setSelectedItems:function(e,t){this._updateAddedItemKeys(e,t);var s=this.options.selectedItemKeys,i=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(e)),this._setOption("selectedItemKeys",e),this._setOption("selectedItems",t),this._updateRemovedItemKeys(e,s,i)},isItemDataSelected:function(e){var t=this.options.keyOf(e);return this.isItemKeySelected(t)},isItemKeySelected:function(e){var t=this._getKeyHash(e);return-1!==this._indexOfSelectedItemKey(t)},getSelectAllState:function(e){return e?this._getVisibleSelectAllState():this._getFullSelectAllState()}});
},{"../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../data/query":"TnO4","../../core/utils/deferred":"g5TB","../../core/utils/selection_filter":"jcUF","../widget/ui.errors":"RFsS","./selection.strategy":"CaMx"}],"FLm2":[function(require,module,exports) {
"use strict";var e=require("../../core/class"),t=require("./selection.strategy.deferred"),s=require("./selection.strategy.standard"),i=require("../../core/utils/extend").extend,n=require("../../core/utils/common").noop,o=require("../../core/utils/type").isDefined,c=require("../../core/utils/deferred").Deferred;module.exports=e.inherit({ctor:function(e){this.options=i(this._getDefaultOptions(),e,{selectedItemKeys:e.selectedKeys||[]}),this._selectionStrategy=this.options.deferred?new t(this.options):new s(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)},_getDefaultOptions:function(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:n,key:n,keyOf:function(e){return e},load:function(){return(new c).resolve([])},totalCount:function(){return-1},isSelectableItem:function(){return!0},isItemSelected:function(){return!1},getItemData:function(e){return e},dataFields:n,filter:n}},validate:function(){this._selectionStrategy.validate()},getSelectedItemKeys:function(){return this._selectionStrategy.getSelectedItemKeys()},getSelectedItems:function(){return this._selectionStrategy.getSelectedItems()},selectionFilter:function(e){if(void 0===e)return this.options.selectionFilter;var t=this.options.selectionFilter!==e&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(e);this.options.selectionFilter=e,t&&this.onSelectionChanged()},setSelection:function(e){return this.selectedItemKeys(e)},select:function(e){return this.selectedItemKeys(e,!0)},deselect:function(e){return this.selectedItemKeys(e,!0,!0)},selectedItemKeys:function(e,t,s,i){return e=e||[],e=Array.isArray(e)?e:[e],this.validate(),this._selectionStrategy.selectedItemKeys(e,t,s,i)},clearSelection:function(){return this.selectedItemKeys([])},_addSelectedItem:function(e,t){this._selectionStrategy.addSelectedItem(t,e)},_removeSelectedItem:function(e){this._selectionStrategy.removeSelectedItem(e)},_setSelectedItems:function(e,t){this._selectionStrategy.setSelectedItems(e,t)},onSelectionChanged:function(){this._selectionStrategy.onSelectionChanged()},changeItemSelection:function(e,t){var s,i=this.options.plainItems(),n=i[e];if(!this.isSelectable()||!this.isDataItem(n))return!1;var o=this.options.getItemData(n),c=this.options.keyOf(o);if((t=t||{}).shift&&"multiple"===this.options.mode&&this._focusedItemIndex>=0)s=this.changeItemSelectionWhenShiftKeyPressed(e,i);else if(t.control){this._resetItemSelectionWhenShiftKeyPressed();var l=this._selectionStrategy.isItemDataSelected(o);"single"===this.options.mode&&this.clearSelectedItems(),l?this._removeSelectedItem(c):this._addSelectedItem(o,c),s=!0}else{this._resetItemSelectionWhenShiftKeyPressed();var r=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],c);1===this.options.selectedItemKeys.length&&r||(this._setSelectedItems([c],[o]),s=!0)}return s?(this._focusedItemIndex=e,this.onSelectionChanged(),!0):void 0},isDataItem:function(e){return this.options.isSelectableItem(e)},isSelectable:function(){return"single"===this.options.mode||"multiple"===this.options.mode},isItemDataSelected:function(e){return this._selectionStrategy.isItemDataSelected(e)},isItemSelected:function(e){return this._selectionStrategy.isItemKeySelected(e)},_resetItemSelectionWhenShiftKeyPressed:function(){delete this._shiftFocusedItemIndex},_resetFocusedItemIndex:function(){this._focusedItemIndex=-1},changeItemSelectionWhenShiftKeyPressed:function(e,t){var s,i,n,c,l=!1,r=this.options.keyOf,d=t[this._focusedItemIndex],h=this.options.getItemData(d),a=r(h),I=d&&this.isItemDataSelected(h);if(o(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex),this._shiftFocusedItemIndex!==this._focusedItemIndex)for(s=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,i=this._focusedItemIndex;i!==this._shiftFocusedItemIndex;i+=s)this.isDataItem(t[i])&&(c=r(this.options.getItemData(t[i])),this._removeSelectedItem(c),l=!0);if(e!==this._shiftFocusedItemIndex)for(s=e<this._shiftFocusedItemIndex?1:-1,i=e;i!==this._shiftFocusedItemIndex;i+=s)this.isDataItem(t[i])&&(c=r(n=this.options.getItemData(t[i])),this._addSelectedItem(n,c),l=!0);return this.isDataItem(d)&&!I&&(this._addSelectedItem(h,a),l=!0),l},clearSelectedItems:function(){this._setSelectedItems([],[])},selectAll:function(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)},deselectAll:function(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)},_onePageSelectAll:function(e){for(var t=this._selectionStrategy.getSelectableItems(this.options.plainItems()),s=0;s<t.length;s++){var i=t[s];if(this.isDataItem(i)){var n=this.options.getItemData(i),o=this.options.keyOf(n),l=this.isItemSelected(o);l||e||this._addSelectedItem(n,o),l&&e&&this._removeSelectedItem(o)}}return this.onSelectionChanged(),(new c).resolve()},getSelectAllState:function(e){return this._selectionStrategy.getSelectAllState(e)}});
},{"../../core/class":"YpjV","./selection.strategy.deferred":"P2hv","./selection.strategy.standard":"csgW","../../core/utils/extend":"ac8T","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/deferred":"g5TB"}],"IZYs":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=S(e),i=require("../../events/core/events_engine"),n=S(i),s=require("./ui.collection_widget.base"),o=S(s),r=require("../widget/ui.errors"),l=S(r),d=require("../../core/utils/extend"),a=require("../../core/utils/iterator"),c=require("../../core/utils/common"),u=require("../../core/utils/type"),h=require("./ui.collection_widget.edit.strategy.plain"),m=S(h),_=require("../../core/utils/data"),I=require("../../data/data_source/data_source"),f=require("../selection/selection"),y=S(f),g=require("../../core/utils/deferred");function S(e){return e&&e.__esModule?e:{default:e}}function p(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var v="dxItemDeleting",x=-1,K=function(e){return e!==x},B=o.default.inherit({_setOptionsByReference:function(){this.callBase(),(0,d.extend)(this._optionsByReference,{selectedItem:!0})},_getDefaultOptions:function(){return(0,d.extend)(this.callBase(),{selectionMode:"none",selectionRequired:!1,selectionByClick:!0,selectedItems:[],selectedItemKeys:[],maxFilterLengthInRequest:1500,keyExpr:null,selectedIndex:x,selectedItem:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})},ctor:function(e,t){this._userOptions=t||{},this.callBase(e,t)},_init:function(){this._initEditStrategy(),this.callBase(),this._initKeyGetter(),this._initSelectionModule(),"multi"===this.option("selectionMode")&&this._showDeprecatedSelectionMode()},_initKeyGetter:function(){this._keyGetter=(0,_.compileGetter)(this.option("keyExpr"))},_getKeysByItems:function(e){return this._editStrategy.getKeysByItems(e)},_getItemsByKeys:function(e,t){return this._editStrategy.getItemsByKeys(e,t)},_getKeyByIndex:function(e){return this._editStrategy.getKeyByIndex(e)},_getIndexByKey:function(e){return this._editStrategy.getIndexByKey(e)},_getIndexByItemData:function(e){return this._editStrategy.getIndexByItemData(e)},_isKeySpecified:function(){return!(!this._dataSource||!this._dataSource.key())},_getCombinedFilter:function(){return this._dataSource&&this._dataSource.filter()},key:function(){return this.option("keyExpr")?this.option("keyExpr"):this._dataSource&&this._dataSource.key()},keyOf:function(e){var t=e,i=this._dataSource&&this._dataSource.store();return this.option("keyExpr")?t=this._keyGetter(e):i&&(t=i.keyOf(e)),t},_nullValueSelectionSupported:function(){return!1},_initSelectionModule:function(){var e=this,t=e._editStrategy.itemsGetter;this._selection=new y.default({allowNullValue:this._nullValueSelectionSupported(),mode:this.option("selectionMode"),maxFilterLengthInRequest:this.option("maxFilterLengthInRequest"),equalByReference:!this._isKeySpecified(),onSelectionChanged:function(t){(t.addedItemKeys.length||t.removedItemKeys.length)&&(e.option("selectedItems",e._getItemsByKeys(t.selectedItemKeys,t.selectedItems)),e._updateSelectedItems(t))},filter:e._getCombinedFilter.bind(e),totalCount:function(){var t=e.option("items"),i=e._dataSource;return i&&i.totalCount()>=0?i.totalCount():t.length},key:e.key.bind(e),keyOf:e.keyOf.bind(e),load:function(t){if(e._dataSource){var i=e._dataSource.loadOptions();t.customQueryParams=i.customQueryParams,t.userData=e._dataSource._userData}var n=e._dataSource&&e._dataSource.store();return n?n.load(t).done(function(t){if(!e._disposed){var i=(0,I.normalizeLoadResult)(t).data;e._dataSource._applyMapFunction(i)}}):(new g.Deferred).resolve(this.plainItems())},dataFields:function(){return e._dataSource&&e._dataSource.select()},plainItems:t.bind(e._editStrategy)})},_initEditStrategy:function(){var e=m.default;this._editStrategy=new e(this)},_getSelectedItemIndices:function(e){var t=this,i=[];return e=e||this._selection.getSelectedItemKeys(),t._editStrategy.beginCache(),(0,a.each)(e,function(e,n){var s=t._getIndexByKey(n);K(s)&&i.push(s)}),t._editStrategy.endCache(),i},_initMarkup:function(){var e=this;this._rendering=!0,this._dataSource&&this._dataSource.isLoading()||this._syncSelectionOptions().done(function(){return e._normalizeSelectedItems()}),this.callBase()},_render:function(){this.callBase(),this._rendering=!1},_fireContentReadyAction:function(){this._rendering=!1,this._rendered=!0,this.callBase.apply(this,arguments)},_syncSelectionOptions:function(e){var t=void 0,i=void 0,n=void 0,s=void 0;switch(e=e||this._chooseSelectOption()){case"selectedIndex":t=this._editStrategy.getItemDataByIndex(this.option("selectedIndex")),(0,u.isDefined)(t)?(this._setOptionSilent("selectedItems",[t]),this._setOptionSilent("selectedItem",t),this._setOptionSilent("selectedItemKeys",this._editStrategy.getKeysByItems([t]))):(this._setOptionSilent("selectedItems",[]),this._setOptionSilent("selectedItemKeys",[]),this._setOptionSilent("selectedItem",null));break;case"selectedItems":if(s=this.option("selectedItems")||[],i=this._editStrategy.getIndexByItemData(s[0]),this.option("selectionRequired")&&!K(i))return this._syncSelectionOptions("selectedIndex");this._setOptionSilent("selectedItem",s[0]),this._setOptionSilent("selectedIndex",i),this._setOptionSilent("selectedItemKeys",this._editStrategy.getKeysByItems(s));break;case"selectedItem":if(t=this.option("selectedItem"),i=this._editStrategy.getIndexByItemData(t),this.option("selectionRequired")&&!K(i))return this._syncSelectionOptions("selectedIndex");(0,u.isDefined)(t)?(this._setOptionSilent("selectedItems",[t]),this._setOptionSilent("selectedIndex",i),this._setOptionSilent("selectedItemKeys",this._editStrategy.getKeysByItems([t]))):(this._setOptionSilent("selectedItems",[]),this._setOptionSilent("selectedItemKeys",[]),this._setOptionSilent("selectedIndex",x));break;case"selectedItemKeys":if(n=this.option("selectedItemKeys"),this.option("selectionRequired")){var o=this._getIndexByKey(n[0]);if(!K(o))return this._syncSelectionOptions("selectedIndex")}return this._selection.setSelection(n)}return(new g.Deferred).resolve().promise()},_chooseSelectOption:function(){var e="selectedIndex",t=function(e){var t=this.option(e);return(0,u.isDefined)(t)&&t.length||e in this._userOptions}.bind(this);return t("selectedItems")?e="selectedItems":t("selectedItem")?e="selectedItem":t("selectedItemKeys")&&(e="selectedItemKeys"),e},_compareKeys:function(e,t){if(e.length!==t.length)return!1;for(var i=0;i<t.length;i++)if(e[i]!==t[i])return!1;return!0},_normalizeSelectedItems:function(){if("none"===this.option("selectionMode"))this._setOptionSilent("selectedItems",[]),this._syncSelectionOptions("selectedItems");else if("single"===this.option("selectionMode")){var e=this.option("selectedItems");if(e.length>1||!e.length&&this.option("selectionRequired")&&this.option("items")&&this.option("items").length){var t=this._selection.getSelectedItems(),i=void 0===e[0]?t[0]:e[0];return void 0===i&&(i=this._editStrategy.itemsGetter()[0]),this.option("grouped")&&i&&i.items&&(i.items=[i.items[0]]),this._selection.setSelection(this._getKeysByItems([i])),this._setOptionSilent("selectedItems",[i]),this._syncSelectionOptions("selectedItems")}this._selection.setSelection(this._getKeysByItems(e))}else{var n=this._getKeysByItems(this.option("selectedItems")),s=this._selection.getSelectedItemKeys();this._compareKeys(s,n)||this._selection.setSelection(n)}return(new g.Deferred).resolve().promise()},_itemClickHandler:function(e){this._createAction(function(e){this._itemSelectHandler(e.event)}.bind(this),{validatingTargetName:"itemElement"})({itemElement:(0,t.default)(e.currentTarget),event:e}),this.callBase.apply(this,arguments)},_itemSelectHandler:function(e){if(this.option("selectionByClick")){var t=e.currentTarget;this.isItemSelected(t)?this.unselectItem(e.currentTarget):this.selectItem(e.currentTarget)}},_selectedItemElement:function(e){return this._itemElements().eq(e)},_postprocessRenderItem:function(e){if("none"!==this.option("selectionMode")){var i=(0,t.default)(e.itemElement),n=this._editStrategy.getNormalizedIndex(i),s=this._isItemSelected(n);this._processSelectableItem(i,s)}},_processSelectableItem:function(e,t){e.toggleClass(this._selectedItemClass(),t),this._setAriaSelected(e,String(t))},_updateSelectedItems:function(e){var t=this,i=e.addedItemKeys,n=e.removedItemKeys;if(t._rendered&&(i.length||n.length)){var s=t._selectionChangePromise;if(!t._rendering){var o=[],r=void 0,l=[];t._editStrategy.beginCache();for(var d=0;d<i.length;d++)r=t._getIndexByKey(i[d]),o.push(r),t._addSelection(r);for(var a=0;a<n.length;a++)r=t._getIndexByKey(n[a]),l.push(r),t._removeSelection(r);t._editStrategy.endCache(),t._updateSelection(o,l)}(0,g.when)(s).done(function(){t._fireSelectionChangeEvent(e.addedItems,e.removedItems)})}},_fireSelectionChangeEvent:function(e,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:e,removedItems:t})},_updateSelection:c.noop,_setAriaSelected:function(e,t){this.setAria("selected",t,e)},_removeSelection:function(e){var t=this._editStrategy.getItemElement(e);K(e)&&(this._processSelectableItem(t,!1),n.default.triggerHandler(t,"stateChanged",!1))},_showDeprecatedSelectionMode:function(){l.default.log("W0001",this.NAME,"selectionMode: 'multi'","16.1","Use selectionMode: 'multiple' instead"),this.option("selectionMode","multiple")},_addSelection:function(e){var t=this._editStrategy.getItemElement(e);K(e)&&(this._processSelectableItem(t,!0),n.default.triggerHandler(t,"stateChanged",!0))},_isItemSelected:function(e){var t=this._getKeyByIndex(e);return this._selection.isItemSelected(t)},_optionChanged:function(e){var t=this;switch(e.name){case"selectionMode":"multi"===e.value?this._showDeprecatedSelectionMode():this._invalidate();break;case"dataSource":(!e.value||Array.isArray(e.value)&&!e.value.length)&&this.option("selectedItemKeys",[]),this.callBase(e);break;case"selectedIndex":case"selectedItem":case"selectedItems":case"selectedItemKeys":this._syncSelectionOptions(e.name).done(function(){return t._normalizeSelectedItems()});break;case"keyExpr":this._initKeyGetter();break;case"selectionRequired":this._normalizeSelectedItems();break;case"selectionByClick":case"onSelectionChanged":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":case"maxFilterLengthInRequest":break;default:this.callBase(e)}},_clearSelectedItems:function(){this._setOptionSilent("selectedItems",[]),this._syncSelectionOptions("selectedItems")},_waitDeletingPrepare:function(e){if(e.data(v))return(new g.Deferred).resolve().promise();e.data(v,!0);var t=new g.Deferred,i={cancel:!1},n=this._itemEventHandler(e,"onItemDeleting",i,{excludeValidators:["disabled","readOnly"]});return(0,g.when)(n).always(function(s){var o=!n,r=!o&&"resolved"===n.state(),l=!!arguments.length,d=o||r&&!l||r&&s;(0,g.when)((0,g.fromPromise)(i.cancel)).always(function(){e.data(v,!1)}).done(function(e){d&&!e?t.resolve():t.reject()}).fail(t.reject)}.bind(this)),t.promise()},_deleteItemFromDS:function(e){if(!this._dataSource)return(new g.Deferred).resolve().promise();var t=new g.Deferred,i=this.option("disabled"),n=this._dataSource.store();if(this.option("disabled",!0),!n.remove)throw l.default.Error("E1011");return n.remove(n.keyOf(this._getItemData(e))).done(function(e){void 0!==e?t.resolve():t.reject()}).fail(function(){t.reject()}),t.always(function(){this.option("disabled",i)}.bind(this)),t},_tryRefreshLastPage:function(){var e=new g.Deferred;return this._isLastPage()||this.option("grouped")?e.resolve():this._refreshLastPage().done(function(){e.resolve()}),e.promise()},_refreshLastPage:function(){return this._expectLastItemLoading(),this._dataSource.load()},_updateSelectionAfterDelete:function(e){var t=this._getKeyByIndex(e);this._selection.deselect([t])},_updateIndicesAfterIndex:function(e){for(var i=this._itemElements(),n=e+1;n<i.length;n++)(0,t.default)(i[n]).data(this._itemIndexKey(),n-1)},_simulateOptionChange:function(e){var t=this.option(e);t instanceof I.DataSource||this._optionChangedAction({name:e,fullName:e,value:t})},isItemSelected:function(e){return this._isItemSelected(this._editStrategy.getNormalizedIndex(e))},selectItem:function(e){if("none"!==this.option("selectionMode")){var t=this._editStrategy.getNormalizedIndex(e);if(K(t)){var i=this._getKeyByIndex(t);if(!this._selection.isItemSelected(i))if("single"===this.option("selectionMode"))this._selection.setSelection([i]);else{var n=this.option("selectedItemKeys")||[];this._selection.setSelection([].concat(p(n),[i]))}}}},unselectItem:function(e){var t=this._editStrategy.getNormalizedIndex(e);if(K(t)){var i=this._selection.getSelectedItemKeys();if(!(this.option("selectionRequired")&&i.length<=1)){var n=this._getKeyByIndex(t);this._selection.isItemSelected(n)&&this._selection.deselect([n])}}},_deleteItemElementByIndex:function(e){this._updateSelectionAfterDelete(e),this._updateIndicesAfterIndex(e),this._editStrategy.deleteItemAtIndex(e)},_afterItemElementDeleted:function(e,t){var i=this._dataSource?"dataSource":"items";this._simulateOptionChange(i),this._itemEventHandler(e,"onItemDeleted",t,{beforeExecute:function(){e.remove()},excludeValidators:["disabled","readOnly"]}),this._renderEmptyMessage()},deleteItem:function(e){var t=this,i=new g.Deferred,n=this._editStrategy.getItemElement(e),s=this._editStrategy.getNormalizedIndex(e),o=this._itemResponseWaitClass();return K(s)?this._waitDeletingPrepare(n).done(function(){n.addClass(o);var e=t._extendActionArgs(n);t._deleteItemFromDS(n).done(function(){t._deleteItemElementByIndex(s),t._afterItemElementDeleted(n,e),t._tryRefreshLastPage().done(function(){i.resolveWith(t)})}).fail(function(){n.removeClass(o),i.rejectWith(t)})}).fail(function(){i.rejectWith(t)}):i.rejectWith(t),i.promise()},reorderItem:function(e,t){var i=new g.Deferred,n=this,s=this._editStrategy,o=s.getItemElement(e),r=s.getItemElement(t),l=s.getNormalizedIndex(e),d=s.getNormalizedIndex(t),a=this._dataSource?"dataSource":"items";return K(l)&&K(d)&&l!==d?i.resolveWith(this):i.rejectWith(this),i.promise().done(function(){r[s.itemPlacementFunc(l,d)](o),s.moveItemAtIndexToIndex(l,d),this._updateIndicesAfterIndex(l),n.option("selectedItems",n._getItemsByKeys(n._selection.getSelectedItemKeys(),n._selection.getSelectedItems())),"items"===a&&n._simulateOptionChange(a),n._itemEventHandler(o,"onItemReordered",{fromIndex:s.getIndex(l),toIndex:s.getIndex(d)},{excludeValidators:["disabled","readOnly"]})})}});module.exports=B;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","./ui.collection_widget.base":"IiPN","../widget/ui.errors":"RFsS","../../core/utils/extend":"ac8T","../../core/utils/iterator":"FHcO","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","./ui.collection_widget.edit.strategy.plain":"UUEY","../../core/utils/data":"YLhW","../../data/data_source/data_source":"SIr7","../selection/selection":"FLm2","../../core/utils/deferred":"g5TB"}],"wHez":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=m(e),i=require("../../core/utils/data"),s=require("../../core/utils/extend"),a=require("../../core/utils/iterator"),r=require("../../core/devices"),n=m(r),o=require("../../core/utils/icon"),c=m(o),d=require("./ui.data_adapter"),l=m(d),p=require("../collection/ui.collection_widget.edit"),u=m(p),h=require("../../core/templates/bindable_template"),_=require("../../core/utils/type"),f=require("../../core/utils/common");function m(e){return e&&e.__esModule?e:{default:e}}var g="dx-state-disabled",x=u.default.inherit({_getDefaultOptions:function(){return(0,s.extend)(this.callBase(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===n.default.real().deviceType&&!n.default.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()},_initDataSource:function(){this.callBase(),this._dataSource&&this._dataSource.paginate(!1)},_initDataAdapter:function(){var e=this._createDataAdapterAccessors();this._dataAdapter=new l.default((0,s.extend)({dataAccessors:{getters:e.getters,setters:e.setters},items:this.option("items")},this._getDataAdapterOptions()))},_getDataAdapterOptions:f.noop,_initDynamicTemplates:function(){var e=this;this._defaultTemplates.item=new h.BindableTemplate(function(t,i){t.html(i.html).append(this._getIconContainer(i)).append(this._getTextContainer(i)).append(this._getPopoutContainer(i)),e._addContentClasses(i,t.parent())}.bind(this),["text","html","items","icon"],this.option("integrationOptions.watchMethod"),{text:this._displayGetter,items:this._itemsGetter})},_getIconContainer:function(e){return e.icon?c.default.getImageContainer(e.icon):void 0},_getTextContainer:function(e){return(0,t.default)("<span>").text(e.text)},_getPopoutContainer:f.noop,_addContentClasses:f.noop,_initAccessors:function(){var e=this;(0,a.each)(this._getAccessors(),function(t,i){e._compileAccessor(i)}),this._compileDisplayGetter()},_getAccessors:function(){return["key","selected","items","disabled","parentId","expanded"]},_getChildNodes:function(e){var t=this,i=[];return(0,a.each)(e.internalFields.childrenKeys,function(e,s){var a=t._dataAdapter.getNodeByKey(s);i.push(a)}),i},_hasChildren:function(e){return e&&e.internalFields.childrenKeys.length},_compileAccessor:function(e){var t="_"+e+"Getter",s="_"+e+"Setter",a=this.option(e+"Expr");return a?(0,_.isFunction)(a)?(this[s]=function(e,t){e[a()]=t},void(this[t]=function(e){return e[a()]})):(this[t]=(0,i.compileGetter)(a),void(this[s]=(0,i.compileSetter)(a))):(this[t]=f.noop,void(this[s]=f.noop))},_createDataAdapterAccessors:function(){var e=this,t={getters:{},setters:{}};return(0,a.each)(this._getAccessors(),function(i,s){var a="_"+s+"Getter",r="_"+s+"Setter",n="parentId"===s?"parentKey":s;t.getters[n]=e[a],t.setters[n]=e[r]}),t.getters.display=this._displayGetter?this._displayGetter:function(e){return e.text},t},_initMarkup:function(){this.callBase(),this._addWidgetClass()},_addWidgetClass:function(){this._focusTarget().addClass(this._widgetClass())},_widgetClass:f.noop,_renderItemFrame:function(e,t){var i=this.callBase.apply(this,arguments);return i.toggleClass(g,!!this._disabledGetter(t)),i},_optionChanged:function(e){switch(e.name){case"displayExpr":case"keyExpr":this._initAccessors(),this._initDynamicTemplates(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this._initDataAdapter(),this.repaint();break;case"items":this._initDataAdapter(),this.callBase(e);break;default:this.callBase(e)}}});module.exports=x;
},{"../../core/renderer":"qxFQ","../../core/utils/data":"YLhW","../../core/utils/extend":"ac8T","../../core/utils/iterator":"FHcO","../../core/devices":"LpzF","../../core/utils/icon":"W6A0","./ui.data_adapter":"fgR6","../collection/ui.collection_widget.edit":"IZYs","../../core/templates/bindable_template":"pNX9","../../core/utils/type":"Mw4w","../../core/utils/common":"GcQA"}],"q4m6":[function(require,module,exports) {
"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),n=require("../../core/renderer"),r=c(n),o=require("../../core/utils/iterator"),i=require("../collection/ui.collection_widget.edit.strategy.plain"),u=c(i);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(n){function i(){return f(this,i),l(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return a(i,u.default),e(i,[{key:"_getPlainItems",value:function(){return(0,o.map)(this._collectionWidget.option("items"),function t(e){return e.items?[e].concat((0,o.map)(e.items,t)):e})}},{key:"_stringifyItem",value:function(t){var e=this;return JSON.stringify(t,function(t,n){return"template"===t?e._getTemplateString(n):n})}},{key:"_getTemplateString",value:function(e){return"object"===(void 0===e?"undefined":t(e))?(0,r.default)(e).text():e.toString()}}]),i}();module.exports=p;
},{"../../core/renderer":"qxFQ","../../core/utils/iterator":"FHcO","../collection/ui.collection_widget.edit.strategy.plain":"UUEY"}],"Vj3f":[function(require,module,exports) {
"use strict";var e=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),t=function e(t,i,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,i);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,i,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},i=require("../../core/renderer"),n=f(i),a=require("../../core/utils/common"),s=require("../../core/utils/type"),o=require("../../core/utils/iterator"),l=require("../../core/utils/extend"),r=require("../widget/utils.ink_ripple"),u=require("../hierarchical_collection/ui.hierarchical_collection_widget"),d=f(u),c=require("./ui.menu_base.edit.strategy"),p=f(c),_=require("../../core/devices"),h=f(_),m=require("../collection/item"),y=f(m);function f(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b="dx-menu",I=b+"-no-icons",S="dx-menu-base",C=b+"-item",O=C+"-content",A=C+"-selected",w=C+"-wrapper",E=b+"-items-container",D=C+"-expanded",x=b+"-separator",j=b+"-last-group-item",B=C+"-has-text",P=C+"-has-icon",F=C+"-has-submenu",K=C+"-popout",N=K+"-container",T=C+"-text",M="single",R={show:50,hide:300},q=function(i){function u(){return v(this,u),g(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return k(u,d.default),e(u,[{key:"_getDefaultOptions",value:function(){return(0,l.extend)(t(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"_getDefaultOptions",this).call(this),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})}},{key:"_itemDataKey",value:function(){return"dxMenuItemDataKey"}},{key:"_itemClass",value:function(){return C}},{key:"_setAriaSelected",value:function(){}},{key:"_selectedItemClass",value:function(){return A}},{key:"_widgetClass",value:function(){return S}},{key:"_focusTarget",value:function(){return this._itemContainer()}},{key:"_clean",value:function(){this.option("focusedElement",null),t(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"_clean",this).call(this)}},{key:"_supportedKeys",value:function(){var e=this;return(0,l.extend)(t(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"_supportedKeys",this).call(this),{space:function(){var t=(0,n.default)(e.option("focusedElement"));t.length&&e._isSelectionEnabled()&&e.selectItem(t[0])},pageUp:a.noop,pageDown:a.noop})}},{key:"_isSelectionEnabled",value:function(){return this.option("selectionMode")===M}},{key:"_init",value:function(){this._activeStateUnit="."+C,t(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"_init",this).call(this),this._renderSelectedItem(),this._initActions()}},{key:"_getTextContainer",value:function(e){var t=e.text,i=(0,n.default)("<span>").addClass(T),a=(0,s.isPlainObject)(e)?t:String(e);return t&&i.text(a)}},{key:"_getPopoutContainer",value:function(e){var t=e.items,i=void 0;if(t&&t.length){var a=(0,n.default)("<div>").addClass(K);i=(0,n.default)("<span>").addClass(N).append(a)}return i}},{key:"_getDataAdapterOptions",value:function(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}}},{key:"_selectByItem",value:function(e){if(e){var t=this._dataAdapter.getNodeByItem(e);this._dataAdapter.toggleSelection(t.internalFields.key,!0)}}},{key:"_renderSelectedItem",value:function(){var e=this._dataAdapter.getSelectedNodesKeys(),t=e.length&&e[0],i=this.option("selectedItem");if(t){var n=this._dataAdapter.getNodeByKey(t);!1!==n.selectable&&(i?i!==n.internalFields.item&&(this._dataAdapter.toggleSelection(t,!1),this._selectByItem(i)):this.option("selectedItem",n.internalFields.item))}else this._selectByItem(i)}},{key:"_initActions",value:function(){}},{key:"_initMarkup",value:function(){t(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"_initMarkup",this).call(this),this._addCustomCssClass(this.$element()),this.option("useInkRipple")&&this._renderInkRipple()}},{key:"_renderInkRipple",value:function(){this._inkRipple=(0,r.render)()}},{key:"_toggleActiveState",value:function(e,i,n){if(t(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"_toggleActiveState",this).apply(this,arguments),this._inkRipple){var a={element:e,event:n};i?this._inkRipple.showWave(a):this._inkRipple.hideWave(a)}}},{key:"_getShowSubmenuMode",value:function(){var e=this.option("showSubmenuMode");return e=(0,s.isObject)(e)?e.name:e,this._isDesktopDevice()?e:"onClick"}},{key:"_initSelectedItems",value:function(){}},{key:"_isDesktopDevice",value:function(){return"desktop"===h.default.real().deviceType}},{key:"_initEditStrategy",value:function(){var e=p.default;this._editStrategy=new e(this)}},{key:"_addCustomCssClass",value:function(e){e.addClass(this.option("cssClass"))}},{key:"_itemWrapperSelector",value:function(){return"."+w}},{key:"_hoverStartHandler",value:function(e){var t=this._getItemElementByEventArgs(e);t&&!this._isItemDisabled(t)&&(e.stopPropagation(),"onHover"===this._getShowSubmenuMode()&&(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,t),this._getSubmenuDelay("show"))))}},{key:"_getAvailableItems",value:function(e){return t(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"_getAvailableItems",this).call(this,e).filter(function(){return"hidden"!==(0,n.default)(this).css("visibility")})}},{key:"_isItemDisabled",value:function(e){return this._disabledGetter(e.data(this._itemDataKey()))}},{key:"_showSubmenu",value:function(e){this._addExpandedClass(e)}},{key:"_addExpandedClass",value:function(e){(0,n.default)(e).addClass(D)}},{key:"_getSubmenuDelay",value:function(e){var t=this.option("showSubmenuMode").delay;return(0,s.isDefined)(t)?(0,s.isObject)(t)?t[e]:t:R[e]}},{key:"_getItemElementByEventArgs",value:function(e){var t=(0,n.default)(e.target);if(t.hasClass(this._itemClass())||t.get(0)===e.currentTarget)return t;for(;!t.hasClass(this._itemClass());)if((t=t.parent()).hasClass("dx-submenu"))return null;return t}},{key:"_hoverEndHandler",value:function(){clearTimeout(this._showSubmenusTimeout)}},{key:"_hasSubmenu",value:function(e){return e.internalFields.childrenKeys.length}},{key:"_renderContentImpl",value:function(){this._renderItems(this._dataAdapter.getRootNodes())}},{key:"_renderItems",value:function(e,t){var i=this;if(e.length){this.hasIcons=!1;var n=this._renderContainer(this.$element(),t),a=-1,s=-1;(0,o.each)(e,function(e,t){var o=!1!==t.visible;o&&a<0&&(a=e),a<e&&(t.beginGroup||e===s)&&(s=o?e:e+1),e===s&&a<e&&i._renderSeparator(n),i._renderItem(e,t,n)}),this.hasIcons||n.addClass(I)}}},{key:"_renderContainer",value:function(e){return(0,n.default)("<ul>").appendTo(e).addClass(E)}},{key:"_createDOMElement",value:function(e){return(0,n.default)("<li>").appendTo(e).addClass(w)}},{key:"_renderItem",value:function(e,i,n,a){var s=this.option("items"),o=void 0;if(!1!==i.internalFields.item.visible){var l=a||this._createDOMElement(n);s[e+1]&&s[e+1].beginGroup&&l.addClass(j),o=t(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"_renderItem",this).call(this,e,i.internalFields.item,l),i.internalFields.item===this.option("selectedItem")&&o.addClass(A),o.attr("tabIndex",-1),this._hasSubmenu(i)&&this.setAria("haspopup","true",o)}}},{key:"_renderItemFrame",value:function(e,i,n){var a=n.children("."+C);return a.length?a:t(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"_renderItemFrame",this).apply(this,arguments)}},{key:"_refreshItem",value:function(e,t){var i=this._dataAdapter.getNodeByItem(t),n=e.data(this._itemIndexKey()),a=e.closest("ul"),s=e.closest("li");this._renderItem(n,i,a,s)}},{key:"_addContentClasses",value:function(e,t){var i=!!e.text&&!!e.text.length,n=!!e.icon,a=!!e.items&&!!e.items.length;t.toggleClass(B,i),t.toggleClass(P,n),this.hasIcons||(this.hasIcons=n),t.toggleClass(F,a)}},{key:"_getItemContent",value:function(e){var i=t(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"_getItemContent",this).call(this,e);return i.length||(i=e.children("."+O)),i}},{key:"_postprocessRenderItem",value:function(e){var t=(0,n.default)(e.itemElement),i=this._dataAdapter.getSelectedNodesKeys();i.length&&this._selectedGetter(e.itemData)&&this._isItemSelectable(e.itemData)?this._dataAdapter.getNodeByItem(e.itemData).internalFields.key===i[0]?(t.addClass(this._selectedItemClass()),this._setAriaSelected(t,"true")):this._setAriaSelected(t,"false"):this._setAriaSelected(t,"false")}},{key:"_isItemSelectable",value:function(e){return!1!==e.selectable}},{key:"_renderSeparator",value:function(e){(0,n.default)("<li>").appendTo(e).addClass(x)}},{key:"_itemClickHandler",value:function(e){if(!e._skipHandling){var t=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(e,"onItemClick",{},{afterExecute:t.bind(this)}),e._skipHandling=!0}}},{key:"_updateSubmenuVisibilityOnClick",value:function(e){this._updateSelectedItemOnClick(e),"onClick"===this._getShowSubmenuMode()&&this._addExpandedClass(e.args[0].itemElement)}},{key:"_updateSelectedItemOnClick",value:function(e){var t=e.args?e.args[0]:e;if(this._isItemSelectionAllowed(t.itemData)){var i=this._dataAdapter.getSelectedNodesKeys(),n=i.length&&this._dataAdapter.getNodeByKey(i[0]);n&&this._toggleItemSelection(n,!1),n&&n.internalFields.item===t.itemData?(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionSilent("selectedItem",null)):this.selectItem(t.itemData)}}},{key:"_isItemSelectionAllowed",value:function(e){var t=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&t&&this._isItemSelectable(e)&&!this._itemsGetter(e)}},{key:"_isContainerEmpty",value:function(){return this._itemContainer().is(":empty")}},{key:"_syncSelectionOptions",value:function(){return(0,a.asyncNoop)()}},{key:"_optionChanged",value:function(e){switch(e.name){case"showSubmenuMode":break;case"selectedItem":var i=this._dataAdapter.getNodeByItem(e.value),n=this._dataAdapter.getSelectedNodesKeys()[0];if(i&&i.internalFields.key!==n){if(!1===i.selectable)break;n&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(n),!1),this._toggleItemSelection(i,!0),this._updateSelectedItems()}break;case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:t(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"_optionChanged",this).call(this,e)}}},{key:"_toggleItemSelection",value:function(e,t){var i=this._getElementByItem(e.internalFields.item);i&&(0,n.default)(i).toggleClass(A),this._dataAdapter.toggleSelection(e.internalFields.key,t)}},{key:"_getElementByItem",value:function(e){var t=this,i=void 0;return(0,o.each)(this._itemElements(),function(a,s){return(0,n.default)(s).data(t._itemDataKey())!==e||(i=s,!1)}),i}},{key:"_updateSelectedItems",value:function(e,t){(e||t)&&this._fireSelectionChangeEvent(t,e)}},{key:"_fireSelectionChangeEvent",value:function(e,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[e],removedItems:[t]})}},{key:"selectItem",value:function(e){var t=e.nodeType?this._getItemData(e):e,i=this._dataAdapter.getSelectedNodesKeys()[0],n=this.option("selectedItem"),a=this._dataAdapter.getNodeByItem(t);a.internalFields.key!==i&&(i&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(i),!1),this._toggleItemSelection(a,!0),this._updateSelectedItems(n,t),this._setOptionSilent("selectedItem",t))}},{key:"unselectItem",value:function(e){var t=e.nodeType?this._getItemData(e):e,i=this._dataAdapter.getNodeByItem(t),n=this.option("selectedItem");i.internalFields.selected&&(this._toggleItemSelection(i,!1),this._updateSelectedItems(n,null),this._setOptionSilent("selectedItem",null))}}]),u}();q.ItemClass=y.default,module.exports=q;
},{"../../core/renderer":"qxFQ","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/iterator":"FHcO","../../core/utils/extend":"ac8T","../widget/utils.ink_ripple":"NDxX","../hierarchical_collection/ui.hierarchical_collection_widget":"wHez","./ui.menu_base.edit.strategy":"q4m6","../../core/devices":"LpzF","../collection/item":"Dcm1"}],"vjd2":[function(require,module,exports) {
"use strict";var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),t=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0},n=require("../../core/renderer"),i=P(n),o=require("../../core/dom_adapter"),s=P(o),r=require("../../events/core/events_engine"),a=P(r),u=require("../../core/guid"),l=P(u),h=require("../../core/component_registrator"),c=P(h),_=require("../../core/utils/common"),d=require("../../core/utils/type"),p=require("../../core/utils/dom"),v=require("../../core/utils/iterator"),f=require("../../core/utils/array"),y=require("../../core/utils/extend"),m=require("../../core/utils/window"),b=require("../../animation/fx"),g=P(b),S=require("../../animation/position"),k=require("../../core/devices"),O=P(k),w=require("../../events/utils"),C=require("../overlay"),x=P(C),A=require("./ui.menu_base"),E=P(A),I=require("../../core/utils/deferred");function P(e){return e&&e.__esModule?e:{default:e}}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D="dx-menu",q=D+"-item",L=q+"-expanded",T="dx-menu-phone-overlay",$=D+"-items-container",B=q+"-wrapper",R="dx-submenu",V="dx-context-menu",N="dx-has-context-menu",F="dx-state-disabled",W="dx-state-focused",K="dx-state-hover",G="up",Q="down",z="left",J="right",U="first",X="last",Y=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],Z=[G,Q,U,X],ee="dxcontextmenu",te=function(n){function o(){return H(this,o),j(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return M(o,E.default),e(o,[{key:"getShowEvent",value:function(e){var t=null;return(0,d.isObject)(e)?null!==e.name&&(t=e.name||ee):t=e,t}},{key:"getShowDelay",value:function(e){return(0,d.isObject)(e)&&e.delay}},{key:"_getDefaultOptions",value:function(){return(0,y.extend)(t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_getDefaultOptions",this).call(this),{showEvent:ee,closeOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})}},{key:"_defaultOptionsRules",value:function(){return t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_defaultOptionsRules",this).call(this).concat([{device:function(){return!(0,m.hasWindow)()},options:{animation:null}}])}},{key:"_initActions",value:function(){var e=this;this._actions={},(0,v.each)(Y,function(t,n){e._actions[n]=e._createActionByOption(n)||_.noop})}},{key:"_setOptionsByReference",value:function(){t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_setOptionsByReference",this).call(this),(0,y.extend)(this._optionsByReference,{animation:!0,selectedItem:!0})}},{key:"_focusInHandler",value:function(){}},{key:"_itemContainer",value:function(){return this._overlay?this._overlay.$content():(0,i.default)()}},{key:"_eventBindingTarget",value:function(){return this._itemContainer()}},{key:"itemsContainer",value:function(){return this._overlay?this._overlay.$content():void 0}},{key:"_supportedKeys",value:function(){var e=this;return(0,y.extend)(t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_supportedKeys",this).call(this),{space:function(){var t=(0,i.default)(e.option("focusedElement"));e.hide(),t.length&&e._isSelectionEnabled()&&e.selectItem(t[0])},esc:this.hide})}},{key:"_getActiveItem",value:function(){var e=this._getAvailableItems(),n=e.filter("."+W),i=e.filter("."+K);return i.closest("."+$).find("."+q).index(n)>=0?n:i.length?i:t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_getActiveItem",this).call(this)}},{key:"_moveFocus",value:function(e){var n=this._getItemsByLocation(e),s=this._getActiveItem(!0),r=this.itemsContainer().find("."+K),a=!(!(0,i.default)(this.option("focusedElement")).length&&!r.length),u=void 0;switch(e){case G:u=a?this._prevItem(n):s,s.is(n.first())&&this._actions.onLeftFirstItem(s);break;case Q:u=a?this._nextItem(n):s,s.is(n.last())&&this._actions.onLeftLastItem(s);break;case J:u=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(n,e);break;case z:u=this.option("rtlEnabled")?this._expandSubmenuHandler(n,e):this._hideSubmenuHandler();break;case U:u=n.first();break;case X:u=n.last();break;default:return t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_moveFocus",this).call(this,e)}0!==u.length&&this.option("focusedElement",(0,p.getPublicElement)(u))}},{key:"_getItemsByLocation",value:function(e){var t=this._getActiveItem(!0),n=void 0;return(0,f.inArray)(e,Z)>=0&&(n=t.closest("."+$).children().children()),n=this._getAvailableItems(n)}},{key:"_getAriaTarget",value:function(){return this.$element()}},{key:"_refreshActiveDescendant",value:function(){if((0,d.isDefined)(this._overlay)){var e=this._overlay.$content();t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_refreshActiveDescendant",this).call(this,e)}}},{key:"_hideSubmenuHandler",value:function(){var e=this._getActiveItem(!0),t=e.parents("."+L).first();return t.length?(this._hideSubmenusOnSameLevel(t),this._hideSubmenu(e.closest("."+R)),t):(this._actions.onCloseRootSubmenu(e),e)}},{key:"_expandSubmenuHandler",value:function(e,t){var n=this._getActiveItem(!0),i=this._getItemData(n),o=this._dataAdapter.getNodeByItem(i),s=this._hasSubmenu(o),r=n.children("."+R);return s&&!n.hasClass(F)?(r.length&&"hidden"!==r.css("visibility")||this._showSubmenu(n),this._nextItem(this._getItemsByLocation(t))):(this._actions.onExpandLastSubmenu(n),n)}},{key:"_clean",value:function(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_clean",this).call(this)}},{key:"_initMarkup",value:function(){this.$element().addClass(N),t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_initMarkup",this).call(this)}},{key:"_render",value:function(){t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_render",this).call(this),this._renderVisibility(this.option("visible")),this._addWidgetClass()}},{key:"_renderContentImpl",value:function(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()}},{key:"_attachKeyboardEvents",value:function(){!this._keyboardProcessor&&this._focusTarget().length&&t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_attachKeyboardEvents",this).call(this)}},{key:"_renderContextMenuOverlay",value:function(){if(!this._overlay){var e=this._getOverlayOptions();this._overlay=this._createComponent((0,i.default)("<div>").appendTo(this._$element),x.default,e);var t=this._overlay.$content();t.addClass(V),this._addCustomCssClass(t),this._addPlatformDependentClass(t),this._attachContextMenuEvent()}}},{key:"_itemContextMenuHandler",value:function(e){t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_itemContextMenuHandler",this).call(this,e),e.stopPropagation()}},{key:"_addPlatformDependentClass",value:function(e){O.default.current().phone&&e.addClass(T)}},{key:"_detachShowContextMenuEvents",value:function(e){var t=this.getShowEvent(this.option("showEvent"));if(t){var n=(0,w.addNamespace)(t,this.NAME);this._showContextMenuEventHandler?a.default.off(s.default.getDocument(),n,e,this._showContextMenuEventHandler):a.default.off((0,i.default)(e),n)}}},{key:"_attachShowContextMenuEvents",value:function(){var e=this,t=this._getTarget(),n=this.getShowEvent(this.option("showEvent"));if(n){var o=(0,w.addNamespace)(n,this.NAME),r=this._createAction(function(t){var n=e.getShowDelay(e.option("showEvent"));n?setTimeout(function(){return e._show(t.event)},n):e._show(t.event)},{validatingTargetName:"target"}),u=function(e){return r({event:e,target:(0,i.default)(e.currentTarget)})};r=this._createAction(r),(0,d.isRenderer)(t)||t.nodeType||(0,d.isWindow)(t)?(this._showContextMenuEventHandler=void 0,a.default.on(t,o,u)):(this._showContextMenuEventHandler=u,a.default.on(s.default.getDocument(),o,t,this._showContextMenuEventHandler))}}},{key:"_hoverEndHandler",value:function(e){t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_hoverEndHandler",this).call(this,e),e.stopPropagation()}},{key:"_renderDimensions",value:function(){}},{key:"_renderContainer",value:function(e,n){var s=n||this._itemContainer();(e=(0,i.default)("<div>")).appendTo(s).addClass(R).css("visibility",n?"hidden":"visible");var r=t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_renderContainer",this).call(this,e);return n?r:this.option("width")?r.css("minWidth",this.option("width")):this.option("height")?r.css("minHeight",this.option("height")):r}},{key:"_renderSubmenuItems",value:function(e,t){this._renderItems(this._getChildNodes(e),t),this._actions.onSubmenuCreated({itemElement:(0,p.getPublicElement)(t),itemData:e.internalFields.item,submenuElement:(0,p.getPublicElement)(t.children("."+R))})}},{key:"_getOverlayOptions",value:function(){var e=this.option("position");return{focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,closeOnOutsideClick:this._closeOnOutsideClickHandler.bind(this),propagateOutsideClick:!0,closeOnTargetScroll:!0,deferRendering:!1,position:{at:e.at,my:e.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this)}}},{key:"_overlayShownActionHandler",value:function(e){this._actions.onShown(e)}},{key:"_overlayHidingActionHandler",value:function(e){this._actions.onHiding(e),e.cancel||(this._hideAllShownSubmenus(),this._setOptionSilent("visible",!1))}},{key:"_overlayHiddenActionHandler",value:function(e){this._actions.onHidden(e)}},{key:"_closeOnOutsideClickHandler",value:function(e){var t=this.option("closeOnOutsideClick");if((0,d.isFunction)(t))return t(e);if(!t)return!1;if(s.default.isDocument(e.target))return!0;var n=this._getActiveItemsContainer(e.target),i=this._getItemsContainers(),o=this._searchActiveItem(e.target),r=this.$element().parents("."+q),a=o[0]===r[0]&&o.length&&r.length;return!(this._isIncludeOverlay(n,i)&&o.length)&&!a||("onClick"===this._getShowSubmenuMode()&&this._hideAllShownChildSubmenus(o),!1)}},{key:"_getActiveItemsContainer",value:function(e){return(0,i.default)(e).closest("."+$)}},{key:"_getItemsContainers",value:function(){return this._overlay._$content.find("."+$)}},{key:"_searchActiveItem",value:function(e){return(0,i.default)(e).closest("."+q).eq(0)}},{key:"_isIncludeOverlay",value:function(e,t){var n=!1;return(0,v.each)(t,function(t,i){e.is(i)&&!n&&(n=!0)}),n}},{key:"_hideAllShownChildSubmenus",value:function(e){var t=this,n=e.find("."+R),i=(0,y.extend)([],this._shownSubmenus);n.length>0&&(0,v.each)(i,function(n,i){var o=t._searchActiveItem(i.context).parent();o.parent().is(e.parent().parent())&&!o.is(e.parent())&&t._hideSubmenu(i)})}},{key:"_showSubmenu",value:function(e){var n=this._dataAdapter.getNodeByItem(this._getItemData(e));if(this._hideSubmenusOnSameLevel(e),this._hasSubmenu(n)){var i=e.children("."+R),s=i.length;t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_showSubmenu",this).call(this,e),s||this._renderSubmenuItems(n,e),this._isSubmenuVisible(i)||this._drawSubmenu(e)}}},{key:"_hideSubmenusOnSameLevel",value:function(e){var t=e.parent("."+B).siblings().find("."+L);t.length&&(t.removeClass(L),this._hideSubmenu(t.find("."+R)))}},{key:"_hideSubmenuGroup",value:function(e){this._isSubmenuVisible(e)&&this._hideSubmenuCore(e)}},{key:"_isSubmenuVisible",value:function(e){return"visible"===e.css("visibility")}},{key:"_drawSubmenu",value:function(e){var t=this.option("animation")?this.option("animation").show:{},n=e.children("."+R),i=this._getSubmenuPosition(e);this._overlay&&this._overlay.option("visible")&&((0,d.isDefined)(this._shownSubmenus)||(this._shownSubmenus=[]),(0,f.inArray)(n,this._shownSubmenus)&&this._shownSubmenus.push(n),t&&g.default.stop(n),(0,S.setup)(n,i),t&&((0,d.isPlainObject)(t.to)&&(t.to.position=i),this._animate(n,t)),n.css("visibility","visible"))}},{key:"_animate",value:function(e,t){g.default.animate(e,t)}},{key:"_getSubmenuPosition",value:function(e){var t=this.option("submenuDirection").toLowerCase(),n={collision:"flip",of:e.parent("."+B),offset:{h:0,v:-1}};switch(t){case"left":n.at="left top",n.my="right top";break;case"right":n.at="right top",n.my="left top";break;default:this.option("rtlEnabled")?(n.at="left top",n.my="right top"):(n.at="right top",n.my="left top")}return n}},{key:"_updateSubmenuVisibilityOnClick",value:function(e){if(e.args.length){var t=e.args[0].itemData,n=this._dataAdapter.getNodeByItem(t);if(n){var o=(0,i.default)(e.args[0].itemElement),s=o.find("."+R);if(this._hasSubmenu(n)&&!s.length&&(this._renderSubmenuItems(n,o),s=o.find("."+R)),o.context!==s.context||"visible"!==s.css("visibility")){var r=t&&!1===t.closeMenuOnClick;if(t&&!t.disabled&&!r)if(this._updateSelectedItemOnClick(e),0===s.length){var a=(0,i.default)(o.parents("."+R)[0]);this._hideSubmenu(a),!e.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(s)&&this._hideSubmenu(s),this._showSubmenu(o)}}}}},{key:"_hideSubmenu",value:function(e){var t=this,n=(0,y.extend)([],this._shownSubmenus);(0,v.each)(n,function(n,i){(e.is(i)||(0,p.contains)(e[0],i[0]))&&(i.parent().removeClass(L),t._hideSubmenuCore(i))})}},{key:"_hideSubmenuCore",value:function(e){var t=(0,f.inArray)(e,this._shownSubmenus),n=this.option("animation")?this.option("animation").hide:null;t>=0&&this._shownSubmenus.splice(t,1),this._stopAnimate(e),n&&this._animate(e,n),e.css("visibility","hidden")}},{key:"_stopAnimate",value:function(e){g.default.stop(e,!0)}},{key:"_hideAllShownSubmenus",value:function(){var e=this,t=(0,y.extend)([],this._shownSubmenus);this._overlay.$content().find("."+L).removeClass(L),(0,v.each)(t,function(t,n){e._hideSubmenu(n)})}},{key:"_visibilityChanged",value:function(e){e&&this._renderContentImpl()}},{key:"_optionChanged",value:function(e){if((0,f.inArray)(e.name,Y)>-1)this._initActions();else switch(e.name){case"visible":this._renderVisibility(e.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":e.previousValue&&this._detachShowContextMenuEvents(e.previousValue),this._invalidate();break;case"closeOnOutsideClick":break;default:t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_optionChanged",this).call(this,e)}}},{key:"_renderVisibility",value:function(e){return e?this._show():this._hide()}},{key:"_toggleVisibility",value:function(){}},{key:"_show",value:function(e){var t={jQEvent:e},n=(new I.Deferred).reject().promise();if(this._actions.onShowing(t),t.cancel)return n;var i=this._positionContextMenu(e);return i&&(this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes())),this._setOptionSilent("visible",!0),this._overlay.option("position",i),n=this._overlay.show(),e&&e.stopPropagation(),this._setAriaAttributes()),n}},{key:"_setAriaAttributes",value:function(){this._overlayContentId="dx-"+new l.default,this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())}},{key:"_cleanAriaAttributes",value:function(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)}},{key:"_getTarget",value:function(){return this.option("target")||this.option("position").of||(0,i.default)(s.default.getDocument())}},{key:"_getContextMenuPosition",value:function(){return(0,y.extend)({},this.option("position"),{of:this._getTarget()})}},{key:"_positionContextMenu",value:function(e){var t=this._getContextMenuPosition(),n=this._isInitialOptionValue("position"),i=this._createActionByOption("onPositioning",o);e&&e.preventDefault&&n&&(t.of=e);var o={position:t,event:e};return i(o),o.cancel?t=null:o.event&&(o.event.cancel=!0,e.preventDefault()),t}},{key:"_refresh",value:function(){if((0,m.hasWindow)())if(this._overlay){var e=this._overlay.option("position");t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_refresh",this).call(this),this._overlay&&this._overlay.option("position",e)}else t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_refresh",this).call(this);else t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_refresh",this).call(this)}},{key:"_hide",value:function(){var e=void 0;return this._overlay&&(e=this._overlay.hide(),this._setOptionSilent("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),e||(new I.Deferred).reject().promise()}},{key:"toggle",value:function(e){var t=this.option("visible");return e=void 0===e?!t:e,this._renderVisibility(e)}},{key:"show",value:function(){return this.toggle(!0)}},{key:"hide",value:function(){return this.toggle(!1)}}]),o}();(0,c.default)("dxContextMenu",te),module.exports=te;
},{"../../core/renderer":"qxFQ","../../core/dom_adapter":"RRDy","../../events/core/events_engine":"oNrb","../../core/guid":"tQQP","../../core/component_registrator":"g3fO","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/dom":"vDwZ","../../core/utils/iterator":"FHcO","../../core/utils/array":"uivT","../../core/utils/extend":"ac8T","../../core/utils/window":"NXH3","../../animation/fx":"qxJT","../../animation/position":"cuhc","../../core/devices":"LpzF","../../events/utils":"cNvJ","../overlay":"byva","./ui.menu_base":"Vj3f","../../core/utils/deferred":"g5TB"}],"Vt7L":[function(require,module,exports) {
"use strict";var e=require("./context_menu/ui.context_menu"),t=u(e);function u(e){return e&&e.__esModule?e:{default:e}}module.exports=t.default,module.exports.default=module.exports;
},{"./context_menu/ui.context_menu":"vjd2"}],"D15G":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=c(e),n=require("../../core/utils/dom"),o=require("../../core/utils/common"),r=require("../../core/utils/iterator"),i=require("./ui.grid_core.modules"),u=c(i),a=require("../context_menu"),l=c(a);function c(e){return e&&e.__esModule?e:{default:e}}var s="dx-context-menu",d={columnHeadersView:"header",rowsView:"content",footerView:"footer",headerPanel:"headerPanel"},m=["columnHeadersView","rowsView","footerView","headerPanel"],x=u.default.ViewController.inherit({init:function(){this.createAction("onContextMenuPreparing")},getContextMenuItems:function(e){if(!e)return!1;var o,i,u,a,l,c,s,x,g,f=this,w=(0,t.default)(e.target);return(0,r.each)(m,function(){if(o=f.getView(this),(c=o&&o.element())&&(c.is(w)||c.find(w).length)&&(x=w.closest(".dx-row > td, .dx-row > tr"),s=x.parent(),u=o.getRowIndex(s),a=x[0]&&x[0].cellIndex,l=s.data("options"),(i={event:e,targetElement:(0,n.getPublicElement)(w),target:d[this],rowIndex:u,row:o._getRows()[u],columnIndex:a,column:l&&l.cells[a].column}).items=o.getContextMenuItems&&o.getContextMenuItems(i),f.executeAction("onContextMenuPreparing",i),f._contextMenuPrepared(i),g=i.items))return!1}),g},_contextMenuPrepared:o.noop}),g=u.default.View.inherit({_renderCore:function(){var e=this,t=e.element().addClass(s);this.setAria("role","presentation",t),this._createComponent(t,l.default,{onPositioning:function(t){var n=t.event,o=t.component,r=e.getController("contextMenu").getContextMenuItems(n);r?(o.option("items",r),n.stopPropagation()):t.cancel=!0},onItemClick:function(e){e.itemData.onItemClick&&e.itemData.onItemClick(e)},cssClass:e.getWidgetContainerClass(),target:e.component.$element()})}});module.exports={defaultOptions:function(){return{onContextMenuPreparing:null}},controllers:{contextMenu:x},views:{contextMenuView:g}};
},{"../../core/renderer":"qxFQ","../../core/utils/dom":"vDwZ","../../core/utils/common":"GcQA","../../core/utils/iterator":"FHcO","./ui.grid_core.modules":"vXU0","../context_menu":"Vt7L"}],"NACQ":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),r=i(e),t=require("../grid_core/ui.grid_core.context_menu"),u=i(t);function i(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("contextMenu",u.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.context_menu":"D15G"}],"jRK2":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),r=s(e),t=require("../../events/core/events_engine"),o=s(t),n=require("../../events/click"),i=s(n),a=require("../../core/utils/iterator"),l=require("./ui.grid_core.modules"),d=s(l);function s(e){return e&&e.__esModule?e:{default:e}}var u="dx-error-row",c="dx-error-message",f="dx-closebutton",g="action",w=d.default.ViewController.inherit({init:function(){this._columnHeadersView=this.getView("columnHeadersView"),this._rowsView=this.getView("rowsView")},_createErrorRow:function(e,t){var n,l,d=this,s=this._renderErrorMessage(e);return t?(n=(0,r.default)("<tr>").addClass(u),l=(0,r.default)("<div>").addClass(f).addClass(d.addWidgetPrefix(g)),o.default.on(l,i.default.name,d.createAction(function(e){var o,n=e.event,i=(0,r.default)(n.currentTarget).closest("."+u).index();n.stopPropagation(),(0,a.each)(t,function(e,t){o=(0,r.default)(t).children("tbody").children("tr").eq(i),d.removeErrorRow(o)}),d.getController("resizing")&&d.getController("resizing").fireContentReadyAction()})),(0,r.default)("<td>").attr({colSpan:d.getController("columns").getVisibleColumns().length,role:"presentation"}).prepend(l).append(s).appendTo(n),n):s},_renderErrorMessage:function(e){var t=e.url?e.message.replace(e.url,""):e.message||e,o=(0,r.default)("<div>").addClass(c).text(t);return e.url&&(0,r.default)("<a>").attr("href",e.url).text(e.url).appendTo(o),o},renderErrorRow:function(e,t,o){var n,i,l,d,s,u,f=this;if(o)return o.find("."+c).remove(),i=f._createErrorRow(e),o.prepend(i),i;if(s=t>=0||!f._columnHeadersView.isVisible()?f._rowsView:f._columnHeadersView,u=o||s.getTableElements(),(0,a.each)(u,function(o,a){if(i=f._createErrorRow(e,u),l=l||i,t>=0)n=s._getRowElements((0,r.default)(a)).eq(t),f.removeErrorRow(n.next()),i.insertAfter(n);else{var c=(0,r.default)(a).children("tbody");d=c.children("tr"),f._columnHeadersView.isVisible()?(f.removeErrorRow(d.last()),(0,r.default)(a).append(i)):(f.removeErrorRow(d.first()),c.first().prepend(i))}}),!o){var g=f.getController("resizing");g&&g.fireContentReadyAction()}return l},removeErrorRow:function(e){if(!e){var r=this._columnHeadersView&&this._columnHeadersView.element();if(!(e=r&&r.find("."+u))||!e.length){var t=this._rowsView.element();e=t&&t.find("."+u)}}e&&e.hasClass(u)&&e.remove()},optionChanged:function(e){switch(e.name){case"errorRowEnabled":e.handled=!0;break;default:this.callBase(e)}}});module.exports={defaultOptions:function(){return{errorRowEnabled:!0}},controllers:{errorHandling:w},extenders:{controllers:{data:{init:function(){var e=this,r=e.getController("errorHandling");e.callBase(),e.dataErrorOccurred.add(function(t,o){e.option("errorRowEnabled")&&r.renderErrorRow(t,void 0,o)}),e.changed.add(function(r){if(!r||"loadError"!==r.changeType){var t=e.getController("errorHandling"),o=e.getController("editing");o&&!o.hasChanges()&&t&&t.removeErrorRow()}})}}}}};
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../events/click":"RTmy","../../core/utils/iterator":"FHcO","./ui.grid_core.modules":"vXU0"}],"kOln":[function(require,module,exports) {
"use strict";var r=require("./ui.tree_list.core"),e=t(r),i=require("../grid_core/ui.grid_core.error_handling"),u=t(i);function t(r){return r&&r.__esModule?r:{default:r}}e.default.registerModule("errorHandling",u.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.error_handling":"jRK2"}],"SXbH":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=W(e),i=require("./ui.grid_core.modules"),n=W(i),r=require("../../core/utils/common"),o=W(r),s=require("../../core/utils/window"),l=W(s),a=require("../../core/utils/iterator"),d=require("../../core/utils/type"),h=W(d),u=require("./ui.grid_core.utils"),c=W(u),g=require("../../localization/message"),f=W(g),_=require("../../core/utils/deferred"),p=require("../../core/dom_adapter"),m=W(p),w=require("../../core/utils/browser"),C=W(w),V=require("../shared/accessibility"),v=W(V);function W(e){return e&&e.__esModule?e:{default:e}}var S="table",b="borders",z="table-fixed",x="important-margin",y="text-content",H="dx-hidden",R="dx-gridbase-container",F="adaptiveHidden",T="input:not([type='hidden'])",B=["columnsSeparatorView","blockSeparatorView","trackerView","headerPanel","columnHeadersView","rowsView","footerView","columnChooserView","filterPanelView","pagerView","draggingHeaderView","contextMenuView","errorView","headerFilterView","filterBuilderView"],E=function(e){return h.default.isString(e)&&"%"===e.slice(-1)},A=function(e){return h.default.isString(e)&&"px"===e.slice(-2)},q=function(e,t){var i,n=[];if(e&&t&&e.length&&e.length===t.length)for(i=0;i<e.length;i++)n.push(e[i]>t[i]?e[i]:t[i]);else e&&e.length?n=e:t&&(n=t);return n},D=function(e){return e.get(0).clientHeight-parseFloat(e.css("paddingTop"))-parseFloat(e.css("paddingBottom"))},P=function(e,t){var i=e._rowsView.contentWidth();return i-e._getTotalWidth(t,i)},L=function(e,t,i,n){return P(e,n.map(function(e,n){return n===t?i:e}))},M=function(e,t){v.default.hiddenFocus(e),c.default.setSelectionRange(e,t)},U=n.default.ViewController.inherit({_initPostRenderHandlers:function(){var e=this,t=e._dataController;e._refreshSizesHandler||(e._refreshSizesHandler=function(i){t.changed.remove(e._refreshSizesHandler);var n,r=i&&i.changeType,s=i&&i.isDelayed,l=t.items();i&&"refresh"!==r&&"prepend"!==r&&"append"!==r?"update"===r&&i.changeTypes&&(!(l.length>1||"insert"!==i.changeTypes[0])||0===l.length&&"remove"===i.changeTypes[0]||i.needUpdateDimensions?n=e.resize():o.default.deferUpdate(function(){e._rowsView.resize()})):s||(n=e.resize()),r&&"updateSelection"!==r&&"updateFocusedRow"!==r&&!s&&(0,_.when)(n).done(function(){e._setAriaRowColCount(),e.fireContentReadyAction()})},e._dataController.changed.add(function(){e._dataController.changed.add(e._refreshSizesHandler)}))},fireContentReadyAction:function(){this.component._fireContentReadyAction()},_setAriaRowColCount:function(){var e=this.component;e.setAria({rowCount:this._dataController.totalItemsCount(),colCount:e.columnCount()},e.$element().children("."+R))},_getBestFitWidths:function(){if(!this.option("legacyRendering"))return this._rowsView.getColumnWidths();var e,t,i,n;return e=this._rowsView.getColumnWidths(),t=this._columnHeadersView&&this._columnHeadersView.getColumnWidths(),i=this._footerView&&this._footerView.getColumnWidths(),n=q(e,t),n=q(n,i)},_setVisibleWidths:function(e,t){var i=this._columnsController;i.beginUpdate(),(0,a.each)(e,function(e,n){var r=i.getColumnId(n);i.columnOption(r,"visibleWidth",t[e])}),i.endUpdate()},_toggleBestFitModeForView:function(e,i,n){var r=this;if(e&&e.isVisible()){var o=this._rowsView.getTableElements(),s=e.getTableElements();(0,a.each)(o,function(e,o){var l,a=(0,t.default)(o),d=s.eq(e);d&&d.length&&((l=n?d.children("tbody").appendTo(a):a.children("."+i).appendTo(d)).toggleClass(i,n),l.toggleClass(r.addWidgetPrefix("best-fit"),n))})}},_toggleBestFitMode:function(e){var t=this.component.$element();if(this.option("legacyRendering"))t.find("."+this.addWidgetPrefix(S)).toggleClass(this.addWidgetPrefix(z),!e),t.find(T).toggleClass(H,e),t.find(".dx-group-cell").toggleClass(H,e),t.find(".dx-header-row ."+this.addWidgetPrefix(y)).css("maxWidth","");else{var i=this._rowsView._getTableElement(),n=this._rowsView.getTableElements().eq(1);i.css("tableLayout",e?"auto":"fixed"),i.children("colgroup").css("display",e?"none":""),n.toggleClass(this.addWidgetPrefix(z),!e),this._toggleBestFitModeForView(this._columnHeadersView,"dx-header",e),this._toggleBestFitModeForView(this._footerView,"dx-footer",e),this._needStretch()&&(i.get(0).style.width=e?"auto":""),C.default.msie&&11===parseInt(C.default.version)&&i.find("."+this.addWidgetPrefix(z)).each(function(){this.style.width=e?"10px":""})}},_synchronizeColumns:function(){var e,t,i,n=this,r=n._columnsController,s=r.getVisibleColumns(),l=n.option("columnAutoWidth"),d=n.option("legacyRendering"),u=n._needBestFit(),g=!1,f=!1,_=[];!u&&(0,a.each)(s,function(e,t){if("auto"===t.width||d&&t.fixed)return u=!0,!1}),(0,a.each)(s,function(e,t){if(t.minWidth)return g=!0,!1}),n._setVisibleWidths(s,[]),u&&(t=m.default.getActiveElement(),i=c.default.getSelectionRange(t),n._toggleBestFitMode(!0),e=!0),o.default.deferUpdate(function(){var d;u?(_=n._getBestFitWidths(),(0,a.each)(s,function(e,t){var i=r.getColumnId(t);r.columnOption(i,"bestFitWidth",_[e],!0)})):g&&(_=n._getBestFitWidths()),(0,a.each)(s,function(e){var t=this.width;"auto"!==t&&(h.default.isDefined(t)?_[e]=h.default.isNumeric(t)||A(t)?parseFloat(t):t:l||(_[e]=void 0))}),e&&(n._toggleBestFitMode(!1),e=!1,t&&t!==m.default.getActiveElement()&&(t.getBoundingClientRect().bottom<0||(C.default.msie?setTimeout(function(){M(t,i)}):M(t,i)))),f=n._correctColumnWidths(_,s),l&&((0,a.each)(s,function(e,t){"groupExpand"===t.type&&(d=_[e])}),(0,a.each)(s,function(e,t){"groupExpand"===t.type&&d&&(_[e]=d)}),n._needStretch()&&n._processStretch(_,s)),o.default.deferRender(function(){(u||f)&&n._setVisibleWidths(s,_)})})},_needBestFit:function(){return this.option("columnAutoWidth")},_needStretch:function(){return this.option("legacyRendering")||this._columnsController.getVisibleColumns().some(function(e){return"auto"===e.width&&!e.command})},_getAverageColumnsWidth:function(e){return P(this,e)/e.filter(function(e){return void 0===e}).length},_correctColumnWidths:function(e,t){var i,n,r=!1,o=!1,s=!1,l=this.component.$element(),a=this._hasWidth;for(i=0;i<t.length;i++){var d=i,u=t[d],g=e[d]===F,f=e[d],_=u.minWidth;if(_)if(void 0===f)f=this._getAverageColumnsWidth(e);else if(E(f))L(this,d,_,e)<0&&(f=-1);_&&this._getRealColumnWidth(f)<_&&!g&&(e[d]=_,s=!0,i=-1),h.default.isDefined(u.width)||(o=!0),E(u.width)&&(r=!0)}if(l&&this._maxWidth&&(delete this._maxWidth,l.css("maxWidth","")),!o&&e.length){var p=this._rowsView.contentWidth(),m=this._rowsView.getScrollbarWidth(),w=this._getTotalWidth(e,p);w<p&&(n=c.default.getLastResizableColumnIndex(t,e))>=0&&(e[n]="auto",s=!0,!1!==a||r||(this._maxWidth=w+m+(this.option("showBorders")?2:0),l.css("maxWidth",this._maxWidth)))}return s},_processStretch:function(e,t){var i,n,r,o,s=this._rowsView.contentWidth(),l=this._getTotalWidth(e,s),d={length:0};if(e.length&&((0,a.each)(t,function(t){(this.width||e[t]===F)&&(d[t]=!0,d.length++)}),r=(i=s-l)-(n=Math.floor(i/(e.length-d.length)))*(e.length-d.length),i>=0))for(o=0;o<e.length;o++)d[o]||(e[o]+=n,r>0&&(r<1?(e[o]+=r,r=0):(e[o]++,r--)))},_getRealColumnWidth:function(e,t){return E(e)?(t=t||this._rowsView.contentWidth(),parseFloat(e)*t/100):parseFloat(e)},_getTotalWidth:function(e,t){var i,n,r=0;for(n=0;n<e.length;n++)(i=e[n])&&i!==F&&(r+=this._getRealColumnWidth(i,t));return r},updateSize:function(e){var t,i,n=this.addWidgetPrefix(x);void 0===this._hasHeight&&e&&e.is(":visible")&&e.width()&&((t=e.children("."+this.getWidgetContainerClass())).length&&t.detach(),this._hasHeight=!!D(e),i=e.width(),e.addClass(n),this._hasWidth=e.width()===i,e.removeClass(n),t.length&&t.appendTo(e))},publicMethods:function(){return["resize","updateDimensions"]},resize:function(){return!this.component._requireResize&&this.updateDimensions()},updateDimensions:function(e){var t=this;if(t._initPostRenderHandlers(),t._checkSize(e)){var i=t._resizeDeferred,n=t._resizeDeferred=new _.Deferred;return(0,_.when)(i).always(function(){o.default.deferRender(function(){t._dataController.isLoaded()&&t._synchronizeColumns(),t._resetGroupElementHeight(),o.default.deferUpdate(function(){o.default.deferRender(function(){o.default.deferUpdate(function(){t._updateDimensionsCore()})})})}).done(n.resolve).fail(n.reject)}),n.promise()}},_resetGroupElementHeight:function(){var e=this.component.$element().children().get(0),t=this._rowsView.getScrollable();!e||!e.style.height||t&&t.scrollTop()||(e.style.height="")},_checkSize:function(e){var t=this.component.$element();return!(e&&(this._lastWidth===t.width()&&this._lastHeight===t.height()||!t.is(":visible")))},_setScrollerSpacingCore:function(e){var t=this,i=e?t._rowsView.getScrollbarWidth():0,n=t._rowsView.getScrollbarWidth(!0);o.default.deferRender(function(){t._columnHeadersView&&t._columnHeadersView.setScrollerSpacing(i),t._footerView&&t._footerView.setScrollerSpacing(i),t._rowsView.setScrollerSpacing(i,n)})},_setScrollerSpacing:function(e){var t=this;!0===this.option("scrolling.useNative")?o.default.deferRender(function(){o.default.deferUpdate(function(){t._setScrollerSpacingCore(e)})}):this._setScrollerSpacingCore(e)},_updateDimensionsCore:function(){var e,i,n=this,r=n._dataController,s=n._rowsView,l=n.component.$element(),d=l.children().get(0),h=l&&(l.get(0).clientHeight||l.height()),u=parseFloat(l.css("maxHeight")),c=u&&h>=u,g=n.option("height")||l.get(0).style.height,f=n.getController("editorFactory"),_=c&&d.scrollHeight===d.offsetHeight;n.updateSize(l),e=n._hasHeight||c,g&&n._hasHeight^"auto"!==g&&(i=(0,t.default)("<div>").height(g).appendTo(l),n._hasHeight=!!i.height(),i.remove()),o.default.deferRender(function(){s.height(null,e),c&&!_&&(0,t.default)(d).css("height",u),r.isLoaded()?o.default.deferUpdate(function(){n._updateLastSizes(l),n._setScrollerSpacing(e),(0,a.each)(B,function(e,t){var i=n.getView(t);i&&i.resize()}),f&&f.resize()}):s.setLoading(r.isLoading())})},_updateLastSizes:function(e){this._lastWidth=e.width(),this._lastHeight=e.height()},optionChanged:function(e){switch(e.name){case"width":case"height":this.component._renderDimensions(),this.resize();case"legacyRendering":case"renderAsync":return void(e.handled=!0);default:this.callBase(e)}},init:function(){this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._columnHeadersView=this.getView("columnHeadersView"),this._footerView=this.getView("footerView"),this._rowsView=this.getView("rowsView")}}),$=n.default.ViewController.inherit({_scrollChangedHandler:function(e,t,i){for(var n=0;n<e.length;n++)e[n]&&e[n].name!==i&&e[n].scrollTo({left:t.left,top:t.top})},init:function(){var e,t,i=[this.getView("columnHeadersView"),this.getView("footerView"),this.getView("rowsView")];for(t=0;t<i.length;t++)(e=i[t])&&e.scrollChanged.add(this._scrollChangedHandler.bind(this,i))}}),I=n.default.View.inherit({_endUpdateCore:function(){this.component._requireResize&&(this.component._requireResize=!1,this._resizingController.resize())},_getWidgetAriaLabel:function(){return"dxDataGrid-ariaDataGrid"},init:function(){this._resizingController=this.getController("resizing"),this._dataController=this.getController("data")},getView:function(e){return this.component._views[e]},element:function(){return this._groupElement},optionChanged:function(e){h.default.isDefined(this._groupElement)&&"showBorders"===e.name?(this._groupElement.toggleClass(this.addWidgetPrefix(b),!!e.value),e.handled=!0):this.callBase(e)},_renderViews:function(e){var t=this;(0,a.each)(B,function(i,n){var r=t.getView(n);r&&r.render(e)})},_getTableRoleName:function(){return"grid"},render:function(e){var i=!this._groupElement,n=this._groupElement||(0,t.default)("<div>").addClass(this.getWidgetContainerClass());n.addClass(R),n.toggleClass(this.addWidgetPrefix(b),!!this.option("showBorders")),this.setAria("role","presentation",e),this.component.setAria({role:this._getTableRoleName(),label:f.default.format(this._getWidgetAriaLabel())},n),this._rootElement=e||this._rootElement,i&&(this._groupElement=n,l.default.hasWindow()&&this.getController("resizing").updateSize(e),n.appendTo(e)),this._renderViews(n)},update:function(){var e=this._rootElement,t=this._groupElement,i=this.getController("resizing");e&&t&&(i.resize(),this._dataController.isLoaded()&&this._resizingController.fireContentReadyAction())}});module.exports={defaultOptions:function(){return{showBorders:!1,renderAsync:!1,legacyRendering:!1}},controllers:{resizing:U,synchronizeScrolling:$},views:{gridView:I}};
},{"../../core/renderer":"qxFQ","./ui.grid_core.modules":"vXU0","../../core/utils/common":"GcQA","../../core/utils/window":"NXH3","../../core/utils/iterator":"FHcO","../../core/utils/type":"Mw4w","./ui.grid_core.utils":"kk68","../../localization/message":"Njcj","../../core/utils/deferred":"g5TB","../../core/dom_adapter":"RRDy","../../core/utils/browser":"nlvS","../shared/accessibility":"sH3F"}],"YSpc":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),i=l(e),t=require("../grid_core/ui.grid_core.grid_view"),r=l(t);function l(e){return e&&e.__esModule?e:{default:e}}var d=r.default.views.gridView.inherit({_getWidgetAriaLabel:function(){return"dxTreeList-ariaTreeList"},_getTableRoleName:function(){return"treegrid"}});i.default.registerModule("gridView",{defaultOptions:r.default.defaultOptions,controllers:r.default.controllers,views:{gridView:d},extenders:{controllers:{resizing:{_toggleBestFitMode:function(e){(this.callBase(e),this.option("legacyRendering"))||this._rowsView._getTableElement().find(".dx-treelist-cell-expandable").toggleClass(this.addWidgetPrefix("best-fit"),e)}}}}});
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.grid_view":"SXbH"}],"iXYJ":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=require("../../core/utils/common").noop,n=require("../../core/utils/iterator").each,i=require("../../core/errors"),o=require("../../core/utils/data").compileGetter,u=require("../../core/class"),r=require("../button"),s=u.abstract,a="dx-toolbar-menu-container",l="dx-toolbar-menu-button",_=u.inherit({ctor:function(t){this._toolbar=t},render:function(){this._renderMenuButton(),this._renderWidget()},_widgetOptions:function(){var t=this._toolbar._createActionByOption("onItemClick");return{itemTemplate:this._getMenuItemTemplate.bind(this),onItemClick:function(e){this._toggleMenu(!1,!0),t(e)}.bind(this)}},_getMenuItemTemplate:function(){return this._toolbar._getTemplateByOption("menuItemTemplate")},_renderWidget:function(){var e=t("<div>").appendTo(this._menuContainer());this._menu=this._toolbar._createComponent(e,this._menuWidgetClass(),this._widgetOptions()),this.renderMenuItems()},_menuContainer:s,_menuWidgetClass:s,_hasVisibleMenuItems:function(t){var e=t||this._toolbar.option("items"),u=!1,r=o("visible"),s=o("locateInMenu"),a=!1;return n(e,function(t,e){var n=r(e,{functionsAsIs:!0}),i=s(e,{functionsAsIs:!0});"menu"===e.location&&(a=!0),!1===n||"auto"!==i&&"always"!==i&&"menu"!==e.location||(u=!0)}),a&&i.log("W0001","dxToolbar - 'location' item field","menu","16.1","Use 'locateInMenu' item field instead."),u},_getMenuItems:function(){return this._toolbar._getMenuItems()},_updateMenuVisibility:e,_renderMenuButton:function(){var e=this._menuButtonOptions();this._renderMenuButtonContainer(),this._$button=t("<div>").appendTo(this._$menuButtonContainer).addClass(l),this._toolbar._createComponent(this._$button,r,e)},_menuButtonOptions:function(){return{onClick:this._menuButtonClickHandler.bind(this)}},_menuButtonClickHandler:function(){this._toggleMenu(!this._menuShown,!0)},_renderMenuButtonContainer:function(){var e=this._toolbar._$afterSection;this._$menuButtonContainer=t("<div>").appendTo(e).addClass(this._toolbar._buttonClass()).addClass(a)},renderMenuItems:function(){this._menu&&this._menu.option("items",this._getMenuItems())},toggleMenuVisibility:function(t,e){this._menu&&this._toggleMenu(t,e)},_toggleMenu:function(t){this._menuShown=t},getMenuWidget:function(){return this._menu},widgetOption:function(t,e){this._menu&&this._menu.option(t,e)},handleToolbarVisibilityChange:e});module.exports=_;
},{"../../core/renderer":"qxFQ","../../core/utils/common":"GcQA","../../core/utils/iterator":"FHcO","../../core/errors":"BdzT","../../core/utils/data":"YLhW","../../core/class":"YpjV","../button":"kKaI"}],"Uu0i":[function(require,module,exports) {
"use strict";var e=require("./ui.collection_widget.edit"),r=i(e),t=require("../../core/utils/deferred"),n=require("../../core/utils/common");function i(e){return e&&e.__esModule?e:{default:e}}var s=r.default.inherit({_initMarkup:function(){this._deferredItems=[],this.callBase()},_renderItemContent:function(e){var r=new t.Deferred,n=new t.Deferred;this._deferredItems[e.index]=n;var i=this.callBase.call(this,e);return n.done(function(){r.resolve(i)}),r.promise()},_createItemByTemplate:function(e,r){var t=this;return e.render({model:r.itemData,container:r.container,index:r.index,onRendered:function(){t._deferredItems[r.index].resolve()}})},_postProcessRenderItems:n.noop,_renderItemsAsync:function(){var e=this,r=new t.Deferred;return t.when.apply(this,this._deferredItems).done(function(){e._postProcessRenderItems(),r.resolve()}),r.promise()},_clean:function(){this.callBase(),this._deferredItems=[]}});module.exports=s;
},{"./ui.collection_widget.edit":"IZYs","../../core/utils/deferred":"g5TB","../../core/utils/common":"GcQA"}],"l9ft":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=C(t),i=require("../themes"),n=C(i),o=require("../../core/utils/common"),a=C(o),r=require("../../core/utils/type"),s=require("../../core/component_registrator"),l=C(s),d=require("../../core/utils/array"),h=require("../../core/utils/extend"),u=require("../../core/utils/iterator"),c=require("../collection/ui.collection_widget.async"),m=C(c),f=require("../../core/polyfills/promise"),_=C(f),p=require("../../core/templates/bindable_template"),g=require("../../animation/fx"),b=C(g);function C(t){return t&&t.__esModule?t:{default:t}}var v="dx-toolbar",x="dx-toolbar-before",I="dx-toolbar-center",w="dx-toolbar-after",y="dx-toolbar-bottom",B="dx-toolbar-mini",$="dx-toolbar-item",S="dx-toolbar-label",T="dx-toolbar-button",M="dx-toolbar-items-container",W="dx-toolbar-group",q="dx-toolbar-compact",A="."+S,F="text",L="default",P="dxToolbarItemDataKey",k=m.default.inherit({compactMode:!1,ctor:function(t,e){this._userOptions=e||{},this.callBase(t,e)},_getSynchronizableOptionsForCreateComponent:function(){return this.callBase().filter(function(t){return"disabled"!==t})},_initTemplates:function(){this.callBase();var t=new p.BindableTemplate(function(t,e,i){(0,r.isPlainObject)(e)?(e.text&&t.text(e.text).wrapInner("<div>"),e.html&&t.html(e.html),"dxButton"===e.widget&&(this.option("useFlatButtons")&&(e.options=e.options||{},e.options.stylingMode=e.options.stylingMode||F),this.option("useDefaultButtons")&&(e.options=e.options||{},e.options.type=e.options.type||L))):t.text(String(e)),this._getTemplate("dx-polymorph-widget").render({container:t,model:i,parent:this})}.bind(this),["text","html","widget","options"],this.option("integrationOptions.watchMethod"));this._defaultTemplates.item=t,this._defaultTemplates.menuItem=t},_getDefaultOptions:function(){return(0,h.extend)(this.callBase(),{renderAs:"topToolbar",grouped:!1,useFlatButtons:!1,useDefaultButtons:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return n.default.isMaterial()},options:{useFlatButtons:!0}}])},_itemContainer:function(){return this._$toolbarItemsContainer.find(["."+x,"."+I,"."+w].join(","))},_itemClass:function(){return $},_itemDataKey:function(){return P},_buttonClass:function(){return T},_dimensionChanged:function(){this._arrangeItems(),this._applyCompactMode()},_initMarkup:function(){this._renderToolbar(),this._renderSections(),this.callBase(),this.setAria("role","toolbar")},_waitParentAnimationFinished:function(){var t=this,i=this.$element();return new _.default(function(n){!function o(){clearTimeout(t._waitParentAnimationTimeout),t._waitParentAnimationTimeout=setTimeout(function(){return t=!0,i.parents().each(function(i,n){if(b.default.isAnimating((0,e.default)(n)))return t=!1,!1}),t&&n(),t||o();var t},15)}()})},_render:function(){this.callBase(),this._renderItemsAsync(),n.default.isMaterial()&&_.default.all([this._waitParentAnimationFinished(),this._checkWebFontForLabelsLoaded()]).then(this._dimensionChanged.bind(this))},_postProcessRenderItems:function(){this._arrangeItems()},_renderToolbar:function(){this.$element().addClass(v).toggleClass(y,"bottomToolbar"===this.option("renderAs")),this._$toolbarItemsContainer=(0,e.default)("<div>").addClass(M).appendTo(this.$element())},_renderSections:function(){var t=this._$toolbarItemsContainer,i=this;(0,u.each)(["before","center","after"],function(){var n="dx-toolbar-"+this,o=t.find("."+n);o.length||(i["_$"+this+"Section"]=o=(0,e.default)("<div>").addClass(n).appendTo(t))})},_checkWebFontForLabelsLoaded:function(){var t=this.$element().find(A),i=[];return t.each(function(t,o){var a=(0,e.default)(o).text(),r=(0,e.default)(o).css("fontWeight");i.push(n.default.waitWebFont(a,r))}),_.default.all(i)},_arrangeItems:function(t){t=t||this.$element().width(),this._$centerSection.css({margin:"0 auto",float:"none"});var i=this._$beforeSection.get(0).getBoundingClientRect(),n=this._$afterSection.get(0).getBoundingClientRect();this._alignCenterSection(i,n,t);var o=this._$toolbarItemsContainer.find(A).eq(0),a=o.parent();if(o.length){var r=i.width?i.width:o.position().left,s=a.hasClass(x)?0:r,l=a.hasClass(w)?0:n.width,d=0;a.children().not(A).each(function(){d+=(0,e.default)(this).outerWidth()});var h=t-d,u=Math.max(h-s-l,0);if(a.hasClass(x))this._alignSection(this._$beforeSection,u);else{var c=o.outerWidth()-o.width();o.css("maxWidth",u-c)}}},_alignCenterSection:function(t,e,i){this._alignSection(this._$centerSection,i-t.width-e.width);var n=this.option("rtlEnabled"),o=n?e:t,a=n?t:e,r=this._$centerSection.get(0).getBoundingClientRect();(o.right>r.left||r.right>a.left)&&this._$centerSection.css({marginLeft:o.width,marginRight:a.width,float:o.width>a.width?"none":"right"})},_alignSection:function(t,e){var i=t.find(A).toArray();e-=this._getCurrentLabelsPaddings(i);var n=this._getCurrentLabelsWidth(i),o=Math.abs(n-e);e<n?(i=i.reverse(),this._alignSectionLabels(i,o,!1)):this._alignSectionLabels(i,o,!0)},_alignSectionLabels:function(t,i,n){for(var o=function(t){return t.getBoundingClientRect().width},a=0;a<t.length;a++){var r,s=(0,e.default)(t[a]),l=Math.ceil(o(t[a]));n&&s.css("maxWidth","inherit");var d=Math.ceil(n?o(t[a]):l);if(!(d<i)){r=n?l+i:l-i,s.css("maxWidth",r);break}r=n?d:0,i-=d,s.css("maxWidth",r)}},_applyCompactMode:function(){var t=this.$element();t.removeClass(q),this.option("compactMode")&&this._getSummaryItemsWidth(this.itemElements(),!0)>t.width()&&t.addClass(q)},_getCurrentLabelsWidth:function(t){var i=0;return t.forEach(function(t,n){i+=(0,e.default)(t).outerWidth()}),i},_getCurrentLabelsPaddings:function(t){var i=0;return t.forEach(function(t,n){i+=(0,e.default)(t).outerWidth()-(0,e.default)(t).width()}),i},_renderItem:function(t,e,i,n){var o=e.location||"center",a=i||this["_$"+o+"Section"],r=!(!e.text&&!e.html),s=this.callBase(t,e,a,n);return s.toggleClass(this._buttonClass(),!r).toggleClass(S,r).addClass(e.cssClass),s},_renderGroupedItems:function(){var t=this;(0,u.each)(this.option("items"),function(i,n){var o=n.items,a=(0,e.default)("<div>").addClass(W),r=n.location||"center";o&&o.length&&((0,u.each)(o,function(e,i){t._renderItem(e,i,a,null)}),t._$toolbarItemsContainer.find(".dx-toolbar-"+r).append(a))})},_renderItems:function(t){this.option("grouped")&&t.length&&t[0].items?this._renderGroupedItems():this.callBase(t)},_getToolbarItems:function(){return this.option("items")||[]},_renderContentImpl:function(){var t=this._getToolbarItems();this.$element().toggleClass(B,0===t.length),this._renderedItemsCount?this._renderItems(t.slice(this._renderedItemsCount)):this._renderItems(t),this._applyCompactMode()},_renderEmptyMessage:a.default.noop,_clean:function(){this._$toolbarItemsContainer.children().empty(),this.$element().empty()},_visibilityChanged:function(t){t&&this._arrangeItems()},_isVisible:function(){return this.$element().width()>0&&this.$element().height()>0},_getIndexByItem:function(t){return(0,d.inArray)(t,this._getToolbarItems())},_itemOptionChanged:function(t,e,i){this.callBase.apply(this,[t,e,i]),this._arrangeItems()},_optionChanged:function(t){switch(t.name){case"width":this.callBase.apply(this,arguments),this._dimensionChanged();break;case"renderAs":case"useFlatButtons":case"useDefaultButtons":this._invalidate();break;case"compactMode":this._applyCompactMode();break;case"grouped":break;default:this.callBase.apply(this,arguments)}},_dispose:function(){this.callBase(),clearTimeout(this._waitParentAnimationTimeout)}});(0,l.default)("dxToolbarBase",k),module.exports=k;
},{"../../core/renderer":"qxFQ","../themes":"k2ha","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/component_registrator":"g3fO","../../core/utils/array":"uivT","../../core/utils/extend":"ac8T","../../core/utils/iterator":"FHcO","../collection/ui.collection_widget.async":"Uu0i","../../core/polyfills/promise":"pHLT","../../core/templates/bindable_template":"pNX9","../../animation/fx":"qxJT"}],"DU0r":[function(require,module,exports) {
"use strict";var t=require("../core/renderer"),e=require("../core/utils/window").getWindow(),o=require("../animation/translator"),i=require("../core/utils/inflector").camelize,n=require("../core/utils/common").noop,r=require("../core/utils/dom").getPublicElement,s=require("../core/utils/iterator").each,a=require("../core/utils/type").isDefined,l=require("../core/utils/array").inArray,c=require("../core/utils/extend").extend,u=require("../core/utils/browser"),h=require("../core/utils/version").compare,p=require("../localization/message"),d=require("../core/devices"),f=require("../core/component_registrator"),_=require("./button"),g=require("./themes"),m=require("./overlay"),b=require("../core/templates/empty_template").EmptyTemplate,v=require("../core/utils/dom"),C=require("../core/utils/size"),y=require("../core/utils/window");require("./toolbar/ui.toolbar.base");var T="dx-popup",B="dx-popup-wrapper",x="dx-popup-fullscreen",w="dx-popup-fullscreen-width",$="dx-popup-normal",A="dx-popup-content",S="dx-popup-draggable",H="dx-popup-title",q="dx-closebutton",R="dx-popup-bottom",O="dx-template-wrapper",I="dx-popup-flex-height",k="dx-popup-inherit-height",E=["cancel","clear","done"],F="default",z="normal",V="text",D="contained",P=u.msie&&11===parseInt(u.version),W=u.safari&&h(u.version,[11])<0,G={static:"",inherit:k,flex:I},M=function(t){var e=d.current(),o=e.platform,i="bottom",n="before";if("ios"===o)switch(t){case"cancel":i="top";break;case"clear":i="top",n="after";break;case"done":n="after"}else if("android"===o&&e.version&&parseInt(e.version[0])>4)switch(t){case"cancel":n="after";break;case"done":n="after"}else"android"===o&&(n="center");return{toolbar:i,location:n}},K=m.inherit({_getDefaultOptions:function(){return c(this.callBase(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragEnabled:!1,toolbarItems:[],showCloseButton:!1,bottomTemplate:"bottom",useDefaultToolbarButtons:!1,useFlatToolbarButtons:!1,autoResizeEnabled:!0})},_defaultOptionsRules:function(){var t=g.current();return this.callBase().concat([{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"android"},options:{animation:this._androidAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:function(t){return"desktop"===d.real().deviceType&&"generic"===t.platform},options:{dragEnabled:!0}},{device:function(){return"desktop"===d.real().deviceType&&!d.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return g.isMaterial(t)},options:{useDefaultToolbarButtons:!0,useFlatToolbarButtons:!0}}])},_iosAnimation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}},_androidAnimation:function(){return this.option("fullScreen")?{show:{type:"slide",duration:300,from:{top:"30%",opacity:0},to:{top:0,opacity:1}},hide:{type:"slide",duration:300,from:{top:0,opacity:1},to:{top:"30%",opacity:0}}}:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}}},_init:function(){this.callBase(),this.$element().addClass(T),this._wrapper().addClass(B),this._$popupContent=this._$content.wrapInner(t("<div>").addClass(A)).children().eq(0)},_render:function(){var t=this.option("fullScreen");this._toggleFullScreenClass(t),this.callBase()},_toggleFullScreenClass:function(t){this._$content.toggleClass(x,t).toggleClass($,!t)},_initTemplates:function(){this.callBase(),this._defaultTemplates.title=new b,this._defaultTemplates.bottom=new b},_renderContentImpl:function(){this._renderTitle(),this.callBase(),this._renderBottom()},_renderTitle:function(){var e=this._getToolbarItems("top"),o=this.option("title"),i=this.option("showTitle");if(i&&o&&e.unshift({location:d.current().ios?"center":"before",text:o}),i||e.length>0){this._$title&&this._$title.remove();var n=t("<div>").addClass(H).insertBefore(this.$content());this._$title=this._renderTemplateByType("titleTemplate",e,n).addClass(H),this._renderDrag(),this._executeTitleRenderAction(this._$title)}else this._$title&&this._$title.detach()},_renderTemplateByType:function(e,o,i,n){var s=this._getTemplateByOption(e);if(s instanceof b){var a=c(n,{items:o,rtlEnabled:this.option("rtlEnabled"),useDefaultButtons:this.option("useDefaultToolbarButtons"),useFlatButtons:this.option("useFlatToolbarButtons")});this._getTemplate("dx-polymorph-widget").render({container:i,model:{widget:"dxToolbarBase",options:a}});var l=i.children("div");return i.replaceWith(l),l}var u=t(s.render({container:r(i)}));return u.hasClass(O)&&(i.replaceWith(u),i=u),i},_executeTitleRenderAction:function(t){this._getTitleRenderAction()({titleElement:r(t)})},_getTitleRenderAction:function(){return this._titleRenderAction||this._createTitleRenderAction()},_createTitleRenderAction:function(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["disabled","readOnly"]})},_getCloseButton:function(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}},_getCloseButtonRenderer:function(){return function(e,o,i){var n=t("<div>").addClass(q);this._createComponent(n,_,{icon:"close",onClick:this._createToolbarItemAction(void 0),integrationOptions:{}}),t(i).append(n)}.bind(this)},_getToolbarItems:function(t){var e=this.option("toolbarItems"),o=[];this._toolbarItemClasses=[];var i=d.current().platform,n=0;return s(e,function(e,r){var s=a(r.shortcut),l=s?M(r.shortcut):r;if(s&&"ios"===i&&n<2&&(l.toolbar="top",n++),l.toolbar=r.toolbar||l.toolbar||"top",l&&l.toolbar===t){s&&c(l,{location:r.location},this._getToolbarItemByAlias(r));var u="generic"===i;"done"===r.shortcut&&u||"cancel"===r.shortcut&&!u?o.unshift(l):o.push(l)}}.bind(this)),"top"===t&&this.option("showCloseButton")&&this.option("showTitle")&&o.push(this._getCloseButton()),o},_getLocalizationKey:function(t){return"done"===t.toLowerCase()?"OK":i(t,!0)},_getToolbarItemByAlias:function(e){var o=this,i=e.shortcut;if(l(i,E)<0)return!1;var n=c({text:p.format(this._getLocalizationKey(i)),onClick:this._createToolbarItemAction(e.onClick),integrationOptions:{},type:o.option("useDefaultToolbarButtons")?F:z,stylingMode:o.option("useFlatToolbarButtons")?V:D},e.options||{}),r=T+"-"+i;return this._toolbarItemClasses.push(r),{template:function(e,i,s){var a=t("<div>").addClass(r).appendTo(s);o._createComponent(a,_,n)}}},_createToolbarItemAction:function(t){return this._createAction(t,{afterExecute:function(t){t.component.hide()}})},_renderBottom:function(){var e=this._getToolbarItems("bottom");if(e.length){this._$bottom&&this._$bottom.remove();var o=t("<div>").addClass(R).insertAfter(this.$content());this._$bottom=this._renderTemplateByType("bottomTemplate",e,o,{compactMode:!0}).addClass(R),this._toggleClasses()}else this._$bottom&&this._$bottom.detach()},_toggleClasses:function(){s(E,function(t,e){var o=T+"-"+e;l(o,this._toolbarItemClasses)>=0?(this._wrapper().addClass(o+"-visible"),this._$bottom.addClass(o)):(this._wrapper().removeClass(o+"-visible"),this._$bottom.removeClass(o))}.bind(this))},_getContainer:function(){return this.option("fullScreen")?t(e):this.callBase()},_getDragTarget:function(){return this.topToolbar()},_renderGeometryImpl:function(t){t||this._resetContentHeight(),this.callBase.apply(this,arguments),this._setContentHeight()},_resetContentHeight:function(){this._$popupContent.css({height:"auto"})},_renderDrag:function(){this.callBase(),this._$content.toggleClass(S,this.option("dragEnabled"))},_renderResize:function(){this.callBase(),this._resizable.option("onResize",function(){this._setContentHeight(),this._actions.onResize(arguments)}.bind(this))},_setContentHeight:function(){(this.option("forceApplyBindings")||n)();var t=this.overlayContent().get(0),e=this._chooseHeightStrategy(t);this.$content().css(this._getHeightCssStyles(e,t)),this._setHeightClasses(this.overlayContent(),e)},_heightStrategyChangeOffset:function(t,e){return t===G.flex?-e:0},_chooseHeightStrategy:function(t){var e="auto"===t.style.width||""===t.style.width,o=G.static;return this._isAutoHeight()&&this.option("autoResizeEnabled")&&(e||W?P||(o=G.inherit):o=G.flex),o},_getHeightCssStyles:function(e,o){var i={},n=this._getOptionValue("maxHeight",o),r=this._getOptionValue("minHeight",o),s=this._splitPopupHeight(),a=s.header+s.footer+s.contentVerticalOffsets+s.popupVerticalOffsets+this._heightStrategyChangeOffset(e,s.popupVerticalPaddings);if(e===G.static){if(!this._isAutoHeight()||n||r){var l=o.getBoundingClientRect().height-a;i={height:Math.max(0,l),minHeight:"auto",maxHeight:"auto"}}}else{var c=t(this._getContainer()).get(0),u=C.addOffsetToMaxHeight(n,-a,c);i={height:"auto",minHeight:C.addOffsetToMinHeight(r,-a,c),maxHeight:u}}return i},_setHeightClasses:function(t,e){var o="";for(var i in G)G[i]!==e&&(o+=" "+G[i]);t.removeClass(o).addClass(e)},_isAutoHeight:function(){return"auto"===this.overlayContent().get(0).style.height},_splitPopupHeight:function(){var t=this.topToolbar(),e=this.bottomToolbar();return{header:C.getVisibleHeight(t&&t.get(0)),footer:C.getVisibleHeight(e&&e.get(0)),contentVerticalOffsets:C.getVerticalOffsets(this.overlayContent().get(0),!0),popupVerticalOffsets:C.getVerticalOffsets(this.$content().get(0),!0),popupVerticalPaddings:C.getVerticalOffsets(this.$content().get(0),!1)}},_useFixedPosition:function(){return this.callBase()||this.option("fullScreen")},_toggleSafariFullScreen:function(t){this._useFixedPosition()&&t&&!this._isShown?this._bodyScrollTop=t?e.pageYOffset:void 0:this._toggleSafariScrolling(!t)},_renderDimensions:function(){this.option("fullScreen")?this._$content.css({width:"100%",height:"100%"}):this.callBase.apply(this,arguments),y.hasWindow()&&this._renderFullscreenWidthClass()},_renderFullscreenWidthClass:function(){this.overlayContent().toggleClass(w,this.overlayContent().outerWidth()===t(e).width())},refreshPosition:function(){this._renderPosition()},_renderPosition:function(){if(!this.option("fullScreen"))return(this.option("forceApplyBindings")||n)(),this.callBase.apply(this,arguments);o.move(this._$content,{top:0,left:0})},_optionChanged:function(t){switch(t.name){case"showTitle":case"title":case"titleTemplate":this._renderTitle(),this._renderGeometry();break;case"bottomTemplate":this._renderBottom(),this._renderGeometry();break;case"onTitleRendered":this._createTitleRenderAction(t.value);break;case"toolbarItems":case"useDefaultToolbarButtons":case"useFlatToolbarButtons":var e=!t.fullName.match(/^toolbarItems((\[\d+\])(\.(options|visible).*)?)?$/);this._renderTitle(),this._renderBottom(),e&&this._renderGeometry();break;case"dragEnabled":this._renderDrag();break;case"autoResizeEnabled":this._renderGeometry(),v.triggerResizeEvent(this._$content);break;case"fullScreen":this._toggleFullScreenClass(t.value),this._toggleSafariFullScreen(t.value),this._renderGeometry(),v.triggerResizeEvent(this._$content);break;case"showCloseButton":this._renderTitle();break;default:this.callBase(t)}},bottomToolbar:function(){return this._$bottom},topToolbar:function(){return this._$title},$content:function(){return this._$popupContent},content:function(){return r(this._$popupContent)},overlayContent:function(){return this._$content}});f("dxPopup",K),module.exports=K,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../core/utils/window":"NXH3","../animation/translator":"IRTp","../core/utils/inflector":"i2nR","../core/utils/common":"GcQA","../core/utils/dom":"vDwZ","../core/utils/iterator":"FHcO","../core/utils/type":"Mw4w","../core/utils/array":"uivT","../core/utils/extend":"ac8T","../core/utils/browser":"nlvS","../core/utils/version":"Dkvf","../localization/message":"Njcj","../core/devices":"LpzF","../core/component_registrator":"g3fO","./button":"kKaI","./themes":"k2ha","./overlay":"byva","../core/templates/empty_template":"pCBV","../core/utils/size":"v9LC","./toolbar/ui.toolbar.base":"l9ft"}],"fJhL":[function(require,module,exports) {
"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=require("../core/renderer"),e=require("../core/utils/window"),o=e.getWindow(),n=require("../core/utils/dom").getPublicElement,s=require("../core/dom_adapter"),r=require("../events/core/events_engine"),a=require("../core/component_registrator"),h=require("../core/utils/common"),l=require("../core/utils/extend").extend,p=require("../core/utils/browser"),c=require("../animation/translator"),u=require("../animation/position"),d=require("../core/utils/type"),f=require("../core/utils/math"),_=require("../events/utils"),v=require("./popup"),g="dx-popover",m="dx-popover-wrapper",w="dx-popover-arrow",b="dx-popover-without-title",y={left:"right",top:"bottom",right:"left",bottom:"top",center:"center"},S={left:-1,top:-1,center:0,right:1,bottom:1},C={top:{my:"bottom center",at:"top center",collision:"fit flip"},bottom:{my:"top center",at:"bottom center",collision:"fit flip"},right:{my:"left center",at:"right center",collision:"flip fit"},left:{my:"right center",at:"left center",collision:"flip fit"}},$={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},P=p.mozilla,O=function(t,i){var e=t.option(i);return E(e)},E=function(t){return d.isObject(t)?t.name:t},B=function(t,i){var e=t.option(i);return d.isObject(e)&&e.delay},z=function(t,e){var o,a,h,l,p=t.option("target"),c=d.isString(p),u=O(t,e+"Event");if(u&&!t.option("disabled")){l=_.addNamespace(u,t.NAME),a=t._createAction(function(){o=B(t,e+"Event"),this._clearEventsTimeouts(),o?this._timeouts[e]=setTimeout(function(){t[e]()},o):t[e]()}.bind(t),{validatingTargetName:"target"}),h=function(t){a({event:t,target:i(t.currentTarget)})};var f="_"+e+"EventHandler";if(c)t[f]=h,r.on(s.getDocument(),l,p,h);else{var v=n(i(p));t[f]=void 0,r.on(v,l,h)}}},x=function(t,e,o,a){var h=a||O(t,o+"Event");if(h){h=_.addNamespace(h,t.NAME);var l="_"+o+"EventHandler";t[l]?r.off(s.getDocument(),h,e,t[l]):r.off(n(i(e)),h)}},T=v.inherit({_getDefaultOptions:function(){return l(this.callBase(),{target:o,shading:!1,position:"bottom",closeOnOutsideClick:!0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",to:0}},showTitle:!1,width:"auto",height:"auto",dragEnabled:!1,resizeEnabled:!1,fullScreen:!1,closeOnTargetScroll:!0,arrowPosition:"",arrowOffset:0,boundaryOffset:{h:10,v:10}})},_defaultOptionsRules:function(){return[{device:{platform:"ios"},options:{arrowPosition:{boundaryOffset:{h:20,v:-10},collision:"fit"}}},{device:function(){return!e.hasWindow()},options:{animation:null}}]},_init:function(){this.callBase(),this._renderArrow(),this._timeouts={},this.$element().addClass(g),this._wrapper().addClass(m)},_render:function(){this.callBase.apply(this,arguments),this._detachEvents(this.option("target")),this._attachEvents()},_detachEvents:function(t){x(this,t,"show"),x(this,t,"hide")},_attachEvents:function(){z(this,"show"),z(this,"hide")},_renderArrow:function(){this._$arrow=i("<div>").addClass(w).prependTo(this.overlayContent())},_documentDownHandler:function(t){return!this._isOutsideClick(t)||this.callBase(t)},_isOutsideClick:function(t){return!i(t.target).closest(this.option("target")).length},_animate:function(i){i&&i.to&&"object"===t(i.to)&&l(i.to,{position:this._getContainerPosition()}),this.callBase.apply(this,arguments)},_stopAnimation:function(){this.callBase.apply(this,arguments)},_renderTitle:function(){this._wrapper().toggleClass(b,!this.option("showTitle")),this.callBase()},_renderPosition:function(){this.callBase(),this._renderOverlayPosition()},_renderOverlayBoundaryOffset:h.noop,_renderOverlayPosition:function(){this._resetOverlayPosition(),this._updateContentSize();var t=this._getContainerPosition(),i=u.setup(this._$content,t),e=this._getSideByLocation(i);this._togglePositionClass("dx-position-"+e),this._toggleFlippedClass(i.h.flip,i.v.flip),(this._isHorizontalSide()||this._isVerticalSide())&&this._renderArrowPosition(e)},_resetOverlayPosition:function(){this._setContentHeight(!0),this._togglePositionClass("dx-position-"+this._positionSide),c.move(this._$content,{left:0,top:0}),this._$arrow.css({top:"auto",right:"auto",bottom:"auto",left:"auto"})},_updateContentSize:function(){if(this._$popupContent){var t=u.calculate(this._$content,this._getContainerPosition());if(t.h.oversize>0&&this._isHorizontalSide()&&!t.h.fit){var i=this._$content.width()-t.h.oversize;this._$content.width(i)}if(t.v.oversize>0&&this._isVerticalSide()&&!t.v.fit){var e=this._$content.height()-t.v.oversize,o=this._$popupContent.height()-t.v.oversize;this._$content.height(e),this._$popupContent.height(o)}}},_getContainerPosition:function(){var t=h.pairToObject(this._position.offset||""),i=t.h,e=t.v,o=this._isVerticalSide(),n=this._isHorizontalSide();if(o||n){var s=(this._isPopoverInside()?-1:1)*S[this._positionSide]*((o?this._$arrow.height():this._$arrow.width())-this._getContentBorderWidth(this._positionSide));o?e+=s:i+=s}return l({},this._position,{offset:i+" "+e})},_getContentBorderWidth:function(t){var i=this._$content.css($[t]);return parseInt(i)||0},_getSideByLocation:function(t){var i=t.v.flip,e=t.h.flip;return this._isVerticalSide()&&i||this._isHorizontalSide()&&e||this._isPopoverInside()?y[this._positionSide]:this._positionSide},_togglePositionClass:function(t){this._$wrapper.removeClass("dx-position-left dx-position-right dx-position-top dx-position-bottom").addClass(t)},_toggleFlippedClass:function(t,i){this._$wrapper.toggleClass("dx-popover-flipped-horizontal",t).toggleClass("dx-popover-flipped-vertical",i)},_renderArrowPosition:function(t){this._$arrow.css(y[t],-(this._isVerticalSide(t)?this._$arrow.height():this._$arrow.width()));var e,o=this._isVerticalSide(t)?"left":"top",n=this._isVerticalSide(t)?"outerWidth":"outerHeight",s=i(this._position.of),r=u.offset(s)||{top:0,left:0},a=u.offset(this._$content),h=this._$arrow[n](),l=a[o],p=this._$content[n](),c=r[o],d=s.get(0).preventDefault?0:s[n](),_=Math.max(l,c),v=Math.min(l+p,c+d);e="start"===this.option("arrowPosition")?_-l:"end"===this.option("arrowPosition")?v-l-h:(_+v)/2-l-h/2;var g=this._getContentBorderWidth(t),m=f.fitIntoRange(e-g+this.option("arrowOffset"),g,p-h-2*g);this._$arrow.css(o,m)},_isPopoverInside:function(){var t=this._transformStringPosition(this.option("position"),C),i=u.setup.normalizeAlign(t.my),e=u.setup.normalizeAlign(t.at);return i.h===e.h&&i.v===e.v},_setContentHeight:function(t){t&&this.callBase()},_renderWrapperPosition:function(){this.option("shading")&&this._$wrapper.css({top:0,left:0})},_renderWrapperDimensions:function(){this.option("shading")&&this._$wrapper.css({width:"100%",height:"100%"})},_normalizePosition:function(){var t=l({},this._transformStringPosition(this.option("position"),C));t.of||(t.of=this.option("target")),t.collision||(t.collision="flip"),t.boundaryOffset||(t.boundaryOffset=this.option("boundaryOffset")),this._positionSide=this._getDisplaySide(t),this._position=t},_getDisplaySide:function(t){var i=u.setup.normalizeAlign(t.my),e=u.setup.normalizeAlign(t.at),o=S[i.h]===S[e.h]&&S[i.v]===S[e.v]?-1:1;return Math.abs(S[i.h]-o*S[e.h])>Math.abs(S[i.v]-o*S[e.v])?e.h:e.v},_resetContentHeight:function(){if(this.callBase(),P){var t=this._$popupContent.css("overflow");this._$popupContent.css("overflow","visible"),this._$popupContent.css("overflow",t)}},_isVerticalSide:function(t){return"top"===(t=t||this._positionSide)||"bottom"===t},_isHorizontalSide:function(t){return"left"===(t=t||this._positionSide)||"right"===t},_clearEventTimeout:function(t){clearTimeout(this._timeouts[t])},_clearEventsTimeouts:function(){this._clearEventTimeout("show"),this._clearEventTimeout("hide")},_clean:function(){this._detachEvents(this.option("target")),this.callBase.apply(this,arguments)},_optionChanged:function(t){switch(t.name){case"boundaryOffset":case"arrowPosition":case"arrowOffset":this._renderGeometry();break;case"fullScreen":t.value&&this.option("fullScreen",!1);break;case"target":t.previousValue&&this._detachEvents(t.previousValue),this.callBase(t);break;case"showEvent":case"hideEvent":var i=t.name.substring(0,4),e=E(t.previousValue);this.hide(),x(this,this.option("target"),i,e),z(this,i);break;case"visible":this._clearEventTimeout(t.value?"show":"hide"),this.callBase(t);break;default:this.callBase(t)}},show:function(t){return t&&this.option("target",t),this.callBase()}});a("dxPopover",T),module.exports=T,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../core/utils/window":"NXH3","../core/utils/dom":"vDwZ","../core/dom_adapter":"RRDy","../events/core/events_engine":"oNrb","../core/component_registrator":"g3fO","../core/utils/common":"GcQA","../core/utils/extend":"ac8T","../core/utils/browser":"nlvS","../animation/translator":"IRTp","../animation/position":"cuhc","../core/utils/type":"Mw4w","../core/utils/math":"Ntiw","../events/utils":"cNvJ","./popup":"DU0r"}],"G6Y4":[function(require,module,exports) {
"use strict";var t=require("../core/renderer"),e=require("../core/utils/window").getWindow(),i=require("../core/utils/common").noop,o=require("../localization/message"),n=require("../core/component_registrator"),s=require("../core/utils/extend").extend,a=require("./button"),r=require("./collection/ui.collection_widget.edit"),p=require("./popup"),c=require("./popover"),l=require("../core/templates/bindable_template").BindableTemplate,h=require("../core/utils/deferred").Deferred,d="dx-actionsheet",u="dx-actionsheet-container",_="dx-actionsheet-popup-wrapper",m="dx-actionsheet-popover-wrapper",f="dx-actionsheet-cancel",C="dx-actionsheet-item",b="dxActionSheetItemData",g="dx-actionsheet-without-title",v=r.inherit({_getDefaultOptions:function(){return s(this.callBase(),{usePopover:!1,target:null,title:"",showTitle:!0,showCancelButton:!0,cancelText:o.format("Cancel"),onCancelClick:null,visible:!1,noDataText:"",focusStateEnabled:!1,selectionByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios",tablet:!0},options:{usePopover:!0}}])},_initTemplates:function(){this.callBase(),this._defaultTemplates.item=new l(function(e,i){var o=new a(t("<div>"),s({onClick:i&&i.click},i));e.append(o.$element())},["disabled","icon","text","type","onClick","click"],this.option("integrationOptions.watchMethod"))},_itemContainer:function(){return this._$itemContainer},_itemClass:function(){return C},_itemDataKey:function(){return b},_toggleVisibility:i,_renderDimensions:i,_initMarkup:function(){this.callBase(),this.$element().addClass(d),this._createItemContainer()},_render:function(){this._renderPopup()},_createItemContainer:function(){this._$itemContainer=t("<div>").addClass(u),this._renderDisabled()},_renderDisabled:function(){this._$itemContainer.toggleClass("dx-state-disabled",this.option("disabled"))},_renderPopup:function(){this._$popup=t("<div>").appendTo(this.$element()),this._isPopoverMode()?this._createPopover():this._createPopup(),this._renderPopupTitle(),this._mapPopupOption("visible")},_mapPopupOption:function(t){this._popup&&this._popup.option(t,this.option(t))},_isPopoverMode:function(){return this.option("usePopover")&&this.option("target")},_renderPopupTitle:function(){this._mapPopupOption("showTitle"),this._popup&&this._popup._wrapper().toggleClass(g,!this.option("showTitle"))},_clean:function(){this._$popup&&this._$popup.remove(),this.callBase()},_overlayConfig:function(){return{onInitialized:function(t){this._popup=t.component}.bind(this),disabled:!1,showTitle:!0,title:this.option("title"),deferRendering:!e.angular,onContentReady:this._popupContentReadyAction.bind(this),onHidden:this.hide.bind(this)}},_createPopover:function(){this._createComponent(this._$popup,c,s(this._overlayConfig(),{width:this.option("width")||200,height:this.option("height")||"auto",target:this.option("target")})),this._popup._wrapper().addClass(m)},_createPopup:function(){this._createComponent(this._$popup,p,s(this._overlayConfig(),{dragEnabled:!1,width:this.option("width")||"100%",height:this.option("height")||"auto",showCloseButton:!1,position:{my:"bottom",at:"bottom",of:e},animation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom",of:e}},to:{position:{my:"bottom",at:"bottom",of:e}}},hide:{type:"slide",duration:400,from:{position:{my:"bottom",at:"bottom",of:e}},to:{position:{my:"top",at:"bottom",of:e}}}}})),this._popup._wrapper().addClass(_)},_popupContentReadyAction:function(){this._popup.$content().append(this._$itemContainer),this._attachClickEvent(),this._attachHoldEvent(),this._prepareContent(),this._renderContent(),this._renderCancelButton()},_renderCancelButton:function(){if(!this._isPopoverMode()&&(this._$cancelButton&&this._$cancelButton.remove(),this.option("showCancelButton"))){var e=this._createActionByOption("onCancelClick")||i,o=this;this._$cancelButton=t("<div>").addClass(f).appendTo(this._popup&&this._popup.$content()),this._createComponent(this._$cancelButton,a,{disabled:!1,text:this.option("cancelText"),onClick:function(t){var i={event:t,cancel:!1};e(i),i.cancel||o.hide()},integrationOptions:{}})}},_attachItemClickEvent:i,_itemClickHandler:function(e){this.callBase(e),t(e.target).is(".dx-state-disabled, .dx-state-disabled *")||this.hide()},_itemHoldHandler:function(e){this.callBase(e),t(e.target).is(".dx-state-disabled, .dx-state-disabled *")||this.hide()},_optionChanged:function(t){switch(t.name){case"width":case"height":case"visible":case"title":this._mapPopupOption(t.name);break;case"disabled":this._renderDisabled();break;case"showTitle":this._renderPopupTitle();break;case"showCancelButton":case"onCancelClick":case"cancelText":this._renderCancelButton();break;case"target":case"usePopover":case"items":this._invalidate();break;default:this.callBase(t)}},toggle:function(t){var e=this,i=new h;return e._popup.toggle(t).done(function(){e.option("visible",t),i.resolveWith(e)}),i.promise()},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)}});n("dxActionSheet",v),module.exports=v,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../core/utils/window":"NXH3","../core/utils/common":"GcQA","../localization/message":"Njcj","../core/component_registrator":"g3fO","../core/utils/extend":"ac8T","./button":"kKaI","./collection/ui.collection_widget.edit":"IZYs","./popup":"DU0r","./popover":"fJhL","../core/templates/bindable_template":"pNX9","../core/utils/deferred":"g5TB"}],"vBzD":[function(require,module,exports) {
"use strict";var t=require("./ui.toolbar.strategy"),e=require("../../core/utils/extend").extend,n=require("../action_sheet"),i=t.inherit({NAME:"actionSheet",_getMenuItemTemplate:function(){return this._toolbar._getTemplate("actionSheetItem")},render:function(){this._hasVisibleMenuItems()&&this.callBase()},_menuWidgetClass:function(){return n},_menuContainer:function(){return this._toolbar.$element()},_widgetOptions:function(){return e({},this.callBase(),{target:this._$button,showTitle:!1})},_menuButtonOptions:function(){return e({},this.callBase(),{icon:"overflow"})},_toggleMenu:function(){this.callBase.apply(this,arguments),this._menu.toggle(this._menuShown),this._menuShown=!1}});module.exports=i;
},{"./ui.toolbar.strategy":"iXYJ","../../core/utils/extend":"ac8T","../action_sheet":"G6Y4"}],"yGbt":[function(require,module,exports) {
"use strict";var t=require("./utils"),e=require("./gesture/emitter.gesture"),i=require("./core/emitter_registrator"),a="dxswipestart",s="dxswipe",n="dxswipeend",f={defaultItemSizeFunc:function(){return this.getElement().width()},getBounds:function(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio:function(e){return(t.eventData(e).x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,e)},isFastSwipe:function(e){var i=t.eventData(e);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(i.x-this._tickData.x)>=i.time-this._tickData.time}},r={defaultItemSizeFunc:function(){return this.getElement().height()},getBounds:function(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio:function(e){return(t.eventData(e).y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,e)},isFastSwipe:function(e){var i=t.eventData(e);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(i.y-this._tickData.y)>=i.time-this._tickData.time}},h={horizontal:f,vertical:r},c=e.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor:function(t){this.callBase(t),this.direction="horizontal",this.elastic=!0},_getStrategy:function(){return h[this.direction]},_defaultItemSizeFunc:function(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc:function(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init:function(e){this._tickData=t.eventData(e)},_start:function(e){this._savedEventData=t.eventData(e),(e=this._fireEvent(a,e)).cancel||(this._maxLeftOffset=e.maxLeftOffset,this._maxRightOffset=e.maxRightOffset,this._maxTopOffset=e.maxTopOffset,this._maxBottomOffset=e.maxBottomOffset)},_move:function(e){var i=this._getStrategy(),a=t.eventData(e),n=i.calcOffsetRatio.call(this,e);n=this._fitOffset(n,this.elastic),a.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=a),this._fireEvent(s,e,{offset:n}),e.preventDefault()},_end:function(t){var e=this._getStrategy(),i=e.calcOffsetRatio.call(this,t),a=e.isFastSwipe.call(this,t),s=i,f=this._calcTargetOffset(i,a);s=this._fitOffset(s,this.elastic),f=this._fitOffset(f,!1),this._fireEvent(n,t,{offset:s,targetOffset:f})},_fitOffset:function(t,e){var i=this._getStrategy().getBounds.call(this);return t<-i[0]?e?(-2*i[0]+t)/3:-i[0]:t>i[1]?e?(2*i[1]+t)/3:i[1]:t},_calcTargetOffset:function(t,e){var i;return e?(i=Math.ceil(Math.abs(t)),t<0&&(i=-i)):i=Math.round(t),i}});i({emitter:c,events:[a,s,n]}),exports.swipe=s,exports.start=a,exports.end=n;
},{"./utils":"cNvJ","./gesture/emitter.gesture":"qiE1","./core/emitter_registrator":"IPLR"}],"mLSi":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../collection/item"),i="dx-list-item-badge-container",r="dx-list-item-badge",d="dx-badge",n="dx-list-item-chevron-container",s="dx-list-item-chevron",a=t.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this)),this._startWatcher("showChevron",this._renderShowChevron.bind(this))},_renderBadge:function(t){if(this._$element.children("."+i).remove(),t){var s=e("<div>").addClass(i).append(e("<div>").addClass(r).addClass(d).text(t)),a=this._$element.children("."+n).first();a.length>0?s.insertBefore(a):s.appendTo(this._$element)}},_renderShowChevron:function(t){if(this._$element.children("."+n).remove(),t){var i=e("<div>").addClass(n),r=e("<div>").addClass(s);i.append(r).appendTo(this._$element)}}});module.exports=a;
},{"../../core/renderer":"qxFQ","../collection/item":"Dcm1"}],"LkUu":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=require("../../core/utils/callbacks"),i=require("../../animation/translator"),s=require("./ui.scrollable.native"),o=require("../load_indicator"),l=require("../../core/utils/iterator").each,n=require("../../core/utils/browser"),a=require("../../core/utils/deferred").Deferred,h="dx-scrollview-pull-down-loading",r="dx-scrollview-pull-down-ready",c="dx-scrollview-pull-down-image",_="dx-scrollview-pull-down-indicator",u="dx-scrollview-pull-down-text",d="dx-scrollview-pull-down-text-visible",p=0,f=1,m=2,w=3,D=400,v=s.inherit({_init:function(e){this.callBase(e),this._$topPocket=e._$topPocket,this._$pullDown=e._$pullDown,this._$bottomPocket=e._$bottomPocket,this._$refreshingText=e._$refreshingText,this._$scrollViewContent=t(e.content()),this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=e(),this.releaseCallbacks=e(),this.reachBottomCallbacks=e()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var e=t("<div>").addClass(c),i=t("<div>").addClass(_),s=new o(t("<div>")).$element(),l=this._$pullDownText=t("<div>").addClass(u);this._$pullingDownText=t("<div>").text(this.option("pullingDownText")).appendTo(l),this._$pulledDownText=t("<div>").text(this.option("pulledDownText")).appendTo(l),this._$refreshingText=t("<div>").text(this.option("refreshingText")).appendTo(l),this._$pullDown.empty().append(e).append(i.append(s)).append(l)},_releaseState:function(){this._state=p,this._refreshPullDownText()},_pushBackFromBoundary:function(){this._isLocked()||this._component.isEmpty()||this.callBase()},_refreshPullDownText:function(){var t=this,e=[{element:this._$pullingDownText,visibleState:p},{element:this._$pulledDownText,visibleState:f},{element:this._$refreshingText,visibleState:m}];l(e,function(e,i){var s=t._state===i.visibleState?"addClass":"removeClass";i.element[s](d)})},update:function(){this.callBase(),this._setTopPocketOffset()},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.height(),this._bottomPocketSize=this._$bottomPocket.height(),n.msie?this._scrollOffset=Math.round(100*(this._$container.height()-this._$content.height()))/100:this._scrollOffset=this._$container.height()-this._$content.height()},_allowedDirections:function(){var t=this.callBase();return t.vertical=t.vertical||this._pullDownEnabled,t},_setTopPocketOffset:function(){this._$topPocket.css({top:-this._topPocketSize})},handleEnd:function(){this.callBase(),this._complete()},handleStop:function(){this.callBase(),this._complete()},_complete:function(){this._state===f&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout(function(){this._pullDownRefreshing()}.bind(this),400))},_setPullDownOffset:function(t){i.move(this._$topPocket,{top:t}),i.move(this._$scrollViewContent,{top:t})},handleScroll:function(t){if(this.callBase(t),this._state!==m){var e=this.location().top,i=(this._location||0)-e;this._location=e,this._isPullDown()?this._pullDownReady():i>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isPullDown:function(){return this._pullDownEnabled&&this._location>=this._topPocketSize},_isReachBottom:function(){return n.msie?this._reachBottomEnabled&&this._location-(this._scrollOffset+this._bottomPocketSize)<=.1:this._reachBottomEnabled&&this._location<=this._scrollOffset+this._bottomPocketSize},_reachBottom:function(){this._state!==w&&(this._state=w,this.reachBottomCallbacks.fire())},_pullDownReady:function(){this._state!==f&&(this._state=f,this._$pullDown.addClass(r),this._refreshPullDownText())},_stateReleased:function(){this._state!==p&&(this._$pullDown.removeClass(h).removeClass(r),this._releaseState())},_pullDownRefreshing:function(){this._state!==m&&(this._state=m,this._$pullDown.addClass(h).removeClass(r),this._refreshPullDownText(),this.pullDownCallbacks.fire())},pullDownEnable:function(t){t&&(this._updateDimensions(),this._setTopPocketOffset()),this._pullDownEnabled=t},reachBottomEnable:function(t){this._reachBottomEnabled=t},pendingRelease:function(){this._state=f},release:function(){var t=new a;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._state===w&&(this._state=p),this._releaseTimeout=setTimeout(function(){this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()}.bind(this),D),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}});module.exports=v;
},{"../../core/renderer":"qxFQ","../../core/utils/callbacks":"gtoU","../../animation/translator":"IRTp","./ui.scrollable.native":"lcP1","../load_indicator":"ncdk","../../core/utils/iterator":"FHcO","../../core/utils/browser":"nlvS","../../core/utils/deferred":"g5TB"}],"a72r":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=require("../../core/utils/callbacks"),i=require("../../animation/translator"),s=require("../../events/utils"),l=require("./ui.scrollable.native"),o=require("../load_indicator"),n=require("../../core/utils/deferred").Deferred,a="dx-scrollview-pull-down-loading",h="dx-scrollview-pull-down-indicator",r="dx-scrollview-pull-down-refreshing",c="dx-icon-pulldown",u=0,_=1,d=2,p=4,f=5,w=l.inherit({_init:function(t){this.callBase(t),this._$topPocket=t._$topPocket,this._$bottomPocket=t._$bottomPocket,this._$pullDown=t._$pullDown,this._$scrollViewContent=t.content(),this._initCallbacks(),this._location=0},_initCallbacks:function(){this.pullDownCallbacks=e(),this.releaseCallbacks=e(),this.reachBottomCallbacks=e()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var e=t("<div>").addClass(h),i=new o(t("<div>")).$element();this._$icon=t("<div>").addClass(c),this._$pullDown.empty().append(this._$icon).append(e.append(i))},_releaseState:function(){this._state=u,this._releasePullDown(),this._updateDimensions()},_releasePullDown:function(){this._$pullDown.css({opacity:0})},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.height(),this._bottomPocketSize=this._$bottomPocket.height(),this._scrollOffset=this._$container.height()-this._$content.height()},_allowedDirections:function(){var t=this.callBase();return t.vertical=t.vertical||this._pullDownEnabled,t},handleInit:function(t){this.callBase(t),this._state===u&&0===this._location&&(this._startClientY=s.eventData(t.originalEvent).y,this._state=p)},handleMove:function(t){this.callBase(t),this._deltaY=s.eventData(t.originalEvent).y-this._startClientY,this._state===p&&(this._pullDownEnabled&&this._deltaY>0?this._state=f:this._complete()),this._state===f&&(t.preventDefault(),this._movePullDown())},_movePullDown:function(){var t=this._getPullDownHeight(),e=Math.min(3*t,this._deltaY+this._getPullDownStartPosition()),s=180*e/t/3;this._$pullDown.css({opacity:1}).toggleClass(r,e<t),i.move(this._$pullDown,{top:e}),this._$icon.css({transform:"rotate("+s+"deg)"})},_isPullDown:function(){return this._pullDownEnabled&&this._state===f&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()},_getPullDownHeight:function(){return Math.round(.05*this._$element.outerHeight())},_getPullDownStartPosition:function(){return-Math.round(1.5*this._$pullDown.outerHeight())},handleEnd:function(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()},handleStop:function(){this._complete()},_complete:function(){this._state!==p&&this._state!==f||this._releaseState()},handleScroll:function(t){if(this.callBase(t),this._state!==d){var e=this.location().top,i=this._location-e;this._location=e,i>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isReachBottom:function(){return this._reachBottomEnabled&&this._location<=this._scrollOffset+this._bottomPocketSize},_reachBottom:function(){this.reachBottomCallbacks.fire()},_stateReleased:function(){this._state!==u&&(this._$pullDown.removeClass(a),this._releaseState())},_pullDownRefreshing:function(){this._state=d,this._pullDownRefreshHandler()},_pullDownRefreshHandler:function(){this._refreshPullDown(),this.pullDownCallbacks.fire()},_refreshPullDown:function(){this._$pullDown.addClass(a),i.move(this._$pullDown,{top:this._getPullDownHeight()})},pullDownEnable:function(t){this._$topPocket.toggle(t),this._pullDownEnabled=t},reachBottomEnable:function(t){this._reachBottomEnabled=t},pendingRelease:function(){this._state=_},release:function(){var t=new n;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout(function(){this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()}.bind(this),800),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}});module.exports=w;
},{"../../core/renderer":"qxFQ","../../core/utils/callbacks":"gtoU","../../animation/translator":"IRTp","../../events/utils":"cNvJ","./ui.scrollable.native":"lcP1","../load_indicator":"ncdk","../../core/utils/deferred":"g5TB"}],"HUwu":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=require("../../core/utils/callbacks"),i=require("../../core/utils/iterator").each,s=require("../../core/utils/common"),o=require("../../core/utils/extend").extend,l=Math,n=require("./ui.scrollable.simulated"),a=require("../load_indicator"),h="dx-scrollview-pull-down-loading",r="dx-scrollview-pull-down-ready",c="dx-scrollview-pull-down-image",_="dx-scrollview-pull-down-indicator",u="dx-scrollview-pull-down-text",d="dx-scrollview-pull-down-text-visible",p=0,f=1,m=2,w=3,b=n.Scroller.inherit({ctor:function(){this._topPocketSize=0,this.callBase.apply(this,arguments),this._initCallbacks(),this._releaseState()},_releaseState:function(){this._state=p,this._refreshPullDownText()},_refreshPullDownText:function(){var t=this,e=[{element:this._$pullingDownText,visibleState:p},{element:this._$pulledDownText,visibleState:f},{element:this._$refreshingText,visibleState:m}];i(e,function(e,i){var s=t._state===i.visibleState?"addClass":"removeClass";i.element[s](d)})},_initCallbacks:function(){this.pullDownCallbacks=e(),this.releaseCallbacks=e(),this.reachBottomCallbacks=e()},_updateBounds:function(){var t="horizontal"!==this._direction;this._topPocketSize=t?Math.round(this._$topPocket[this._dimension]()):0,this._bottomPocketSize=t?Math.round(this._$bottomPocket[this._dimension]()):0,this.callBase(),this._bottomBound=this._minOffset+this._bottomPocketSize},_updateScrollbar:function(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize,scaleRatio:this._getScaleRatio()})},_moveContent:function(){this.callBase(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():this._state!==p&&this._stateReleased()},_moveScrollbar:function(){this._scrollbar.moveTo(this._topPocketSize+this._location)},_isPullDown:function(){return this._pullDownEnabled&&this._location>=0},_isReachBottom:function(){return this._reachBottomEnabled&&this._location<=this._bottomBound},_scrollComplete:function(){this._inBounds()&&this._state===f?this._pullDownRefreshing():this._inBounds()&&this._state===w?this._reachBottomLoading():this.callBase()},_reachBottomReady:function(){this._state!==w&&(this._state=w,this._minOffset=this._getMinOffset())},_getMaxOffset:function(){return-this._topPocketSize},_getMinOffset:function(){return l.min(this.callBase(),-this._topPocketSize)},_reachBottomLoading:function(){this.reachBottomCallbacks.fire()},_pullDownReady:function(){this._state!==f&&(this._state=f,this._maxOffset=0,this._$pullDown.addClass(r),this._refreshPullDownText())},_stateReleased:function(){this._state!==p&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass(h).removeClass(r),this.releaseCallbacks.fire())},_pullDownRefreshing:function(){this._state!==m&&(this._state=m,this._$pullDown.addClass(h).removeClass(r),this._refreshPullDownText(),this.pullDownCallbacks.fire())},_releaseHandler:function(){return this._state===p&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=s.executeAsync(this._release.bind(this)),this._releaseTask.promise},_release:function(){this._stateReleased(),this._scrollComplete()},_reachBottomEnablingHandler:function(t){this._reachBottomEnabled!==t&&(this._reachBottomEnabled=t,this._updateBounds())},_pullDownEnablingHandler:function(t){this._pullDownEnabled!==t&&(this._pullDownEnabled=t,this._considerTopPocketChange(),this._updateHandler())},_considerTopPocketChange:function(){this._location-=this._$topPocket.height()||-this._topPocketSize,this._maxOffset=0,this._move()},_pendingReleaseHandler:function(){this._state=f},dispose:function(){this._releaseTask&&this._releaseTask.abort(),this.callBase()}}),k=n.SimulatedStrategy.inherit({_init:function(t){this.callBase(t),this._$pullDown=t._$pullDown,this._$topPocket=t._$topPocket,this._$bottomPocket=t._$bottomPocket,this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=e(),this.releaseCallbacks=e(),this.reachBottomCallbacks=e()},render:function(){this._renderPullDown(),this.callBase()},_renderPullDown:function(){var e=t("<div>").addClass(c),i=t("<div>").addClass(_),s=new a(t("<div>")).$element(),o=this._$pullDownText=t("<div>").addClass(u);this._$pullingDownText=t("<div>").text(this.option("pullingDownText")).appendTo(o),this._$pulledDownText=t("<div>").text(this.option("pulledDownText")).appendTo(o),this._$refreshingText=t("<div>").text(this.option("refreshingText")).appendTo(o),this._$pullDown.empty().append(e).append(i.append(s)).append(o)},pullDownEnable:function(t){this._eventHandler("pullDownEnabling",t)},reachBottomEnable:function(t){this._eventHandler("reachBottomEnabling",t)},_createScroller:function(t){var e=this,i=e._scrollers[t]=new b(e._scrollerOptions(t));i.pullDownCallbacks.add(function(){e.pullDownCallbacks.fire()}),i.releaseCallbacks.add(function(){e.releaseCallbacks.fire()}),i.reachBottomCallbacks.add(function(){e.reachBottomCallbacks.fire()})},_scrollerOptions:function(t){return o(this.callBase(t),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})},pendingRelease:function(){this._eventHandler("pendingRelease")},release:function(){return this._eventHandler("release").done(this._updateAction)},location:function(){var t=this.callBase();return t.top+=this._$topPocket.height(),t},dispose:function(){i(this._scrollers,function(){this.dispose()}),this.callBase()}});module.exports=k;
},{"../../core/renderer":"qxFQ","../../core/utils/callbacks":"gtoU","../../core/utils/iterator":"FHcO","../../core/utils/common":"GcQA","../../core/utils/extend":"ac8T","./ui.scrollable.simulated":"WzLf","../load_indicator":"ncdk"}],"QMC9":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=require("../../core/devices"),i=require("../../core/utils/window"),n=require("../../localization/message"),o=require("../../core/component_registrator"),a=require("../../core/utils/dom").getPublicElement,s=require("../../core/utils/extend").extend,l=require("../../core/utils/common").noop,r=require("./ui.scroll_view.native.pull_down"),h=require("./ui.scroll_view.native.swipe_down"),c=require("./ui.scroll_view.simulated"),d=require("./ui.scrollable"),u=require("../load_indicator"),_=require("./../themes"),p=require("../load_panel"),g="dx-scrollview",f=g+"-content",m=g+"-top-pocket",w=g+"-bottom-pocket",B=g+"-pull-down",D=g+"-scrollbottom",x=D+"-indicator",b=D+"-text",v=g+"-loadpanel",y={pullDown:r,swipeDown:h,simulated:c},T=!i.hasWindow(),P={finishLoading:l,release:l,refresh:l,_optionChanged:function(t){if("onUpdated"!==t.name)return this.callBase.apply(this,arguments)}},$=d.inherit(T?P:{_getDefaultOptions:function(){return s(this.callBase(),{pullingDownText:n.format("dxScrollView-pullingDownText"),pulledDownText:n.format("dxScrollView-pulledDownText"),refreshingText:n.format("dxScrollView-refreshingText"),reachBottomText:n.format("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"android"===e.real().platform},options:{refreshStrategy:"swipeDown"}},{device:function(){return _.isMaterial()},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",reachBottomText:""}}])},_init:function(){this.callBase(),this._loadingIndicatorEnabled=!0},_initScrollableMarkup:function(){this.callBase(),this.$element().addClass(g),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()},_initContent:function(){var e=t("<div>").addClass(f);this._$content.wrapInner(e)},_initTopPocket:function(){var e=this._$topPocket=t("<div>").addClass(m),i=this._$pullDown=t("<div>").addClass(B);e.append(i),this._$content.prepend(e)},_initBottomPocket:function(){var e=this._$bottomPocket=t("<div>").addClass(w),i=this._$reachBottom=t("<div>").addClass(D),n=t("<div>").addClass(x),o=new u(t("<div>")).$element(),a=this._$reachBottomText=t("<div>").addClass(b);this._updateReachBottomText(),i.append(n.append(o)).append(a),e.append(i),this._$content.append(e)},_initLoadPanel:function(){var e=t("<div>").addClass(v).appendTo(this.$element()),i={shading:!1,delay:400,message:this.option("refreshingText"),position:{of:this.$element()}};this._loadPanel=this._createComponent(e,p,i)},_updateReachBottomText:function(){this._$reachBottomText.text(this.option("reachBottomText"))},_createStrategy:function(){var t=this.option("useNative")?this.option("refreshStrategy"):"simulated",e=y[t];if(!e)throw Error("E1030",this.option("refreshStrategy"));this._strategy=new e(this),this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this)),this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this)),this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))},_createActions:function(){this.callBase(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._tryRefreshPocketState()},_tryRefreshPocketState:function(){this._pullDownEnable(this.hasActionSubscription("onPullDown")),this._reachBottomEnable(this.hasActionSubscription("onReachBottom"))},on:function(t){var e=this.callBase.apply(this,arguments);return"pullDown"!==t&&"reachBottom"!==t||this._tryRefreshPocketState(),e},_pullDownEnable:function(t){if(0===arguments.length)return this._pullDownEnabled;this._$pullDown&&this._strategy&&(this._$pullDown.toggle(t),this._strategy.pullDownEnable(t),this._pullDownEnabled=t)},_reachBottomEnable:function(t){if(0===arguments.length)return this._reachBottomEnabled;this._$reachBottom&&this._strategy&&(this._$reachBottom.toggle(t),this._strategy.reachBottomEnable(t),this._reachBottomEnabled=t)},_pullDownHandler:function(){this._loadingIndicator(!1),this._pullDownLoading()},_loadingIndicator:function(t){if(arguments.length<1)return this._loadingIndicatorEnabled;this._loadingIndicatorEnabled=t},_pullDownLoading:function(){this.startLoading(),this._pullDownAction()},_reachBottomHandler:function(){this._loadingIndicator(!1),this._reachBottomLoading()},_reachBottomLoading:function(){this.startLoading(),this._reachBottomAction()},_releaseHandler:function(){this.finishLoading(),this._loadingIndicator(!0)},_optionChanged:function(t){switch(t.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:this.callBase(t)}},isEmpty:function(){return!t(this.content()).children().length},content:function(){return a(this._$content.children().eq(1))},release:function(t){return void 0!==t&&this.toggleLoading(!t),this._strategy.release()},toggleLoading:function(t){this._reachBottomEnable(t)},isFull:function(){return t(this.content()).height()>this._$container.height()},refresh:function(){this.hasActionSubscription("onPullDown")&&(this._strategy.pendingRelease(),this._pullDownLoading())},startLoading:function(){this._loadingIndicator()&&this.$element().is(":visible")&&this._loadPanel.show(),this._lock()},finishLoading:function(){this._loadPanel.hide(),this._unlock()},_dispose:function(){this._strategy.dispose(),this.callBase(),this._loadPanel&&this._loadPanel.$element().remove()}});o("dxScrollView",$),module.exports=$;
},{"../../core/renderer":"qxFQ","../../core/devices":"LpzF","../../core/utils/window":"NXH3","../../localization/message":"Njcj","../../core/component_registrator":"g3fO","../../core/utils/dom":"vDwZ","../../core/utils/extend":"ac8T","../../core/utils/common":"GcQA","./ui.scroll_view.native.pull_down":"LkUu","./ui.scroll_view.native.swipe_down":"a72r","./ui.scroll_view.simulated":"HUwu","./ui.scrollable":"tHRk","../load_indicator":"ncdk","./../themes":"k2ha","../load_panel":"HlR7"}],"uBrF":[function(require,module,exports) {
"use strict";module.exports=require("./scroll_view/ui.scroll_view"),module.exports.default=module.exports;
},{"./scroll_view/ui.scroll_view":"QMC9"}],"RBgg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../core/renderer"),t=f(e),i=require("./ui.collection_widget.edit"),n=f(i),r=require("../../core/utils/extend"),a=require("../../core/utils/type"),s=require("../../data/array_utils"),o=f(s),d=require("../../data/utils"),h=require("../../core/utils/deferred"),c=require("../../core/utils/array_compare"),u=require("../../core/dom_adapter"),l=require("../../core/utils/common");function f(e){return e&&e.__esModule?e:{default:e}}function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var m="__dx_key__";exports.default=n.default.inherit({_getDefaultOptions:function(){return(0,r.extend)(this.callBase(),{repaintChangesOnly:!1})},ctor:function(){var e=this;this.callBase.apply(this,arguments),this._customizeStoreLoadOptions=function(t){var i=e._dataSource;i&&!i.isLoaded()&&(e._correctionIndex=0),e._correctionIndex&&t.storeLoadOptions&&(t.storeLoadOptions.skip+=e._correctionIndex)},this._dataSource&&this._dataSource.on("customizeStoreLoadOptions",this._customizeStoreLoadOptions)},reload:function(){this._correctionIndex=0},_init:function(){this.callBase(),this._refreshItemsCache(),this._correctionIndex=0},_findItemElementByKey:function(e){var i=this,n=(0,t.default)(),r=this.key();return this.itemElements().each(function(a,s){var o=(0,t.default)(s),h=i._getItemData(o);if(r?(0,d.keysEqual)(r,i.keyOf(h),e):i._isItemEquals(h,e))return n=o,!1}),n},_dataSourceChangedHandler:function(e,t){t&&t.changes?this._modifyByChanges(t.changes):this.callBase(e,t)},_isItemEquals:function(e,t){e&&e[m]&&(e=e.data);try{return JSON.stringify(e)===JSON.stringify(t)}catch(i){return e===t}},_partialRefresh:function(){var e=this;if(this.option("repaintChangesOnly")){var t=(0,c.findChanges)(this._itemsCache,this._editStrategy.itemsGetter(),function(t){return t&&void 0!==t[m]?t[m]:e.keyOf(t)},this._isItemEquals);if(t&&this._itemsCache.length)return this._modifyByChanges(t,!0),this._renderEmptyMessage(),!0;this._refreshItemsCache()}return!1},_refreshItemsCache:function(){if(this.option("repaintChangesOnly")){var e=this._editStrategy.itemsGetter();try{this._itemsCache=(0,r.extend)(!0,[],e),this.key()||(this._itemsCache=this._itemsCache.map(function(t,i){var n;return _(n={},m,e[i]),_(n,"data",t),n}))}catch(t){this._itemsCache=(0,r.extend)([],e)}}},_dispose:function(){this._dataSource&&this._dataSource.off("customizeStoreLoadOptions",this._customizeStoreLoadOptions),this.callBase()},_updateByChange:function(e,t,i,n){var r=this;if(n)this._renderItem(i.index,i.data,null,this._findItemElementByKey(i.key));else{var a=t[o.default.indexByKey(e,t,i.key)];a&&o.default.update(e,t,i.key,i.data).done(function(){r._renderItem(t.indexOf(a),a,null,r._findItemElementByKey(i.key))})}},_insertByChange:function(e,t,i,n){var r=this;(0,h.when)(n||o.default.insert(e,t,i.data,i.index)).done(function(){r._beforeItemElementInserted(i),r._renderItem((0,a.isDefined)(i.index)?i.index:t.length,i.data),r._afterItemElementInserted(),r._correctionIndex++})},_updateSelectionAfterRemoveByChange:function(e){var t=this.option("selectedIndex");t>e?this.option("selectedIndex",t-1):t===e&&1===this.option("selectedItems").length?this.option("selectedItems",[]):this._normalizeSelectedItems()},_beforeItemElementInserted:function(e){var t=this.option("selectedIndex");e.index<=t&&this.option("selectedIndex",t+1)},_afterItemElementInserted:l.noop,_removeByChange:function(e,t,i,n){var r=this,a=n?i.index:o.default.indexByKey(e,t,i.key);if(n?i.oldItem:t[a]){var s=this._findItemElementByKey(i.key),d=this._extendActionArgs(s);this._waitDeletingPrepare(s).done(function(){n?(r._updateIndicesAfterIndex(a-1),r._afterItemElementDeleted(s,d),r._updateSelectionAfterRemoveByChange(a)):(r._deleteItemElementByIndex(a),r._afterItemElementDeleted(s,d))}),this._correctionIndex--}},_modifyByChanges:function(e,t){var i=this,n=this._editStrategy.itemsGetter(),r={key:this.key.bind(this),keyOf:this.keyOf.bind(this)},a=this._dataSource,s=a&&a.paginate(),o=a&&a.group();(s||o)&&(e=e.filter(function(e){return"insert"!==e.type||void 0!==e.index})),e.forEach(function(e){return i["_"+e.type+"ByChange"](r,n,e,t)}),this._renderedItemsCount=n.length,this._refreshItemsCache(),this._fireContentReadyAction()},_appendItemToContainer:function(e,t,i){var n=e.children(this._itemSelector()).get(i);(0,u.insertElement)(e.get(0),t.get(0),n)},_optionChanged:function(e){switch(e.name){case"items":this._partialRefresh(e.value)||this.callBase(e);break;case"dataSource":this.option("repaintChangesOnly")&&e.value||this.option("items",[]),this.callBase(e);break;case"repaintChangesOnly":break;default:this.callBase(e)}}});
},{"../../core/renderer":"qxFQ","./ui.collection_widget.edit":"IZYs","../../core/utils/extend":"ac8T","../../core/utils/type":"Mw4w","../../data/array_utils":"JUgy","../../data/utils":"rHW0","../../core/utils/deferred":"g5TB","../../core/utils/array_compare":"eDzl","../../core/dom_adapter":"RRDy","../../core/utils/common":"GcQA"}],"QqcZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../core/utils/type"),t=function(e){return Array.isArray(e)&&e.every(function(e){return 2===Object.keys(e).length&&("key"in e&&"items"in e)&&Array.isArray(e.items)})};exports.default={_getSpecificDataSourceOption:function(){var r=this.option("dataSource"),i=!1,n={};return this._getGroupedOption()&&t(r)&&(n=r.reduce(function(t,r){var n=r.items.map(function(t){return(0,e.isObject)(t)||(t={text:t},i=!0),"key"in t||(t.key=r.key),t});return t.concat(n)},[]),r={store:{type:"array",data:n},group:{selector:"key",keepInitialKeyOrder:!0}},i&&(r.searchExpr="text")),r}};
},{"../../core/utils/type":"Mw4w"}],"g42c":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../events/core/events_engine"),i=require("../../core/utils/common"),n=require("../../core/utils/type"),o=require("../../core/utils/icon"),s=require("../../core/utils/dom").getPublicElement,r=require("../../core/utils/iterator").each,l=require("../../core/utils/data").compileGetter,a=require("../../core/utils/extend").extend,c=require("../../animation/fx"),d=require("../../events/click"),u=require("../../events/swipe"),h=require("../../core/utils/support"),p=require("../../localization/message"),_=require("../widget/utils.ink_ripple"),g=require("../../core/devices"),m=require("./item"),f=require("../button"),x=require("../../events/utils"),v=require("../themes"),w=require("../../core/utils/window"),T=require("../scroll_view"),b=require("../scroll_view/ui.scrollable").deviceDependentOptions,B=require("../collection/ui.collection_widget.live_update").default,S=require("../../core/templates/bindable_template").BindableTemplate,L=require("../../core/utils/deferred").Deferred,I=require("../shared/grouped_data_converter_mixin").default,E="dx-list",C="dx-list-item",y="."+C,k="dx-list-item-icon-container",R="dx-list-item-icon",V="dx-list-group",A="dx-list-group-header",D="dx-list-group-body",H="dx-list-collapsible-groups",q="dx-list-group-collapsed",N="dx-list-group-header-indicator",M="dx-has-next",G="dx-list-next-button",$="dx-wrap-item-text",P=".dx-list-select-all",O="dxListItemData",W=70,F=l("items"),K=B.inherit({_activeStateUnit:[y,P].join(","),_supportedKeys:function(){var t=this,n=function(e){var i=o(e);i.is(t.option("focusedElement"))&&(r(i,e),i=o(e)),t.option("focusedElement",s(i)),t.scrollToItem(i)},o=function(i){var n=t.scrollTop(),o=t.$element().height(),s=e(t.option("focusedElement")),r=!0;if(!s.length)return e();for(;r;){var l=s[i]();if(!l.length)break;var a=l.position().top+l.outerHeight()/2;(r=a<o+n&&a>n)&&(s=l)}return s},r=function(e,i){var n=e.position().top;"prev"===i&&(n=e.position().top-t.$element().height()+e.outerHeight()),t.scrollTo(n)};return a(this.callBase(),{leftArrow:i.noop,rightArrow:i.noop,pageUp:function(){return n("prev"),!1},pageDown:function(){return n("next"),!1}})},_getDefaultOptions:function(){return a(this.callBase(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:p.format("dxList-pullingDownText"),pulledDownText:p.format("dxList-pulledDownText"),refreshingText:p.format("dxList-refreshingText"),pageLoadingText:p.format("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:p.format("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},_listAttributes:{role:"listbox"},useInkRipple:!1,wrapItemText:!1,showChevronExpr:function(e){return e?e.showChevron:void 0},badgeExpr:function(e){return e?e.badge:void 0}})},_defaultOptionsRules:function(){var e=v.current();return this.callBase().concat(b(),[{device:function(){return!h.nativeScrolling},options:{useNativeScrolling:!1}},{device:function(e){return!h.nativeScrolling&&!g.isSimulator()&&"desktop"===g.real().deviceType&&"generic"===e.platform},options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:function(){return"desktop"===g.real().deviceType&&!g.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return v.isMaterial(e)},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",pageLoadingText:"",useInkRipple:!0}}])},_visibilityChanged:function(e){e&&this._updateLoadingState(!0)},_itemClass:function(){return C},_itemDataKey:function(){return O},_itemContainer:function(){return this._$container},_refreshItemElements:function(){this.option("grouped")?this._itemElementsCache=this._itemContainer().children("."+V).children("."+D).children(this._itemSelector()):this._itemElementsCache=this._itemContainer().children(this._itemSelector())},_modifyByChanges:function(){this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState()},reorderItem:function(e,t){return this.callBase(e,t).done(function(){this._refreshItemElements()})},deleteItem:function(e){return this.callBase(e).done(function(){this._refreshItemElements()})},_itemElements:function(){return this._itemElementsCache},_itemSelectHandler:function(e){"single"===this.option("selectionMode")&&this.isItemSelected(e.currentTarget)||this.callBase(e)},_allowDynamicItemsAppend:function(){return!0},_init:function(){this.callBase(),this._$container=this.$element(),this._initScrollView(),this._feedbackShowTimeout=W,this._createGroupRenderAction()},_scrollBottomMode:function(){return"scrollBottom"===this.option("pageLoadMode")},_nextButtonMode:function(){return"nextButton"===this.option("pageLoadMode")},_dataSourceOptions:function(){var e=this._scrollBottomMode(),t=this._nextButtonMode();return a(this.callBase(),{paginate:i.ensureDefined(e||t,!0)})},_getGroupedOption:function(){return this.option("grouped")},_dataSourceFromUrlLoadMode:function(){return"raw"},_initScrollView:function(){var t=this.option("scrollingEnabled"),i=t&&this.option("pullRefreshEnabled"),n=t&&this._scrollBottomMode()&&!!this._dataSource;this._scrollView=this._createComponent(this.$element(),T,{disabled:this.option("disabled")||!t,onScroll:this._scrollHandler.bind(this),onPullDown:i?this._pullDownHandler.bind(this):null,onReachBottom:n?this._scrollBottomHandler.bind(this):null,showScrollbar:this.option("showScrollbar"),useNative:this.option("useNativeScrolling"),bounceEnabled:this.option("bounceEnabled"),scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),reachBottomText:this.option("pageLoadingText"),useKeyboard:!1}),this._$container=e(this._scrollView.content()),this.option("wrapItemText")&&this._$container.addClass($),this._createScrollViewActions()},_createScrollViewActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")},_scrollHandler:function(e){this._scrollAction&&this._scrollAction(e)},_initTemplates:function(){this.callBase(),this._defaultTemplates.group=new S(function(e,t){n.isPlainObject(t)?t.key&&e.text(t.key):e.text(String(t))},["key"],this.option("integrationOptions.watchMethod"))},_prepareDefaultItemTemplate:function(t,i){if(this.callBase(t,i),t.icon){var n=o.getImageContainer(t.icon).addClass(R),s=e("<div>").addClass(k);s.append(n),i.prepend(s)}},_getBindableFields:function(){return["text","html","icon"]},_updateLoadingState:function(e){var t=!e||this._isLastPage(),i=this._scrollBottomMode(),n=t||!i,o=n&&!this._isDataSourceLoading();n||this._scrollViewIsFull()?(this._scrollView.release(o),this._toggleNextButton(this._shouldRenderNextButton()&&!this._isLastPage()),this._loadIndicationSuppressed(!1)):this._infiniteDataLoading()},_shouldRenderNextButton:function(){return this._nextButtonMode()&&this._dataSource&&this._dataSource.isLoaded()},_dataSourceLoadingChangedHandler:function(e){this._loadIndicationSuppressed()||(e&&this.option("indicateLoading")?this._showLoadingIndicatorTimer=setTimeout(function(){var e=!this._itemElements().length;this._scrollView&&!e&&this._scrollView.startLoading()}.bind(this)):(clearTimeout(this._showLoadingIndicatorTimer),this._scrollView&&this._scrollView.finishLoading()))},_dataSourceChangedHandler:function(e){!this._shouldAppendItems()&&w.hasWindow()&&this._scrollView&&this._scrollView.scrollTo(0),this.callBase.apply(this,arguments)},_refreshContent:function(){this._prepareContent(),this._fireContentReadyAction()},_hideLoadingIfLoadIndicationOff:function(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)},_loadIndicationSuppressed:function(e){if(!arguments.length)return this._isLoadIndicationSuppressed;this._isLoadIndicationSuppressed=e},_scrollViewIsFull:function(){return!this._scrollView||this._scrollView.isFull()},_pullDownHandler:function(e){this._pullRefreshAction(e),this._dataSource&&!this._isDataSourceLoading()?(this._clearSelectedItems(),this._dataSource.pageIndex(0),this._dataSource.reload()):this._updateLoadingState()},_infiniteDataLoading:function(){!this.$element().is(":visible")||this._scrollViewIsFull()||this._isDataSourceLoading()||this._isLastPage()||(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout(this._loadNextPage.bind(this)))},_scrollBottomHandler:function(e){this._pageLoadingAction(e),this._isDataSourceLoading()||this._isLastPage()?this._updateLoadingState():this._loadNextPage()},_renderItems:function(e){this.option("grouped")?(r(e,this._renderGroup.bind(this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage(),v.isMaterial()&&this.attachGroupHeaderInkRippleEvents()):this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},_attachGroupCollapseEvent:function(){var i=x.addNamespace(d.name,this.NAME),n="."+A,o=this.$element(),r=this.option("collapsibleGroups");o.toggleClass(H,r),t.off(o,i,n),r&&t.on(o,i,n,function(t){this._createAction(function(t){var i=e(t.event.currentTarget).parent();this._collapseGroupHandler(i),this.option("focusStateEnabled")&&this.option("focusedElement",s(i.find("."+C).eq(0)))}.bind(this),{validatingTargetName:"element"})({event:t})}.bind(this))},_collapseGroupHandler:function(e,t){var i=new L;if(e.hasClass(q)===t)return i.resolve();var n=e.children("."+D),o=n.outerHeight(),s=0===o?n.height("auto").outerHeight():0;return e.toggleClass(q,t),c.animate(n,{type:"custom",from:{height:o},to:{height:s},duration:200,complete:function(){this.updateDimensions(),this._updateLoadingState(),i.resolve()}.bind(this)}),i.promise()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())},_initMarkup:function(){this._itemElementsCache=e(),this.$element().addClass(E),this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.setAria("role",this.option("_listAttributes").role)},_renderInkRipple:function(){this._inkRipple=_.render()},_toggleActiveState:function(e,t,i){this.callBase.apply(this,arguments);var n=this;if(this._inkRipple){var o={element:e,event:i};t?v.isMaterial()?this._inkRippleTimer=setTimeout(function(){n._inkRipple.showWave(o)},W/2):n._inkRipple.showWave(o):(clearTimeout(this._inkRippleTimer),this._inkRipple.hideWave(o))}},_postprocessRenderItem:function(t){this._refreshItemElements(),this.callBase.apply(this,arguments),this.option("onItemSwipe")&&this._attachSwipeEvent(e(t.itemElement))},_attachSwipeEvent:function(e){var i=x.addNamespace(u.end,this.NAME);t.on(e,i,this._itemSwipeEndHandler.bind(this))},_itemSwipeEndHandler:function(e){this._itemDXEventHandler(e,"onItemSwipe",{direction:e.offset<0?"left":"right"})},_nextButtonHandler:function(){var e=this._dataSource;e&&!e.isLoading()&&(this._scrollView.toggleLoading(!0),this._$nextButton.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage())},_renderGroup:function(t,i){var n=e("<div>").addClass(V).appendTo(this._itemContainer()),o=e("<div>").addClass(A).appendTo(n),l=this.option("groupTemplate"),a=this._getTemplate(i.template||l,i,t,o),c={index:t,itemData:i,container:s(o)};this._createItemByTemplate(a,c),v.isMaterial()&&e("<div>").addClass(N).prependTo(o),this._renderingGroupIndex=t;var d=e("<div>").addClass(D).appendTo(n);r(F(i)||[],function(e,t){this._renderItem(e,t,d)}.bind(this)),this._groupRenderAction({groupElement:s(n),groupIndex:t,groupData:i})},attachGroupHeaderInkRippleEvents:function(){var i=this,n="."+A,o=this.$element();t.on(o,"dxpointerdown",n,function(t){i._toggleActiveState(e(t.currentTarget),!0,t)}),t.on(o,"dxpointerup dxhoverend",n,function(t){i._toggleActiveState(e(t.currentTarget),!1)})},_createGroupRenderAction:function(){this._groupRenderAction=this._createActionByOption("onGroupRendered")},_clean:function(){clearTimeout(this._inkRippleTimer),this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),this.callBase.apply(this,arguments)},_dispose:function(){clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),this.callBase()},_toggleDisabledState:function(e){this.callBase(e),this._scrollView.option("disabled",e||!this.option("scrollingEnabled"))},_toggleNextButton:function(e){var t=this._dataSource,i=this._getNextButton();this.$element().toggleClass(M,e),e&&t&&t.isLoaded()&&i.appendTo(this._itemContainer()),e||i.detach()},_getNextButton:function(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton},_createNextButton:function(){var t=e("<div>").addClass(G),i=e("<div>").appendTo(t);return this._createComponent(i,f,{text:this.option("nextButtonText"),onClick:this._nextButtonHandler.bind(this),type:v.isMaterial()?"default":void 0,integrationOptions:{}}),t},_moveFocus:function(){this.callBase.apply(this,arguments),this.scrollToItem(this.option("focusedElement"))},_refresh:function(){if(w.hasWindow()){var e=this._scrollView.scrollTop();this.callBase(),e&&this._scrollView.scrollTo(e)}else this.callBase()},_optionChanged:function(e){switch(e.name){case"pageLoadMode":this._toggleNextButton(e.value),this._initScrollView();break;case"dataSource":this.callBase(e),this._initScrollView();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"useNative":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"scrollingEnabled":case"pullRefreshEnabled":this._initScrollView(),this._updateLoadingState();break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions(),this._invalidate();break;case"grouped":case"collapsibleGroups":case"groupTemplate":this._invalidate();break;case"wrapItemText":this._$container.toggleClass($,e.value);break;case"onGroupRendered":this._createGroupRenderAction();break;case"width":case"height":this.callBase(e),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":this.callBase(e),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),this.callBase(e);break;case"showChevronExpr":case"badgeExpr":this._invalidate();break;case"_listAttributes":break;default:this.callBase(e)}},_extendActionArgs:function(e){if(!this.option("grouped"))return this.callBase(e);var t=e.closest("."+V),i=t.find("."+C);return a(this.callBase(e),{itemIndex:{group:t.index(),item:i.index(e)}})},expandGroup:function(e){var t=new L,i=this._itemContainer().find("."+V).eq(e);return this._collapseGroupHandler(i,!1).done(function(){t.resolveWith(this)}.bind(this)),t.promise()},collapseGroup:function(e){var t=new L,i=this._itemContainer().find("."+V).eq(e);return this._collapseGroupHandler(i,!0).done(function(){t.resolveWith(this)}.bind(this)),t},updateDimensions:function(){var e=this,t=new L;return e._scrollView?e._scrollView.update().done(function(){!e._scrollViewIsFull()&&e._updateLoadingState(!0),t.resolveWith(e)}):t.resolveWith(e),t.promise()},reload:function(){this.callBase(),this.scrollTo(0),this._pullDownHandler()},repaint:function(){this.scrollTo(0),this.callBase()},scrollTop:function(){return this._scrollView.scrollOffset().top},clientHeight:function(){return this._scrollView.clientHeight()},scrollHeight:function(){return this._scrollView.scrollHeight()},scrollBy:function(e){this._scrollView.scrollBy(e)},scrollTo:function(e){this._scrollView.scrollTo(e)},scrollToItem:function(e){var t=this._editStrategy.getItemElement(e);this._scrollView.scrollToElement(t)}}).include(I);K.ItemClass=m,module.exports=K;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/icon":"W6A0","../../core/utils/dom":"vDwZ","../../core/utils/iterator":"FHcO","../../core/utils/data":"YLhW","../../core/utils/extend":"ac8T","../../animation/fx":"qxJT","../../events/click":"RTmy","../../events/swipe":"yGbt","../../core/utils/support":"eZC7","../../localization/message":"Njcj","../widget/utils.ink_ripple":"NDxX","../../core/devices":"LpzF","./item":"mLSi","../button":"kKaI","../../events/utils":"cNvJ","../themes":"k2ha","../../core/utils/window":"NXH3","../scroll_view":"uBrF","../scroll_view/ui.scrollable":"tHRk","../collection/ui.collection_widget.live_update":"RBgg","../../core/templates/bindable_template":"pNX9","../../core/utils/deferred":"g5TB","../shared/grouped_data_converter_mixin":"QqcZ"}],"nxA7":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../core/component_registrator"),i=require("../../core/utils/iterator").each,n=require("../list/ui.list.base"),a="dx-toolbar-menu-action",s="dx-toolbar-hidden-button",r="dx-toolbar-menu-section",o="dx-toolbar-menu-last-section",c=n.inherit({_activeStateUnit:"."+a,_initMarkup:function(){this._renderSections(),this.callBase()},_getSections:function(){return this._itemContainer().children()},_itemElements:function(){return this._getSections().children(this._itemSelector())},_renderSections:function(){var t=this,n=this._itemContainer();i(["before","center","after","menu"],function(){var i="_$"+this+"Section",a=t[i];a||(t[i]=a=e("<div>").addClass(r)),a.appendTo(n)})},_renderItems:function(){this.callBase.apply(this,arguments),this._updateSections()},_updateSections:function(){var e=this.$element().find("."+r);e.removeClass(o),e.not(":empty").eq(-1).addClass(o)},_renderItem:function(e,t,i,n){var r,o=t.location||"menu",c=this["_$"+o+"Section"];return r=this.callBase(e,t,c,n),this._getItemTemplateName({itemData:t})&&r.addClass("dx-toolbar-menu-custom"),("menu"===o||"dxButton"===t.widget||t.isAction)&&r.addClass(a),"dxButton"===t.widget&&r.addClass(s),r.addClass(t.cssClass),r},_getItemTemplateName:function(e){var t=this.callBase(e),i=e.itemData;return i&&i.menuItemTemplate||t},_itemClickHandler:function(t,i,n){e(t.target).closest("."+a).length&&this.callBase(t,i,n)},_clean:function(){this._getSections().empty(),this.callBase()}});t("dxToolbarMenu",c),module.exports=c;
},{"../../core/renderer":"qxFQ","../../core/component_registrator":"g3fO","../../core/utils/iterator":"FHcO","../list/ui.list.base":"g42c"}],"ttot":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../core/utils/type").isNumeric,i=require("../../core/utils/iterator").each,n=require("../../data/store_helper").queryByOptions,r=require("../../data/query"),o=require("../collection/ui.collection_widget.edit.strategy.plain"),u="dx-list-item",s="dx-list-group",m=20,c=2303,g=function(e){return(e.group<<m)+e.item},l=function(e){return{group:e>>m,item:e&c}},p=o.inherit({_groupElements:function(){return this._collectionWidget._itemContainer().find("."+s)},_groupItemElements:function(e){return e.find("."+u)},getIndexByItemData:function(e){var t=this._collectionWidget.option("items"),n=!1;return!!e&&(e.items&&e.items.length&&(e=e.items[0]),i(t,function(t,r){return!!r.items&&(i(r.items,function(i,r){return r!==e||(n={group:t,item:i},!1)}),!n&&void 0)}),n)},getItemDataByIndex:function(e){var i=this._collectionWidget.option("items");return t(e)?this.itemsGetter()[e]:e&&i[e.group]&&i[e.group].items[e.item]||null},itemsGetter:function(){for(var e=[],t=this._collectionWidget.option("items"),i=0;i<t.length;i++)t[i]&&t[i].items?e=e.concat(t[i].items):e.push(t[i]);return e},deleteItemAtIndex:function(e){var t=l(e);this._collectionWidget.option("items")[t.group].items.splice(t.item,1)},getKeysByItems:function(e){for(var t=[],i=0;i<e.length;i++)e[i]&&e[i].items?t=t.concat(e[i].items):t.push(e[i]);var n=[];for(i=0;i<t.length;i++)n.push(this._collectionWidget.keyOf(t[i]));return n},getIndexByKey:function(e,t){var n=t||this._collectionWidget.option("items"),r=-1,o=this;return i(n,function(t,n){if(n.items){var u=o.getKeysByItems(n.items);return i(u,function(i,n){if(o._equalKeys(n,e))return r={group:t,item:i},!1}),-1===r&&void 0}}),r},_getGroups:function(e){var t=this._collectionWidget.getDataSource(),i=t&&t.group();return i?n(r(e),{group:i}).toArray():this._collectionWidget.option("items")},getItemsByKeys:function(e,t){var n=[];return i(e,function(e,r){var o=function(e){var t=this.getIndexByKey(r,e),i=t&&e[t.group];if(i)return{groupKey:i.key,item:i.items[t.item]}}.bind(this)(this._getGroups(t));if(o){var u,s=o.groupKey,m=o.item;i(n,function(e,t){if(t.key===s)return u=t,!1}),u||(u={key:s,items:[]},n.push(u)),u.items.push(m)}}.bind(this)),n},moveItemAtIndexToIndex:function(e,t){var i=this._collectionWidget.option("items"),n=l(e),r=l(t),o=i[n.group].items,u=i[r.group].items,s=o[n.item];o.splice(n.item,1),u.splice(r.item,0,s)},_isItemIndex:function(e){return e&&t(e.group)&&t(e.item)},_getNormalizedItemIndex:function(t){var i=e(t),n=i.closest("."+s);return n.length?g({group:this._groupElements().index(n),item:this._groupItemElements(n).index(i)}):-1},_normalizeItemIndex:function(e){return g(e)},_denormalizeItemIndex:function(e){return l(e)},_getItemByNormalizedIndex:function(e){var t=l(e),i=this._groupElements().eq(t.group);return this._groupItemElements(i).eq(t.item)},_itemsFromSameParent:function(e,t){return l(e).group===l(t).group}});module.exports=p;
},{"../../core/renderer":"qxFQ","../../core/utils/type":"Mw4w","../../core/utils/iterator":"FHcO","../../data/store_helper":"RUOb","../../data/query":"TnO4","../collection/ui.collection_widget.edit.strategy.plain":"UUEY"}],"Mt57":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/extend").extend;exports.registry={},exports.register=function(r,t,s){var i=exports.registry,o={};o[r]=i[r]?i[r]:{},o[r][t]=s,i=e(i,o)};
},{"../../core/utils/extend":"ac8T"}],"LLFo":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../events/core/events_engine"),i=require("../../core/utils/common").noop,n=require("../../core/class"),a=require("../../events/swipe"),r=require("../../events/utils"),s="dxListEditDecorator",d=r.addNamespace(a.start,s),l=r.addNamespace(a.swipe,s),c=r.addNamespace(a.end,s),h=n.inherit({ctor:function(e){this._list=e,this._init()},_init:i,_shouldHandleSwipe:!1,_attachSwipeEvent:function(e){var i={itemSizeFunc:function(){return this._clearSwipeCache&&(this._itemWidthCache=this._list.$element().width(),this._clearSwipeCache=!1),this._itemWidthCache}.bind(this)};t.on(e.$itemElement,d,i,this._itemSwipeStartHandler.bind(this)),t.on(e.$itemElement,l,this._itemSwipeUpdateHandler.bind(this)),t.on(e.$itemElement,c,this._itemSwipeEndHandler.bind(this))},_itemSwipeStartHandler:function(t){var i=e(t.currentTarget);i.is(".dx-state-disabled, .dx-state-disabled *")?t.cancel=!0:(clearTimeout(this._list._inkRippleTimer),this._swipeStartHandler(i,t))},_itemSwipeUpdateHandler:function(t){var i=e(t.currentTarget);this._swipeUpdateHandler(i,t)},_itemSwipeEndHandler:function(t){var i=e(t.currentTarget);this._swipeEndHandler(i,t),this._clearSwipeCache=!0},beforeBag:i,afterBag:i,_commonOptions:function(){return{activeStateEnabled:this._list.option("activeStateEnabled"),hoverStateEnabled:this._list.option("hoverStateEnabled"),focusStateEnabled:this._list.option("focusStateEnabled")}},modifyElement:function(e){this._shouldHandleSwipe&&(this._attachSwipeEvent(e),this._clearSwipeCache=!0)},afterRender:i,handleClick:i,handleKeyboardEvents:i,handleEnterPressing:i,handleContextMenu:i,_swipeStartHandler:i,_swipeUpdateHandler:i,_swipeEndHandler:i,visibilityChange:i,getExcludedSelectors:i,dispose:i});module.exports=h;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/utils/common":"GcQA","../../core/class":"YpjV","../../events/swipe":"yGbt","../../events/utils":"cNvJ"}],"m1JW":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../button"),i=require("./ui.list.edit.decorator_registry").register,r=require("./ui.list.edit.decorator"),s="dx-list-static-delete-button-container",n="dx-list-static-delete-button";i("delete","static",r.inherit({afterBag:function(i){var r=i.$itemElement,d=i.$container,a=e("<div>").addClass(n);this._list._createComponent(a,t,{icon:"remove",onClick:function(e){e.event.stopPropagation(),this._deleteItem(r)}.bind(this),integrationOptions:{}}),d.addClass(s).append(a)},_deleteItem:function(e){e.is(".dx-state-disabled, .dx-state-disabled *")||this._list.deleteItem(e)}}));
},{"../../core/renderer":"qxFQ","../button":"kKaI","./ui.list.edit.decorator_registry":"Mt57","./ui.list.edit.decorator":"LLFo"}],"BFTb":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../events/core/events_engine"),i=require("../../core/utils/common").noop,l=require("./ui.list.edit.decorator"),n=l.abstract,s=require("../../events/utils"),o=require("../../events/pointer"),a=require("../../events/core/emitter.feedback"),d="dxListEditDecorator",h=s.addNamespace(o.down,d),r=s.addNamespace(a.active,d),c="dx-list-item-content",_="dx-list-switchable-delete-ready",g="dx-list-switchable-menu-shield-positioning",m="dx-list-switchable-delete-top-shield",u="dx-list-switchable-delete-bottom-shield",p="dx-list-switchable-menu-item-shield-positioning",f="dx-list-switchable-delete-item-content-shield",b="dx-list-switchable-delete-button-container",D=l.inherit({_init:function(){this._$topShield=e("<div>").addClass(m),this._$bottomShield=e("<div>").addClass(u),this._$itemContentShield=e("<div>").addClass(f),t.on(this._$topShield,h,this._cancelDeleteReadyItem.bind(this)),t.on(this._$bottomShield,h,this._cancelDeleteReadyItem.bind(this)),this._list.$element().append(this._$topShield.toggle(!1)).append(this._$bottomShield.toggle(!1))},handleClick:function(){return this._cancelDeleteReadyItem()},_cancelDeleteReadyItem:function(){return!!this._$readyToDeleteItem&&(this._cancelDelete(this._$readyToDeleteItem),!0)},_cancelDelete:function(e){this._toggleDeleteReady(e,!1)},_toggleDeleteReady:function(e,t){void 0===t&&(t=!this._isReadyToDelete(e)),this._toggleShields(e,t),this._toggleScrolling(t),this._cacheReadyToDeleteItem(e,t),this._animateToggleDelete(e,t)},_isReadyToDelete:function(e){return e.hasClass(_)},_toggleShields:function(e,t){this._list.$element().toggleClass(g,t),this._$topShield.toggle(t),this._$bottomShield.toggle(t),t&&this._updateShieldsHeight(e),this._toggleContentShield(e,t)},_updateShieldsHeight:function(e){var t=this._list.$element(),i=t.offset().top,l=t.outerHeight(),n=e.offset().top-i,s=l-e.outerHeight()-n;this._$topShield.height(Math.max(n,0)),this._$bottomShield.height(Math.max(s,0))},_toggleContentShield:function(e,t){t?e.find("."+c).first().append(this._$itemContentShield):this._$itemContentShield.detach()},_toggleScrolling:function(e){var t=this._list.$element().dxScrollView("instance");e?t.on("start",this._cancelScrolling):t.off("start",this._cancelScrolling)},_cancelScrolling:function(e){e.event.cancel=!0},_cacheReadyToDeleteItem:function(e,t){t?this._$readyToDeleteItem=e:delete this._$readyToDeleteItem},_animateToggleDelete:function(e,i){i?(this._enablePositioning(e),this._prepareDeleteReady(e),this._animatePrepareDeleteReady(e),t.off(e,o.up)):(this._forgetDeleteReady(e),this._animateForgetDeleteReady(e).done(this._disablePositioning.bind(this,e)))},_enablePositioning:function(e){e.addClass(p),t.on(e,r,i),t.one(e,o.up,this._disablePositioning.bind(this,e))},_disablePositioning:function(e){e.removeClass(p),t.off(e,r)},_prepareDeleteReady:function(e){e.addClass(_)},_forgetDeleteReady:function(e){e.removeClass(_)},_animatePrepareDeleteReady:n,_animateForgetDeleteReady:n,_getDeleteButtonContainer:function(e){return(e=e||this._$readyToDeleteItem).children("."+b)},_deleteItem:function(e){e=e||this._$readyToDeleteItem,this._getDeleteButtonContainer(e).detach(),e.is(".dx-state-disabled, .dx-state-disabled *")||this._list.deleteItem(e).always(this._cancelDelete.bind(this,e))},_isRtlEnabled:function(){return this._list.option("rtlEnabled")},dispose:function(){this._$topShield&&this._$topShield.remove(),this._$bottomShield&&this._$bottomShield.remove(),this.callBase.apply(this,arguments)}});module.exports=D;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/utils/common":"GcQA","./ui.list.edit.decorator":"LLFo","../../events/utils":"cNvJ","../../events/pointer":"HDhW","../../events/core/emitter.feedback":"rWdi"}],"yS5n":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=require("../../animation/fx"),i=require("../button"),n=require("../../localization/message"),o=require("./ui.list.edit.decorator_registry").register,a=require("./ui.list.edit.decorator.switchable"),s="dx-list-switchable-delete-button-container",r="dx-list-switchable-delete-button-wrapper",d="dx-list-switchable-delete-button-inner-wrapper",l="dx-list-switchable-delete-button",h=200,u=a.inherit({_init:function(){this.callBase.apply(this,arguments);var e=t("<div>").addClass(s),o=t("<div>").addClass(r),a=t("<div>").addClass(d),h=t("<div>").addClass(l);this._list._createComponent(h,i,{text:n.format("dxListEditDecorator-delete"),type:"danger",onClick:function(t){this._deleteItem(),t.event.stopPropagation()}.bind(this),integrationOptions:{}}),e.append(o),o.append(a),a.append(h),this._$buttonContainer=e},_enablePositioning:function(t){this.callBase.apply(this,arguments),e.stop(this._$buttonContainer,!0),this._$buttonContainer.appendTo(t)},_disablePositioning:function(){this.callBase.apply(this,arguments),this._$buttonContainer.detach()},_animatePrepareDeleteReady:function(){var t=this._isRtlEnabled(),i=this._list.$element().width(),n=this._buttonWidth(),o=t?i:-n,a=t?i-n:0;return e.animate(this._$buttonContainer,{type:"custom",duration:h,from:{right:o},to:{right:a}})},_animateForgetDeleteReady:function(){var t=this._isRtlEnabled(),i=this._list.$element().width(),n=this._buttonWidth(),o=t?i-n:0,a=t?i:-n;return e.animate(this._$buttonContainer,{type:"custom",duration:h,from:{right:o},to:{right:a}})},_buttonWidth:function(){return this._buttonContainerWidth||(this._buttonContainerWidth=this._$buttonContainer.outerWidth()),this._buttonContainerWidth},dispose:function(){this._$buttonContainer&&this._$buttonContainer.remove(),this.callBase.apply(this,arguments)}}),p="dx-list-toggle-delete-switch-container",c="dx-list-toggle-delete-switch";o("delete","toggle",u.inherit({beforeBag:function(n){var o=n.$itemElement,a=n.$container,s=t("<div>").addClass(c);this._list._createComponent(s,i,{icon:"toggle-delete",onClick:function(t){e.stop(this._$buttonContainer,!1),this._toggleDeleteReady(o),t.event.stopPropagation()}.bind(this),integrationOptions:{}}),a.addClass(p),a.append(s)}})),o("delete","slideButton",u.inherit({_shouldHandleSwipe:!0,_swipeEndHandler:function(t,i){return 0!==i.targetOffset&&(e.stop(this._$buttonContainer,!1),this._toggleDeleteReady(t)),!0}})),module.exports=u;
},{"../../core/renderer":"qxFQ","../../animation/fx":"qxJT","../button":"kKaI","../../localization/message":"Njcj","./ui.list.edit.decorator_registry":"Mt57","./ui.list.edit.decorator.switchable":"BFTb"}],"lQYN":[function(require,module,exports) {
"use strict";var e={_menuEnabled:function(){return!!this._menuItems().length},_menuItems:function(){return this._list.option("menuItems")},_deleteEnabled:function(){return this._list.option("allowItemDeleting")},_fireMenuAction:function(e,t){this._list._itemEventHandlerByHandler(e,t,{},{excludeValidators:["disabled","readOnly"]})}};module.exports=e;
},{}],"KZEh":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=require("../../events/core/events_engine"),i=require("../../core/utils/common").noop,n=require("../../events/click"),s=require("../../localization/message"),o=require("../../animation/translator"),a=require("../../events/utils"),r=require("../../events/core/emitter.feedback"),h=require("./ui.list.edit.decorator_menu_helper"),d=require("./ui.list.edit.decorator_registry").register,c=require("./ui.list.edit.decorator.switchable"),u=require("../../animation/fx"),l=require("../themes"),_=require("../action_sheet"),m="dxListEditDecorator",f=a.addNamespace(n.name,m),b=a.addNamespace(r.active,m),p="dx-list-slide-menu",C="dx-list-slide-menu-wrapper",g="dx-list-slide-menu-content",v="dx-list-slide-menu-buttons-container",B="dx-list-slide-menu-buttons",$="dx-list-slide-menu-button",P="dx-list-slide-menu-button-menu",W="dx-list-slide-menu-button-delete",D=400,x="cubic-bezier(0.075, 0.82, 0.165, 1)";d("menu","slide",c.inherit({_shouldHandleSwipe:!0,_init:function(){this.callBase.apply(this,arguments),this._$buttonsContainer=t("<div>").addClass(v),e.on(this._$buttonsContainer,b,i),this._$buttons=t("<div>").addClass(B).appendTo(this._$buttonsContainer),this._renderMenu(),this._renderDeleteButton()},_renderMenu:function(){if(this._menuEnabled()){var e=this._menuItems();if(1===e.length){var i=e[0];this._renderMenuButton(i.text,function(t){t.stopPropagation(),this._fireAction(i)}.bind(this))}else{var n=t("<div>").addClass(p);this._menu=this._list._createComponent(n,_,{showTitle:!1,items:e,onItemClick:function(t){this._fireAction(t.itemData)}.bind(this),integrationOptions:{}}),n.appendTo(this._list.$element());var o=this._renderMenuButton(s.format("dxListEditDecorator-more"),function(t){t.stopPropagation(),this._menu.show()}.bind(this));this._menu.option("target",o)}}},_renderMenuButton:function(i,n){var s=t("<div>").addClass($).addClass(P).text(i);return this._$buttons.append(s),e.on(s,f,n),s},_renderDeleteButton:function(){if(this._deleteEnabled()){var i=t("<div>").addClass($).addClass(W).text(l.isMaterial()?"":s.format("dxListEditDecorator-delete"));e.on(i,f,function(t){t.stopPropagation(),this._deleteItem()}.bind(this)),this._$buttons.append(i)}},_fireAction:function(e){this._fireMenuAction(t(this._cachedNode),e.action),this._cancelDeleteReadyItem()},modifyElement:function(e){this.callBase.apply(this,arguments);var i=e.$itemElement;i.addClass(C);var n=t("<div>").addClass(g);i.wrapInner(n)},_getDeleteButtonContainer:function(){return this._$buttonsContainer},handleClick:function(e,i){return!!t(i.target).closest("."+g).length&&this.callBase.apply(this,arguments)},_swipeStartHandler:function(t){this._enablePositioning(t),this._cacheItemData(t),this._setPositions(this._getPositions(0))},_swipeUpdateHandler:function(t,e){var i=this._isRtlEnabled()?-1:1,n=this._isReadyToDelete(t);if(this._getCurrentPositions().content!==this._getStartPositions().content||n||!(e.offset*i>0)){var s=this._cachedItemWidth*e.offset,o=n?-this._cachedButtonWidth*i:0,a=(s+o)*i<0?Math.abs((s+o)/this._cachedButtonWidth):0;return this._setPositions(this._getPositions(a)),!0}e.cancel=!0},_getStartPositions:function(){var t=this._isRtlEnabled(),e=t?-1:1;return{content:0,buttonsContainer:t?-this._cachedButtonWidth:this._cachedItemWidth,buttons:-this._cachedButtonWidth*e}},_getPositions:function(t){var e=this._isRtlEnabled()?-1:1,i=this._getStartPositions();return{content:i.content-t*this._cachedButtonWidth*e,buttonsContainer:i.buttonsContainer-Math.min(t,1)*this._cachedButtonWidth*e,buttons:i.buttons+Math.min(t,1)*this._cachedButtonWidth*e}},_getCurrentPositions:function(){return{content:o.locate(this._$cachedContent).left,buttonsContainer:o.locate(this._$buttonsContainer).left,buttons:o.locate(this._$buttons).left}},_setPositions:function(t){o.move(this._$cachedContent,{left:t.content}),o.move(this._$buttonsContainer,{left:t.buttonsContainer}),o.move(this._$buttons,{left:t.buttons})},_cacheItemData:function(t){t[0]!==this._cachedNode&&(this._$cachedContent=t.find("."+g),this._cachedItemWidth=t.outerWidth(),this._cachedButtonWidth=this._cachedButtonWidth||this._$buttons.outerWidth(),this._$buttonsContainer.width(this._cachedButtonWidth),this._$cachedContent.length&&(this._cachedNode=t[0]))},_minButtonContainerLeftOffset:function(){return this._cachedItemWidth-this._cachedButtonWidth},_swipeEndHandler:function(t,e){this._cacheItemData(t);var i=this._isRtlEnabled()?1:-1,n=this._cachedItemWidth*e.offset,s=!this._isReadyToDelete(t)&&n*i>.2*this._cachedButtonWidth,o=e.targetOffset===i&&s;return this._toggleDeleteReady(t,o),!0},_enablePositioning:function(t){u.stop(this._$cachedContent,!0),this.callBase.apply(this,arguments),this._$buttonsContainer.appendTo(t)},_disablePositioning:function(){this.callBase.apply(this,arguments),this._$buttonsContainer.detach()},_animatePrepareDeleteReady:function(){return this._animateToPositions(this._getPositions(1))},_animateForgetDeleteReady:function(t){return this._cacheItemData(t),this._animateToPositions(this._getPositions(0))},_animateToPositions:function(t){var e=this,i=this._getCurrentPositions(),n=Math.min(Math.abs(i.content-t.content)/this._cachedButtonWidth,1);return u.animate(this._$cachedContent,{from:i,to:t,easing:x,duration:D*n,strategy:"frame",draw:function(t){e._setPositions(t)}})},dispose:function(){this._menu&&this._menu.$element().remove(),this._$buttonsContainer&&this._$buttonsContainer.remove(),this.callBase.apply(this,arguments)}}).include(h));
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/utils/common":"GcQA","../../events/click":"RTmy","../../localization/message":"Njcj","../../animation/translator":"IRTp","../../events/utils":"cNvJ","../../events/core/emitter.feedback":"rWdi","./ui.list.edit.decorator_menu_helper":"lQYN","./ui.list.edit.decorator_registry":"Mt57","./ui.list.edit.decorator.switchable":"BFTb","../../animation/fx":"qxJT","../themes":"k2ha","../action_sheet":"G6Y4"}],"b3Vi":[function(require,module,exports) {
"use strict";var e=require("../../animation/translator"),t=require("../../animation/fx"),i=require("./ui.list.edit.decorator_registry").register,r=require("./ui.list.edit.decorator"),n=require("../../core/utils/deferred").Deferred;i("delete","swipe",r.inherit({_shouldHandleSwipe:!0,_renderItemPosition:function(i,r,s){var o=new n,d=r*this._itemElementWidth;return s?t.animate(i,{to:{left:d},type:"slide",complete:function(){o.resolve(i,r)}}):(e.move(i,{left:d}),o.resolve()),o.promise()},_swipeStartHandler:function(e){return this._itemElementWidth=e.width(),!0},_swipeUpdateHandler:function(e,t){return this._renderItemPosition(e,t.offset),!0},_swipeEndHandler:function(e,t){var i=t.targetOffset;return this._renderItemPosition(e,i,!0).done(function(e,t){Math.abs(t)&&this._list.deleteItem(e).fail(function(){this._renderItemPosition(e,0,!0)}.bind(this))}.bind(this)),!0}}));
},{"../../animation/translator":"IRTp","../../animation/fx":"qxJT","./ui.list.edit.decorator_registry":"Mt57","./ui.list.edit.decorator":"LLFo","../../core/utils/deferred":"g5TB"}],"TTjN":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=require("./ui.list.edit.decorator_menu_helper"),i=require("../../localization/message"),n=require("./ui.list.edit.decorator_registry").register,s=require("./ui.list.edit.decorator"),o=require("../overlay"),r=require("./ui.list.base"),u="dx-list-context-menu",h="dx-list-context-menucontent";n("menu","context",s.inherit({_init:function(){var e=t("<div>").addClass(u);this._list.$element().append(e),this._menu=this._renderOverlay(e)},_renderOverlay:function(e){return this._list._createComponent(e,o,{shading:!1,deferRendering:!0,closeOnTargetScroll:!0,closeOnOutsideClick:function(e){return!t(e.target).closest("."+u).length},animation:{show:{type:"slide",duration:300,from:{height:0,opacity:1},to:{height:function(){return this._$menuList.outerHeight()}.bind(this),opacity:1}},hide:{type:"slide",duration:0,from:{opacity:1},to:{opacity:0}}},height:function(){return this._$menuList?this._$menuList.outerHeight():0}.bind(this),width:function(){return this._list.$element().outerWidth()}.bind(this),onContentReady:this._renderMenuContent.bind(this)})},_renderMenuContent:function(e){var n=e.component.$content(),s=this._menuItems().slice();this._deleteEnabled()&&s.push({text:i.format("dxListEditDecorator-delete"),action:this._deleteItem.bind(this)}),this._$menuList=t("<div>"),this._list._createComponent(this._$menuList,r,{items:s,onItemClick:this._menuItemClickHandler.bind(this),height:"auto",integrationOptions:{}}),n.addClass(h),n.append(this._$menuList)},_menuItemClickHandler:function(t){this._menu.hide(),this._fireMenuAction(this._$itemWithMenu,t.itemData.action)},_deleteItem:function(){this._list.deleteItem(this._$itemWithMenu)},handleContextMenu:function(t){return this._$itemWithMenu=t,this._menu.option({position:{my:"top",at:"bottom",of:t,collision:"flip"}}),this._menu.show(),!0},dispose:function(){this._menu&&this._menu.$element().remove(),this.callBase.apply(this,arguments)}}).include(e));
},{"../../core/renderer":"qxFQ","./ui.list.edit.decorator_menu_helper":"lQYN","../../localization/message":"Njcj","./ui.list.edit.decorator_registry":"Mt57","./ui.list.edit.decorator":"LLFo","../overlay":"byva","./ui.list.base":"g42c"}],"LByi":[function(require,module,exports) {
"use strict";var e=require("../core/renderer"),t=require("../events/core/events_engine"),i=require("../core/devices"),n=require("../core/utils/extend").extend,s=require("./widget/utils.ink_ripple"),a=require("./editor/editor"),r=require("../core/component_registrator"),c=require("../events/utils"),o=require("../events/click"),l="dx-checkbox",d="dx-checkbox-icon",h="dx-checkbox-checked",u="dx-checkbox-container",_="dx-checkbox-text",p="dx-checkbox-has-text",v="dx-checkbox-indeterminate",k=100,m=a.inherit({_supportedKeys:function(){return n(this.callBase(),{space:function(e){e.preventDefault(),this._clickAction({event:e})}})},_getDefaultOptions:function(){return n(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1,text:"",useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===i.real().deviceType&&!i.isSimulator()},options:{focusStateEnabled:!0}}])},_canValueBeChangedByClick:function(){return!0},_feedbackHideTimeout:k,_initMarkup:function(){this._renderSubmitElement(),this._$container=e("<div>").addClass(u),this.setAria("role","checkbox"),this.$element().addClass(l),this._renderValue(),this._renderIcon(),this._renderText(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().append(this._$container),this.callBase()},_render:function(){this._renderClick(),this.callBase()},_renderSubmitElement:function(){this._$submitElement=e("<input>").attr("type","hidden").appendTo(this.$element())},_getSubmitElement:function(){return this._$submitElement},_renderInkRipple:function(){this._inkRipple=s.render({waveSizeCoefficient:2.5,useHoldAnimation:!1,wavesNumber:2,isCentered:!0})},_renderInkWave:function(e,t,i,n){if(this._inkRipple){var s={element:e,event:t,wave:n};i?this._inkRipple.showWave(s):this._inkRipple.hideWave(s)}},_updateFocusState:function(e,t){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,e,t,0)},_toggleActiveState:function(e,t,i){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,i,t,1)},_renderIcon:function(){this._$icon=e("<span>").addClass(d).prependTo(this._$container)},_renderText:function(){var t=this.option("text");t?(this._$text||(this._$text=e("<span>").addClass(_)),this._$text.text(t),this._$container.append(this._$text),this.$element().addClass(p)):this._$text&&(this._$text.remove(),this.$element().removeClass(p))},_renderClick:function(){var e=this,i=c.addNamespace(o.name,e.NAME);e._clickAction=e._createAction(e._clickHandler),t.off(e.$element(),i),t.on(e.$element(),i,function(t){e._clickAction({event:t})})},_clickHandler:function(e){var t=e.component;t._saveValueChangeEvent(e.event),t.option("value",!t.option("value"))},_renderValue:function(){var e=this.$element(),t=this.option("value"),i=void 0===t;e.toggleClass(h,Boolean(t)),e.toggleClass(v,i),this._getSubmitElement().val(t),this.setAria("checked",i?"mixed":t||"false")},_optionChanged:function(e){switch(e.name){case"useInkRipple":this._invalidate();break;case"value":this._renderValue(),this.callBase(e);break;case"text":this._renderText(),this._renderDimensions();break;default:this.callBase(e)}},_clean:function(){delete this._inkRipple,this.callBase()}});r("dxCheckBox",m),module.exports=m,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../events/core/events_engine":"oNrb","../core/devices":"LpzF","../core/utils/extend":"ac8T","./widget/utils.ink_ripple":"NDxX","./editor/editor":"IJZF","../core/component_registrator":"g3fO","../events/utils":"cNvJ","../events/click":"RTmy"}],"jq7J":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../events/core/events_engine"),i=require("../../core/devices"),n=require("../../core/utils/extend").extend,s=require("../widget/utils.ink_ripple"),a=require("../../core/component_registrator"),r=require("../editor/editor"),c=require("../../events/utils"),o=require("../../events/click"),l="dx-radiobutton",d="dx-radiobutton-icon",u="dx-radiobutton-icon-dot",h="dx-radiobutton-checked",p="dx-radiobutton-icon-checked",_=r.inherit({_supportedKeys:function(){return n(this.callBase(),{space:function(e){e.preventDefault(),this._clickAction({event:e})}})},_getDefaultOptions:function(){return n(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1,useInkRipple:!1})},_canValueBeChangedByClick:function(){return!0},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===i.real().deviceType&&!i.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this.$element().addClass(l)},_initMarkup:function(){this.callBase(),this._renderIcon(),this.option("useInkRipple")&&this._renderInkRipple(),this._renderCheckedState(this.option("value")),this._renderClick(),this.setAria("role","radio")},_renderInkRipple:function(){this._inkRipple=s.render({waveSizeCoefficient:3.3,useHoldAnimation:!1,wavesNumber:2,isCentered:!0})},_renderInkWave:function(e,t,i,n){if(this._inkRipple){var s={element:e,event:t,wave:n};i?this._inkRipple.showWave(s):this._inkRipple.hideWave(s)}},_updateFocusState:function(e,t){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,e,t,0)},_toggleActiveState:function(e,t,i){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,i,t,1)},_renderIcon:function(){this._$icon=e("<div>").addClass(d),e("<div>").addClass(u).appendTo(this._$icon),this.$element().append(this._$icon)},_renderCheckedState:function(e){this.$element().toggleClass(h,e).find("."+d).toggleClass(p,e),this.setAria("checked",e)},_renderClick:function(){var e=c.addNamespace(o.name,this.NAME);this._clickAction=this._createAction(function(e){this._clickHandler(e.event)}.bind(this)),t.off(this.$element(),e),t.on(this.$element(),e,function(e){this._clickAction({event:e})}.bind(this))},_clickHandler:function(e){this._saveValueChangeEvent(e),this.option("value",!0)},_optionChanged:function(e){switch(e.name){case"useInkRipple":this._invalidate();break;case"value":this._renderCheckedState(e.value),this.callBase(e);break;default:this.callBase(e)}},_clean:function(){delete this._inkRipple,this.callBase()}});a("dxRadioButton",_),module.exports=_;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/devices":"LpzF","../../core/utils/extend":"ac8T","../widget/utils.ink_ripple":"NDxX","../../core/component_registrator":"g3fO","../editor/editor":"IJZF","../../events/utils":"cNvJ","../../events/click":"RTmy"}],"IFAl":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../events/core/events_engine"),l=require("../../events/click"),s=require("../../core/utils/extend").extend,i=require("../widget/ui.errors"),n=require("../check_box"),o=require("../radio_group/radio_button"),c=require("../../events/utils"),a=require("./ui.list.edit.decorator_registry").register,r=require("./ui.list.edit.decorator"),d="dx-list-select-decorator-enabled",h="dx-list-select-all",_="dx-list-select-all-checkbox",u="dx-list-select-all-label",p="dx-list-select-checkbox-container",A="dx-list-select-checkbox",g="dx-list-select-radiobutton-container",v="dx-list-select-radiobutton",C="dx-state-focused",f=c.addNamespace(l.name,"dxListEditDecorator");a("selection","default",r.inherit({_init:function(){this.callBase.apply(this,arguments);var e=this._list.option("selectionMode");this._singleStrategy="single"===e,this._containerClass=this._singleStrategy?g:p,this._controlClass=this._singleStrategy?v:A,this._controlWidget=this._singleStrategy?o:n,this._list.$element().addClass(d)},beforeBag:function(t){var l=t.$itemElement,i=t.$container,n=e("<div>").addClass(this._controlClass);new this._controlWidget(n,s(this._commonOptions(),{value:this._isSelected(l),focusStateEnabled:!1,hoverStateEnabled:!1,onValueChanged:function(e){this._processCheckedState(l,e.value),e.event&&e.event.stopPropagation()}.bind(this)})),i.addClass(this._containerClass),i.append(n)},modifyElement:function(e){this.callBase.apply(this,arguments);var l=e.$itemElement,s=this._controlWidget.getInstance(l.find("."+this._controlClass));t.on(l,"stateChanged",function(e,t){s.option("value",t)}.bind(this))},_updateSelectAllState:function(){this._$selectAll&&this._selectAllCheckBox.option("value",this._list.isSelectAll())},afterRender:function(){"all"===this._list.option("selectionMode")&&(this._$selectAll?this._updateSelectAllState():this._renderSelectAll())},handleKeyboardEvents:function(e,t){var l=!t,s=this._list,i=this._$selectAll,n=s._getLastItemIndex();return!(!i||!(t&&0===e||l&&e===n))&&(s.option("focusedElement",i),s.scrollToItem(s.option("focusedElement")),!0)},handleEnterPressing:function(){if(this._$selectAll&&this._$selectAll.hasClass(C))return this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value")),!0},_renderSelectAll:function(){var t=this._$selectAll=e("<div>").addClass(h),l=this._list,s=l._supportedKeys().downArrow.bind(l);this._selectAllCheckBox=l._createComponent(e("<div>").addClass(_).appendTo(t),n,{focusStateEnabled:!1,hoverStateEnabled:!1}),this._selectAllCheckBox.registerKeyHandler("downArrow",s),e("<div>").addClass(u).text(this._list.option("selectAllText")).appendTo(t),this._list.itemsContainer().prepend(t),this._updateSelectAllState(),this._attachSelectAllHandler()},_attachSelectAllHandler:function(){this._selectAllCheckBox.option("onValueChanged",this._selectAllHandler.bind(this)),t.off(this._$selectAll,f),t.on(this._$selectAll,f,this._selectAllClickHandler.bind(this))},_selectAllHandler:function(e){e.event&&e.event.stopPropagation();var t=this._selectAllCheckBox.option("value");!1!==this._list._createActionByOption("onSelectAllValueChanged")({value:t})&&(!0===t?this._selectAllItems():!1===t&&this._unselectAllItems())},_checkSelectAllCapability:function(){var e=this._list,t=e.getDataSource();return!!("allPages"!==e.option("selectAllMode")||!e.option("grouped")||t&&t.group())||(i.log("W1010"),!1)},_selectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.selectAll("page"===this._list.option("selectAllMode"))},_unselectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.deselectAll("page"===this._list.option("selectAllMode"))},_selectAllClickHandler:function(){this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value"))},_isSelected:function(e){return this._list.isItemSelected(e)},_processCheckedState:function(e,t){t?this._list.selectItem(e):this._list.unselectItem(e)},dispose:function(){this._disposeSelectAll(),this._list.$element().removeClass(d),this.callBase.apply(this,arguments)},_disposeSelectAll:function(){this._$selectAll&&(this._$selectAll.remove(),this._$selectAll=null)}}));
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../events/click":"RTmy","../../core/utils/extend":"ac8T","../widget/ui.errors":"RFsS","../check_box":"LByi","../radio_group/radio_button":"jq7J","../../events/utils":"cNvJ","./ui.list.edit.decorator_registry":"Mt57","./ui.list.edit.decorator":"LLFo"}],"BUWd":[function(require,module,exports) {
"use strict";var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r,i,o=require("../core/renderer"),n=require("../core/utils/window").getWindow(),l=require("../events/core/events_engine"),a=require("../core/utils/string"),s=require("../core/component_registrator"),c=require("../animation/translator"),h=require("./scroll_view/animator"),g=require("../core/utils/browser"),u=require("../core/utils/inflector").dasherize,_=require("../core/utils/extend").extend,d=require("../core/dom_component_with_template"),p=require("../core/utils/dom").getPublicElement,f=require("../events/utils"),m=require("../events/pointer"),v=require("../events/drag"),S=require("../animation/position"),b=require("../core/utils/type"),D=require("../core/utils/common").noop,E=require("../core/utils/view_port"),y=require("../core/utils/common"),A=require("../core/templates/empty_template").EmptyTemplate,T=require("../core/utils/deferred"),$=T.when,w=T.fromPromise,H="dxDraggable",C=f.addNamespace(v.start,H),O=f.addNamespace(v.move,H),x=f.addNamespace(v.end,H),P=f.addNamespace(v.enter,H),B=f.addNamespace(v.leave,H),q=f.addNamespace(m.down,H),z="clone",k=function(){function r(e,i){t(this,r),this._preventScroll=!0,this._component=i,"vertical"===e?(this._scrollValue="scrollTop",this._overFlowAttr="overflowY",this._sizeAttr="height",this._scrollSizeProp="scrollHeight",this._limitProps={start:"top",end:"bottom"}):(this._scrollValue="scrollLeft",this._overFlowAttr="overflowX",this._sizeAttr="width",this._scrollSizeProp="scrollWidth",this._limitProps={start:"left",end:"right"})}return e(r,[{key:"updateScrollable",value:function(e,t){var r=this;e.some(function(e){return r._trySetScrollable(e,t)})||(r._$scrollable=null,r._scrollSpeed=0)}},{key:"isScrolling",value:function(){return!!this._scrollSpeed}},{key:"isScrollable",value:function(e){return("auto"===e.css(this._overFlowAttr)||e.hasClass("dx-scrollable-container"))&&e.prop(this._scrollSizeProp)>e[this._sizeAttr]()}},{key:"_trySetScrollable",value:function(e,t){var r,i=o(e),n=this._component.option("scrollSensitivity"),l=this.isScrollable(i);return l&&(n>(r=this._calculateDistanceToBorders(i,t))[this._limitProps.start]?this._preventScroll||(this._scrollSpeed=-this._calculateScrollSpeed(r[this._limitProps.start]),this._$scrollable=i):n>r[this._limitProps.end]?this._preventScroll||(this._scrollSpeed=this._calculateScrollSpeed(r[this._limitProps.end]),this._$scrollable=i):(l=!1,this._preventScroll=!1)),l}},{key:"_calculateDistanceToBorders",value:function(e,t){var r,i=e.get(0);return i?(r=i.getBoundingClientRect(),{left:t.x-r.left,top:t.y-r.top,right:r.right-t.x,bottom:r.bottom-t.y}):{}}},{key:"_calculateScrollSpeed",value:function(e){var t=this._component,r=t.option("scrollSensitivity"),i=t.option("scrollSpeed");return Math.ceil(Math.pow((r-e)/r,2)*i)}},{key:"scrollByStep",value:function(){var e;if(this._$scrollable&&this._scrollSpeed){if(this._$scrollable.hasClass("dx-scrollable-container")){var t=this._$scrollable.closest(".dx-scrollable"),r=t.data("dxScrollable")||t.data("dxScrollView");r&&((e=r.scrollOffset())[this._limitProps.start]+=this._scrollSpeed,r.scrollTo(e))}else e=this._$scrollable[this._scrollValue]()+this._scrollSpeed,this._$scrollable[this._scrollValue](e);var i=this._component._dragMoveArgs;i&&this._component._dragMoveHandler(i)}}},{key:"reset",value:function(){this._$scrollable=null,this._scrollSpeed=0,this._preventScroll=!0}},{key:"isOutsideScrollable",value:function(e,t){var r=this._component;if(!r._$scrollable||!e.closest(r._$scrollable).length)return!1;var i=r._$scrollable.get(0).getBoundingClientRect(),o=i[this._limitProps.start],n=i[this._sizeAttr],l="width"===this._sizeAttr?t.pageX:t.pageY;return l<o||l>o+n}}]),r}(),M=h.inherit({ctor:function(e){this.callBase(),this._strategy=e},_step:function(){var e=this._strategy._horizontalScrollHelper,t=this._strategy._verticalScrollHelper;e&&e.scrollByStep(),t&&t.scrollByStep()}}),F=d.inherit({reset:D,dragMove:D,dragEnter:D,dragLeave:D,dragEnd:D,_getDefaultOptions:function(){return _(this.callBase(),{onDragStart:null,onDragMove:null,onDragEnd:null,onDrop:null,immediate:!0,dragDirection:"both",boundary:void 0,boundOffset:0,allowMoveByClick:!1,itemData:null,container:void 0,dragTemplate:void 0,contentTemplate:"content",handle:"",filter:"",clone:!1,autoScroll:!0,scrollSpeed:30,scrollSensitivity:60,group:void 0,data:void 0})},_setOptionsByReference:function(){this.callBase.apply(this,arguments),_(this._optionsByReference,{component:!0,group:!0,itemData:!0,data:!0})},_init:function(){this.callBase(),this._attachEventHandlers(),this._scrollAnimator=new M(this),this._horizontalScrollHelper=new k("horizontal",this),this._verticalScrollHelper=new k("vertical",this)},_normalizeCursorOffset:function(e){return b.isObject(e)&&(e={h:e.x,v:e.y}),{left:(e=y.splitPair(e).map(function(e){return parseFloat(e)}))[0],top:1===e.length?e[0]:e[1]}},_getNormalizedCursorOffset:function(e,t){return b.isFunction(e)&&(e=e.call(this,t)),this._normalizeCursorOffset(e)},_calculateElementOffset:function(e){var t=void 0,r=void 0,i=e.event,n=o(e.itemElement),l=o(e.dragElement),a=this._dragElementIsCloned(),s=this.option("cursorOffset"),h={left:0,top:0},g=this._initialLocate=c.locate(l);return(a||e.initialOffset||s)&&(t=e.initialOffset||n.offset(),s&&(h=this._getNormalizedCursorOffset(s,e),isFinite(h.left)&&(t.left=i.pageX),isFinite(h.top)&&(t.top=i.pageY)),r=l.offset(),t.top-=r.top+(h.top||0)-g.top,t.left-=r.left+(h.left||0)-g.left),t},_initPosition:function(e){var t=o(e.dragElement),r=this._calculateElementOffset(e);r&&this._move(r,t),this._startPosition=c.locate(t)},_startAnimator:function(){this._scrollAnimator.inProgress()||this._scrollAnimator.start()},_stopAnimator:function(){this._scrollAnimator.stop()},_addWidgetPrefix:function(e){var t=this.NAME;return u(t)+(e?"-"+e:"")},_getItemsSelector:function(){return this.option("filter")||""},_$content:function(){var e=this.$element(),t=e.children(".dx-template-wrapper");return t.length?t:e},_attachEventHandlers:function(){var e=this;if(!this.option("disabled")){var t=this._$content(),r=this._getItemsSelector(),i=this.option("allowMoveByClick"),o={direction:this.option("dragDirection"),immediate:this.option("immediate"),checkDropTarget:function(t,r){var i=e.option("group"),o=e._getSourceDraggable().option("group");return!e._verticalScrollHelper.isOutsideScrollable(t,r)&&!e._horizontalScrollHelper.isOutsideScrollable(t,r)&&(o&&o===i)}};i&&(t=this._getArea(),l.on(t,q,o,this._pointerDownHandler.bind(this))),">"===r[0]&&(r=r.slice(1)),l.on(t,C,r,o,this._dragStartHandler.bind(this)),l.on(t,O,o,this._dragMoveHandler.bind(this)),l.on(t,x,o,this._dragEndHandler.bind(this)),l.on(t,P,o,this._dragEnterHandler.bind(this)),l.on(t,B,o,this._dragLeaveHandler.bind(this))}},_dragElementIsCloned:function(){return this._$dragElement&&this._$dragElement.hasClass(this._addWidgetPrefix(z))},_getDragTemplateArgs:function(e,t){return{container:p(t),model:{itemData:this.option("itemData"),itemElement:p(e)}}},_createDragElement:function(e){var t=e,r=this.option("clone"),i=this._getContainer(),n=this.option("dragTemplate");return n?(n=this._getTemplate(n),t=o("<div>").appendTo(i),n.render(this._getDragTemplateArgs(e,t))):r&&(t=o("<div>").appendTo(i),e.clone().css({width:e.css("width"),height:e.css("height")}).appendTo(t)),t.toggleClass(this._addWidgetPrefix(z),t.get(0)!==e.get(0))},_resetDragElement:function(){this._dragElementIsCloned()?this._$dragElement.remove():this._toggleDraggingClass(!1),this._$dragElement=null},_resetSourceElement:function(){this._toggleDragSourceClass(!1),this._$sourceElement=null},_detachEventHandlers:function(){l.off(this._$content(),"."+H),l.off(this._getArea(),"."+H)},_move:function(e,t){c.move(t||this._$dragElement,e)},_getDraggableElement:function(e){var t=this._getSourceElement();if(t)return t;if(this.option("allowMoveByClick"))return this.$element();var r=o(e&&e.target),i=this._getItemsSelector();if(">"===i[0]){var n=this._$content().find(i);n.is(r)||(r=r.closest(n))}return r},_getSourceElement:function(){return this._getSourceDraggable()._$sourceElement},_pointerDownHandler:function(e){if(!f.needSkipEvent(e)){var t={},r=this.$element(),i=this.option("dragDirection");"horizontal"!==i&&"both"!==i||(t.left=e.pageX-r.offset().left+c.locate(r).left-r.width()/2),"vertical"!==i&&"both"!==i||(t.top=e.pageY-r.offset().top+c.locate(r).top-r.height()/2),this._move(t,r),this._getAction("onDragMove")(this._getEventArgs(e))}},_isValidElement:function(e,t){var r=this.option("handle"),i=o(e.originalEvent&&e.originalEvent.target);return!(r&&!i.closest(r).length)&&(!!t.length&&!t.is(".dx-state-disabled, .dx-state-disabled *"))},_dragStartHandler:function(e){var t,r,i=void 0,o=this._getDraggableElement(e);if(!this._$sourceElement)if(this._isValidElement(e,o)){var n=this._getDragStartArgs(e,o);if(this._getAction("onDragStart")(n),n.cancel)e.cancel=!0;else{this.option("itemData",n.itemData),this._setSourceDraggable(),this._$sourceElement=o,t=o.offset(),i=this._$dragElement=this._createDragElement(o),this._toggleDraggingClass(!0),this._toggleDragSourceClass(!0),r="fixed"===i.css("position"),this._initPosition(_({},n,{dragElement:i.get(0),initialOffset:r&&t}));var l=this._getArea(),a=this._getAreaOffset(l),s=this._getBoundOffset(),c=l.outerWidth(),h=l.outerHeight(),g=i.width(),u=i.height(),d=i.offset().left-a.left,p=i.offset().top-a.top;l.length&&(e.maxLeftOffset=d-s.left,e.maxRightOffset=c-d-g-s.right,e.maxTopOffset=p-s.top,e.maxBottomOffset=h-p-u-s.bottom),this.option("autoScroll")&&this._startAnimator()}}else e.cancel=!0},_getAreaOffset:function(e){var t=e&&S.offset(e);return t||{left:0,top:0}},_toggleDraggingClass:function(e){this._$dragElement&&this._$dragElement.toggleClass(this._addWidgetPrefix("dragging"),e)},_toggleDragSourceClass:function(e,t){var r=t||this._$sourceElement;r&&r.toggleClass(this._addWidgetPrefix("source"),e)},_getBoundOffset:function(){var e=this.option("boundOffset");return b.isFunction(e)&&(e=e.call(this)),a.quadToObject(e)},_getArea:function(){var e=this.option("boundary");return b.isFunction(e)&&(e=e.call(this)),o(e)},_getContainer:function(){var e=this.option("container");return void 0===e&&(e=E.value()),o(e)},_dragMoveHandler:function(e){if(this._dragMoveArgs=e,this._$dragElement){var t=e.offset,r=this._startPosition;this._move({left:r.left+t.x,top:r.top+t.y}),this._updateScrollable(e);var i=this._getEventArgs(e);if(this._getAction("onDragMove")(i),!0!==i.cancel)this._getTargetDraggable().dragMove(e)}else e.cancel=!0},_updateScrollable:function(e){var t=this,r=t._getSourceElement();if(t._$scrollable=null,r.parents().toArray().some(function(e){var r=o(e);if(t._horizontalScrollHelper.isScrollable(r)||t._verticalScrollHelper.isScrollable(r))return t._$scrollable=r,!0}),t.option("autoScroll")){var i=o(n),l={x:e.pageX-i.scrollLeft(),y:e.pageY-i.scrollTop()},a=t.getElementsFromPoint(l);t._verticalScrollHelper.updateScrollable(a,l),t._horizontalScrollHelper.updateScrollable(a,l)}},getElementsFromPoint:function(e){var t=this._$dragElement.get(0).ownerDocument;if(g.msie){var r=t.msElementsFromPoint(e.x,e.y);return r?Array.prototype.slice.call(r):[]}return t.elementsFromPoint(e.x,e.y)},_defaultActionArgs:function(){var e=this.callBase.apply(this,arguments),t=this.option("component");return t&&(e.component=t,e.element=t.element()),e},_getEventArgs:function(e){var t=this._getSourceDraggable(),r=this._getTargetDraggable();return{event:e,itemData:t.option("itemData"),itemElement:p(t._$sourceElement),fromComponent:t.option("component")||t,toComponent:r.option("component")||r,fromData:t.option("data"),toData:r.option("data")}},_getDragStartArgs:function(e,t){var r=this._getEventArgs(e);return{event:r.event,itemData:r.itemData,itemElement:t,fromData:r.fromData}},_revertItemToInitialPosition:function(){!this._dragElementIsCloned()&&this._move(this._initialLocate,this._$sourceElement)},_dragEndHandler:function(e){var t=this,r=this._getEventArgs(e),i=this._getEventArgs(e),o=this._getTargetDraggable(),n=!0;try{this._getAction("onDragEnd")(r)}finally{$(w(r.cancel)).done(function(e){e||(o!==t&&o._getAction("onDrop")(i),i.cancel||(o.dragEnd(r),n=!1))}).always(function(){n&&t._revertItemToInitialPosition(),t.reset(),o.reset(),t._stopAnimator(),t._horizontalScrollHelper.reset(),t._verticalScrollHelper.reset(),t._resetDragElement(),t._resetSourceElement(),t._resetTargetDraggable(),t._resetSourceDraggable()})}},_dragEnterHandler:function(e){this._setTargetDraggable(),this._getSourceDraggable().dragEnter(e)},_dragLeaveHandler:function(e){this._resetTargetDraggable(),this!==this._getSourceDraggable()&&this.reset(),this._getSourceDraggable().dragLeave(e)},_getAction:function(e){return this["_"+e+"Action"]||this._createActionByOption(e)},_getAnonymousTemplateName:function(){return"content"},_initTemplates:function(){this.option("contentTemplate")&&(this.callBase.apply(this,arguments),this._defaultTemplates.content=new A)},_render:function(){this.callBase(),this.$element().addClass(this._addWidgetPrefix());var e=this._getAnonymousTemplateName()===this.option("contentTemplate"),t=this._getTemplateByOption("contentTemplate");t&&o(t.render({container:this.element(),transclude:e}))},_optionChanged:function(e){var t=e.name;switch(t){case"onDragStart":case"onDragMove":case"onDragEnd":case"onDrop":this["_"+t+"Action"]=this._createActionByOption(t);break;case"dragTemplate":case"contentTemplate":case"container":case"clone":this._resetDragElement();break;case"allowMoveByClick":case"dragDirection":case"disabled":case"boundary":case"filter":case"immediate":this._resetDragElement(),this._detachEventHandlers(),this._attachEventHandlers();break;case"autoScroll":this._verticalScrollHelper.reset(),this._horizontalScrollHelper.reset();break;case"scrollSensitivity":case"scrollSpeed":case"boundOffset":case"handle":case"group":case"data":case"itemData":break;default:this.callBase(e)}},_getTargetDraggable:function(){return r||this},_getSourceDraggable:function(){return i||this},_setTargetDraggable:function(){var e=this.option("group"),t=this._getSourceDraggable();e&&e===t.option("group")&&(r=this)},_setSourceDraggable:function(){i=this},_resetSourceDraggable:function(){i=null},_resetTargetDraggable:function(){r=null},_dispose:function(){this.callBase(),this._detachEventHandlers(),this._resetDragElement(),this._resetTargetDraggable(),this._resetSourceDraggable(),this._$sourceElement=null,this._stopAnimator()}});s(H,F),module.exports=F,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../core/utils/window":"NXH3","../events/core/events_engine":"oNrb","../core/utils/string":"X4J5","../core/component_registrator":"g3fO","../animation/translator":"IRTp","./scroll_view/animator":"Lufy","../core/utils/browser":"nlvS","../core/utils/inflector":"i2nR","../core/utils/extend":"ac8T","../core/dom_component_with_template":"e4L5","../core/utils/dom":"vDwZ","../events/utils":"cNvJ","../events/pointer":"HDhW","../events/drag":"aHo5","../animation/position":"cuhc","../core/utils/type":"Mw4w","../core/utils/common":"GcQA","../core/utils/view_port":"SnKV","../core/templates/empty_template":"pCBV","../core/utils/deferred":"g5TB"}],"q1DR":[function(require,module,exports) {
"use strict";var e=require("../core/renderer"),t=g(e),i=require("../core/component_registrator"),o=g(i),n=require("../core/utils/extend"),r=require("./draggable"),s=g(r),l=require("../core/utils/dom"),a=require("../animation/translator"),d=g(a),h=require("../animation/fx"),c=g(h);function g(e){return e&&e.__esModule?e:{default:e}}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var f="dxSortable",m="placeholder",_="clone",p=s.default.inherit({_getDefaultOptions:function(){return(0,n.extend)(this.callBase(),{clone:!0,filter:"> *",itemOrientation:"vertical",dropFeedbackMode:"push",allowDropInsideItem:!1,allowReordering:!0,moveItemOnDrop:!1,onDragChange:null,onAdd:null,onRemove:null,onReorder:null,onPlaceholderPrepared:null,animation:{type:"slide",duration:300},fromIndex:null,toIndex:null,dropInsideItem:!1,itemPoints:null})},reset:function(){this.option({dropInsideItem:!1,toIndex:null,fromIndex:null}),this._$placeholderElement&&this._$placeholderElement.remove(),this._$placeholderElement=null,!this._isIndicateMode()&&this._$modifiedItem&&(this._$modifiedItem.css("marginBottom",this._modifiedItemMargin),this._$modifiedItem=null)},_dragStartHandler:function(e){if(this.callBase.apply(this,arguments),!0!==e.cancel){var t=this._getSourceElement();this._updateItemPoints(),this.option("fromIndex",this._getElementIndex(t))}},_dragEnterHandler:function(){if(this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&(this._updateItemPoints(),this.option("fromIndex",-1),!this._isIndicateMode())){var e=this.option("itemPoints"),i=e[e.length-1];if(i){var o=this.$element(),n=this._getSourceElement(),r=this._isVerticalOrientation(),s=r?n.outerHeight(!0):n.outerWidth(!0),l=o.get(0)[r?"scrollHeight":"scrollWidth"],a=o.get(0)[r?"scrollTop":"scrollLeft"],d=r?"top":"left",h=i[d],c=o.offset()[d]+l-a-h;if(c<s&&r){var g=(0,t.default)(this._getItems()).last();this._$modifiedItem=g,this._modifiedItemMargin=g.get(0).style.marginBottom,g.css("marginBottom",s-c);var u=g.closest(".dx-sortable"),f=u.data("dxScrollable")||u.data("dxScrollView");f&&f.update()}}}},dragEnter:function(){this===this._getTargetDraggable()?this.option("toIndex",this.option("fromIndex")):this.option("toIndex",-1)},dragLeave:function(){this===this._getTargetDraggable()?this.option("toIndex",-1):this.option("toIndex",this.option("fromIndex"))},dragEnd:function(e){var t=this._getSourceElement(),i=this._getSourceDraggable(),o=i.NAME!==this.NAME,n=this.option("toIndex");if(null!==n&&n>=0){var r=void 0,s=void 0;i!==this&&((r=this._fireAddEvent(e))||(s=this._fireRemoveEvent(e))),o&&d.default.resetPosition(t),this.option("moveItemOnDrop")&&!r&&this._moveItem(t,n,s),i===this&&this._fireReorderEvent(e)}},dragMove:function(e){var t=this.option("itemPoints");if(t){for(var i=this._isVerticalOrientation(),o=i?"top":"left",n=i?e.pageY:e.pageX,r=void 0,s=t.length-1;s>=0;s--){var l=t[s+1]&&(t[s][o]+t[s+1][o])/2;if(!(l>n||void 0===l))break;r=t[s]}r&&(this._updatePlaceholderPosition(e,r),this._verticalScrollHelper.isScrolling()&&this._isIndicateMode()&&this._movePlaceholder())}},_isIndicateMode:function(){return"indicate"===this.option("dropFeedbackMode")||this.option("allowDropInsideItem")},_createPlaceholder:function(){var e=void 0;return this._isIndicateMode()&&(e=(0,t.default)("<div>").addClass(this._addWidgetPrefix(m)).insertBefore(this._getSourceDraggable()._$dragElement)),this._$placeholderElement=e,e},_getItems:function(){var e=this._getItemsSelector();return this._$content().find(e).not("."+this._addWidgetPrefix(m)).not("."+this._addWidgetPrefix(_)).toArray()},_allowReordering:function(){return this._getSourceDraggable()!==this._getTargetDraggable()||this.option("allowReordering")},_isValidPoint:function(e,t,i){if(!(i||this._allowReordering())&&0!==t)return!1;if(!this._isIndicateMode())return!0;var o=this._getDraggableElement(),n=e.indexOf(o.get(0));return-1===n||t!==n&&(i||t!==n+1)},_getItemPoints:function(){var e=this,i=void 0,o=e._isVerticalOrientation(),r=e._getItems();if((i=r.map(function(i,o){var n=(0,t.default)(i).offset();return{dropInsideItem:!1,left:n.left,top:n.top,index:o,$item:(0,t.default)(i),width:(0,t.default)(i).outerWidth(),height:(0,t.default)(i).outerHeight(),isValid:e._isValidPoint(r,o)}})).length){var s=i[i.length-1];if(i.push({dropInsideItem:!1,index:i.length,top:o?s.top+s.height:s.top,left:o?s.left:s.left+s.width,isValid:this._isValidPoint(r,i.length)}),this.option("allowDropInsideItem")){var l=i;i=[];for(var a=0;a<l.length;a++)i.push(l[a]),l[a+1]&&i.push((0,n.extend)({},l[a],{dropInsideItem:!0,top:Math.floor((l[a].top+l[a+1].top)/2),left:Math.floor((l[a].left+l[a+1].left)/2),isValid:this._isValidPoint(r,a,!0)}))}}else i.push({dropInsideItem:!1,index:0,isValid:!0});return i},_updateItemPoints:function(){this.option("itemPoints",this._getItemPoints())},_getElementIndex:function(e){return this._getItems().indexOf(e.get(0))},_getDragTemplateArgs:function(e){var t=this.callBase.apply(this,arguments);return t.model.fromIndex=this._getElementIndex(e),t},_togglePlaceholder:function(e){this._$placeholderElement&&this._$placeholderElement.toggle(e)},_isVerticalOrientation:function(){return"vertical"===this.option("itemOrientation")},_normalizeToIndex:function(e,t){var i=this._getSourceDraggable()!==this._getTargetDraggable(),o=this.option("fromIndex");return null===e?o:Math.max(i||o>=e||t?e:e-1,0)},_updatePlaceholderPosition:function(e,t){var i=this._getSourceDraggable(),o=this._normalizeToIndex(t.index,t.dropInsideItem),r=(0,n.extend)(this._getEventArgs(e),{toIndex:o,dropInsideItem:t.dropInsideItem});t.isValid&&this._getAction("onDragChange")(r),!r.cancel&&t.isValid?(this.option({dropInsideItem:t.dropInsideItem,toIndex:t.index}),this._getAction("onPlaceholderPrepared")((0,n.extend)(this._getEventArgs(e),{placeholderElement:(0,l.getPublicElement)(this._$placeholderElement),dragElement:(0,l.getPublicElement)(i._$dragElement)})),this._updateItemPoints()):t.isValid||this.option({dropInsideItem:!1,toIndex:null})},_makeWidthCorrection:function(e,t){if(this._$scrollable&&this._$scrollable.width()<t){var i=this._$scrollable.width(),o=e.offset().left-this._$scrollable.offset().left,n=i-e.outerWidth()-o;t=o>0?i-o:n>0?i-n:i}return t},_updatePlaceholderSizes:function(e,i){var o=this.option("dropInsideItem"),n=i?(0,t.default)(i):this._getSourceElement(),r=this._isVerticalOrientation(),s="",l="";e.toggleClass(this._addWidgetPrefix("placeholder-inside"),o),(r||o)&&(s=n.outerWidth()),r&&!o||(l=n.outerHeight()),s=this._makeWidthCorrection(n,s),e.css({width:s,height:l})},_moveItem:function(e,t,i){var o=void 0,n=this._getItems(),r=n[t],s=this._getSourceDraggable();i&&(e=e.clone(),s._toggleDragSourceClass(!1,e)),r||(o=n[t-1]),this._moveItemCore(e,r,o)},_moveItemCore:function(e,i,o){i||o?o?e.insertAfter((0,t.default)(o)):e.insertBefore((0,t.default)(i)):e.appendTo(this.$element())},_getDragStartArgs:function(e,t){return(0,n.extend)(this.callBase.apply(this,arguments),{fromIndex:this._getElementIndex(t)})},_getEventArgs:function(e){var t=this._getSourceDraggable(),i=this._getTargetDraggable(),o=i.option("dropInsideItem");return(0,n.extend)(this.callBase.apply(this,arguments),{fromIndex:t.option("fromIndex"),toIndex:this._normalizeToIndex(i.option("toIndex"),o),dropInsideItem:o})},_optionChanged:function(e){var t=e.name;switch(t){case"onDragChange":case"onPlaceholderPrepared":case"onAdd":case"onRemove":case"onReorder":this["_"+t+"Action"]=this._createActionByOption(t);break;case"itemOrientation":case"allowDropInsideItem":case"moveItemOnDrop":case"dropFeedbackMode":case"itemPoints":case"fromIndex":case"animation":case"allowReordering":break;case"dropInsideItem":this._optionChangedDropInsideItem(e);break;case"toIndex":this._optionChangedToIndex(e);break;default:this.callBase(e)}},_optionChangedDropInsideItem:function(e){if(this._isIndicateMode()&&this._$placeholderElement){var t=this.option("toIndex"),i=this._getItems()[t];this._updatePlaceholderSizes(this._$placeholderElement,i)}},_isPositionVisible:function(e){var i,o=this.$element();if("hidden"!==o.css("overflow")?i=o.get(0):o.parents().each(function(){if("visible"!==(0,t.default)(this).css("overflow"))return i=this,!1}),i){var n=i.getBoundingClientRect(),r=this._isVerticalOrientation(),s=r?"top":"left",l=r?"bottom":"right";if(e[s]<n[s]||e[s]>n[l])return!1}return!0},_optionChangedToIndex:function(e){var t=e.value;if(this._isIndicateMode()){var i=null!==t&&t>=0;this._togglePlaceholder(i),i&&this._movePlaceholder()}else this._moveItems(e.previousValue,e.value)},_makeLeftCorrection:function(e,t){var i=this._$scrollable;return i&&this._isVerticalOrientation()&&i.scrollLeft()>t&&(e+=i.scrollLeft()-t),e},_movePlaceholder:function(){var e=this._$placeholderElement||this._createPlaceholder(),i=this._getItems(),o=this.option("toIndex"),n=i[o],r=i[o-1],s=this._isVerticalOrientation(),l=null,a=0;if(this._updatePlaceholderSizes(e,n),n){var d=(0,t.default)(n);l=d.offset(),a=parseFloat(d.css("marginLeft"))}else r&&((l=(0,t.default)(r).offset()).top+=s?(0,t.default)(r).outerHeight(!0):(0,t.default)(r).outerWidth(!0));l&&!this._isPositionVisible(l)&&(l=null),l&&(l.left=this._makeLeftCorrection(l.left,a),this._move(l,e)),e.toggle(!!l)},_getPositions:function(e,t,i,o){for(var n=[],r=0;r<e.length;r++){var s=0;null!==o&&null!==i?(-1===i?r>=o&&(s=t):-1===o?r>i&&(s=-t):i<o?r>i&&r<o&&(s=-t):i>o&&r>=o&&r<i&&(s=t),n.push(s)):n.push(s)}return n},_moveItems:function(e,i){for(var o=this.option("fromIndex"),r=this._isVerticalOrientation(),s=r?"top":"left",l=this._getDraggableElement(),a=r?(l.outerHeight()+l.outerHeight(!0))/2:(l.outerWidth()+l.outerWidth(!0))/2,h=this._getItems(),g=this._getPositions(h,a,o,e),f=this._getPositions(h,a,o,i),m=this.option("animation"),_=0;_<h.length;_++){var p=(0,t.default)(h[_]),I=g[_],v=f[_];null===i||null===o?(c.default.stop(p),d.default.resetPosition(p)):I!==v&&(c.default.stop(p),c.default.animate(p,(0,n.extend)({},m,{to:u({},s,v)})))}},_toggleDragSourceClass:function(e,t){var i=t||this._$sourceElement;this.callBase.apply(this,arguments),this._isIndicateMode()||i&&i.toggleClass(this._addWidgetPrefix("source-hidden"),e)},_dispose:function(){this.reset(),this.callBase()},_fireAddEvent:function(e){var t=this._getEventArgs(e);return this._getAction("onAdd")(t),t.cancel},_fireRemoveEvent:function(e){var t=this._getSourceDraggable(),i=this._getEventArgs(e);return t._getAction("onRemove")(i),i.cancel},_fireReorderEvent:function(e){var t=this._getEventArgs(e);this._getAction("onReorder")(t)}});(0,o.default)(f,p),module.exports=p,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../core/component_registrator":"g3fO","../core/utils/extend":"ac8T","./draggable":"BUWd","../core/utils/dom":"vDwZ","../animation/translator":"IRTp","../animation/fx":"qxJT"}],"G3Un":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../events/core/events_engine"),r=require("../../core/utils/extend").extend,n=require("../../events/utils"),i=require("./ui.list.edit.decorator_registry").register,a=require("./ui.list.edit.decorator"),d=require("../sortable"),o="dx-list-reorder-handle-container",l="dx-list-reorder-handle",s="dx-list-item-ghost-reordering",g="dx-state-hover";i("reorder","default",a.inherit({_init:function(){var e=this._list;this._groupedEnabled=this._list.option("grouped"),this._lockedDrag=!1,this._sortable=e._createComponent(e._scrollView.$content(),d,r({component:e,contentTemplate:null,allowReordering:!1,filter:".dx-list-item",container:e.$element(),dragDirection:e.option("itemDragging.group")?"both":"vertical",handle:"."+l,dragTemplate:this._dragTemplate,onDragStart:this._dragStartHandler.bind(this),onDragChange:this._dragChangeHandler.bind(this),onReorder:this._reorderHandler.bind(this)},e.option("itemDragging")))},_dragTemplate:function(t){return e(t.itemElement).clone().width(e(t.itemElement).width()).addClass(s).addClass(g)},_dragStartHandler:function(e){this._lockedDrag&&(e.cancel=!0)},_dragChangeHandler:function(e){!this._groupedEnabled||this._sameParent(e.fromIndex,e.toIndex)||(e.cancel=!0)},_sameParent:function(e,t){var r=this._list.getItemElementByFlatIndex(e);return this._list.getItemElementByFlatIndex(t).parent().get(0)===r.parent().get(0)},_reorderHandler:function(t){var r=this._list.getItemElementByFlatIndex(t.toIndex);this._list.reorderItem(e(t.itemElement),r)},afterBag:function(r){var i=this,a=r.$container,d=e("<div>").addClass(l);t.on(d,"dxpointerdown",function(e){i._lockedDrag=!n.isMouseEvent(e)}),t.on(d,"dxhold",{timeout:30},function(e){e.cancel=!0,i._lockedDrag=!1}),a.addClass(o),a.append(d)}}));
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/utils/extend":"ac8T","../../events/utils":"cNvJ","./ui.list.edit.decorator_registry":"Mt57","./ui.list.edit.decorator":"LLFo","../sortable":"q1DR"}],"d3DG":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../core/utils/common").noop,r=require("../../core/class"),i=require("../../core/utils/extend").extend,n=require("../../core/utils/iterator").each,o=require("../widget/ui.errors"),s=require("./ui.list.edit.decorator_registry");require("./ui.list.edit.decorator.static"),require("./ui.list.edit.decorator.switchable.button"),require("./ui.list.edit.decorator.switchable.slide"),require("./ui.list.edit.decorator.swipe"),require("./ui.list.edit.decorator.context"),require("./ui.list.edit.decorator.selection"),require("./ui.list.edit.decorator.reorder");var a=[],c=function(e,t,r){a.push({enabled:e,decoratorType:t,decoratorSubType:r})};c(function(){return this.option("menuItems").length},function(){return"menu"},function(){return this.option("menuMode")}),c(function(){return!this.option("menuItems").length&&this.option("allowItemDeleting")},function(){var e=this.option("itemDeleteMode");return"toggle"===e||"slideButton"===e||"swipe"===e||"static"===e?"delete":"menu"},function(){var e=this.option("itemDeleteMode");return"slideItem"===e&&(e="slide"),"hold"===e&&(e="context"),e}),c(function(){return"none"!==this.option("selectionMode")&&this.option("showSelectionControls")},function(){return"selection"},function(){return"default"}),c(function(){return this.option("itemDragging.allowReordering")||this.option("itemDragging.allowDropInsideItem")||this.option("itemDragging.group")},function(){return"reorder"},function(){return"default"});var u="dx-list-item-before-bag",d="dx-list-item-after-bag",l="beforeBag",h="afterBag",f="modifyElement",p="afterRender",_="getExcludedSelectors",g=r.inherit({ctor:function(e){this._list=e,this._fetchRequiredDecorators()},dispose:function(){this._decorators&&this._decorators.length&&n(this._decorators,function(e,t){t.dispose()})},_fetchRequiredDecorators:function(){this._decorators=[],n(a,function(e,t){if(t.enabled.call(this._list)){var r=t.decoratorType.call(this._list),i=t.decoratorSubType.call(this._list),n=this._createDecorator(r,i);this._decorators.push(n)}}.bind(this))},_createDecorator:function(e,t){return new(this._findDecorator(e,t))(this._list)},_findDecorator:function(e,t){var r=s.registry[e][t];if(!r)throw o.Error("E1012",e,t);return r},modifyItemElement:function(t){var r=e(t.itemElement),i={$itemElement:r};this._prependBeforeBags(r,i),this._appendAfterBags(r,i),this._applyDecorators(f,i)},afterItemsRendered:function(){this._applyDecorators(p)},_prependBeforeBags:function(e,t){var r=this._collectDecoratorsMarkup(l,t,u);e.prepend(r)},_appendAfterBags:function(e,t){var r=this._collectDecoratorsMarkup(h,t,d);e.append(r)},_collectDecoratorsMarkup:function(t,r,o){var s=e("<div>");return n(this._decorators,function(){var n=e("<div>").addClass(o);this[t](i({$container:n},r)),n.children().length&&s.append(n)}),s.children()},_applyDecorators:function(e,t){n(this._decorators,function(){this[e](t)})},_handlerExists:function(e){if(!this._decorators)return!1;for(var r=this._decorators,i=r.length,n=0;n<i;n++)if(r[n][e]!==t)return!0;return!1},_eventHandler:function(e,t,r){if(!this._decorators)return!1;for(var i=!1,n=this._decorators,o=n.length,s=0;s<o&&!(i=n[s][e](t,r));s++);return i},handleClick:function(e,t){return this._eventHandler("handleClick",e,t)},handleKeyboardEvents:function(e,t){return this._eventHandler("handleKeyboardEvents",e,t)},handleEnterPressing:function(){return this._eventHandler("handleEnterPressing")},contextMenuHandlerExists:function(){return this._handlerExists("handleContextMenu")},handleContextMenu:function(e,t){return this._eventHandler("handleContextMenu",e,t)},getExcludedItemSelectors:function(){var e=[];return this._applyDecorators(_,e),e.join(",")}});module.exports=g;
},{"../../core/renderer":"qxFQ","../../core/utils/common":"GcQA","../../core/class":"YpjV","../../core/utils/extend":"ac8T","../../core/utils/iterator":"FHcO","../widget/ui.errors":"RFsS","./ui.list.edit.decorator_registry":"Mt57","./ui.list.edit.decorator.static":"m1JW","./ui.list.edit.decorator.switchable.button":"yS5n","./ui.list.edit.decorator.switchable.slide":"KZEh","./ui.list.edit.decorator.swipe":"b3Vi","./ui.list.edit.decorator.context":"TTjN","./ui.list.edit.decorator.selection":"IFAl","./ui.list.edit.decorator.reorder":"G3Un"}],"cEh6":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=u(e),i=require("../../events/utils"),n=require("../../core/utils/extend"),s=require("./ui.list.edit.strategy.grouped"),l=u(s),r=require("../../localization/message"),a=require("./ui.list.edit.provider"),o=u(a),d=require("./ui.list.base"),c=u(d);function u(e){return e&&e.__esModule?e:{default:e}}var h="dx-list-item-selected",m="dx-list-item-response-wait",_=c.default.inherit({_supportedKeys:function(){var e=this,t=this,i=this.callBase(),s=function(n,s){var l=e._editStrategy,r=e.option("focusedElement"),a=l.getNormalizedIndex(r);if(!(a===e._getLastItemIndex())||!e._isDataSourceLoading())if(n.shiftKey&&t.option("itemDragging.allowReordering")){var o=a+(s?-1:1),d=l.getItemElement(o);e.reorderItem(r,d),e.scrollToItem(r),n.preventDefault()}else{e._editProvider.handleKeyboardEvents(a,s)||(s?i.upArrow(n):i.downArrow(n))}};return(0,n.extend)({},i,{del:function(e){t.option("allowItemDeleting")&&(e.preventDefault(),t.deleteItem(t.option("focusedElement")))},upArrow:function(e){return s(e,!0)},downArrow:s,enter:function(e){this._editProvider.handleEnterPressing()||i.enter.apply(this,arguments)},space:function(e){this._editProvider.handleEnterPressing()||i.space.apply(this,arguments)}})},_updateSelection:function(){this._editProvider.afterItemsRendered(),this.callBase()},_getLastItemIndex:function(){return this._itemElements().length-1},_refreshItemElements:function(){this.callBase();var e=this._editProvider.getExcludedItemSelectors();e.length&&(this._itemElementsCache=this._itemElementsCache.not(e))},_setDeprecatedOptions:function(){this.callBase(),(0,n.extend)(this._deprecatedOptions,{allowItemReordering:{since:"19.2",alias:"itemDragging.allowReordering"}})},_getDefaultOptions:function(){return(0,n.extend)(this.callBase(),{showSelectionControls:!1,selectionMode:"none",selectAllMode:"page",onSelectAllValueChanged:null,selectAllText:(0,r.format)("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"static",allowItemReordering:!1,itemDragging:{}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){return"ios"===e.platform},options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}}])},_init:function(){this.callBase(),this._initEditProvider()},_initDataSource:function(){this.callBase(),this._isPageSelectAll()||this._dataSource&&this._dataSource.requireTotalCount(!0)},_isPageSelectAll:function(){return"page"===this.option("selectAllMode")},_initEditProvider:function(){this._editProvider=new o.default(this)},_disposeEditProvider:function(){this._editProvider&&this._editProvider.dispose()},_refreshEditProvider:function(){this._disposeEditProvider(),this._initEditProvider()},_initEditStrategy:function(){this.option("grouped")?this._editStrategy=new l.default(this):this.callBase()},_initMarkup:function(){this._refreshEditProvider(),this.callBase()},_renderItems:function(){this.callBase.apply(this,arguments),this._editProvider.afterItemsRendered()},_selectedItemClass:function(){return h},_itemResponseWaitClass:function(){return m},_itemClickHandler:function(e){var i=(0,t.default)(e.currentTarget);i.is(".dx-state-disabled, .dx-state-disabled *")||(this._editProvider.handleClick(i,e)||this.callBase.apply(this,arguments))},_shouldFireContextMenuEvent:function(){return this.callBase.apply(this,arguments)||this._editProvider.contextMenuHandlerExists()},_itemHoldHandler:function(e){var n=(0,t.default)(e.currentTarget);n.is(".dx-state-disabled, .dx-state-disabled *")||((0,i.isTouchEvent)(e)&&this._editProvider.handleContextMenu(n,e)?e.handledByEditProvider=!0:this.callBase.apply(this,arguments))},_itemContextMenuHandler:function(e){var i=(0,t.default)(e.currentTarget);i.is(".dx-state-disabled, .dx-state-disabled *")||(!e.handledByEditProvider&&this._editProvider.handleContextMenu(i,e)?e.preventDefault():this.callBase.apply(this,arguments))},_postprocessRenderItem:function(e){this.callBase.apply(this,arguments),this._editProvider.modifyItemElement(e)},_clean:function(){this._disposeEditProvider(),this.callBase()},focusListItem:function(e){var t=this._editStrategy.getItemElement(e);this.option("focusedElement",t),this.focus(),this.scrollToItem(this.option("focusedElement"))},_optionChanged:function(e){switch(e.name){case"selectAllMode":this._initDataSource(),this._dataSource.pageIndex(0),this._dataSource.load();break;case"grouped":this._clearSelectedItems(),delete this._renderingGroupIndex,this._initEditStrategy(),this.callBase(e);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"allowItemReordering":case"itemDragging":case"selectAllText":this._invalidate();break;case"onSelectAllValueChanged":break;default:this.callBase(e)}},selectAll:function(){return this._selection.selectAll(this._isPageSelectAll())},unselectAll:function(){return this._selection.deselectAll(this._isPageSelectAll())},isSelectAll:function(){return this._selection.getSelectAllState(this._isPageSelectAll())},getFlatIndexByItemElement:function(e){return this._itemElements().index(e)},getItemElementByFlatIndex:function(e){var i=this._itemElements();return e<0||e>=i.length?(0,t.default)():i.eq(e)},getItemByIndex:function(e){return this._editStrategy.getItemDataByIndex(e)}});module.exports=_;
},{"../../core/renderer":"qxFQ","../../events/utils":"cNvJ","../../core/utils/extend":"ac8T","./ui.list.edit.strategy.grouped":"ttot","../../localization/message":"Njcj","./ui.list.edit.provider":"d3DG","./ui.list.base":"g42c"}],"lR9I":[function(require,module,exports) {
"use strict";var e=require("./ui.list.edit"),t=require("../widget/ui.search_box_mixin"),i=e.inherit(t).inherit({_addWidgetPrefix:function(e){return"dx-list-"+e},_getCombinedFilter:function(){var e,t,i=this._dataSource;return i&&(t={filter:i.filter()},i._addSearchFilter(t),e=t.filter),e},_initDataSource:function(){var e=this.option("searchValue"),i=this.option("searchExpr"),r=this.option("searchMode");this.callBase(),this._dataSource&&(e&&e.length&&this._dataSource.searchValue(e),r.length&&this._dataSource.searchOperation(t.getOperationBySearchMode(r)),i&&this._dataSource.searchExpr(i))}});module.exports=i;
},{"./ui.list.edit":"cEh6","../widget/ui.search_box_mixin":"ogZK"}],"fgGv":[function(require,module,exports) {
"use strict";var e=require("./list/ui.list.edit.search"),r=require("../core/component_registrator");r("dxList",e),module.exports=e,module.exports.default=module.exports;
},{"./list/ui.list.edit.search":"lR9I","../core/component_registrator":"g3fO"}],"xgZd":[function(require,module,exports) {
"use strict";var t=require("../core/renderer"),e=require("../core/utils/window").getWindow(),i=require("../core/devices"),o=require("../core/component_registrator"),n=require("../core/utils/extend").extend,s=require("./widget/ui.widget"),p=require("./button"),a=require("./popover"),u=require("../data_helper"),r=require("./list"),c=require("./themes"),l=require("../core/templates/child_default_template").ChildDefaultTemplate,h="dx-dropdownmenu",d="dx-dropdownmenu-popup",_="dx-dropdownmenu-popup-wrapper",m="dx-dropdownmenu-list",b="dx-dropdownmenu-button",f={popupWidth:"width",popupHeight:"height",popupMaxHeight:"maxHeight",popupAutoResizeEnabled:"autoResizeEnabled"},g={buttonIcon:"icon",buttonText:"text",buttonWidth:"width",buttonHeight:"height",buttonTemplate:"template"},v=s.inherit({_supportedKeys:function(){var t={};return this.option("opened")&&this._list.option("focusedElement")||(t=this._button._supportedKeys()),n(this.callBase(),t,{tab:function(){this._popup&&this._popup.hide()}})},_getDefaultOptions:function(){return n(this.callBase(),{items:[],onItemClick:null,dataSource:null,itemTemplate:"item",buttonText:"",buttonIcon:"overflow",buttonWidth:void 0,buttonHeight:void 0,buttonTemplate:"content",onButtonClick:null,usePopover:!1,popupWidth:"auto",popupHeight:"auto",activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,deferRendering:!1,popupPosition:{my:"top center",at:"bottom center",collision:"fit flip",offset:{v:1}},popupAnimation:void 0,onItemRendered:null,menuWidget:r,popupMaxHeight:void 0,closeOnClick:!0,useInkRipple:!1,container:void 0,popupAutoResizeEnabled:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{usePopover:!0}},{device:{platform:"generic"},options:{popupPosition:{offset:{v:4}}}},{device:function(){return"desktop"===i.real().deviceType&&!i.isSimulator()},options:{focusStateEnabled:!0}},{device:{platform:"android"},options:{popupPosition:{my:"top "+(this.option("rtlEnabled")?"left":"right"),at:"top "+(this.option("rtlEnabled")?"left":"right"),collision:"flipfit"},popupAnimation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}},{device:function(){return c.isMaterial()},options:{useInkRipple:!0}}])},_initOptions:function(t){"android"===i.current().platform&&(t.popupPosition||(t.popupPosition={at:(t.usePopover?"bottom ":"top ")+(t.rtlEnabled?"left":"right")})),this.callBase(t)},_dataSourceOptions:function(){return{paginate:!1}},_init:function(){this.callBase(),this.$element().addClass(h),this._initDataSource(),this._initItemClickAction(),this._initButtonClickAction()},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initButtonClickAction:function(){this._buttonClickAction=this._createActionByOption("onButtonClick")},_initTemplates:function(){this.callBase(),this._defaultTemplates.content=new l("content")},_initMarkup:function(){this._renderButton(),this.callBase()},_render:function(){this.callBase(),this.setAria({role:"menubar",haspopup:!0,expanded:this.option("opened")})},_renderContentImpl:function(){this.option("opened")&&this._renderPopup()},_clean:function(){this._cleanFocusState(),this._popup&&(this._popup.$element().remove(),delete this._$popup)},_renderButton:function(){var t=this.$element().addClass(b),e=this._buttonOptions();this._button=this._createComponent(t,p,e)},_toggleActiveState:function(t,e,i){this._button._toggleActiveState(t,e,i)},_buttonOptions:function(){return{text:this.option("buttonText"),icon:this.option("buttonIcon"),width:this.option("buttonWidth"),height:this.option("buttonHeight"),useInkRipple:this.option("useInkRipple"),template:this.option("buttonTemplate"),focusStateEnabled:!1,onClick:function(t){this.option("opened",!this.option("opened")),this._buttonClickAction(t)}.bind(this)}},_toggleMenuVisibility:function(t){var e=void 0===t?!this._popup.option("visible"):t;t&&this._renderPopup(),this._popup.toggle(e),this.setAria("expanded",e)},_renderPopup:function(){if(!this._$popup){var e=this._$popup=t("<div>").appendTo(this.$element()),i=this._popupOptions();this._popup=this._createComponent(e,a,i)}},_popupOptions:function(){var t=!this.option("usePopover");return{onInitialized:function(e){e.component._wrapper().addClass(_).toggleClass(d,t)},visible:this.option("opened"),deferRendering:!1,contentTemplate:function(t){this._renderList(t)}.bind(this),position:this.option("popupPosition"),animation:this.option("popupAnimation"),onOptionChanged:function(t){"visible"===t.name&&this.option("opened",t.value)}.bind(this),target:this.$element(),height:this.option("popupHeight"),width:this.option("popupWidth"),maxHeight:this.option("popupMaxHeight"),container:this.option("container"),autoResizeEnabled:this.option("popupAutoResizeEnabled")}},_renderList:function(i){var o=t(i),n=this._listOptions();o.addClass(m),this._list=this._createComponent(o,this.option("menuWidget"),n),this._list._getAriaTarget=function(){return this.$element()}.bind(this),this._setListDataSource();var s=.5*t(e).height();o.height()>s&&o.height(s)},_listOptions:function(){return{_keyboardProcessor:this._listProcessor,pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",itemTemplate:this.option("itemTemplate"),onItemClick:function(t){this.option("closeOnClick")&&this.option("opened",!1),this._itemClickAction(t)}.bind(this),tabIndex:-1,focusStateEnabled:this.option("focusStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),onItemRendered:this.option("onItemRendered"),_itemAttributes:{role:"menuitem"}}},_setListDataSource:function(){this._list&&this._list.option("dataSource",this._dataSource||this.option("items")),delete this._deferRendering},_attachKeyboardEvents:function(){this.callBase.apply(this,arguments),this._listProcessor=this._keyboardProcessor&&this._keyboardProcessor.attachChildProcessor(),this._list&&this._list.option("_keyboardProcessor",this._listProcessor)},_cleanFocusState:function(){this.callBase.apply(this,arguments),delete this._listProcessor},_toggleVisibility:function(t){this.callBase(t),this._button.option("visible",t)},_optionChanged:function(t){var e=t.name,i=t.value;switch(e){case"items":case"dataSource":this.option("deferRendering")&&!this.option("opened")?this._deferRendering=!0:(this._refreshDataSource(),this._setListDataSource());break;case"itemTemplate":this._list&&this._list.option(e,this._getTemplate(i));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._buttonClickAction();break;case"buttonIcon":case"buttonText":case"buttonWidth":case"buttonHeight":case"buttonTemplate":this._button.option(g[e],i),this._renderPopup();break;case"popupWidth":case"popupHeight":case"popupMaxHeight":case"popupAutoResizeEnabled":this._popup.option(f[e],i);break;case"usePopover":case"menuWidget":case"useInkRipple":this._invalidate();break;case"focusStateEnabled":case"activeStateEnabled":this._list&&this._list.option(e,i),this.callBase(t);break;case"onItemRendered":this._list&&this._list.option(e,i);break;case"opened":this._deferRendering&&(this._refreshDataSource(),this._setListDataSource()),this._toggleMenuVisibility(i);break;case"deferRendering":case"popupPosition":case"closeOnClick":break;case"container":this._popup&&this._popup.option(t.name,t.value);break;default:this.callBase(t)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)}}).include(u);o("dxDropDownMenu",v),module.exports=v;
},{"../core/renderer":"qxFQ","../core/utils/window":"NXH3","../core/devices":"LpzF","../core/component_registrator":"g3fO","../core/utils/extend":"ac8T","./widget/ui.widget":"gtOK","./button":"kKaI","./popover":"fJhL","../data_helper":"srCI","./list":"fgGv","./themes":"k2ha","../core/templates/child_default_template":"ZHil"}],"KgQp":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/extend").extend,t=require("./ui.toolbar.strategy"),n=require("./ui.toolbar.menu"),i=require("../drop_down_menu"),u="dx-state-invisible",r=t.inherit({NAME:"dropDownMenu",render:function(){this._hasVisibleMenuItems()&&(this._renderMenuButtonContainer(),this._renderWidget())},renderMenuItems:function(){this._menu||this.render(),this.callBase(),this._menu&&!this._menu.option("items").length&&this._menu.close()},_menuWidgetClass:function(){return i},_widgetOptions:function(){var t=this;return e(this.callBase(),{deferRendering:!0,container:t._toolbar.option("menuContainer"),menuWidget:n,onOptionChanged:function(e){"items"===e.name&&t._updateMenuVisibility(e.value)},popupPosition:{at:"bottom right",my:"top right"}})},_updateMenuVisibility:function(e){var t=e||this._getMenuItems(),n=t.length&&this._hasVisibleMenuItems(t);this._toggleMenuVisibility(n)},_toggleMenuVisibility:function(e){this._menuContainer()&&this._menuContainer().toggleClass(u,!e)},_menuContainer:function(){return this._$menuButtonContainer}});module.exports=r;
},{"../../core/utils/extend":"ac8T","./ui.toolbar.strategy":"iXYJ","./ui.toolbar.menu":"nxA7","../drop_down_menu":"xgZd"}],"TbYP":[function(require,module,exports) {
"use strict";var e=require("../core/renderer"),t=require("./themes"),n=require("../core/component_registrator"),i=require("../core/utils/common").grep,r=require("../core/utils/extend").extend,a=require("../core/utils/array"),s=require("../core/utils/iterator"),o=require("./toolbar/ui.toolbar.strategy.action_sheet"),u=require("./toolbar/ui.toolbar.strategy.drop_down_menu"),l=require("./toolbar/ui.toolbar.base"),h=require("../core/templates/child_default_template").ChildDefaultTemplate,m={actionSheet:o,dropDownMenu:u},c="dx-toolbar-item-auto-hide",d="dx-toolbar-text-auto-hide",_="dx-toolbar-item-invisible",p=l.inherit({_getDefaultOptions:function(){return r(this.callBase(),{menuItemTemplate:"menuItem",submenuType:"dropDownMenu",menuContainer:void 0})},_defaultOptionsRules:function(){var e=t.current();return this.callBase().concat([{device:function(){return t.isIos7(e)},options:{submenuType:"actionSheet"}}])},_dimensionChanged:function(e){"height"!==e&&(this._menuStrategy.toggleMenuVisibility(!1,!0),this.callBase(),this._menuStrategy.renderMenuItems())},_initTemplates:function(){this.callBase(),this._defaultTemplates.actionSheetItem=new h("item")},_initMarkup:function(){this.callBase(),this._renderMenu()},_postProcessRenderItems:function(){this._hideOverflowItems(),this._menuStrategy._updateMenuVisibility(),this.callBase(),this._menuStrategy.renderMenuItems()},_renderItem:function(e,t,n,i){var r=this.callBase(e,t,n,i);return"auto"===t.locateInMenu&&r.addClass(c),"dxButton"===t.widget&&"inMenu"===t.showText&&r.toggleClass(d),r},_getItemsWidth:function(){return this._getSummaryItemsWidth([this._$beforeSection,this._$centerSection,this._$afterSection])},_hideOverflowItems:function(t){var n=this.$element().find("."+c);if(n.length){t=t||this.$element().width(),e(n).removeClass(_);for(var i=this._getItemsWidth();n.length&&t<i;){var r=n.eq(-1);i-=r.outerWidth(),r.addClass(_),n.splice(-1,1)}}},_getMenuItems:function(){var t=this,n=i(this.option("items")||[],function(e){return t._isMenuItem(e)}),s=this._itemContainer().children("."+c+"."+_).not(".dx-state-invisible");this._restoreItems=this._restoreItems||[];var o=[].slice.call(s).map(function(n){var i=t._getItemData(n),a=e(n).children(),s=a.children();return r({menuItemTemplate:function(){return t._restoreItems.push({container:a,item:s}),e("<div>").addClass(c).append(s)}},i)});return a.merge(o,n)},_getToolbarItems:function(){var e=this;return i(this.option("items")||[],function(t){return!e._isMenuItem(t)})},_renderMenu:function(){this._renderMenuStrategy(),this._menuStrategy.render()},_renderMenuStrategy:function(){var e=this.option("submenuType");this._requireDropDownStrategy()&&(e="dropDownMenu");var t=m[e];this._menuStrategy&&this._menuStrategy.NAME===e||(this._menuStrategy=new t(this))},_requireDropDownStrategy:function(){var e=this.option("items")||[],t=!1;return s.each(e,function(e,n){"auto"===n.locateInMenu?t=!0:"always"===n.locateInMenu&&n.widget&&(t=!0)}),t},_arrangeItems:function(){if(!this.$element().is(":hidden")){this._$centerSection.css({margin:"0 auto",float:"none"}),s.each(this._restoreItems||[],function(t,n){e(n.container).append(n.item)}),this._restoreItems=[];var t=this.$element().width();this._hideOverflowItems(t),this.callBase(t)}},_itemOptionChanged:function(e,t,n){this._isMenuItem(e)?this._menuStrategy.renderMenuItems():this._isToolbarItem(e)?this.callBase(e,t,n):(this.callBase(e,t,n),this._menuStrategy.renderMenuItems())},_isMenuItem:function(e){return"menu"===e.location||"always"===e.locateInMenu},_isToolbarItem:function(e){return void 0===e.location||"never"===e.locateInMenu},_optionChanged:function(e){var t=e.name,n=e.value;switch(t){case"submenuType":this._invalidate();break;case"visible":this.callBase.apply(this,arguments),this._menuStrategy.handleToolbarVisibilityChange(n);break;case"menuItemTemplate":this._changeMenuOption("itemTemplate",this._getTemplate(n));break;case"onItemClick":this._changeMenuOption(t,n),this.callBase.apply(this,arguments);break;case"menuContainer":this._changeMenuOption("container",n);break;default:this.callBase.apply(this,arguments)}},_changeMenuOption:function(e,t){this._menuStrategy.widgetOption(e,t)}});n("dxToolbar",p),module.exports=p,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","./themes":"k2ha","../core/component_registrator":"g3fO","../core/utils/common":"GcQA","../core/utils/extend":"ac8T","../core/utils/array":"uivT","../core/utils/iterator":"FHcO","./toolbar/ui.toolbar.strategy.action_sheet":"vBzD","./toolbar/ui.toolbar.strategy.drop_down_menu":"KgQp","./toolbar/ui.toolbar.base":"l9ft","../core/templates/child_default_template":"ZHil"}],"iTs5":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=d(e),i=require("../toolbar"),o=d(i),n=require("./ui.grid_core.columns_view"),r=d(n),a=require("../../core/utils/common"),s=require("../../core/utils/type"),l=require("../../core/utils/dom");function d(e){return e&&e.__esModule?e:{default:e}}require("../drop_down_menu");var u="header-panel",h="toolbar-button",p=r.default.ColumnsView.inherit({_getToolbarItems:function(){return[]},_getButtonContainer:function(){return(0,t.default)("<div>").addClass(this.addWidgetPrefix(h))},_getToolbarButtonClass:function(e){var t=e?" "+e:"";return this.addWidgetPrefix(h)+t},_getToolbarOptions:function(){var e,t={toolbarOptions:{items:this._getToolbarItems(),onItemRendered:function(e){var t=e.itemData.onItemRendered;t&&t(e)}}};return this.executeAction("onToolbarPreparing",t),t.toolbarOptions&&!(0,s.isDefined)(t.toolbarOptions.visible)&&(e=t.toolbarOptions.items,t.toolbarOptions.visible=!(!e||!e.length)),t.toolbarOptions},_renderCore:function(){this._toolbar?this._toolbar.option(this._toolbarOptions):(this.element().addClass(this.addWidgetPrefix(u)),this._toolbar=this._createComponent((0,t.default)("<div>").appendTo(this.element()),o.default,this._toolbarOptions))},_columnOptionChanged:a.noop,_handleDataChanged:function(){this._requireReady&&this.render()},init:function(){this.callBase(),this.createAction("onToolbarPreparing",{excludeValidators:["disabled","readOnly"]})},render:function(){this._toolbarOptions=this._getToolbarOptions(),this.callBase.apply(this,arguments)},setToolbarItemDisabled:function(e,t){var i=this._toolbar;if(i){var o=i.option("items")||[],n=o.indexOf(o.filter(function(t){return t.name===e})[0]);if(n>=0){var r="items["+n+"]";i.option(r+".options")?i.option(r+".options.disabled",t):i.option(r+".disabled",t)}}},updateToolbarDimensions:function(){this._toolbar&&(0,l.triggerResizeEvent)(this.getHeaderPanel())},getHeaderPanel:function(){return this.element()},getHeight:function(){return this.getElementHeight()},optionChanged:function(e){"onToolbarPreparing"===e.name&&(this._invalidate(),e.handled=!0),this.callBase(e)},isVisible:function(){return this._toolbarOptions&&this._toolbarOptions.visible},allowDragging:a.noop});module.exports={defaultOptions:function(){return{}},views:{headerPanel:p},extenders:{controllers:{resizing:{_updateDimensionsCore:function(){this.callBase.apply(this,arguments),this.getView("headerPanel").updateToolbarDimensions()}}}}};
},{"../../core/renderer":"qxFQ","../toolbar":"TbYP","./ui.grid_core.columns_view":"G3QA","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/dom":"vDwZ","../drop_down_menu":"xgZd"}],"p77o":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),r=t(e),u=require("../grid_core/ui.grid_core.header_panel"),i=t(u);function t(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("headerPanel",i.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.header_panel":"iTs5"}],"d6pG":[function(require,module,exports) {
"use strict";var e=require("../../core/component_registrator"),t=g(e),i=require("../../core/utils/common"),r=g(i),n=require("../../core/utils/type"),s=g(n),o=require("../../core/utils/iterator"),u=require("../../core/utils/extend"),l=require("../widget/ui.widget"),a=g(l),d=require("./ui.tree_list.core"),c=g(d),h=require("../themes"),f=g(h);function g(e){return e&&e.__esModule?e:{default:e}}require("./ui.tree_list.column_headers"),require("./ui.tree_list.columns_controller"),require("./ui.tree_list.data_controller"),require("./ui.tree_list.sorting"),require("./ui.tree_list.rows"),require("./ui.tree_list.context_menu"),require("./ui.tree_list.error_handling"),require("./ui.tree_list.grid_view"),require("./ui.tree_list.header_panel");var _=c.default.callModuleItemsMethod,p=".dx-row",m="dx-treelist";c.default.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","editing","grouping","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);var q=a.default.inherit({_activeStateUnit:p,_getDefaultOptions:function(){var e=this.callBase();return(0,o.each)(c.default.modules,function(){s.default.isFunction(this.defaultOptions)&&(0,u.extend)(!0,e,this.defaultOptions())}),e},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return f.default.isMaterial()},options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0}}}])},_init:function(){this.callBase(),c.default.processModules(this,c.default),_(this,"init")},_clean:r.default.noop,_optionChanged:function(e){_(this,"optionChanged",[e]),e.handled||this.callBase(e)},_dimensionChanged:function(){this.updateDimensions(!0)},_visibilityChanged:function(e){e&&this.updateDimensions()},_initMarkup:function(){this.callBase.apply(this,arguments),this.$element().addClass(m),this.getView("gridView").render(this.$element())},_renderContentImpl:function(){this.getView("gridView").update()},_renderContent:function(){var e=this;r.default.deferRender(function(){e._renderContentImpl()})},_dispose:function(){this.callBase(),_(this,"dispose")},isReady:function(){return this.getController("data").isReady()},beginUpdate:function(){this.callBase(),_(this,"beginUpdate")},endUpdate:function(){_(this,"endUpdate"),this.callBase()},getController:function(e){return this._controllers[e]},getView:function(e){return this._views[e]},focus:function(e){this.callBase(),s.default.isDefined(e)&&this.getController("keyboardNavigation").focus(e)}});q.registerModule=c.default.registerModule.bind(c.default),(0,t.default)("dxTreeList",q),module.exports=q;
},{"../../core/component_registrator":"g3fO","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/iterator":"FHcO","../../core/utils/extend":"ac8T","../widget/ui.widget":"gtOK","./ui.tree_list.core":"O4Kv","../themes":"k2ha","./ui.tree_list.column_headers":"zHt3","./ui.tree_list.columns_controller":"uGft","./ui.tree_list.data_controller":"Atsw","./ui.tree_list.sorting":"pOYp","./ui.tree_list.rows":"a7FF","./ui.tree_list.context_menu":"NACQ","./ui.tree_list.error_handling":"kOln","./ui.tree_list.grid_view":"YSpc","./ui.tree_list.header_panel":"p77o"}],"BDh3":[function(require,module,exports) {
"use strict";var t=require("../../events/core/events_engine"),e=_(t),i=require("../../core/utils/window"),o=require("./ui.grid_core.modules"),n=_(o),r=require("../widget/ui.errors"),a=_(r),s=require("../../core/utils/browser"),u=_(s),d=require("../../core/utils/storage"),c=require("../../core/utils/extend"),l=require("../../core/utils/iterator"),f=require("../../core/utils/type"),g=require("../../core/utils/deferred");function _(t){return t&&t.__esModule?t:{default:t}}var h=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,v=function t(e){e&&(0,l.each)(e,function(i,o){var n;(0,f.isPlainObject)(o)||Array.isArray(o)?t(o):"string"==typeof o&&(n=h.exec(o))&&(e[i]=new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6])))})};exports.StateStoringController=n.default.ViewController.inherit(function(){var t=function(t){var e="sessionStorage"===t.type?(0,d.sessionStorage)():(0,i.getWindow)().localStorage;if(!e)throw"file:"===(0,i.getWindow)().location.protocol&&u.default.msie?new Error("E1038"):new Error("E1007");return e},o=function(t){return(0,f.isDefined)(t.storageKey)?t.storageKey:"storage"};return{_loadState:function(){var e=this.option("stateStoring");if("custom"===e.type)return e.customLoad&&e.customLoad();try{return JSON.parse(t(e).getItem(o(e)))}catch(i){a.default.log(i.message)}},_saveState:function(e){var i=this.option("stateStoring");if("custom"!==i.type)try{t(i).setItem(o(i),JSON.stringify(e))}catch(n){}else i.customSave&&i.customSave(e)},publicMethods:function(){return["state"]},isEnabled:function(){return this.option("stateStoring.enabled")},init:function(){var t=this;return t._state={},t._isLoaded=!1,t._isLoading=!1,t._windowUnloadHandler=function(){void 0!==t._savingTimeoutID&&t._saveState(t.state())},e.default.on((0,i.getWindow)(),"unload",t._windowUnloadHandler),t},isLoaded:function(){return this._isLoaded},isLoading:function(){return this._isLoading},load:function(){var t,e=this;return e._isLoading=!0,(t=(0,g.fromPromise)(e._loadState())).done(function(t){e._isLoaded=!0,e._isLoading=!1,e.state(t)}),t},state:function(t){if(!arguments.length)return(0,c.extend)(!0,{},this._state);this._state=(0,c.extend)({},t),v(this._state)},save:function(){var t=this;clearTimeout(t._savingTimeoutID),t._savingTimeoutID=setTimeout(function(){t._saveState(t.state()),t._savingTimeoutID=void 0},t.option("stateStoring.savingTimeout"))},optionChanged:function(t){switch(t.name){case"stateStoring":this.isEnabled()&&!this.isLoading()&&this.load(),t.handled=!0;break;default:this.callBase(t)}},dispose:function(){clearTimeout(this._savingTimeoutID),e.default.off((0,i.getWindow)(),"unload",this._windowUnloadHandler)}}}());
},{"../../events/core/events_engine":"oNrb","../../core/utils/window":"NXH3","./ui.grid_core.modules":"vXU0","../widget/ui.errors":"RFsS","../../core/utils/browser":"nlvS","../../core/utils/storage":"tNsA","../../core/utils/extend":"ac8T","../../core/utils/iterator":"FHcO","../../core/utils/type":"Mw4w","../../core/utils/deferred":"g5TB"}],"B2Xt":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/common"),t=require("../../core/utils/type"),i=require("../../core/utils/extend"),o=require("./ui.grid_core.state_storing_core"),n=l(o),a=require("../../core/utils/deferred");function l(e){return e&&e.__esModule?e:{default:e}}var r=function(e){var t=e.getView("pagerView"),o=e.getController("data"),n={allowedPageSizes:t?t.getPageSizes():void 0,filterPanel:{filterEnabled:e.option("filterPanel.filterEnabled")},filterValue:e.option("filterValue"),focusedRowKey:e.option("focusedRowEnabled")?e.option("focusedRowKey"):void 0};return(0,i.extend)(n,o.getUserState())},s=function(e){var t=e.getController("columns"),i=e.getController("selection"),o=e.getController("export"),n=e.getController("data");t&&t.columnsChanged.add(function(){e.updateState({columns:t.getUserState()})}),i&&i.selectionChanged.add(function(t){e.updateState({selectedRowKeys:t.selectedRowKeys,selectionFilter:t.selectionFilter})}),n&&(e._initialPageSize=e.option("paging.pageSize"),e._initialFilterValue=e.option("filterValue"),n.changed.add(function(){var t=r(e);e.updateState(t)})),o&&o.selectionOnlyChanged.add(function(){e.updateState({exportSelectionOnly:o.selectionOnly()})})},u=null,d=function(e,t){var i=e.getController("filterSync"),o=e.getController("columns"),n=t.columns||void 0!==t.filterValue;return i?n?t.filterValue||i.getFilterValueFromColumns(t.columns):e._initialFilterValue||i.getFilterValueFromColumns(o.getColumns()):u};module.exports={defaultOptions:function(){return{stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3}}},controllers:{stateStoring:n.default.StateStoringController},extenders:{views:{rowsView:{init:function(){var e=this,t=e.getController("data");e.callBase(),t.stateLoaded.add(function(){if(t.isLoaded()&&!t.getDataSource()){e.setLoading(!1),e.renderNoDataText();var i=e.component.getView("columnHeadersView");i&&i.render(),e.component._fireContentReadyAction()}})}}},controllers:{stateStoring:{init:function(){this.callBase.apply(this,arguments),s(this)},isLoading:function(){return this.callBase()||this.getController("data").isStateLoading()},state:function(e){var t=this.callBase.apply(this,arguments);return void 0!==e&&this.applyState((0,i.extend)({},e)),t},updateState:function(t){if(this.isEnabled()){var o=this.state(),n=(0,i.extend)({},o,t),a=(0,e.getKeyHash)(o),l=(0,e.getKeyHash)(n);(0,e.equalByValue)(a,l)||((0,i.extend)(this._state,t),this.save())}else(0,i.extend)(this._state,t)},applyState:function(e){var i=e.allowedPageSizes,o=e.searchText,n=e.selectedRowKeys,a=e.selectionFilter,l=this.getController("export"),r=this.getController("columns"),s=this.getController("data"),u=this.option("scrolling.mode"),c="virtual"===u||"infinite"===u,g=!0===this.option("pager.visible")&&this.option("pager.showPageSizeSelector");this.component.beginUpdate(),r&&r.setUserState(e.columns),l&&l.selectionOnly(e.exportSelectionOnly),n&&this.option("selectedRowKeys",n),this.option("selectionFilter",a),i&&"auto"===this.option("pager.allowedPageSizes")&&(this.option("pager").allowedPageSizes=i),this.option("focusedRowEnabled")&&this.option("focusedRowKey",e.focusedRowKey),this.component.endUpdate(),this.option("searchPanel.text",o||""),this.option("filterValue",d(this,e)),this.option("filterPanel.filterEnabled",!e.filterPanel||e.filterPanel.filterEnabled),this.option("paging.pageSize",c&&!g||!(0,t.isDefined)(e.pageSize)?this._initialPageSize:e.pageSize),this.option("paging.pageIndex",e.pageIndex||0),s&&s.reset()}},columns:{getVisibleColumns:function(){var e=this.callBase.apply(this,arguments),t=this.getController("stateStoring");return t.isEnabled()&&!t.isLoaded()?[]:e}},data:{callbackNames:function(){return this.callBase().concat(["stateLoaded"])},_refreshDataSource:function(){var e=this,t=e.callBase,i=e.getController("stateStoring");if(i.isEnabled()&&!i.isLoaded()){clearTimeout(e._restoreStateTimeoutID);var o=new a.Deferred;return e._restoreStateTimeoutID=setTimeout(function(){i.load().always(function(){e._restoreStateTimeoutID=null,t.call(e),e.stateLoaded.fire(),o.resolve()})}),o.promise()}e.isStateLoading()||t.call(e)},isLoading:function(){var e=this.getController("stateStoring");return this.callBase()||e.isLoading()},isStateLoading:function(){return(0,t.isDefined)(this._restoreStateTimeoutID)},isLoaded:function(){return this.callBase()&&!this.isStateLoading()},dispose:function(){clearTimeout(this._restoreStateTimeoutID),this.callBase()}}}}};
},{"../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","./ui.grid_core.state_storing_core":"BDh3","../../core/utils/deferred":"g5TB"}],"Kgav":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),t=s(e),r=require("../../core/utils/extend"),o=require("../grid_core/ui.grid_core.state_storing"),a=s(o);function s(e){return e&&e.__esModule?e:{default:e}}var n=a.default.extenders.controllers.stateStoring.applyState;t.default.registerModule("stateStoring",(0,r.extend)(!0,{},a.default,{extenders:{controllers:{stateStoring:{applyState:function(e){n.apply(this,arguments),Object.prototype.hasOwnProperty.call(e,"expandedRowKeys")&&this.option("expandedRowKeys",e.expandedRowKeys&&e.expandedRowKeys.slice())}},data:{getUserState:function(){var e=this.callBase.apply(this,arguments);return this.option("autoExpandAll")||(e.expandedRowKeys=this.option("expandedRowKeys")),e}}}}}));
},{"./ui.tree_list.core":"O4Kv","../../core/utils/extend":"ac8T","../grid_core/ui.grid_core.state_storing":"B2Xt"}],"U51t":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=w(e),i=require("../../core/dom_adapter"),n=require("../../events/core/events_engine"),a=require("../../localization/message"),s=w(a),l=require("../../events/click"),o=w(l),d=require("../../core/utils/common"),r=w(d),c=require("../../core/utils/window"),h=w(c),u=require("../../core/utils/type"),_=require("../../core/utils/extend"),f=require("../../core/utils/iterator"),p=require("../../core/utils/dom"),m=require("../check_box"),g=w(m),v=require("../hierarchical_collection/ui.hierarchical_collection_widget"),C=w(v),I=require("../../events/utils"),x=require("../../events/pointer"),S=require("../../events/double_click"),b=w(S),E=require("../../animation/fx"),A=w(E),y=require("../scroll_view/ui.scrollable"),N=w(y),k=require("../load_indicator"),B=w(k),F=require("../../core/utils/deferred");function w(e){return e&&e.__esModule?e:{default:e}}var D="dx-treeview",V=D+"-node",L=V+"-container",T=V+"-loadindicator",M=V+"-container-opened",K=V+"-is-leaf",R=D+"-item",H=R+"-with-checkbox",q=R+"-without-checkbox",P=R+"-data",$=D+"-toggle-item-visibility",O=D+"-loadindicator",U=D+"-loadindicator-wrapper",G=D+"-toggle-item-visibility-opened",W=D+"-select-all-item",z="dx-state-invisible",X="dx-state-disabled",j="dx-state-selected",J="dxTreeView_expand",Q="data-item-id",Y=C.default.inherit({_supportedKeys:function(e){var i=this,n=function(e){var n=(0,t.default)(i.option("focusedElement"));n.length&&(e.target=n,e.currentTarget=n,i._itemClickHandler(e,n.children("."+R)),i._getEventNameByOption(i.option("expandEvent"))===(0,I.addNamespace)(o.default.name,J)&&i._expandEventHandler(e))},a=function(e){e.preventDefault(),i._changeCheckBoxState((0,t.default)(i.option("focusedElement")))},s=function(e,i){if(this.option("expandAllEnabled")){i.preventDefault();var n=(0,t.default)(this.option("focusedElement"));if(n.length){var a=this._getItemData(n.find("."+R));this._toggleExpandedNestedItems([a],e)}}};return(0,_.extend)(this.callBase(),{enter:this._showCheckboxes()?a:n,space:this._showCheckboxes()?a:n,asterisk:s.bind(this,!0),minus:s.bind(this,!1)})},_changeCheckBoxState:function(e){var t=this._getCheckBoxInstance(e),i=t.option("value");t.option("disabled")||this._updateItemSelection(!i,e.find("."+R).get(0),!0,e)},_toggleExpandedNestedItems:function(e,t){if(e)for(var i=0,n=e.length;i<n;i++){var a=e[i],s=this._dataAdapter.getNodeByItem(a);this._toggleExpandedState(s,t),this._toggleExpandedNestedItems(a.items,t)}},_getNodeElement:function(e,i){var n=this._encodeString(e.internalFields.key);if(i)return i.$nodeByKey||(i.$nodeByKey={},this.$element().find("."+V).each(function(){var e=(0,t.default)(this),n=e.attr(Q);i.$nodeByKey[n]=e})),i.$nodeByKey[n]||(0,t.default)();var a=this.$element().get(0).querySelector("["+Q+'="'+n+'"]');return(0,t.default)(a)},_activeStateUnit:"."+R,_widgetClass:function(){return D},_getDefaultOptions:function(){return(0,_.extend)(this.callBase(),{animationEnabled:!0,dataStructure:"tree",deferRendering:!0,expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",selectAllText:s.default.format("dxList-selectAll"),onItemSelectionChanged:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",virtualModeEnabled:!1,rootValue:0,focusStateEnabled:!1,selectionMode:"multiple",expandEvent:"dblclick",selectByClick:!1,createChildren:null,onSelectAllValueChanged:null})},_initSelectedItems:r.default.noop,_syncSelectionOptions:r.default.asyncNoop,_fireSelectionChanged:function(){var e=this._selectionChangePromise;(0,F.when)(e).done(function(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()}.bind(this))},_createSelectAllValueChangedAction:function(){this._selectAllValueChangedAction=this._createActionByOption("onSelectAllValueChanged",{excludeValidators:["disabled","readOnly"]})},_fireSelectAllValueChanged:function(e){this._selectAllValueChangedAction({value:e})},_checkBoxModeChange:function(e,t){if("none"!==t&&"none"!==e){var i=this._$selectAllItem&&this._$selectAllItem.length;switch(e){case"selectAll":!i&&this._renderSelectAllItem();break;case"normal":i&&(this._$selectAllItem.remove(),delete this._$selectAllItem)}}else this.repaint()},_removeSelection:function(){var e=this;(0,f.each)(this._dataAdapter.getFullData(),function(t,i){e._hasChildren(i)&&e._dataAdapter.toggleSelection(i.internalFields.key,!1,!0)})},_optionChanged:function(e){var t=e.name,i=e.value,n=e.previousValue;switch(t){case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",i);break;case"showCheckBoxesMode":this._checkBoxModeChange(i,n);break;case"scrollDirection":this._scrollableContainer.option("direction",i);break;case"items":delete this._$selectAllItem,this.callBase(e);break;case"dataSource":this.callBase(e),this._initDataAdapter(),this._filter={};break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"expandEvent":this._initExpandEvent();break;case"deferRendering":case"dataStructure":case"rootValue":case"createChildren":case"expandNodesRecursive":case"onItemSelectionChanged":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":case"selectByClick":break;case"selectionMode":this._initDataAdapter(),this.callBase(e);break;case"onSelectAllValueChanged":this._createSelectAllValueChangedAction();break;case"selectNodesRecursive":this._dataAdapter.setOption("recursiveSelection",e.value),this.repaint();break;default:this.callBase(e)}},_initDataSource:function(){this._useCustomChildrenLoader()?this._loadChildrenByCustomLoader(null).done(function(e){e&&e.length&&this.option("items",e)}.bind(this)):(this.callBase(),this._isVirtualMode()&&this._initVirtualMode())},_initVirtualMode:function(){var e=this._filter;e.custom||(e.custom=this._dataSource.filter()),e.internal||(e.internal=[this.option("parentIdExpr"),this.option("rootValue")])},_useCustomChildrenLoader:function(){return(0,u.isFunction)(this.option("createChildren"))&&this._isDataStructurePlain()},_loadChildrenByCustomLoader:function(e){var t=this.option("createChildren").call(this,e);return Array.isArray(t)?(new F.Deferred).resolve(t).promise():t&&(0,u.isFunction)(t.then)?(0,F.fromPromise)(t):(new F.Deferred).resolve([]).promise()},_combineFilter:function(){return this._filter.custom&&this._filter.custom.length?[this._filter.custom,this._filter.internal]:this._filter.internal},_dataSourceLoadErrorHandler:function(){this._renderEmptyMessage()},_init:function(){this._filter={},this.callBase(),this._initStoreChangeHandlers()},_dataSourceChangedHandler:function(e){var t=this.option("items");this._initialized&&this._isVirtualMode()&&t.length||this.option("items",e)},_removeTreeViewLoadIndicator:function(){this._treeViewLoadIndicator&&(this._treeViewLoadIndicator.remove(),this._treeViewLoadIndicator=null)},_createTreeViewLoadIndicator:function(){return this._treeViewLoadIndicator=(0,t.default)("<div>").addClass(O),this._createComponent(this._treeViewLoadIndicator,B.default,{}),this._treeViewLoadIndicator},_dataSourceLoadingChangedHandler:function(e){var i=void 0;if(this._isVirtualMode()&&(i=this._combineFilter(),this._dataSource.filter(i)),e&&!this._dataSource.isLoaded()){this.option("items",[]);var n=(0,t.default)("<div>").addClass(U);this._createTreeViewLoadIndicator().appendTo(n),this.itemsContainer().append(n),this._isVirtualMode()&&this._dataSource.filter()!==i&&this._dataSource.filter([])}else this._removeTreeViewLoadIndicator()},_initStoreChangeHandlers:function(){var e=this;"plain"===this.option("dataStructure")&&this._dataSource&&this._dataSource.store().on("inserted",function(t){e.option().items=e.option("items").concat(t),e._dataAdapter.addItem(t),e._dataAdapter.isFiltered(t)&&e._updateLevel(e._parentIdGetter(t))}).on("removed",function(t){var i=e._dataAdapter.getNodeByKey(t);e.option("items")[e._dataAdapter.getIndexByKey(i.internalFields.key)]=0,e._markChildrenItemsToRemove(i),e._removeItems(),e._dataAdapter.removeItem(t),e._updateLevel(e._parentIdGetter(i))})},_markChildrenItemsToRemove:function(e){var t=this,i=e.internalFields.childrenKeys;(0,f.each)(i,function(e,i){t.option("items")[t._dataAdapter.getIndexByKey(i)]=0,t._markChildrenItemsToRemove(t._dataAdapter.getNodeByKey(i))})},_removeItems:function(){var e=this,t=(0,_.extend)(!0,[],this.option("items")),i=0;(0,f.each)(t,function(t,n){n||(e.option("items").splice(t-i,1),i++)})},_updateLevel:function(e){var t=this._getContainerByParentKey(e);this._renderItems(t,this._dataAdapter.getChildrenNodes(e))},_getOldContainer:function(e){return e.length?e.children("."+L):this._scrollableContainer?this._scrollableContainer.$content().children():(0,t.default)()},_getContainerByParentKey:function(e){var t=this._dataAdapter.getNodeByKey(e),i=t?this._getNodeElement(t):[];this._getOldContainer(i).remove();var n=this._renderNodeContainer(i);return this._isRootLevel(e)&&(this._scrollableContainer||this._renderScrollableContainer(),this._scrollableContainer.$content().append(n)),n},_isRootLevel:function(e){return e===this.option("rootValue")},_getAccessors:function(){var e=this.callBase();return e.push("hasItems"),e},_getDataAdapterOptions:function(){return{rootValue:this.option("rootValue"),multipleSelection:!this._isSingleSelection(),recursiveSelection:this._isRecursiveSelection(),recursiveExpansion:this.option("expandNodesRecursive"),selectionRequired:this.option("selectionRequired"),dataType:this.option("dataStructure"),sort:this._dataSource&&this._dataSource.sort()}},_initMarkup:function(){this._renderScrollableContainer(),this._renderEmptyMessage(this._dataAdapter.getRootNodes()),this.callBase(),this.setAria("role","tree")},_renderContentImpl:function(){var e=this._renderNodeContainer();this._scrollableContainer.$content().append(e),this.option("items")&&this.option("items").length&&(this._renderItems(e,this._dataAdapter.getRootNodes()),this._initExpandEvent(),this._selectAllEnabled()&&(this._createSelectAllValueChangedAction(),this._renderSelectAllItem(e)))},_isVirtualMode:function(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&!!this.option("dataSource")},_isDataStructurePlain:function(){return"plain"===this.option("dataStructure")},_fireContentReadyAction:function(){var e=this.getDataSource();e&&!e.isLoaded()||this.callBase(),this._scrollableContainer&&h.default.hasWindow()&&this._scrollableContainer.update()},_renderScrollableContainer:function(){this._scrollableContainer=this._createComponent((0,t.default)("<div>").appendTo(this.$element()),N.default,{direction:this.option("scrollDirection"),useKeyboard:!1})},_renderNodeContainer:function(e){var i=(0,t.default)("<ul>").addClass(L);if(this.setAria("role","group",i),e&&e.length){var n=this._getItemData(e.children("."+R));this._expandedGetter(n)&&i.addClass(M),i.appendTo(e)}return i},_createDOMElement:function(e,i){var n=(0,t.default)("<li>").addClass(V).attr(Q,this._encodeString(i.internalFields.key)).prependTo(e);return this.setAria({role:"treeitem",label:this._displayGetter(i.internalFields.item)||"",expanded:i.internalFields.expanded||!1,level:this._getLevel(e)},n),n},_getLevel:function(e){var t=e.parent();return t.hasClass("dx-scrollable-content")?1:parseInt(t.attr("aria-level"))+1},_showCheckboxes:function(){return"none"!==this.option("showCheckBoxesMode")},_selectAllEnabled:function(){return"selectAll"===this.option("showCheckBoxesMode")&&!this._isSingleSelection()},_renderItems:function(e,t){for(var i=t.length-1;i>=0;i--)this._renderItem(i,t[i],e);this._renderedItemsCount+=t.length},_renderItem:function(e,t,i){var n=this._createDOMElement(i,t),a=t.internalFields,s=this._showCheckboxes();n.addClass(s?H:q),s&&this._renderCheckBox(n,t),this.setAria("selected",a.selected,n),this._toggleSelectedClass(n,a.selected),this.callBase(this._renderedItemsCount+e,a.item,n),!1!==a.item.visible&&this._renderChildren(n,t)},_setAriaSelected:function(){},_renderChildren:function(e,t){var i=this;this._hasChildren(t)?(this._renderToggleItemVisibilityIcon(e,t),this.option("deferRendering")&&!t.internalFields.expanded||this._loadSublevel(t).done(function(n){i._renderSublevel(e,i._getActualNode(t),n)})):this._addLeafClass(e)},_getActualNode:function(e){return this._dataAdapter.getNodeByKey(e.internalFields.key)},_hasChildren:function(e){return this._isVirtualMode()||this._useCustomChildrenLoader()?!1!==this._hasItemsGetter(e.internalFields.item):this.callBase(e)},_loadSublevel:function(e){var t=this,i=new F.Deferred,n=this._getChildNodes(e);return n.length?i.resolve(n):this._loadNestedItems(e).done(function(e){i.resolve(t._dataAdapter.getNodesByItems(e))}),i.promise()},_renderSublevel:function(e,t,i){var n=this._renderNodeContainer(e,t),a=i.filter(function(e){return-1!==t.internalFields.childrenKeys.indexOf(e.internalFields.key)});if(this._renderItems(n,a),a.length&&!t.internalFields.selected){var s=a[0];this._updateParentsState(s,this._getNodeElement(s))}this._normalizeIconState(e,a.length),t.internalFields.expanded&&n.addClass(M)},_executeItemRenderAction:function(e,t,i){var n=this._getNode(i);this._getItemRenderAction()({itemElement:i,itemIndex:e,itemData:t,node:this._dataAdapter.getPublicNode(n)})},_addLeafClass:function(e){e.addClass(K)},_expandEventHandler:function(e){(0,t.default)(e.currentTarget.parentNode).hasClass(K)||this._toggleExpandedState(e.currentTarget,void 0,e)},_initExpandEvent:function(){var e=this._getEventNameByOption(this.option("expandEvent")),t=this._itemContainer(),i=this._itemSelector();(0,n.off)(t,"."+J,i),(0,n.on)(t,e,i,this._expandEventHandler.bind(this))},_getEventNameByOption:function(e){var t="click"===e?o.default:b.default;return(0,I.addNamespace)(t.name,J)},_getNode:function(e){if(!(0,u.isDefined)(e))return null;if(e.internalFields)return e;if((0,u.isPrimitive)(e))return this._dataAdapter.getNodeByKey(e);var n=(0,t.default)(e).get(0);return n?(0,i.isElementNode)(n)?this._getNodeByElement(n):this._dataAdapter.getNodeByItem(n):null},_getNodeByElement:function(e){var i=(0,t.default)(e).closest("."+V),n=this._decodeString(i.attr(Q));return this._dataAdapter.getNodeByKey(n)},_toggleExpandedState:function(e,t,i){var n=this._getNode(e),a=n.internalFields.expanded;if(!n.internalFields.disabled&&a!==t){if(this._hasChildren(n)){var s=this._getNodeElement(n);if(s.find("."+T+":not(."+z+")").length)return;this._createLoadIndicator(s)}(0,u.isDefined)(t)||(t=!a),this._dataAdapter.toggleExpansion(n.internalFields.key,t),this._updateExpandedItemsUI(n,t,i)}},_createLoadIndicator:function(e){var i=e.children("."+$),n=e.children("."+L);i.hasClass(G)||n.not(":empty").length||(this._createComponent((0,t.default)("<div>").addClass(T),B.default,{}).$element().appendTo(e),i.hide())},_renderToggleItemVisibilityIcon:function(e,i){var n=(0,t.default)("<div>").addClass($).appendTo(e);i.internalFields.expanded&&(n.addClass(G),e.parent().addClass(M)),i.internalFields.disabled&&n.addClass(X),this._renderToggleItemVisibilityIconClick(n,i)},_renderToggleItemVisibilityIconClick:function(e,t){var i=this,a=(0,I.addNamespace)(o.default.name,this.NAME);(0,n.off)(e,a),(0,n.on)(e,a,function(e){i._toggleExpandedState(t.internalFields.key,void 0,e)})},_updateExpandedItemsUI:function(e,t,i){var n=this._getNodeElement(e),a=!n.length||t&&n.is(":hidden");if(this.option("expandNodesRecursive")&&a){var s=this._getNode(e.internalFields.parentKey);s&&this._updateExpandedItemsUI(s,t,i)}var l=n.children("."+$),o=n.children("."+L);l.toggleClass(G,t);var d=o.length>0;!t||d&&!o.is(":empty")?this._updateExpandedItem(e,t,i):this._isVirtualMode()||this._useCustomChildrenLoader()?this._loadNestedItemsWithUpdate(e,t,i):(this._renderSublevel(n,e,this._getChildNodes(e)),this._fireContentReadyAction(),this._updateExpandedItem(e,t,i))},_loadNestedItemsWithUpdate:function(e,t,i){var n=this,a=this._getNodeElement(e);this._loadNestedItems(e).done(function(s){var l=n._getActualNode(e);n._renderSublevel(a,l,n._dataAdapter.getNodesByItems(s)),s&&s.length&&(n._fireContentReadyAction(),n._updateExpandedItem(l,t,i))})},_loadNestedItems:function(e){var t=this;if(this._useCustomChildrenLoader()){var i=this._dataAdapter.getPublicNode(e);return this._loadChildrenByCustomLoader(i).done(function(e){t._areNodesExists(e)||t._appendItems(e)})}return this._isVirtualMode()?(this._filter.internal=[this.option("parentIdExpr"),e.internalFields.key],this._dataSource.filter(this._combineFilter()),this._dataSource.load().done(function(e){t._areNodesExists(e)||t._appendItems(e)})):(new F.Deferred).resolve([]).promise()},_areNodesExists:function(e,t){var i=this.keyOf(e[0]),n=this._dataAdapter.getFullData();return!!this._dataAdapter.getNodeByKey(i,n)},_appendItems:function(e){this.option().items=this.option("items").concat(e),this._initDataAdapter()},_updateExpandedItem:function(e,t,i){this._animateNodeContainer(e,t,i)},_animateNodeContainer:function(e,t,i){var n,a=this._getNodeElement(e),s=a.children("."+L);s.addClass(M),n=s.height(),A.default.stop(s,!0),A.default.animate(s,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{maxHeight:t?0:n},to:{maxHeight:t?n:0},complete:function(){s.css("maxHeight","none"),s.toggleClass(M,t),this.setAria("expanded",t,a),this._scrollableContainer.update(),this._fireExpandedStateUpdatedEvent(t,e,i)}.bind(this)})},_fireExpandedStateUpdatedEvent:function(e,t,i){if(this._hasChildren(t)){var n=e?"onItemExpanded":"onItemCollapsed";if((0,u.isDefined)(i))this._itemDXEventHandler(i,n,{node:this._dataAdapter.getPublicNode(t)});else{var a=this._getNodeElement(t);this._itemEventHandler(a,n,{event:i,node:this._dataAdapter.getPublicNode(t)})}}},_normalizeIconState:function(e,t){var i=e.find(".dx-loadindicator");(i.length&&B.default.getInstance(i).option("visible",!1),t)?e.find("."+$).show():(e.find("."+$).removeClass($),e.addClass(K))},_emptyMessageContainer:function(){return this._scrollableContainer?this._scrollableContainer.content():this.callBase()},_renderContent:function(){var e=this.option("items");e&&e.length&&(this._contentAlreadyRendered=!0),this.callBase()},_renderSelectAllItem:function(e){e=e||this.$element().find("."+L).first(),this._$selectAllItem=(0,t.default)("<div>").addClass(W);var i=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,g.default,{value:i,text:this.option("selectAllText"),onValueChanged:function(e){this._toggleSelectAll(e),this._fireSelectAllValueChanged(e.value)}.bind(this)}),this._toggleSelectedClass(this._$selectAllItem,i),e.before(this._$selectAllItem)},_toggleSelectAll:function(e){this._dataAdapter.toggleSelectAll(e.value),this._updateItemsUI(),this._fireSelectionChanged()},_renderCheckBox:function(e,i){var n=(0,t.default)("<div>").appendTo(e);this._createComponent(n,g.default,{value:i.internalFields.selected,onValueChanged:this._changeCheckboxValue.bind(this),focusStateEnabled:!1,disabled:this._disabledGetter(i)})},_toggleSelectedClass:function(e,t){e.toggleClass(j,!!t)},_toggleNodeDisabledState:function(e,t){var i=this._getNodeElement(e),n=i.find("."+R).eq(0);(this._dataAdapter.toggleNodeDisabledState(e.internalFields.key,t),n.toggleClass(X,!!t),this._showCheckboxes())&&this._getCheckBoxInstance(i).option("disabled",!!t)},_itemOptionChanged:function(e,t,i){var n=this._dataAdapter.getNodeByItem(e);t===this.option("disabledExpr")&&this._toggleNodeDisabledState(n,i)},_changeCheckboxValue:function(e){var i=(0,t.default)(e.element).parent("."+V).children("."+R),n=this._getItemData(i),a=this._getNodeByElement(i),s=e.value;a&&a.internalFields.selected===s||this._updateItemSelection(s,n,e.event)},_isSingleSelection:function(){return"single"===this.option("selectionMode")},_isRecursiveSelection:function(){return this.option("selectNodesRecursive")&&"single"!==this.option("selectionMode")},_isLastSelectedBranch:function(e,t,i){var n=t.indexOf(e.key);return n>=0&&t.splice(n,1),i&&(0,f.each)(e.children,function(e,i){this._isLastSelectedBranch(i,t,!0)}.bind(this)),e.parent&&this._isLastSelectedBranch(e.parent,t),0===t.length},_isLastRequired:function(e){var t=this.option("selectionRequired"),i=this._isSingleSelection(),n=this.getSelectedNodesKeys();if(t)return i?1===n.length:this._isLastSelectedBranch(e.internalFields.publicNode,n.slice(),!0)},_updateItemSelection:function(e,t,i){var n=this,a=this._getNode(t);if(a&&a.internalFields.selected!==e)if(e||!this._isLastRequired(a)){var s=this.getSelectedNodesKeys();this._isSingleSelection()&&e&&(0,f.each)(s,function(e,t){n.unselectItem(t)}),this._dataAdapter.toggleSelection(a.internalFields.key,e),this._updateItemsUI();var l=i||this._findItemElementByItem(a.internalFields.item);(i?this._itemDXEventHandler:this._itemEventHandler).call(this,l,"onItemSelectionChanged",{node:this._dataAdapter.getPublicNode(a),itemData:a.internalFields.item}),this._fireSelectionChanged()}else if(this._showCheckboxes()){var o=this._getNodeElement(a),d=this._getCheckBoxInstance(o);d&&d.option("value",!0)}},_getCheckBoxInstance:function(e){return e.children(".dx-checkbox").dxCheckBox("instance")},_updateItemsUI:function(){var e=this,t={};(0,f.each)(this._dataAdapter.getData(),function(i,n){var a=e._getNodeElement(n,t),s=n.internalFields.selected;a.length&&(e._toggleSelectedClass(a,s),e.setAria("selected",s,a),e._showCheckboxes()&&e._getCheckBoxInstance(a).option("value",s))}),this._selectAllEnabled()&&this._$selectAllItem.dxCheckBox("instance").option("value",this._dataAdapter.isAllSelected())},_updateParentsState:function(e,i){if(i){var n=this._dataAdapter.getNodeByKey(e.internalFields.parentKey),a=(0,t.default)(i.parents("."+V)[0]);if(this._showCheckboxes()){var s=n.internalFields.selected;this._getCheckBoxInstance(a).option("value",s),this._toggleSelectedClass(a,s)}n.internalFields.parentKey!==this.option("rootValue")&&this._updateParentsState(n,a)}},_itemEventHandlerImpl:function(e,i,n){var a=(0,t.default)(e).closest("."+V).children("."+R);return i((0,_.extend)(this._extendActionArgs(a),n))},_itemContextMenuHandler:function(e){this._createEventHandler("onItemContextMenu",e)},_itemHoldHandler:function(e){this._createEventHandler("onItemHold",e)},_createEventHandler:function(e,t){var i=this._getNodeByElement(t.currentTarget);this._itemDXEventHandler(t,e,{node:this._dataAdapter.getPublicNode(i)})},_itemClass:function(){return R},_itemDataKey:function(){return P},_attachClickEvent:function(){var e="."+this._itemClass(),i="."+V+", ."+W,a=(0,I.addNamespace)(o.default.name,this.NAME),s=(0,I.addNamespace)(x.down,this.NAME),l=this._itemContainer(),d=this;(0,n.off)(l,a,e),(0,n.off)(l,s,i),(0,n.on)(l,a,e,function(e){d._itemClickHandler(e,(0,t.default)(this))}),(0,n.on)(l,s,i,function(e){d._itemPointerDownHandler(e)})},_itemClickHandler:function(e,t){var i=this._getItemData(t),n=this._getNodeByElement(t);this._itemDXEventHandler(e,"onItemClick",{node:this._dataAdapter.getPublicNode(n)}),this.option("selectByClick")&&!e.isDefaultPrevented()&&this._updateItemSelection(!n.internalFields.selected,i,e)},_updateSelectionToFirstItem:function(e,i){for(var n=i;n>=0;){var a=(0,t.default)(e[n]);this._updateItemSelection(!0,a.find("."+R).get(0)),n--}},_updateSelectionToLastItem:function(e,i){for(var n=e.length,a=i;a<n;){var s=(0,t.default)(e[a]);this._updateItemSelection(!0,s.find("."+R).get(0)),a++}},_focusInHandler:function(e){var i=this;if(this._updateFocusState(e,!0),this.option("focusedElement"))return clearTimeout(this._setFocusedItemTimeout),void(this._setFocusedItemTimeout=setTimeout(function(){i._setFocusedItem((0,t.default)(i.option("focusedElement")))}));var n=this._getActiveItem();this.option("focusedElement",(0,p.getPublicElement)(n.closest("."+V)))},_setFocusedItem:function(e){e&&e.length&&(e.children().hasClass(X)||this.callBase(e),this._scrollableContainer.scrollToElement(e.find("."+R).first()))},_itemPointerDownHandler:function(e){if(this.option("focusStateEnabled")){var i=(0,t.default)(e.target).closest("."+V+", ."+W);if(i.length){var n=i.hasClass(X)?null:i;this.option("focusedElement",(0,p.getPublicElement)(n))}}},_findNonDisabledNodes:function(e){return e.not(function(){return(0,t.default)(this).children("."+R).hasClass(X)})},_moveFocus:function(e,t){var i=this.option("rtlEnabled")?"right":"left",n=this.option("rtlEnabled")?"left":"right";this.$element().find("."+L).each(function(){A.default.stop(this,!0)});var a=this._findNonDisabledNodes(this._nodeElements());if(a&&a.length)switch(e){case"up":var s=this._prevItem(a);this.option("focusedElement",(0,p.getPublicElement)(s)),t.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,s.find("."+R).get(0));break;case"down":var l=this._nextItem(a);this.option("focusedElement",(0,p.getPublicElement)(l)),t.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,l.find("."+R).get(0));break;case"first":var o=a.first();t.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(a,a.index(this._prevItem(a))),this.option("focusedElement",(0,p.getPublicElement)(o));break;case"last":var d=a.last();t.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(a,a.index(this._nextItem(a))),this.option("focusedElement",(0,p.getPublicElement)(d));break;case n:this._expandFocusedContainer();break;case i:this._collapseFocusedContainer();break;default:return void this.callBase.apply(this,arguments)}},_nodeElements:function(){return this.$element().find("."+V).not(":hidden")},_expandFocusedContainer:function(){var e=(0,t.default)(this.option("focusedElement"));if(e.length&&!e.hasClass(K))if(e.find("."+L).eq(0).hasClass(M)){var i=this._nextItem(this._findNonDisabledNodes(this._nodeElements()));this.option("focusedElement",(0,p.getPublicElement)(i))}else{var n=this._getNodeByElement(e.children("."+R));this._toggleExpandedState(n,!0)}},_getClosestNonDisabledNode:function(e){do{e=e.parent().closest("."+V)}while(e.children(".dx-treeview-item.dx-state-disabled").length);return e},_collapseFocusedContainer:function(){var e=(0,t.default)(this.option("focusedElement"));if(e.length){var i=e.find("."+L).eq(0);if(!e.hasClass(K)&&i.hasClass(M)){var n=this._getNodeByElement(e.children("."+R));this._toggleExpandedState(n,!1)}else{var a=this._getClosestNonDisabledNode(e);a.length&&this.option("focusedElement",(0,p.getPublicElement)(a))}}},_encodeString:function(e){return(0,u.isString)(e)?encodeURI(e):e},_decodeString:function(e){return(0,u.isString)(e)?decodeURI(e):e},updateDimensions:function(){var e=this,t=new F.Deferred;return this._scrollableContainer?this._scrollableContainer.update().done(function(){t.resolveWith(e)}):t.resolveWith(this),t.promise()},selectItem:function(e){this._updateItemSelection(!0,e)},unselectItem:function(e){this._updateItemSelection(!1,e)},expandItem:function(e){this._toggleExpandedState(e,!0)},collapseItem:function(e){this._toggleExpandedState(e,!1)},getNodes:function(){return this._dataAdapter.getTreeNodes()},getSelectedNodesKeys:function(){return this._dataAdapter.getSelectedNodesKeys()},selectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})},unselectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})},expandAll:function(){var e=this._dataAdapter;(0,f.each)(e.getData(),function(t,i){return e.toggleExpansion(i.internalFields.key,!0)}),this.repaint()},collapseAll:function(){(0,f.each)(this._dataAdapter.getExpandedNodesKeys(),function(e,t){this._toggleExpandedState(t,!1)}.bind(this))}});module.exports=Y;
},{"../../core/renderer":"qxFQ","../../core/dom_adapter":"RRDy","../../events/core/events_engine":"oNrb","../../localization/message":"Njcj","../../events/click":"RTmy","../../core/utils/common":"GcQA","../../core/utils/window":"NXH3","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","../../core/utils/iterator":"FHcO","../../core/utils/dom":"vDwZ","../check_box":"LByi","../hierarchical_collection/ui.hierarchical_collection_widget":"wHez","../../events/utils":"cNvJ","../../events/pointer":"HDhW","../../events/double_click":"st1m","../../animation/fx":"qxJT","../scroll_view/ui.scrollable":"tHRk","../load_indicator":"ncdk","../../core/utils/deferred":"g5TB"}],"wovK":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=d(e),i=require("../../core/component_registrator"),a=d(i),r=require("../widget/ui.search_box_mixin"),s=d(r),n=require("../../core/utils/extend"),o=require("./ui.tree_view.base"),h=d(o);function d(e){return e&&e.__esModule?e:{default:e}}var c="dx-treeview",u=c+"-node-container",_=h.default.inherit(s.default).inherit({_addWidgetPrefix:function(e){return c+"-"+e},_optionChanged:function(e){switch(e.name){case"searchValue":this._showCheckboxes()&&this._isRecursiveSelection()&&this._removeSelection(),this._initDataAdapter(),this._updateSearch(),this._repaintContainer();break;case"searchExpr":this._initDataAdapter(),this.repaint();break;case"searchMode":this.option("expandNodesRecursive")?this._updateDataAdapter():this._initDataAdapter(),this.repaint();break;default:this.callBase(e)}},_updateDataAdapter:function(){this._setOptionSilent("expandNodesRecursive",!1),this._initDataAdapter(),this._setOptionSilent("expandNodesRecursive",!0)},_getDataAdapterOptions:function(){return(0,n.extend)(this.callBase(),{searchValue:this.option("searchValue"),searchMode:this.option("searchMode")||"contains",searchExpr:this.option("searchExpr")})},_updateSearch:function(){if(this._searchEditor){var e=this._getSearchEditorOptions();this._searchEditor.option(e)}},_repaintContainer:function(){var e,t=this.$element().find("."+u).first();t.length&&(t.empty(),e=this._dataAdapter.getRootNodes(),this._renderEmptyMessage(e),this._renderItems(t,e),this._fireContentReadyAction())},_itemContainer:function(e){return this._scrollableContainer&&e?(0,t.default)(this._scrollableContainer.content()):this.callBase()},_addWidgetClass:function(){this.$element().addClass(this._widgetClass())},_clean:function(){this.callBase(),this._removeSearchBox()}});(0,a.default)("dxTreeView",_),module.exports=_;
},{"../../core/renderer":"qxFQ","../../core/component_registrator":"g3fO","../widget/ui.search_box_mixin":"ogZK","../../core/utils/extend":"ac8T","./ui.tree_view.base":"U51t"}],"Fosu":[function(require,module,exports) {
"use strict";module.exports=require("./tree_view/ui.tree_view.search"),module.exports.default=module.exports;
},{"./tree_view/ui.tree_view.search":"wovK"}],"mBUs":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),o=w(e),t=require("../../core/utils/common"),n=require("./ui.grid_core.modules"),i=w(n),l=require("./ui.grid_core.columns_view"),r=w(l),s=require("../../localization/message"),a=w(s),u=require("../themes"),d=w(u),c=require("../button"),h=w(c),m=require("../tree_view"),p=w(m),C=require("../../core/devices"),f=w(C),g=require("../popup"),_=w(g),b=require("../../core/utils/type"),v=require("../../core/utils/extend"),x=require("../../core/utils/iterator");function w(e){return e&&e.__esModule?e:{default:e}}var T="column-chooser",B="column-chooser-button",I="notouch-action",P="column-chooser-list",V="column-chooser-plain",D="column-chooser-mode-drag",E="column-chooser-mode-select",S="column-chooser",W="dx-column-chooser-item",q=".dx-treeview-node",y=".dx-checkbox",M=300,k=function(e,o){var t,n=[],i="select"===e.option("columnChooser.mode");return o.length&&(0,x.each)(o,function(e,o){t={text:o.caption,cssClass:o.cssClass,allowHiding:o.allowHiding,expanded:!0,id:o.index,disabled:!1,disableCheckBox:!1===o.allowHiding,parentId:(0,b.isDefined)(o.ownerBand)?o.ownerBand:null},i&&(t.selected=o.visible),n.push(t)}),n},z=i.default.ViewController.inherit({renderShowColumnChooserButton:function(e){var t,n=this,i=n.addWidgetPrefix(B),l=n.option("columnChooser.enabled"),r=e.find("."+i);l?r.length?r.show():(t=(0,o.default)("<div>").addClass(i).appendTo(e),n._createComponent(t,h.default,{icon:S,onClick:function(){n.getView("columnChooserView").showColumnChooser()},hint:n.option("columnChooser.title"),integrationOptions:{}})):r.hide()},getPosition:function(){var e=this.getView("rowsView");return{my:"right bottom",at:"right bottom",of:e&&e.element(),collision:"fit",offset:"-2 -2",boundaryOffset:"2 2"}}}),H=r.default.ColumnsView.inherit({_resizeCore:t.noop,_isWinDevice:function(){return!!f.default.real().win},_updateList:function(e){var o,t=this._popupContainer.$content(),n="select"===this.option("columnChooser.mode"),i=this._columnChooserList,l=this._columnsController.getChooserColumns(n);if(n&&i&&e&&"selection"===e.changeType){o=k(this,l);for(var r=0;r<o.length;r++)o[r].id===e.columnIndex&&i.option("items["+r+"].selected",o[r].selected)}else n&&i&&"full"!==e||(this._popupContainer._wrapper().toggleClass(this.addWidgetPrefix(D),!n).toggleClass(this.addWidgetPrefix(E),n),o=k(this,l),this._renderTreeView(t,o))},_initializePopupContainer:function(){var e=this,t=e.element().addClass(e.addWidgetPrefix(T)),n=e.option("columnChooser"),i=d.default.current(),l=d.default.isGeneric(i),r=d.default.isMaterial(i),s={visible:!1,shading:!1,showCloseButton:!1,dragEnabled:!0,resizeEnabled:!0,toolbarItems:[{text:n.title,toolbar:"top",location:l||r?"before":"center"}],position:e.getController("columnChooser").getPosition(),width:n.width,height:n.height,rtlEnabled:e.option("rtlEnabled"),onHidden:function(){e._isWinDevice()&&(0,o.default)("body").removeClass(e.addWidgetPrefix(I))},container:n.container};l||r?(0,v.extend)(s,{showCloseButton:!0}):s.toolbarItems[s.toolbarItems.length]={shortcut:"cancel"},(0,b.isDefined)(this._popupContainer)?this._popupContainer.option(s):(e._popupContainer=e._createComponent(t,_.default,s),e._popupContainer.on("optionChanged",function(o){"visible"===o.name&&e.renderCompleted.fire()}))},_renderCore:function(e){this._popupContainer&&this._updateList(e)},_renderTreeView:function(e,n){var i,l,r=this,s=this.option("columnChooser"),a="select"===s.mode,u={items:n,dataStructure:"plain",activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,itemTemplate:"item",showCheckBoxesMode:"none",rootValue:null,searchEnabled:s.allowSearch,searchTimeout:s.searchTimeout,onItemRendered:function(e){if(e.itemData.disableCheckBox){var t=(0,o.default)(e.itemElement).closest(q),n=void 0,i=void 0;t.length&&(i=t.find(y)).length&&(n=i.data("dxCheckBox"))&&n.option("disabled",!0)}}};l=e.find(".dx-scrollable").data("dxScrollable"),i=l&&l.scrollTop(),a&&!this._columnsController.isBandColumnsUsed()&&e.addClass(this.addWidgetPrefix(V)),u.onContentReady=function(e){(0,t.deferUpdate)(function(){if(i){var t=(0,o.default)(e.element).find(".dx-scrollable").data("dxScrollable");t&&t.scrollTo({y:i})}r.renderCompleted.fire()})},this._isWinDevice()&&(u.useNativeScrolling=!1),(0,v.extend)(u,a?this._prepareSelectModeConfig():this._prepareDragModeConfig()),this._columnChooserList?(u.searchEnabled||(u.searchValue=""),this._columnChooserList.option(u)):(this._columnChooserList=this._createComponent(e,p.default,u),e.addClass(this.addWidgetPrefix(P)))},_prepareDragModeConfig:function(){return{noDataText:this.option("columnChooser").emptyPanelText,activeStateEnabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,itemTemplate:function(e,t,n){(0,o.default)(n).text(e.text).parent().addClass(e.cssClass).addClass(W)}}},_prepareSelectModeConfig:function(){var e=this;return{selectNodesRecursive:!1,showCheckBoxesMode:"normal",onItemSelectionChanged:function(o){1!==e._columnsController.getVisibleColumns().filter(function(e){return!e.command}).length||o.itemData.selected?setTimeout(function(){e._columnsController.columnOption(o.itemData.id,"visible",o.itemData.selected)},M):o.component.selectItem(o.itemElement)}}},_columnOptionChanged:function(e){var o=e.changeTypes,t=e.optionNames,n="select"===this.option("columnChooser.mode");this.callBase(e),n&&(t.visible&&1===t.length&&void 0!==e.columnIndex?this.render(null,{changeType:"selection",columnIndex:e.columnIndex}):(t.showInColumnChooser||t.visible||o.columns&&t.all)&&this.render(null,"full"))},optionChanged:function(e){switch(e.name){case"columnChooser":this._initializePopupContainer(),this.render(null,"full");break;default:this.callBase(e)}},getColumnElements:function(){var e,t,n=[],i="select"===this.option("columnChooser.mode"),l=this._columnsController.getChooserColumns(i),r=this._popupContainer&&this._popupContainer.$content(),s=r&&r.find(".dx-treeview-node");return s&&l.forEach(function(o){e=s.filter("[data-item-id = '"+o.index+"']"),t=e.length?e.children("."+W).get(0):null,n.push(t)}),(0,o.default)(n)},getName:function(){return"columnChooser"},getColumns:function(){return this._columnsController.getChooserColumns()},allowDragging:function(e,o){var t=e&&e.allowHiding&&("columnChooser"!==o||!e.visible&&this._columnsController.isParentColumnVisible(e.index));return this.isColumnChooserVisible()&&t},getBoundingRect:function(){var e,o=this._popupContainer&&this._popupContainer._container();return o&&o.is(":visible")?{left:(e=o.offset()).left,top:e.top,right:e.left+o.outerWidth(),bottom:e.top+o.outerHeight()}:null},showColumnChooser:function(){this._popupContainer||(this._initializePopupContainer(),this.render()),this._popupContainer.show(),this._isWinDevice()&&(0,o.default)("body").addClass(this.addWidgetPrefix(I))},hideColumnChooser:function(){this._popupContainer&&this._popupContainer.hide()},isColumnChooserVisible:function(){var e=this._popupContainer;return e&&e.option("visible")},publicMethods:function(){return["showColumnChooser","hideColumnChooser"]}});module.exports={defaultOptions:function(){return{columnChooser:{enabled:!1,allowSearch:!1,searchTimeout:500,mode:"dragAndDrop",width:250,height:260,title:a.default.format("dxDataGrid-columnChooserTitle"),emptyPanelText:a.default.format("dxDataGrid-columnChooserEmptyText"),container:void 0}}},controllers:{columnChooser:z},views:{columnChooserView:H},extenders:{views:{headerPanel:{_getToolbarItems:function(){var e=this.callBase();return this._appendColumnChooserItem(e)},_appendColumnChooserItem:function(e){var t=this;if(t.option("columnChooser.enabled")){var n=t.option("columnChooser.title"),i={widget:"dxButton",options:{icon:S,onClick:function(){t.component.getView("columnChooserView").showColumnChooser()},hint:n,text:n,onInitialized:function(e){(0,o.default)(e.element).addClass(t._getToolbarButtonClass(t.addWidgetPrefix(B)))}},showText:"inMenu",location:"after",name:"columnChooserButton",locateInMenu:"auto",sortIndex:40};e.push(i)}return e},optionChanged:function(e){switch(e.name){case"columnChooser":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}},isVisible:function(){var e=this.option("columnChooser.enabled");return this.callBase()||e}}},controllers:{columns:{allowMoveColumn:function(e,o,t,n){return!("select"===this.option("columnChooser.mode")&&"columnChooser"===n)&&this.callBase(e,o,t,n)}}}}};
},{"../../core/renderer":"qxFQ","../../core/utils/common":"GcQA","./ui.grid_core.modules":"vXU0","./ui.grid_core.columns_view":"G3QA","../../localization/message":"Njcj","../themes":"k2ha","../button":"kKaI","../tree_view":"Fosu","../../core/devices":"LpzF","../popup":"DU0r","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","../../core/utils/iterator":"FHcO"}],"jjGA":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),r=i(e),u=require("../grid_core/ui.grid_core.column_chooser"),o=i(u);function i(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("columnChooser",o.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.column_chooser":"mBUs"}],"mcvE":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=r(e),a=require("./ui.grid_core.utils"),i=r(a),n=require("../../core/utils/common"),s=require("../../core/utils/iterator"),l=require("../../core/utils/type"),d=require("../../core/utils/deferred");function r(e){return e&&e.__esModule?e:{default:e}}var o="dx-master-detail-cell",u="dx-master-detail-row",p="dx-cell-focus-disabled",c="dx-row-lines";module.exports={defaultOptions:function(){return{masterDetail:{enabled:!1,autoExpandAll:!1,template:null}}},extenders:{controllers:{columns:{_getExpandColumnsCore:function(){var e=this.callBase();return this.option("masterDetail.enabled")&&e.push({type:"detailExpand",cellTemplate:i.default.getExpandCellTemplate()}),e}},data:function(){var e=function(e){e._expandedItems=[],e._isExpandAll=e.option("masterDetail.autoExpandAll")};return{init:function(){e(this),this.callBase()},expandAll:function(e){e<0?(this._isExpandAll=!0,this._expandedItems=[],this.updateItems()):this.callBase.apply(this,arguments)},collapseAll:function(e){e<0?(this._isExpandAll=!1,this._expandedItems=[],this.updateItems()):this.callBase.apply(this,arguments)},isRowExpanded:function(e){var t=i.default.getIndexByKey(e,this._expandedItems);return Array.isArray(e)?this.callBase.apply(this,arguments):!!(this._isExpandAll^(t>=0&&this._expandedItems[t].visible))},_getRowIndicesForExpand:function(e){var t=this.getRowIndexByKey(e);return[t,t+1]},_changeRowExpandCore:function(e){var t,a;if(Array.isArray(e))return this.callBase.apply(this,arguments);if((t=i.default.getIndexByKey(e,this._expandedItems))>=0){var n=this._expandedItems[t].visible;this._expandedItems[t].visible=!n}else this._expandedItems.push({key:e,visible:!0}),(a=this.getController("editing"))&&a.correctEditRowIndexAfterExpand(e);this.updateItems({changeType:"update",rowIndices:this._getRowIndicesForExpand(e)})},_processDataItem:function(e,t){var a=this.callBase.apply(this,arguments);return a.isExpanded=this.isRowExpanded(a.key),void 0===t.detailColumnIndex&&(t.detailColumnIndex=-1,(0,s.each)(t.visibleColumns,function(e,a){if("expand"===a.command&&!(0,l.isDefined)(a.groupIndex))return t.detailColumnIndex=e,!1})),t.detailColumnIndex>=0&&(a.values[t.detailColumnIndex]=a.isExpanded),a},_processItems:function(e,t){var a,l=this,d=t.changeType,r=[];return e=l.callBase.apply(l,arguments),"loadingAll"===d?e:("refresh"===d&&(l._expandedItems=(0,n.grep)(l._expandedItems,function(e){return e.visible})),(0,s.each)(e,function(e,t){r.push(t),a=i.default.getIndexByKey(t.key,l._expandedItems),"data"===t.rowType&&(t.isExpanded||a>=0)&&!t.isNewRow&&r.push({visible:t.isExpanded,rowType:"detail",key:t.key,data:t.data,values:[]})}),r)},optionChanged:function(t){var a,i,n,s;if("masterDetail"===t.name){switch(t.name="dataSource",t.fullName){case"masterDetail":a=t.value||{},i=t.previousValue||{},n=a.enabled!==i.enabled,s=a.autoExpandAll!==i.autoExpandAll;break;case"masterDetail.enabled":n=!0;break;case"masterDetail.autoExpandAll":s=!0}(n||s)&&e(this)}this.callBase(t)}}}(),resizing:{fireContentReadyAction:function(){this.callBase.apply(this,arguments),this._updateParentDataGrids(this.component.$element())},_updateParentDataGrids:function(e){var t=this,a=e.closest("."+u);a.length&&(0,d.when)(this._updateMasterDataGrid(a,e)).done(function(){t._updateParentDataGrids(a.parent())})},_updateMasterDataGrid:function(e,a){var i=(0,t.default)(e).data("options"),n=(0,t.default)(e).closest("."+this.getWidgetContainerClass()).parent().data("dxDataGrid");if(i&&n){if(!n.getView("rowsView").isFixedColumns()){var s=n.getScrollable();return s&&s.update()}this._updateFixedMasterDetailGrids(n,i.rowIndex,a)}},_updateFixedMasterDetailGrids:function(e,a,i){var n=this,s=(0,t.default)(e.getRowElement(a));if(s&&2===s.length&&s.eq(0).height()!==s.eq(1).height()){var l=i.width();return e.updateDimensions().done(function(){var t=n.option("columnAutoWidth")&&!0===e.option("scrolling.useNative"),a=t&&l!==i.width();t&&a&&n.updateDimensions()})}}}},views:{rowsView:{_getCellTemplate:function(e){var t=e.column,a=this.getController("editing"),i=a&&a.isEditRow(e.rowIndex);return"detail"!==t.command||i?this.callBase.apply(this,arguments):this.option("masterDetail.template")||{allowRenderToDetachedContainer:!1,render:this._getDefaultTemplate(t)}},_isDetailRow:function(e){return e&&e.rowType&&0===e.rowType.indexOf("detail")},_createRow:function(e){var t=this.callBase(e);return e&&this._isDetailRow(e)&&(this.option("showRowLines")&&t.addClass(c),t.addClass(u),(0,l.isDefined)(e.visible)&&t.toggle(e.visible)),t},_renderCells:function(e,t){var a=t.row,i=this._columnsController.getVisibleColumns();a.rowType&&this._isDetailRow(a)?this._needRenderCell(0,t.columnIndices)&&this._renderCell(e,{value:null,row:a,rowIndex:a.rowIndex,column:{command:"detail"},columnIndex:0}).addClass(p).addClass(o).attr("colSpan",i.length):this.callBase.apply(this,arguments)}}}}};
},{"../../core/renderer":"qxFQ","./ui.grid_core.utils":"kk68","../../core/utils/common":"GcQA","../../core/utils/iterator":"FHcO","../../core/utils/type":"Mw4w","../../core/utils/deferred":"g5TB"}],"u0hC":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),t=a(e),r=require("../grid_core/ui.grid_core.master_detail"),s=a(r),i=require("../../core/utils/extend");function a(e){return e&&e.__esModule?e:{default:e}}t.default.registerModule("masterDetail",(0,i.extend)(!0,{},s.default,{extenders:{controllers:{data:{isRowExpanded:function(){return this.callBase.apply(this,arguments)},_processItems:function(){return this.callBase.apply(this,arguments)},_processDataItem:function(){return this.callBase.apply(this,arguments)}}}}}));
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.master_detail":"mcvE","../../core/utils/extend":"ac8T"}],"AGMV":[function(require,module,exports) {
"use strict";var t=require("../../core/utils/math").fitIntoRange,e=require("../../core/utils/common").escapeRegExp,r=require("../../localization/number"),n=function(t,e){var n=e.split(";"),a=r.getSign(t,e);n[1]=n[1]||"-"+n[0],e=n[a<0?1:0];e=e.replace(/'([^']*)'/g,function(t){return t.split("").map(function(){return" "}).join("").substr(2)});var i=/^[^#0.,]*/.exec(e)[0].length,s=/[^#0.,]*$/.exec(e)[0].length;return{start:i,end:t.length-s}},a=function(t,n){var a=r.getDecimalSeparator(),i=new RegExp("[^0-9"+e(a)+"]","g");return n.slice(0,t).replace(i,"").length},i=function(t){return t.split("").reverse().join("")},s=function(t,e){if(!t)return-1;for(var r=/[0-9]/g,n=1,a=null,i=r.exec(e);i;){if(a=i.index,!t||n>=t)return a;n++,i=r.exec(e)}return null===a?e.length:a},u=function(t,e){return void 0===t.start&&(t={start:t,end:t}),{start:t.start+e,end:t.end+e}},o=function(t,e,n,o){n=u(n,0);var l=r.getDecimalSeparator(),f=c(t),p=f?0:t.indexOf(l),d=e.indexOf(l),x=f?t.split(t[p]):t.split(l),v=e.split(l);if(-1!==p&&n.start>p){var h=n.start-p-1,m=a(h,x[1]),C=v[1]?d+1+s(m,v[1])+1:e.length;return g(C,e,o)}var O=x[0].length-n.start,q=a(O,i(x[0])),B=s(q,i(v[0])),I=v[0].length-(B+1);return g(I,e,o)},c=function(t){return 1===t.length&&!!t.match(/^[,.][0-9]*$/g)},l=function(t,e,r){t=u(t,0);var n=g(t,e,r);return t.start>=n.start&&t.end<=n.end},g=function(e,r,a){e=u(e,0);var i=n(r,a);return{start:t(e.start,i.start,i.end),end:t(e.end,i.start,i.end)}},f=function(t,e,r){var a=n(t,r);return n(e,r).start-a.start};exports.getCaretBoundaries=n,exports.isCaretInBoundaries=l,exports.getCaretWithOffset=u,exports.getCaretInBoundaries=g,exports.getCaretAfterFormat=o,exports.getCaretOffset=f;
},{"../../core/utils/math":"Ntiw","../../core/utils/common":"GcQA","../../localization/number":"mjsA"}],"SDhA":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),i=require("../../core/dom_adapter"),n=require("../../events/core/events_engine"),t=require("../widget/ui.widget"),r=require("../../core/utils/extend").extend,a=require("../../events/utils"),s=require("../../events/pointer"),d=require("../../events/core/emitter.feedback"),o=require("../../events/hold"),l=require("../../core/utils/deferred").Deferred,c="dx-numberbox-spin",h="dx-numberbox-spin-button",u=100,f="dxNumberBox",_=a.addNamespace(s.up,f),m=a.addNamespace(s.cancel,f),p=t.inherit({_getDefaultOptions:function(){return r(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup:function(){this.callBase();var i=c+"-"+this.option("direction");this.$element().addClass(h).addClass(i),this._spinIcon=e("<div>").addClass(i+"-icon").appendTo(this.$element())},_render:function(){this.callBase();var e=a.addNamespace(s.down,this.NAME),i=this.$element();n.off(i,e),n.on(i,e,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(e){e.preventDefault(),this._clearTimer(),n.on(this.$element(),o.name,function(){this._feedBackDeferred=new l,d.lock(this._feedBackDeferred),this._spinChangeHandler({event:e}),this._holdTimer=setInterval(this._spinChangeHandler,u,{event:e})}.bind(this));var t=i.getDocument();n.on(t,_,this._clearTimer.bind(this)),n.on(t,m,this._clearTimer.bind(this)),this._spinChangeHandler({event:e})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){n.off(this.$element(),o.name);var e=i.getDocument();n.off(e,_),n.off(e,m),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(e){switch(e.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(e)}}});module.exports=p;
},{"../../core/renderer":"qxFQ","../../core/dom_adapter":"RRDy","../../events/core/events_engine":"oNrb","../widget/ui.widget":"gtOK","../../core/utils/extend":"ac8T","../../events/utils":"cNvJ","../../events/pointer":"HDhW","../../events/core/emitter.feedback":"rWdi","../../events/hold":"zW3q","../../core/utils/deferred":"g5TB"}],"ejGU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),t=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},n=require("../../core/renderer"),o=f(n),r=require("../../events/core/events_engine"),i=f(r),u=require("../text_box/texteditor_button_collection/button"),a=f(u),s=require("./number_box.spin"),l=f(s),c=require("../../events/utils"),p=require("../../events/pointer"),d=require("../../core/utils/extend");function f(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v="dx-numberbox-spin",y="dx-numberbox-spin-container",g="dx-numberbox-spin-touch-friendly",O=function(n){function r(){return _(this,r),h(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return b(r,a.default),e(r,[{key:"_attachEvents",value:function(e,t){var n=this.editor,o=(0,c.addNamespace)(p.down,n.NAME),r=t.children(),u=n._createAction(function(e){return n._spinButtonsPointerDownHandler(e)});i.default.off(t,o),i.default.on(t,o,function(e){return u({event:e})}),l.default.getInstance(r.eq(0)).option("onChange",function(e){return n._spinUpChangeHandler(e)}),l.default.getInstance(r.eq(1)).option("onChange",function(e){return n._spinDownChangeHandler(e)})}},{key:"_create",value:function(){var e=this.editor,t=(0,o.default)("<div>").addClass(y),n=(0,o.default)("<div>").appendTo(t),r=(0,o.default)("<div>").appendTo(t),i=this._getOptions();return this._addToContainer(t),e._createComponent(n,l.default,(0,d.extend)({direction:"up"},i)),e._createComponent(r,l.default,(0,d.extend)({direction:"down"},i)),this._legacyRender(e.$element(),this._isTouchFriendly(),i.visible),{instance:t,$element:t}}},{key:"_getOptions",value:function(){var e=this.editor;return{visible:this._isVisible(),disabled:e.option("disabled")}}},{key:"_isVisible",value:function(){var e=this.editor;return t(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"_isVisible",this).call(this)&&e.option("showSpinButtons")}},{key:"_isTouchFriendly",value:function(){var e=this.editor;return e.option("showSpinButtons")&&e.option("useLargeSpinButtons")}},{key:"_legacyRender",value:function(e,t,n){e.toggleClass(g,t),e.toggleClass(v,n)}},{key:"update",value:function(){if(t(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"update",this).call(this)){var e=this.editor,n=this.instance,o=e.$element(),i=this._isVisible(),u=this._isTouchFriendly(),a=n.children(),s=l.default.getInstance(a.eq(0)),c=l.default.getInstance(a.eq(1)),p=this._getOptions();s.option(p),c.option(p),this._legacyRender(o,u,i)}}}]),r}();exports.default=O;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../text_box/texteditor_button_collection/button":"EKtI","./number_box.spin":"SDhA","../../events/utils":"cNvJ","../../events/pointer":"HDhW","../../core/utils/extend":"ac8T"}],"NvE1":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../core/dom_adapter"),i=require("../../events/core/events_engine"),n=require("../../core/utils/common"),a=require("../../core/utils/type"),s=require("../../core/utils/math"),r=require("../../core/utils/extend").extend,u=require("../../core/utils/array").inArray,o=require("../../core/devices"),l=require("../../core/utils/browser"),p=require("../text_box/ui.text_editor"),h=require("../../events/utils"),c=require("./number_box.spins").default,d=require("../../localization/message"),_=require("../../core/utils/deferred").Deferred,m=Math,v="dx-numberbox",f=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"],V="NumberBoxForceValueChange",g=p.inherit({_supportedKeys:function(){return r(this.callBase(),{upArrow:function(e){e.preventDefault(),e.stopPropagation(),this._spinUpChangeHandler(e)},downArrow:function(e){e.preventDefault(),e.stopPropagation(),this._spinDownChangeHandler(e)},enter:function(){}})},_getDefaultOptions:function(){return r(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:d.format("dxNumberBox-invalidValueMessage"),buttons:void 0})},_getDefaultButtons:function(){return this.callBase().concat([{name:"spins",Ctor:c}])},_isSupportInputMode:function(){var e=parseFloat(l.version);return l.chrome&&e>=66||l.safari&&e>=12||l.msie&&e>=75},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return o.real().generic&&!o.isSimulator()},options:{useLargeSpinButtons:!1}},{device:function(){return"desktop"!==o.real().deviceType&&!this._isSupportInputMode()}.bind(this),options:{mode:"number"}}])},_initMarkup:function(){this._renderSubmitElement(),this.$element().addClass(v),this.callBase()},_applyInputAttributes:function(e,t){e.attr("inputmode","decimal"),this.callBase(e,t)},_renderContentImpl:function(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")},_renderSubmitElement:function(){this._$submitElement=e("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(e){this._getSubmitElement().val(n.applyServerDecimalSeparator(e))},_getSubmitElement:function(){return this._$submitElement},_keyPressHandler:function(e){this.callBase(e);var t=h.getChar(e);if(!/[\d.,eE\-+]|Subtract/.test(t)){var i=h.normalizeKeyName(e);if(e.metaKey||e.ctrlKey||i&&u(i,f)>=0)return;return e.preventDefault(),!1}this._keyPressed=!0},_onMouseWheel:function(e){e.delta>0?this._spinValueChange(1,e):this._spinValueChange(-1,e)},_renderValue:function(){var e=this._input().val(),t=this.option("value");e.length&&Number(e)===t||(this._forceValueRender(),this._toggleEmptinessEventHandler());var i=a.isDefined(t)?null:d.format("dxNumberBox-noDataText");return this.setAria({valuenow:n.ensureDefined(t,""),valuetext:i}),this.option("text",this._input().val()),this._updateButtons(),(new _).resolve()},_forceValueRender:function(){var e=this.option("value"),t=Number(e),i=isNaN(t)?"":this._applyDisplayValueFormatter(e);this._renderDisplayText(i)},_applyDisplayValueFormatter:function(e){return this.option("displayValueFormatter")(e)},_renderProps:function(){this.callBase(),this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:n.ensureDefined(this.option("min"),""),valuemax:n.ensureDefined(this.option("max"),"")})},_spinButtonsPointerDownHandler:function(){var e=this._input();this.option("useLargeSpinButtons")||t.getActiveElement()===e[0]||i.trigger(e,"focus")},_spinUpChangeHandler:function(e){this.option("readOnly")||this._spinValueChange(1,e.event||e)},_spinDownChangeHandler:function(e){this.option("readOnly")||this._spinValueChange(-1,e.event||e)},_spinValueChange:function(e,t){var i=parseFloat(this.option("step"));if(0!==i){var n=parseFloat(this._normalizeInputValue())||0;n=this._correctRounding(n,i*e);var a=this.option("min"),s=this.option("max");void 0!==a&&(n=Math.max(a,n)),void 0!==s&&(n=Math.min(s,n)),this._saveValueChangeEvent(t),this.option("value",n)}},_correctRounding:function(e,t){var i=/[,.](.*)/,n=i.test(e),a=i.test(t);if(n||a){var s=n?i.exec(e)[0].length:0,r=a?i.exec(t)[0].length:0,u=m.max(s,r);return e=this._round(e+t,u)}return e+t},_round:function(e,t){t=t||0;var i=Math.pow(10,t);return e*=i,e=Math.round(e)/i},_renderValueChangeEvent:function(){this.callBase();var e=h.addNamespace("focusout",V);i.off(this.element(),e),i.on(this.element(),e,this._forceRefreshInputValue.bind(this))},_forceRefreshInputValue:function(){if("number"!==this.option("mode")){var e=this._input(),t=this._applyDisplayValueFormatter(this.option("value"));e.val(null),e.val(t)}},_valueChangeEventHandler:function(e){var t=this._input(),i=this._normalizeText(),n=this._parseValue(i),a="."!==i&&"-"!==i;!this._isValueValid()||this._validateValue(n)?(a&&this.callBase(e,isNaN(n)?null:n),this._applyValueBoundaries(i,n),this.validationRequest.fire({value:n,editor:this})):t.val(this._applyDisplayValueFormatter(n))},_applyValueBoundaries:function(e,t){var i=this._isValueIncomplete(e),n=this._isValueInRange(e);i||n||null===t||Number(e)!==t&&this._input().val(this._applyDisplayValueFormatter(t))},_replaceCommaWithPoint:function(e){return e.replace(",",".")},_inputIsInvalid:function(){var e="number"===this.option("mode"),t=this._input().get(0).validity;return e&&t&&t.badInput},_renderDisplayText:function(e){this._inputIsInvalid()||this.callBase(e)},_isValueIncomplete:function(e){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(e)},_isValueInRange:function(e){return s.inRange(e,this.option("min"),this.option("max"))},_isNumber:function(e){return null!==this._parseValue(e)},_validateValue:function(e){var t=this._normalizeText(),i=this._isValueValid(),n=!0,a=this._isNumber(t);return isNaN(Number(e))&&(n=!1),!e&&i?n=!0:a||i||(n=!1),this.option({isValid:n,validationError:n?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),n},_normalizeInputValue:function(){return this._parseValue(this._normalizeText())},_normalizeText:function(){var e=this._input().val().trim();return this._replaceCommaWithPoint(e)},_parseValue:function(e){var t=parseFloat(e);return isNaN(t)?null:s.fitIntoRange(t,this.option("min"),this.option("max"))},_clearValue:function(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),this.callBase()},reset:function(){null===this.option("value")?(this.option("text",""),this._renderValue()):this.option("value",null)},_optionChanged:function(e){switch(e.name){case"value":this._validateValue(e.value),this._setSubmitValue(e.value),this.callBase(e),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:this.callBase(e)}}});module.exports=g;
},{"../../core/renderer":"qxFQ","../../core/dom_adapter":"RRDy","../../events/core/events_engine":"oNrb","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/math":"Ntiw","../../core/utils/extend":"ac8T","../../core/utils/array":"uivT","../../core/devices":"LpzF","../../core/utils/browser":"nlvS","../text_box/ui.text_editor":"Jy4U","../../events/utils":"cNvJ","./number_box.spins":"ejGU","../../localization/message":"Njcj","../../core/utils/deferred":"g5TB"}],"cLyf":[function(require,module,exports) {
"use strict";var t=require("../../events/core/events_engine"),e=require("../../core/utils/extend").extend,i=require("../../core/utils/type").isNumeric,a=require("../../core/utils/browser"),r=require("../../core/devices"),s=require("../../core/utils/math").fitIntoRange,n=require("../../core/utils/math").inRange,u=require("../../core/utils/common").escapeRegExp,h=require("../../localization/number"),o=require("./number_box.caret"),l=require("../../localization/ldml/number").getFormat,_=require("./number_box.base"),c=require("../../events/utils"),d=require("../../core/utils/type"),f="dxNumberFormatter",m=1,v=-1,p="-",g="minus",V="Subtract",y="input",B=a.msie?300:0,T=function(t,e){return void 0===t?e:t},b=_.inherit({_getDefaultOptions:function(){return e(this.callBase(),{useMaskBehavior:!0,format:null})},_isDeleteKey:function(t){return"del"===t},_supportedKeys:function(){if(!this._useMaskBehavior())return this.callBase();return e(this.callBase(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,v),rightArrow:this._arrowHandler.bind(this,m),home:this._moveCaretToBoundaryEventHandler.bind(this,m),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,v)})},_focusInHandler:function(t){this._preventNestedFocusEvent(t)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout(function(){this._caretTimeout=null;var e=this._caret();if(e.start===e.end&&this._useMaskBehavior()){var i=this._getInputVal(),a=h.getDecimalSeparator(),r=i.indexOf(a);r>=0?this._caret({start:r,end:r}):this._moveCaretToBoundaryEventHandler(v,t)}}.bind(this),B)),this.callBase(t)},_focusOutHandler:function(t){var e=!this._preventNestedFocusEvent(t);e&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),this.callBase(t),e&&(this._focusOutOccurs=!1)},_hasValueBeenChanged:function(t){var e=this._getFormatPattern(),i=this.option("value");return(this._format(i,e)||"")!==t},_updateFormattedValue:function(){var e=this._getInputVal();this._hasValueBeenChanged(e)&&(this._parsedValue=this._tryParse(e,this._caret()),this._adjustParsedValue(),this._setTextByParsedValue(),this._parsedValue!==this.option("value")&&t.trigger(this._input(),"change"))},_arrowHandler:function(t,e){if(this._useMaskBehavior()){var i=this._getInputVal(),a=this._getFormatPattern(),r=o.getCaretWithOffset(this._caret(),t);o.isCaretInBoundaries(r,i,a)||(r=t===m?r.end:r.start,e.preventDefault(),this._caret(o.getCaretInBoundaries(r,i,a)))}},_moveCaretToBoundary:function(t){var e=o.getCaretBoundaries(this._getInputVal(),this._getFormatPattern()),i=o.getCaretWithOffset(t===m?e.start:e.end,0);this._caret(i)},_moveCaretToBoundaryEventHandler:function(t,e){!this._useMaskBehavior()||e&&e.shiftKey||(this._moveCaretToBoundary(t),e&&e.preventDefault())},_shouldMoveCaret:function(t,e){var i=h.getDecimalSeparator(),a=t.charAt(e.end)===i,r="0"===t.charAt(e.end),s=(this._lastKey===i||"."===this._lastKey)&&a,n="0"===this._lastKey&&r;return s||n},_getInputVal:function(){return h.convertDigits(this._input().val(),!0)},_keyboardHandler:function(t){if(this.clearCaretTimeout(),this._lastKey=h.convertDigits(c.getChar(t),!0),this._lastKeyName=c.normalizeKeyName(t),!this._shouldHandleKey(t.originalEvent))return this.callBase(t);var e=this._getInputVal(),i=this._caret(),a=this._lastKeyName===g?"":this._lastKey,r=this._tryParse(e,i,a);return this._shouldMoveCaret(e,i)&&(this._moveCaret(1),t.originalEvent.preventDefault()),void 0===r?this._lastKeyName!==g&&t.originalEvent.preventDefault():this._parsedValue=r,this.callBase(t)},_keyPressHandler:function(t){this._useMaskBehavior()||this.callBase(t)},_removeHandler:function(t){var e=this._caret(),i=this._getInputVal(),a=e.start,r=e.end;this._lastKey=c.getChar(t),this._lastKeyName=c.normalizeKeyName(t);var s=this._isDeleteKey(this._lastKeyName),n=!s;if(a===r){if(!(n&&a>0||s&&a<i.length))return void t.preventDefault();s&&r++,n&&a--}var u=i.slice(a,r);if(this._isStub(u))return this._moveCaret(s?1:-1),(this._parsedValue<0||1/this._parsedValue==-1/0)&&(this._revertSign(t),this._setTextByParsedValue()),void t.preventDefault();var o=h.getDecimalSeparator();if(u!==o){if(r-a<i.length)if(this._replaceSelectedText(i,{start:a,end:r},"").search(/[0-9]/)<0&&this._isValueInRange(0))return void(this._parsedValue=this._parsedValue<0||1/this._parsedValue==-1/0?-0:0);var l=this._tryParse(i,{start:a,end:r},"");void 0===l?t.preventDefault():this._parsedValue=l}else{var _=i.indexOf(o);this._isNonStubAfter(_+1)&&(this._moveCaret(s?1:-1),t.preventDefault())}},_isPercentFormat:function(){return-1!==this._getFormatPattern().replace(/'[^']+'/g,"").indexOf("%")},_parse:function(t,e){var i=this.option("format"),a=d.isFunction(i.parser)?i.parser:h.parse,r=e.indexOf("."),s=t.indexOf(h.getDecimalSeparator()),n=-1!==r?r:e.length,u=-1!==s?s:t.length;return u>n&&-1===e.indexOf("#")&&(t=t.substr(u-n)),a(t,e)},_format:function(t,e){var i=this.option("format");return(d.isFunction(i.formatter)?i.formatter:h.format)(t,e)},_getFormatPattern:function(){var t=this.option("format");return"string"==typeof t&&(t.indexOf("0")>=0||t.indexOf("#")>=0)?t:l(function(e){var i=this._format(e,t);return h.convertDigits(i,!0)}.bind(this))},_getFormatForSign:function(t){var e=this._getFormatPattern(),i=e.split(";"),a=h.getSign(t,e);return i[1]=i[1]||"-"+i[0],a<0?i[1]:i[0]},_removeStubs:function(t,e){var i=this._getFormatForSign(t),a=h.getThousandsSeparator(),r=this._getStubs(i),s=t;if(r.length){var n=r[0],o=new RegExp("("+u(r[1]||"")+")$","g"),l=new RegExp("[-"+u(e?"":a)+"]","g");s=s.replace(n,"").replace(o,"").replace(l,"")}return s},_getStubs:function(t){var e=/[^']([#0.,]+)/g.exec(t),i=e&&e[0].trim();return t.split(i).map(function(t){return t.replace(/'/g,"")})},_truncateToPrecision:function(t,e){if(d.isDefined(t)){var i=t.toString(),a=i.indexOf(".");if(i&&a>-1){var r=parseFloat(i.substr(0,a+e+1));return isNaN(r)?t:r}}return t},_tryParse:function(t,e,i){var a=this._replaceSelectedText(t,e,i),r=this._getFormatPattern(),s=e.start!==e.end,n=this._getParsedValue(a,r),u=this._getPrecisionLimits(r,a).max,o=n!==this._parsedValue,l=i===h.getDecimalSeparator()&&0===u,_=!s&&!o&&i!==p&&!this._isValueIncomplete(a)&&this._isStub(i);if(!l&&!_&&(""===this._removeStubs(a)&&(n=0*this._parsedValue),!isNaN(n))){var c=null===n?this._parsedValue:n;return n=this._truncateToPrecision(c,u),this._isPercentFormat()?n&&n/100:n}},_getParsedValue:function(t,e){var i=h.getSign(t,e),a=this._removeStubs(t,!0),r=this._parse(a,e);return r?i*r:r},_isValueIncomplete:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret(),i=h.getDecimalSeparator(),a=t.indexOf(i),r=a>=0&&a<e.start,s=this._removeStubs(t,!0).split(i);if(!r||2!==s.length)return!1;var u=s[1].length,o=this._getPrecisionLimits(this._getFormatPattern(),t),l=n(u,o.min,o.max),_="0"===s[1].charAt(u-1);return l&&(_||!u)},_isValueInRange:function(t){var e=T(this.option("min"),-1/0),i=T(this.option("max"),1/0);return n(t,e,i)},_setInputText:function(t){var e=h.convertDigits(t,!0),i=o.getCaretAfterFormat(this._getInputVal(),e,this._caret(),this._getFormatPattern());this._input().val(t),this._toggleEmptinessEventHandler(),this._formattedValue=t,this._focusOutOccurs||this._caret(i)},_useMaskBehavior:function(){return!!this.option("format")&&this.option("useMaskBehavior")},_renderInputType:function(){var t="number"===this.option("mode"),e="desktop"===r.real().deviceType;this._useMaskBehavior()&&t?this._setInputType(e||this._isSupportInputMode()?"text":"tel"):this.callBase()},_isChar:function(t){return"string"==typeof t&&1===t.length},_moveCaret:function(t){if(t){var e=o.getCaretWithOffset(this._caret(),t),i=o.getCaretInBoundaries(e,this._getInputVal(),this._getFormatPattern());this._caret(i)}},_shouldHandleKey:function(t){var e=c.normalizeKeyName(t),i=t.ctrlKey||t.shiftKey||t.altKey||!this._isChar(e),a=e===g;return this._useMaskBehavior()&&!i&&!a},_renderInput:function(){this.callBase(),this._renderFormatter()},_renderFormatter:function(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()},_detachFormatterEvents:function(){t.off(this._input(),"."+f)},_isInputFromPaste:function(t){var e=t.originalEvent&&t.originalEvent.inputType;return d.isDefined(e)?"insertFromPaste"===e:this._isValuePasted},_attachFormatterEvents:function(){var e=this._input();t.on(e,c.addNamespace(y,f),function(t){this._formatValue(t),this._isValuePasted=!1}.bind(this)),a.msie&&a.version<12&&t.on(e,c.addNamespace("paste",f),function(){this._isValuePasted=!0}.bind(this)),t.on(e,c.addNamespace("dxclick",f),function(){this._caretTimeout||(this._caretTimeout=setTimeout(function(){this._caret(o.getCaretInBoundaries(this._caret(),this._getInputVal(),this._getFormatPattern()))}.bind(this),B))}.bind(this)),t.on(e,"dxdblclick",function(){this.clearCaretTimeout()}.bind(this))},clearCaretTimeout:function(){clearTimeout(this._caretTimeout),this._caretTimeout=null},_forceRefreshInputValue:function(){if(!this._useMaskBehavior())return this.callBase()},_isNonStubAfter:function(t,e){return(e=(e||this._getInputVal()).slice(t))&&!this._isStub(e,!0)},_isStub:function(t,e){var i=u(h.getDecimalSeparator());return new RegExp("^[^0-9"+i+"]+$","g").test(t)&&(e||this._isChar(t))},_parseValue:function(t){return this._useMaskBehavior()?this._parsedValue:this.callBase(t)},_getPrecisionLimits:function(t){var e=(this._getFormatForSign(t).split(".")[1]||"").replace(/[^#0]/g,"");return{min:e.replace(/^(0*)#*/,"$1").length,max:e.length}},_revertSign:function(t){if(this._useMaskBehavior()){var e=this._caret();if(e.start!==e.end){if(c.normalizeKeyName(t)===g)return void this._applyRevertedSign(t,e,!0);this._caret(o.getCaretInBoundaries(0,this._getInputVal(),this._getFormatPattern()))}this._applyRevertedSign(t,e)}},_applyRevertedSign:function(e,i,r){var s=-1*T(this._parsedValue,null);if(this._isValueInRange(s)){if(this._parsedValue=s,r){var n=this._getFormatPattern(),u=this._getInputVal();this._setTextByParsedValue(),e.preventDefault();var h=this._getInputVal(),l=o.getCaretOffset(u,h,n);i=o.getCaretWithOffset(i,l);var _=o.getCaretInBoundaries(i,h,n);a.msie?(clearTimeout(this._caretTimeout),this._caretTimeout=setTimeout(this._caret.bind(this,_))):this._caret(_)}e.key===V&&t.trigger(this._input(),y)}},_removeMinusFromText:function(t,e){return this._lastKeyName===g&&t.charAt(e.start-1)===p?this._replaceSelectedText(t,{start:e.start-1,end:e.start},""):t},_setTextByParsedValue:function(){var t=this._getFormatPattern(),e=this._parseValue(),i=this._format(e,t)||"";this._setInputText(i)},_formatValue:function(t){var e=this._getInputVal(),i=this._caret(),a=this._removeMinusFromText(e,i),r=a!==e;if(e=a,!this._isInputFromPaste(t)&&this._isValueIncomplete(a))return this._formattedValue=e,void(r&&this._setTextByParsedValue());if(h.convertDigits(this._formattedValue,!0)!==e){var s=this._tryParse(e,i,"");d.isDefined(s)&&(this._parsedValue=s)}this._setTextByParsedValue()},_renderDisplayText:function(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():this.callBase.apply(this,arguments)},_renderValue:function(){return this._useMaskBehavior()&&(this._parsedValue=this.option("value"),this._setTextByParsedValue()),this.callBase()},_adjustParsedValue:function(){if(this._useMaskBehavior()){var t=this._removeStubs(this._getInputVal())?this._parseValue():null;i(t)?this._parsedValue=s(t,this.option("min"),this.option("max")):this._parsedValue=t}},_valueChangeEventHandler:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret();this._saveValueChangeEvent(t),this._lastKey=null,this._lastKeyName=null,this._adjustParsedValue(),this.option("value",this._parsedValue),e&&this._caret(e)},_optionChanged:function(t){switch(t.name){case"format":case"useMaskBehavior":this._renderFormatter(),this._renderValue();break;case"min":case"max":this._adjustParsedValue(),this.callBase(t);break;default:this.callBase(t)}},_clearCache:function(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout},_clean:function(){this._clearCache(),this.callBase()}});module.exports=b;
},{"../../events/core/events_engine":"oNrb","../../core/utils/extend":"ac8T","../../core/utils/type":"Mw4w","../../core/utils/browser":"nlvS","../../core/devices":"LpzF","../../core/utils/math":"Ntiw","../../core/utils/common":"GcQA","../../localization/number":"mjsA","./number_box.caret":"AGMV","../../localization/ldml/number":"khSM","./number_box.base":"NvE1","../../events/utils":"cNvJ"}],"gArZ":[function(require,module,exports) {
"use strict";var r=require("../../core/component_registrator"),e=require("./number_box.mask");r("dxNumberBox",e),module.exports=e;
},{"../../core/component_registrator":"g3fO","./number_box.mask":"cLyf"}],"n0cg":[function(require,module,exports) {
"use strict";module.exports=require("./number_box/number_box"),module.exports.default=module.exports;
},{"./number_box/number_box":"gArZ"}],"fMTy":[function(require,module,exports) {
"use strict";module.exports={_waitAsyncTemplates:function(e){if(this._options.templatesRenderAsynchronously){this._asyncTemplatesTimers=this._asyncTemplatesTimers||[];var s=setTimeout(function(){e.call(this),clearTimeout(s)}.bind(this));this._asyncTemplatesTimers.push(s)}else e.call(this)},_cleanAsyncTemplatesTimer:function(){for(var e=this._asyncTemplatesTimers||[],s=0;s<e.length;s++)clearTimeout(e[s]);delete this._asyncTemplatesTimers}};
},{}],"rY73":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),t=function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},o=require("../../core/renderer"),n=d(o),r=require("../../events/core/events_engine"),i=d(r),a=require("../../localization/message"),l=d(a),u=require("../text_box/texteditor_button_collection/button"),s=d(u),c=require("../button"),p=d(c);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _="dx-dropdowneditor-button",y="dx-dropdowneditor-button-visible",h="dxDropDownEditor-selectLabel",O=function(o){function r(){return f(this,r),b(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return v(r,s.default),e(r,[{key:"_attachEvents",value:function(e){var t=this.editor;e.option("onClick",function(e){!t.option("openOnFieldClick")&&t._openHandler(e)}),i.default.on(e.$element(),"mousedown",function(e){t.$element().is(".dx-state-focused")&&e.preventDefault()})}},{key:"_create",value:function(){var e=this.editor,t=(0,n.default)("<div>"),o=this._getOptions();this._addToContainer(t);var r=e._createComponent(t,p.default,o);return r.setAria("label",l.default.format(h)),this._legacyRender(e.$element(),t,o.visible),{$element:t,instance:r}}},{key:"_getOptions",value:function(){var e=this.editor,t=this._isVisible();return{focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:e.option("readOnly"),visible:t,template:e._getTemplateByOption("dropDownButtonTemplate")}}},{key:"_isVisible",value:function(){var e=this.editor;return t(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"_isVisible",this).call(this)&&e.option("showDropDownButton")}},{key:"_legacyRender",value:function(e,t,o){e.toggleClass(y,o),t&&(t.removeClass("dx-button"),t.addClass(_))}},{key:"update",value:function(){if(t(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"update",this).call(this)){var e=this.editor,o=this.instance,n=e.$element(),i=this._getOptions();o&&o.option(i),this._legacyRender(n,o&&o.$element(),i.visible)}}}]),r}();exports.default=O;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../localization/message":"Njcj","../text_box/texteditor_button_collection/button":"EKtI","../button":"kKaI"}],"PZSO":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=require("../shared/async_template_mixin"),n=require("../../events/core/events_engine"),i=require("../../core/guid"),o=require("../../core/component_registrator"),s=require("../../core/utils/common"),p=require("../../core/utils/dom"),a=require("../widget/selectors").focused,r=require("../../core/utils/iterator").each,u=require("../../core/utils/type").isDefined,l=require("../../core/utils/extend").extend,d=require("../../core/utils/dom").getPublicElement,c=require("../widget/ui.errors"),h=require("../../animation/position"),_=require("../../core/utils/position").getDefaultAlignment,f=require("./ui.drop_down_button").default,m=require("../../localization/message"),g=require("../../events/utils"),b=require("../text_box"),v=require("../../events/click"),O=require("../../core/devices"),C=require("../../core/templates/function_template").FunctionTemplate,w=require("../popup"),P="dx-dropdowneditor",B="dx-dropdowneditor-input-wrapper",y="dx-dropdowneditor-icon",E="dx-dropdowneditor-overlay",H="dx-dropdowneditor-overlay-flipped",T="dx-dropdowneditor-active",$="dx-dropdowneditor-field-clickable",D="dx-dropdowneditor-field-template-wrapper",I="ios"===O.current().platform,x=b.inherit({_supportedKeys:function(){var t=function(t){return!!this.option("opened")&&(t.preventDefault(),!0)};return l({},this.callBase(),{tab:function(t){if(this.option("opened"))if("instantly"!==this.option("applyValueMode")){var e=t.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();e&&n.trigger(e,"focus"),t.preventDefault()}else this.close()},escape:function(t){return this.option("opened")&&t.preventDefault(),this.close(),!0},upArrow:function(t){return t.preventDefault(),t.stopPropagation(),!t.altKey||(this.close(),!1)},downArrow:function(t){return t.preventDefault(),t.stopPropagation(),!t.altKey||(this._validatedOpening(),!1)},enter:function(t){return this.option("opened")&&(t.preventDefault(),this._valueChangeEventHandler(t)),!0},home:t,end:t})},_getDefaultButtons:function(){return this.callBase().concat([{name:"dropDown",Ctor:f}])},_getDefaultOptions:function(){return l(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,contentTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:m.format("OK"),cancelButtonText:m.format("Cancel"),buttonsLocation:"default",showPopupTitle:!1,useHiddenSubmitElement:!1})},_getDefaultPopupPosition:function(){var t=_();return{offset:{h:0,v:-1},my:t+" top",at:t+" bottom",collision:"flip flip"}},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){return"generic"===t.platform},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper:function(){return this.$element().find("."+B)},_init:function(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction(),this._initInnerOptionCache("dropDownOptions")},_initVisibilityActions:function(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction:function(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){this._renderSubmitElement(),this.callBase(),this.$element().addClass(P),this.setAria("role","combobox")},_render:function(){this.callBase(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()},_renderContentImpl:function(){this.option("deferRendering")||this._createPopup()},_renderInput:function(){this.callBase(),this.$element().wrapInner(t("<div>").addClass(B)),this._$container=this.$element().children().eq(0),this._setDefaultAria()},_setDefaultAria:function(){this.setAria({haspopup:"true",autocomplete:"list"})},_readOnlyPropValue:function(){return!this.option("acceptCustomValue")||this.callBase()},_cleanFocusState:function(){this.callBase(),this.option("fieldTemplate")&&this._detachFocusEvents()},_getFieldTemplate:function(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")},_renderField:function(){var t=this._getFieldTemplate();t&&this._renderTemplatedField(t,this._fieldRenderData())},_renderPlaceholder:function(){!!this._getFieldTemplate()||this.callBase()},_renderValue:function(){this.option("useHiddenSubmitElement")&&this._setSubmitValue(),this.callBase().always(this._renderField.bind(this))},_renderTemplatedField:function(e,i){var o=this,s=a(this._input()),r=this._$container;this._disposeKeyboardProcessor();var u=this._$beforeButtonsContainer&&this._$beforeButtonsContainer[0].parentNode,l=this._$afterButtonsContainer&&this._$afterButtonsContainer[0].parentNode;u&&u.removeChild(this._$beforeButtonsContainer[0]),l&&l.removeChild(this._$afterButtonsContainer[0]),this._detachFocusEvents(),r.empty();var d=t("<div>").addClass(D).appendTo(r);e.render({model:i,container:p.getPublicElement(d),onRendered:function(){var t=o._input();if(!t.length)throw c.Error("E1010");o._refreshEvents(),o._refreshValueChangeEvent(),o._renderFocusState(),s&&n.trigger(t,"focus")}}),r.prepend(this._$beforeButtonsContainer),r.append(this._$afterButtonsContainer)},_fieldRenderData:function(){return this.option("value")},_initTemplates:function(){this.callBase(),this._defaultTemplates.dropDownButton=new C(function(e){var n=t("<div>").addClass(y);t(e.container).append(n)})},_renderOpenHandler:function(){var t=this._inputWrapper(),e=g.addNamespace(v.name,this.NAME),i=this.option("openOnFieldClick");n.off(t,e),n.on(t,e,this._getInputClickHandler(i)),this.$element().toggleClass($,i),i&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))},_attachFocusOutHandler:function(){I&&(this._detachFocusOutEvents(),n.on(this._inputWrapper(),g.addNamespace("focusout",this.NAME),function(e){var n=e.relatedTarget,i=this.content?t(this.content()).closest("."+E):this._$popup;n&&this.option("opened")&&(0===t(n).closest("."+E,i).length&&this.close())}.bind(this)))},_detachFocusOutEvents:function(){I&&n.off(this._inputWrapper(),g.addNamespace("focusout",this.NAME))},_getInputClickHandler:function(t){var e=this;return t?function(t){e._executeOpenAction(t)}:function(t){e._focusInput()}},_openHandler:function(){this._toggleOpenState()},_executeOpenAction:function(t){this._openOnFieldClickAction({event:t})},_keyboardEventBindingTarget:function(){return this._input()},_focusInput:function(){return!this.option("disabled")&&(this.option("focusStateEnabled")&&!a(this._input())&&n.trigger(this._input(),"focus"),!0)},_toggleOpenState:function(t){this._focusInput()&&(this.option("readOnly")||(t=arguments.length?t:!this.option("opened"),this.option("opened",t)))},_renderOpenedState:function(){var t=this.option("opened");t&&this._createPopup(),this.$element().toggleClass(T,t),this._setPopupOption("visible",t),this.setAria({expanded:t}),this.setAria("owns",t?this._popupContentId:void 0,this.$element())},_createPopup:function(){this._$popup||(this._$popup=t("<div>").addClass(E).addClass(this.option("customOverlayCssClass")).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent())},_renderPopup:function(){this._popup=this._createComponent(this._$popup,w,l(this._popupConfig(),this._getInnerOptionsCache("dropDownOptions"))),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this)}),this._popup.option("onContentReady",this._contentReadyHandler.bind(this)),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_setPopupContentId:function(t){this._popupContentId="dx-"+new i,this.setAria("id",this._popupContentId,t)},_contentReadyHandler:s.noop,_popupConfig:function(){return{onInitialized:this._popupInitializedHandler(),position:l(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("showPopupTitle"),width:"auto",height:"auto",shading:!1,closeOnTargetScroll:!0,closeOnOutsideClick:this._closeOutsideDropDownHandler.bind(this),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1}},_popupInitializedHandler:function(){if(this.option("onPopupInitialized"))return function(t){this._popupInitializedAction({popup:t.component})}.bind(this)},_popupPositionedHandler:function(t){t.position&&this._popup.overlayContent().toggleClass(H,t.position.v.flip)},_popupShowingHandler:s.noop,_popupHidingHandler:function(){this.option("opened",!1)},_popupShownHandler:function(){this._openAction(),this._$validationMessage&&this._$validationMessage.dxOverlay("option","position",this._getValidationMessagePosition())},_popupHiddenHandler:function(){this._closeAction(),this._$validationMessage&&this._$validationMessage.dxOverlay("option","position",this._getValidationMessagePosition())},_getValidationMessagePosition:function(){var t="below";if(this._popup&&this._popup.option("visible")){var e=h.setup(this.$element()).top,n=h.setup(this._popup.$content()).top;t=e+this.option("popupPosition").offset.v>n?"below":"above"}return this.callBase(t)},_renderPopupContent:function(){var t=this._getTemplateByOption("contentTemplate");if(t&&this.option("contentTemplate")){var e=this._popup.$content(),n={value:this._fieldRenderData(),component:this};e.empty(),t.render({container:p.getPublicElement(e),model:n})}},_closeOutsideDropDownHandler:function(e){var n=e.target,i=t(n),o=this.getButton("dropDown"),s=o&&o.$element(),p=!!i.closest(this.$element()).length,a=!!i.closest(s).length;return!p&&!a},_clean:function(){delete this._openOnFieldClickAction,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption:function(t,e){this._setWidgetOption("_popup",arguments)},_validatedOpening:function(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupToolbarItems:function(){return"useButtons"===this.option("applyValueMode")?this._popupToolbarItemsConfig():[]},_getFirstPopupElement:function(){return this._popup._wrapper().find(".dx-popup-done.dx-button")},_getLastPopupElement:function(){return this._popup._wrapper().find(".dx-popup-cancel.dx-button")},_popupElementTabHandler:function(e){var i=t(e.currentTarget);(e.shiftKey&&i.is(this._getFirstPopupElement())||!e.shiftKey&&i.is(this._getLastPopupElement()))&&(n.trigger(this._input(),"focus"),e.preventDefault())},_popupElementEscHandler:function(){n.trigger(this._input(),"focus"),this.close()},_popupButtonInitializedHandler:function(t){t.component.registerKeyHandler("tab",this._popupElementTabHandler.bind(this)),t.component.registerKeyHandler("escape",this._popupElementEscHandler.bind(this))},_popupToolbarItemsConfig:function(){var t=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}}];return this._applyButtonsLocation(t)},_applyButtonsLocation:function(t){var e=this.option("buttonsLocation"),n=t;if("default"!==e){var i=s.splitPair(e);r(n,function(t,e){l(e,{toolbar:i[0],location:i[1]})})}return n},_applyButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_updatePopupWidth:s.noop,_popupOptionChanged:function(t){var e=this._getOptionsFromContainer(t);this._setPopupOption(e),-1!==Object.keys(e).indexOf("width")&&void 0===e.width&&this._updatePopupWidth()},_renderSubmitElement:function(){this.option("useHiddenSubmitElement")&&(this._$submitElement=t("<input>").attr("type","hidden").appendTo(this.$element()))},_setSubmitValue:function(){this._getSubmitElement().val(this.option("value"))},_getSubmitElement:function(){return this.option("useHiddenSubmitElement")?this._$submitElement:this.callBase()},_dispose:function(){this._detachFocusOutEvents(),this.callBase()},_optionChanged:function(t){switch(t.name){case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":u(t.value)?this._renderField():this._invalidate();break;case"contentTemplate":case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(t),this._cacheInnerOptions("dropDownOptions",t.value);break;case"popupPosition":case"deferRendering":break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"showPopupTitle":this._setPopupOption("showTitle",t.value);break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;default:this.callBase(t)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)},field:function(){return d(this._input())},content:function(){return this._popup?this._popup.content():null}}).include(e);o("dxDropDownEditor",x),module.exports=x,module.exports.default=module.exports;
},{"../../core/renderer":"qxFQ","../shared/async_template_mixin":"fMTy","../../events/core/events_engine":"oNrb","../../core/guid":"tQQP","../../core/component_registrator":"g3fO","../../core/utils/common":"GcQA","../../core/utils/dom":"vDwZ","../widget/selectors":"m3d1","../../core/utils/iterator":"FHcO","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","../widget/ui.errors":"RFsS","../../animation/position":"cuhc","../../core/utils/position":"Zh3q","./ui.drop_down_button":"rY73","../../localization/message":"Njcj","../../events/utils":"cNvJ","../text_box":"DM5G","../../events/click":"RTmy","../../core/devices":"LpzF","../../core/templates/function_template":"Xd2Y","../popup":"DU0r"}],"DbsU":[function(require,module,exports) {
"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=require("../../core/utils/variable_wrapper"),i=require("../../core/utils/data"),r=require("../../core/utils/common"),a=require("../../core/utils/type"),o=require("../../core/utils/extend").extend,n=require("../../data_helper"),s=require("../../data/data_source/data_source"),u=require("../../data/array_store"),l=require("../../core/utils/deferred").Deferred,p=o({},n,{_dataExpressionDefaultOptions:function(){return{items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}},_initDataExpressions:function(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource:function(){this.option("dataSource")||(this._dataSource=new s.DataSource({store:new u(this.option("items")),pageSize:0}))},_compileDisplayGetter:function(){this._displayGetter=i.compileGetter(this._displayGetterExpr())},_displayGetterExpr:function(){return this.option("displayExpr")},_compileValueGetter:function(){this._valueGetter=i.compileGetter(this._valueGetterExpr())},_valueGetterExpr:function(){return this.option("valueExpr")||"this"},_loadValue:function(e){var t=new l;return e=this._unwrappedValue(e),a.isDefined(e)?(this._loadSingle(this._valueGetterExpr(),e).done(function(i){this._isValueEquals(this._valueGetter(i),e)?t.resolve(i):t.reject()}.bind(this)).fail(function(){t.reject()}),t.promise()):t.reject().promise()},_getCurrentValue:function(){return this.option("value")},_unwrappedValue:function(e){return(e=a.isDefined(e)?e:this._getCurrentValue())&&this._dataSource&&"this"===this._valueGetterExpr()&&(e=this._getItemKey(e)),t.unwrap(e)},_getItemKey:function(t){var i=this._dataSource.key();if(Array.isArray(i)){for(var r={},a=0,o=i.length;a<o;a++)r[i[a]]=t[i[a]];return r}return i&&"object"===(void 0===t?"undefined":e(t))&&(t=t[i]),t},_isValueEquals:function(e,t){var i=this._dataSource&&this._dataSource.key(),r=a.isDefined,o=this._compareValues(e,t);return!o&&i&&r(e)&&r(t)&&(o=Array.isArray(i)?this._compareByCompositeKey(e,t,i):this._compareByKey(e,t,i)),o},_compareByCompositeKey:function(e,t,i){var r=a.isObject;if(!r(e)||!r(t))return!1;for(var o=0,n=i.length;o<n;o++)if(e[i[o]]!==t[i[o]])return!1;return!0},_compareByKey:function(e,i,a){var o=r.ensureDefined,n=t.unwrap,s=o(n(e[a]),e),u=o(n(i[a]),i);return this._compareValues(s,u)},_compareValues:function(e,t){return i.toComparable(e,!0)===i.toComparable(t,!0)},_initDynamicTemplates:r.noop,_setCollectionWidgetItemTemplate:function(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr:function(){var e=this.option("valueExpr");return a.isString(e)&&"this"!==e||a.isFunction(e)?e:null},_dataExpressionOptionChanged:function(e){switch(e.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}});module.exports=p;
},{"../../core/utils/variable_wrapper":"SPUa","../../core/utils/data":"YLhW","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","../../data_helper":"srCI","../../data/data_source/data_source":"SIr7","../../data/array_store":"DvKp","../../core/utils/deferred":"g5TB"}],"vWbr":[function(require,module,exports) {
"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=require("../../core/renderer"),i=require("../../core/utils/window").getWindow(),s=require("../../events/core/events_engine"),n=require("../../core/guid"),o=require("../../core/component_registrator"),a=require("../../core/utils/common"),r=require("../../core/utils/type"),c=require("../../core/utils/extend").extend,h=require("../../core/utils/array").inArray,u=require("./ui.drop_down_editor"),l=require("../list"),d=require("../widget/ui.errors"),p=require("../../events/utils"),_=require("../../core/devices"),f=require("../../data/query"),m=require("../../core/utils/iterator").each,g=require("../editor/ui.data_expression"),S=require("../../localization/message"),v=require("../../core/templates/child_default_template").ChildDefaultTemplate,y=require("../../core/utils/deferred").Deferred,b=require("../shared/grouped_data_converter_mixin").default,C=".dx-list-item",I="dxListItemData",x="dx-dropdownlist-popup-wrapper",E="dx-skip-gesture-event",D="input",P=["startswith","contains","endwith","notcontains"],T=u.inherit({_supportedKeys:function(){var t=this.callBase();return c({},t,{tab:function(i){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(i);var s=e(this._list.option("focusedElement"));s.length&&this._setSelectedElement(s)}t.tab.apply(this,arguments)},space:a.noop,home:a.noop,end:a.noop})},_allowSelectItemByTab:function(){return this.option("opened")&&"instantly"===this.option("applyValueMode")},_setSelectedElement:function(t){var e=this._valueGetter(this._list._getItemData(t));this._setValue(e)},_setValue:function(t){this.option("value",t)},_getDefaultOptions:function(){return c(this.callBase(),c(g._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:S.format("dxCollectionWidget-noDataText"),onSelectionChanged:null,onItemClick:a.noop,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,popupWidthExtension:0}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])},_setOptionsByReference:function(){this.callBase(),c(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init:function(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()},_initItems:function(){var t=this.option().items;t&&!t.length&&this._dataSource&&(this.option().items=this._dataSource.items())},_initActions:function(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initTemplates:function(){this.callBase(),this._defaultTemplates.item=new v("item")},_saveFocusOnWidget:function(t){this._list&&this._list.initialOption("focusStateEnabled")&&this._focusInput()},_fitIntoRange:function(t,e,i){return t>i?e:t<e?i:t},_items:function(){var t=this._getPlainItems(!this._list&&this._dataSource.items());return new f(t).filter("disabled","<>",!0).toArray()},_calcNextItem:function(t){var e=this._items();return e[this._fitIntoRange(this._getSelectedIndex()+t,0,e.length-1)]},_getSelectedIndex:function(){var t=this._items(),e=this.option("selectedItem"),i=-1;return m(t,function(t,s){if(this._isValueEquals(s,e))return i=t,!1}.bind(this)),i},_createPopup:function(){this.callBase(),this._updateCustomBoundaryContainer(),this._popup._wrapper().addClass(this._popupWrapperClass());var t=this._popup.$content();s.off(t,"mouseup"),s.on(t,"mouseup",this._saveFocusOnWidget.bind(this))},_updateCustomBoundaryContainer:function(){var t=this.option("dropDownOptions.container"),s=t&&e(t);if(s&&s.length&&!r.isWindow(s.get(0))){var n=[].slice.call(s.parents());n.unshift(s.get(0)),m(n,function(t,s){return s!==e("body").get(0)&&("hidden"===i.getComputedStyle(s).overflowY?(this._$customBoundaryContainer=e(s),!1):void 0)}.bind(this))}},_popupWrapperClass:function(){return x},_renderInputValue:function(){var t=this._getCurrentValue();return this._loadInputValue(t,this._setSelectedItem.bind(this)).always(this.callBase.bind(this,t))},_loadInputValue:function(t,e){return this._loadItem(t).always(e)},_getItemFromPlain:function(e,i){var s,n;return i&&"object"!==(void 0===e?"undefined":t(e))&&(i.itemByValue||(i.itemByValue={},(s=this._getPlainItems()).forEach(function(t){i.itemByValue[this._valueGetter(t)]=t},this)),n=i.itemByValue[e]),n||(s=this._getPlainItems(),n=a.grep(s,function(t){return this._isValueEquals(this._valueGetter(t),e)}.bind(this))[0]),n},_loadItem:function(t,e){var i=this._getItemFromPlain(t,e);return void 0!==i?(new y).resolve(i).promise():this._loadValue(t)},_getPlainItems:function(t){var e=[];t=t||this.option("items")||this._dataSource.items()||[];for(var i=0;i<t.length;i++)t[i]&&t[i].items?e=e.concat(t[i].items):e.push(t[i]);return e},_setSelectedItem:function(t){var e=this._displayValue(t);this.option("selectedItem",a.ensureDefined(t,null)),this.option("displayValue",e)},_displayValue:function(t){return this._displayGetter(t)},_refreshSelected:function(){var t={};this._listItemElements().each(function(i,s){var n=e(s),o=this._valueGetter(n.data(I));this._isSelectedValue(o,t)?this._list.selectItem(n):this._list.unselectItem(n)}.bind(this))},_popupShownHandler:function(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy:function(){this.option("focusStateEnabled")&&this._list&&this._list.option("focusedElement",null)},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_validateSearchMode:function(){var t=this.option("searchMode"),e=t.toLowerCase();if(h(e,P)<0)throw d.Error("E1019",t)},_clearSelectedItem:function(){this.option("selectedItem",null)},_processDataSourceChanging:function(){this._setListDataSource(),this._renderInputValue().fail(function(){this._isCustomValueAllowed()||this._clearSelectedItem()}.bind(this))},_isCustomValueAllowed:function(){return this.option("displayCustomValue")},reset:function(){this.callBase(),this._clearFilter(),this._clearSelectedItem()},_listItemElements:function(){return this._$list?this._$list.find(C):e()},_popupConfig:function(){var t=this;return c(this.callBase(),{templatesRenderAsynchronously:!1,width:this.option("width"),onShowing:function(){t.$element().addClass(E)},onHidden:function(){t.$element().removeClass(E)},height:"auto",autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})},_renderPopupContent:function(){this._renderList()},_attachChildKeyboardEvents:function(){this._canListHaveFocus()||(this._childKeyboardProcessor=this._keyboardProcessor.attachChildProcessor(),this._setListOption("_keyboardProcessor",this._childKeyboardProcessor))},_fireContentReadyAction:a.noop,_setAriaTargetForList:function(){this._list._getAriaTarget=this._getAriaTarget.bind(this)},_renderList:function(){this._listId="dx-"+(new n)._value;var t=this._$list=e("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._list=this._createComponent(t,l,this._listConfig()),this._refreshList(),this._setAriaTargetForList(),this._list.option("_listAttributes",{role:"combobox"}),this._renderPreventBlur(this._$list)},_renderPreventBlur:function(t){var e=p.addNamespace("mousedown","dxDropDownList");s.off(t,e),s.on(t,e,function(t){t.preventDefault()}.bind(this))},_renderOpenedState:function(){this.callBase();var t=this.option("opened")||void 0;this.setAria({activedescendant:t&&this._list.getFocusedItemId(),controls:t&&this._listId})},_setDefaultAria:function(){this.setAria({haspopup:"listbox",autocomplete:"list"})},_refreshList:function(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource:function(){return!!this._list.option("dataSource")!==this._needPassDataSourceToList()},_isDesktopDevice:function(){return"desktop"===_.real().deviceType},_listConfig:function(){var t={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),grouped:this.option("grouped"),wrapItemText:this.option("wrapItemText"),onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:this.option("itemTemplate"),indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:this.option("groupTemplate"),onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),_keyboardProcessor:this._childKeyboardProcessor,hoverStateEnabled:!!this._isDesktopDevice()&&this.option("hoverStateEnabled"),focusStateEnabled:!!this._isDesktopDevice()&&this.option("focusStateEnabled")};return this._canListHaveFocus()||(t.tabIndex=null,t._keyboardProcessor=this._childKeyboardProcessor),t},_canListHaveFocus:function(){return!1},_getDataSource:function(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:function(){return{paginate:!1}},_getGroupedOption:function(){return this.option("grouped")},_dataSourceFromUrlLoadMode:function(){return"raw"},_listContentReadyHandler:function(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._dimensionChanged(),this._contentReadyAction()},_setListOption:function(t,e){this._setWidgetOption("_list",arguments)},_listItemClickAction:function(t){this._listItemClickHandler(t),this._itemClickAction(t)},_listItemClickHandler:a.noop,_setListDataSource:function(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList:function(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded:function(){return this._searchValue().toString().length>=this.option("minSearchLength")},_searchValue:function(){return this._input().val()||""},_getSearchEvent:function(){return p.addNamespace(D,this.NAME+"Search")},_getSetFocusPolicyEvent:function(){return p.addNamespace("input",this.NAME+"FocusPolicy")},_renderEvents:function(){this.callBase(),s.on(this._input(),this._getSetFocusPolicyEvent(),this._setFocusPolicy.bind(this)),this._shouldRenderSearchEvent()&&s.on(this._input(),this._getSearchEvent(),this._searchHandler.bind(this))},_shouldRenderSearchEvent:function(){return this.option("searchEnabled")},_refreshEvents:function(){s.off(this._input(),this._getSearchEvent()),s.off(this._input(),this._getSetFocusPolicyEvent()),this.callBase()},_searchHandler:function(){if(this._isMinSearchLengthExceeded()){var t=this.option("searchTimeout");t?(this._clearSearchTimer(),this._searchTimer=setTimeout(this._searchDataSource.bind(this),t)):this._searchDataSource()}else this._searchCanceled()},_searchCanceled:function(){this._clearSearchTimer(),this._needPassDataSourceToList()&&this._filterDataSource(null),this._refreshList()},_searchDataSource:function(){this._filterDataSource(this._searchValue())},_filterDataSource:function(t){this._clearSearchTimer();var e=this._dataSource;return e.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),e.searchOperation(this.option("searchMode")),e.searchValue(t),e.load().done(this._dataSourceFiltered.bind(this,t))},_clearFilter:function(){var t=this._dataSource;t&&t.searchValue()&&t.searchValue(null)},_dataSourceFiltered:function(){this._refreshList(),this._refreshPopupVisibility()},_shouldOpenPopup:function(){return this._hasItemsToShow()},_refreshPopupVisibility:function(){if(!this.option("readOnly")&&this._searchValue()){var t=this._shouldOpenPopup();t&&!this._isFocused()||(this.option("opened",t),t&&this._dimensionChanged())}},_dataSourceChangedHandler:function(t){0===this._dataSource.pageIndex()?this.option().items=t:this.option().items=this.option().items.concat(t)},_hasItemsToShow:function(){var t=(this._dataSource&&this._dataSource.items()||[]).length;return!(!this._needPassDataSourceToList()||!t)},_clearSearchTimer:function(){clearTimeout(this._searchTimer),delete this._searchTimer},_popupShowingHandler:function(){this._dimensionChanged()},_dimensionChanged:function(){this._popup&&this._updatePopupDimensions()},_updatePopupDimensions:function(){this._updatePopupWidth(),this._updatePopupHeight()},_updatePopupWidth:function(){this._setPopupOption("width",this.$element().outerWidth()+this.option("popupWidthExtension"))},_needPopupRepaint:function(){if(!this._dataSource)return!1;var t=this._dataSource.pageIndex(),e=r.isDefined(this._pageIndex)&&t<=this._pageIndex;return this._pageIndex=t,e},_updatePopupHeight:function(){this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions()},_getMaxHeight:function(){var t=this.$element(),s=this._$customBoundaryContainer,n=t.offset().top-(s?s.offset().top:0),o=(s||e(i)).outerHeight(),a=Math.max(n,o-n-t.outerHeight());return Math.min(.5*o,a)},_clean:function(){this._list&&delete this._list,this.callBase()},_dispose:function(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption:function(){this._setListOption.apply(this,arguments)},_setSubmitValue:function(){var t=this.option("value"),e=this._shouldUseDisplayValue(t)?this._displayGetter(t):t;this._getSubmitElement().val(e)},_shouldUseDisplayValue:function(t){return"this"===this.option("valueExpr")&&r.isObject(t)},_optionChanged:function(t){switch(this._dataExpressionOptionChanged(t),t.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(t.name,t.value),this.callBase(t);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":this._setListOption(t.name);break;case"displayValue":this.option("text",t.value);break;case"itemTemplate":case"searchTimeout":case"popupWidthExtension":break;case"selectedItem":this._selectionChangedAction({selectedItem:t.value});break;default:this.callBase(t)}}}).include(g,b);o("dxDropDownList",T),module.exports=T;
},{"../../core/renderer":"qxFQ","../../core/utils/window":"NXH3","../../events/core/events_engine":"oNrb","../../core/guid":"tQQP","../../core/component_registrator":"g3fO","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","../../core/utils/array":"uivT","./ui.drop_down_editor":"PZSO","../list":"fgGv","../widget/ui.errors":"RFsS","../../events/utils":"cNvJ","../../core/devices":"LpzF","../../data/query":"TnO4","../../core/utils/iterator":"FHcO","../editor/ui.data_expression":"DbsU","../../localization/message":"Njcj","../../core/templates/child_default_template":"ZHil","../../core/utils/deferred":"g5TB","../shared/grouped_data_converter_mixin":"QqcZ"}],"hndn":[function(require,module,exports) {
"use strict";var e=require("../core/renderer"),t=require("../core/utils/common"),i=require("../core/utils/type"),s=i.isDefined,n=i.isPromise,o=require("../core/utils/extend").extend,l=require("../core/utils/array").inArray,a=require("../core/utils/iterator").each,r=require("../core/utils/deferred"),u=require("../core/utils/dom").getPublicElement,h=r.Deferred,c=require("../core/errors"),d=require("../core/dom_adapter"),p=require("./widget/utils.ink_ripple"),_=require("../localization/message"),m=require("../core/component_registrator"),f=require("./drop_down_editor/ui.drop_down_list"),I=".dx-state-disabled",v="dx-selectbox",g="dx-selectbox-popup",C="dx-selectbox-container",S="dx-selectbox-popup-wrapper",V=f.inherit({_supportedKeys:function(){var e=this,t=this.callBase(),i=function(e){this._isEditable()?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(e.preventDefault(),this.reset()),this._preventSubstitution=!0},n=function(){e.option("searchEnabled")&&e._valueSubstituted()&&e._searchHandler()};return o({},t,{tab:function(){this.option("opened")&&"instantly"===this.option("applyValueMode")&&this._cleanInputSelection(),this._wasSearch()&&this._clearFilter(),t.tab&&t.tab.apply(this,arguments)},upArrow:function(){if(t.upArrow&&t.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(-1),!0},downArrow:function(){if(t.downArrow&&t.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(1),!0},leftArrow:function(){n(),t.leftArrow&&t.leftArrow.apply(this,arguments)},rightArrow:function(){n(),t.rightArrow&&t.rightArrow.apply(this,arguments)},home:function(){n(),t.home&&t.home.apply(this,arguments)},end:function(){n(),t.end&&t.end.apply(this,arguments)},escape:function(){var e=t.escape&&t.escape.apply(this,arguments);return this._cancelEditing(),!s(e)||e},enter:function(e){var i=this.option("opened"),s=this._input().val().trim(),n=s&&this._list&&!this._list.option("focusedElement");if(!s&&this.option("value")&&this.option("allowClearing"))this.option({selectedItem:null,value:null}),this.close();else{if(this.option("acceptCustomValue"))return e.preventDefault(),n&&(this._valueChangeEventHandler(),i&&this._toggleOpenState()),i;if(t.enter&&t.enter.apply(this,arguments))return i}},space:function(e){var t=this.option("opened"),i=this.option("searchEnabled"),s=this.option("acceptCustomValue");if(t&&!i&&!s)return e.preventDefault(),this._valueChangeEventHandler(e),!0},backspace:i,del:i})},_getDefaultOptions:function(){return o(this.callBase(),{placeholder:_.format("Select"),fieldTemplate:null,valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating:function(e){s(e.customItem)||(e.customItem=e.text)},showSelectionControls:!1,autocompletionEnabled:!0,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,_isAdaptablePopupPosition:!1,useInkRipple:!1,useHiddenSubmitElement:!0})},_init:function(){this.callBase(),this._initCustomItemCreatingAction()},_initMarkup:function(){this.$element().addClass(v),this._renderTooltip(),this.option("useInkRipple")&&this._renderInkRipple(),this.callBase(),this._$container.addClass(C)},_renderInkRipple:function(){this._inkRipple=p.render()},_toggleActiveState:function(e,t,i){if(this.callBase.apply(this,arguments),this._inkRipple&&!this._isEditable()){var s={element:this._inputWrapper(),event:i};t?this._inkRipple.showWave(s):this._inkRipple.hideWave(s)}},_createPopup:function(){this.callBase(),this._popup.$element().addClass(g)},_popupWrapperClass:function(){return this.callBase()+" "+S},_cancelEditing:function(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))},_renderOpenedState:function(){this.callBase(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())},_focusSelectedElement:function(){if(this._searchValue()){var e=this._list._itemElements(),t=l(this.option("selectedItem"),this.option("items")),i=t>=0&&!this._isCustomItemSelected()?e.eq(t):null;this._focusListElement(i)}else this._focusListElement(null)},_renderFocusedElement:function(){if(this._list)if(this._searchValue()&&!this.option("acceptCustomValue")){var e=this._list._itemElements().not(I).eq(0);this._focusListElement(e)}else this._focusListElement(null)},_focusListElement:function(e){this._preventInputValueRender=!0,this._list.option("focusedElement",u(e)),delete this._preventInputValueRender},_scrollToSelectedItem:function(){this._list&&this._list.scrollToItem(this._list.option("selectedItem"))},_listContentReadyHandler:function(){this.callBase(),this._dataSource&&this._dataSource.paginate()&&this._needPopupRepaint()||this._scrollToSelectedItem()},_renderValue:function(){return this._renderInputValue(),this._setSubmitValue(),(new h).resolve()},_renderInputValue:function(){return this.callBase().always(function(){this._renderInputValueAsync()}.bind(this))},_renderInputValueAsync:function(){this._renderTooltip(),this._renderInputValueImpl().always(function(){this._refreshSelected()}.bind(this))},_renderInputValueImpl:function(){return this._renderField(),(new h).resolve()},_setNextItem:function(e){var t=this._calcNextItem(e),i=this._valueGetter(t);this._setValue(i)},_setNextValue:function(e){(this._dataSource.isLoaded()?(new h).resolve():this._dataSource.load()).done(function(){var t=this._getSelectedIndex(),i=this._dataSource.pageSize(),s=this._dataSource.isLastPage(),n=t===this._items().length-1;i&&!s&&n&&e>0?(this._popup||this._createPopup(),this._list._loadNextPage().done(this._setNextItem.bind(this,e))):this._setNextItem(e)}.bind(this))},_setSelectedItem:function(e){var t=!this._isCustomValueAllowed()&&void 0===e;this.callBase(t?null:e),t||this._setListOption("selectedItem",this.option("selectedItem"))},_isCustomValueAllowed:function(){return this.option("acceptCustomValue")||this.callBase()},_displayValue:function(e){return e=!s(e)&&this._isCustomValueAllowed()?this.option("value"):e,this.callBase(e)},_listConfig:function(){var e=o(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this)});return this.option("showSelectionControls")&&o(e,{showSelectionControls:!0,selectionByClick:!0}),e},_listFocusedItemChangeHandler:function(t){if(!this._preventInputValueRender){var i=t.component,s=e(i.option("focusedElement")),n=i._getItemData(s);this._updateField(n)}},_updateField:function(e){this._getTemplateByOption("fieldTemplate")&&this.option("fieldTemplate")?this._renderField():this._renderDisplayText(this._displayGetter(e))},_getSelectionChangeHandler:function(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):t.noop},_selectionChangeHandler:function(e){a(e.addedItems||[],function(e,t){this._setValue(this._valueGetter(t))}.bind(this))},_getActualSearchValue:function(){return this._dataSource.searchValue()},_toggleOpenState:function(e){if(!this.option("disabled")){if((e=arguments.length?e:!this.option("opened"))||this._restoreInputText(),this._wasSearch()&&e)if(this._wasSearch(!1),(this.option("showDataBeforeSearch")||0===this.option("minSearchLength"))&&this._dataSource){if(this._searchTimer)return;var t=this._getActualSearchValue();t&&this._wasSearch(!0),this._filterDataSource(t||null)}else this._setListOption("items",[]);e&&this._scrollToSelectedItem(),this.callBase(e)}},_renderTooltip:function(){this.option("tooltipEnabled")&&this.$element().attr("title",this.option("displayValue"))},_renderDimensions:function(){this.callBase(),this._setPopupOption("width")},_isValueEqualInputText:function(){var e=this.option("selectedItem"),t=this._displayGetter(e);return(t?String(t):"")===this._searchValue()},_popupHidingHandler:function(){this._isValueEqualInputText()&&this._cancelEditing(),this.callBase()},_restoreInputText:function(){this.option("readOnly")||this._loadItemDeferred&&this._loadItemDeferred.always(function(){var e=this.option("selectedItem");this.option("acceptCustomValue")?this._updateField(e):this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")?this._clearTextValue():this._isValueEqualInputText()||this._renderInputValue().always(function(i){var s=t.ensureDefined(i,e);this._setSelectedItem(s),this._updateField(s),this._clearFilter()}.bind(this))}.bind(this))},_focusOutHandler:function(e){this._preventNestedFocusEvent(e)||(this._clearSearchTimer(),this._restoreInputText()),this.callBase(e)},_clearTextValue:function(){this.option("value",null)},_shouldOpenPopup:function(){return this._needPassDataSourceToList()},_isFocused:function(){var t=d.getActiveElement();return this.callBase()&&e(t).closest(this._input()).length>0},_renderValueChangeEvent:function(){this._isEditable()&&this.callBase()},_isEditable:function(){return this.option("acceptCustomValue")||this.option("searchEnabled")},_fieldRenderData:function(){var t=this._list&&this.option("opened")&&e(this._list.option("focusedElement"));return t&&t.length?this._list._getItemData(t):this.option("selectedItem")},_readOnlyPropValue:function(){return!this._isEditable()||this.option("readOnly")},_isSelectedValue:function(e){return this._isValueEquals(e,this.option("value"))},_shouldCloseOnItemClick:function(){return!(this.option("showSelectionControls")&&"single"!==this.option("selectionMode"))},_listItemClickHandler:function(t){var i=this._getCurrentValue();this._focusListElement(e(t.itemElement)),this._saveValueChangeEvent(t.event),this._shouldClearFilter()&&this._clearFilter(),this._completeSelection(this._valueGetter(t.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&i===this._valueGetter(t.itemData)&&this._updateField(t.itemData)},_shouldClearFilter:function(){return this._wasSearch()},_completeSelection:function(e){this._setValue(e)},_loadItem:function(e,t){var i=this,s=new h;return this.callBase(e,t).done(function(e){s.resolve(e)}.bind(this)).fail(function(){var t=i.option("selectedItem");i.option("acceptCustomValue")&&e===i._valueGetter(t)?s.resolve(t):s.reject()}.bind(this)),s.promise()},_loadInputValue:function(e,t){return this._loadItemDeferred=this._loadItem(e).always(t),this._loadItemDeferred},_isCustomItemSelected:function(){var e=this.option("selectedItem"),t=this._searchValue(),i=this._displayGetter(e);return!i||t!==i.toString()},_valueChangeEventHandler:function(){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&this._customItemAddedHandler()},_initCustomItemCreatingAction:function(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")},_createCustomItem:function(e){var i={text:e},n=this._customItemCreatingAction(i),o=t.ensureDefined(n,i.customItem);return s(n)&&c.log("W0015","onCustomItemCreating","customItem"),o},_customItemAddedHandler:function(){var e=this._searchValue(),t=this._createCustomItem(e);if(void 0===t)throw this._renderValue(),c.Error("E0121");n(t)?r.fromPromise(t).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(t)},_setCustomItem:function(e){this._disposed||(e=e||null,this.option("selectedItem",e),this._shouldClearFilter()&&this._filterDataSource(null),this._setValue(this._valueGetter(e)),this._renderDisplayText(this._displayGetter(e)))},_clearValueHandler:function(e){return this.callBase(e),!1},_wasSearch:function(e){if(!arguments.length)return this._wasSearchValue;this._wasSearchValue=e},_searchHandler:function(e){this._preventFiltering?delete this._preventFiltering:(this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase(e))},_dataSourceFiltered:function(e){this.callBase(),null!==e&&(this._renderInputSubstitution(),this._renderFocusedElement())},_valueSubstituted:function(){var e=this._input().get(0),t=0===e.selectionStart&&e.selectionEnd===this._searchValue().length,i=e.selectionStart!==e.selectionEnd;return this._wasSearch()&&i&&!t},_shouldSubstitutionBeRendered:function(){return this.option("autocompletionEnabled")&&!this._preventSubstitution&&this.option("searchEnabled")&&!this.option("acceptCustomValue")&&"startswith"===this.option("searchMode")},_renderInputSubstitution:function(){if(this._shouldSubstitutionBeRendered()){var e=this._list&&this._getPlainItems(this._list.option("items"))[0];if(e){var t=this._input(),i=t.val().length;if(0!==i){var s=t.get(0),n=this._displayGetter(e).toString();s.value=n,this._caret({start:i,end:n.length})}}}else delete this._preventSubstitution},_cleanInputSelection:function(){var e=this._input().get(0),t=e.value.length;e.selectionStart=t,e.selectionEnd=t},_dispose:function(){this._renderInputValueAsync=t.noop,delete this._loadItemDeferred,this.callBase()},_optionChanged:function(e){switch(e.name){case"_isAdaptablePopupPosition":case"autocompletionEnabled":break;case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":case"useInkRipple":this._invalidate();break;case"selectedItem":e.previousValue!==e.value&&this.callBase(e);break;case"allowClearing":break;default:this.callBase(e)}},_clean:function(){delete this._inkRipple,this.callBase()}});m("dxSelectBox",V),module.exports=V,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../core/utils/common":"GcQA","../core/utils/type":"Mw4w","../core/utils/extend":"ac8T","../core/utils/array":"uivT","../core/utils/iterator":"FHcO","../core/utils/deferred":"g5TB","../core/utils/dom":"vDwZ","../core/errors":"BdzT","../core/dom_adapter":"RRDy","./widget/utils.ink_ripple":"NDxX","../localization/message":"Njcj","../core/component_registrator":"g3fO","./drop_down_editor/ui.drop_down_list":"vWbr"}],"hiuY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderDateParts=exports.getDatePartIndexByPosition=void 0;var t=require("../../localization/ldml/date.parser"),e=require("../../core/utils/extend"),n=require("../../core/utils/math"),r=require("../../core/utils/common"),a=function(t){return t.getMonth()+1},i=function(t,e){var r=t.getDate(),a=g("M",t),i=(0,n.fitIntoRange)(parseInt(e),a.min,a.max);t.setMonth(i-1,1);var o=g("dM",t),s=o.min,u=o.max,m=(0,n.fitIntoRange)(r,s,u);t.setDate(m)},o={a:function(t){return t.getHours()<12?0:1},E:"getDay",y:"getFullYear",M:a,L:a,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"},s=(0,e.extend)({},(0,t.getPatternSetters)(),{a:function(t,e){var n=t.getHours();n>=12!==!!parseInt(e)&&t.setHours((n+12)%24)},d:function(t,e){e>g("dM",t).max&&t.setMonth(t.getMonth()+1),t.setDate(e)},h:function(t,e){var n=t.getHours()>=12;t.setHours(+e%12+(n?12:0))},M:i,L:i,E:function(t,e){e<0||t.setDate(t.getDate()-t.getDay()+parseInt(e))},y:function(t,e){var n=t.getFullYear(),r=String(e).length,a=String(g("y",t).max).length,i=parseInt(String(n).substr(0,a-r)+e);t.setFullYear(i)}}),u=function(t){return o[t]||function(){return t}},m=function(t,e){for(var n=e.regexp.exec(t),a=0,i=0,o=[],m=1;m<n.length;m++){i=(a=i)+n[m].length;var x=e.patterns[m-1].replace(/^'|'$/g,""),l=u(x[0]);o.push({index:m-1,isStub:x===n[m],caret:{start:a,end:i},pattern:x,text:n[m],limits:g.bind(void 0,x[0]),setter:s[x[0]]||r.noop,getter:l})}return o},g=function(t,e,n){var r={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:0,max:23},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1}};return r[n||t]||r.getAmPm},x=function(t,e){for(var n=0;n<t.length;n++){var r=t[n].caret.end>=e;if(!t[n].isStub&&r)return n}return null};exports.getDatePartIndexByPosition=x,exports.renderDateParts=m;
},{"../../localization/ldml/date.parser":"CEC5","../../core/utils/extend":"ac8T","../../core/utils/math":"Ntiw","../../core/utils/common":"GcQA"}],"P6ZX":[function(require,module,exports) {
"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=require("../../core/renderer"),n=require("../../core/utils/date_serialization"),r=require("../../core/utils/type").isDate,a=require("../../core/utils/iterator").each,o=require("../../localization/date"),s=function(){return["year","day","month","day"]},i=6e4,u=60*i*24,d=365*u,m=function(e){var n=void 0===e?"undefined":t(e);return"string"===n?"format":"object"===n&&void 0!==e.type?e.type:null},l={SUPPORTED_FORMATS:["date","time","datetime"],DATE_COMPONENT_TEXT_FORMATTER:function(t,n){var r=e("<div>").addClass("dx-dateview-formatter-container");return e("<span>").text(t).addClass("dx-dateview-value-formatter").appendTo(r),e("<span>").text(n).addClass("dx-dateview-name-formatter").appendTo(r),r},ONE_MINUTE:i,ONE_DAY:u,ONE_YEAR:d,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:function(){var t=new Date;return new Date(t.getFullYear()+50,t.getMonth(),t.getDate(),23,59,59)}(),FORMATS_INFO:{date:{getStandardPattern:function(){return"yyyy-MM-dd"},components:s()},time:{getStandardPattern:function(){return"HH:mm"},components:["hours","minutes","seconds","milliseconds"]},datetime:{getStandardPattern:function(){var t,n;return(n=e("<input>").attr("type","datetime")).val("2000-01-01T01:01Z"),n.val()&&(t="yyyy-MM-ddTHH:mmZ"),t||(t="yyyy-MM-ddTHH:mm:ssZ"),l.FORMATS_INFO.datetime.getStandardPattern=function(){return t},t},components:s().concat(["hours","minutes","seconds","milliseconds"])},"datetime-local":{getStandardPattern:function(){return"yyyy-MM-ddTHH:mm:ss"},components:s().concat(["hours","minutes","seconds"])}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat:function(t,e){var r=l.FORMATS_INFO[e].getStandardPattern();return n.serializeDate(t,r)},fromStandardDateFormat:function(t){var e=n.dateParser(t);return r(e)?e:void 0},getMaxMonthDay:function(t,e){return new Date(t,e+1,0).getDate()},mergeDates:function(t,e,n){if(!e)return e||null;if(!t||isNaN(t.getTime())){var r=new Date(null);t=new Date(r.getFullYear(),r.getMonth(),r.getDate())}var o=new Date(t.valueOf()),s=l.FORMATS_INFO[n];return a(s.components,function(){var t=l.DATE_COMPONENTS_INFO[this];o[t.setter](e[t.getter]())}),o},getLongestCaptionIndex:function(t){var e,n=0,r=0;for(e=0;e<t.length;++e)t[e].length>r&&(n=e,r=t[e].length);return n},formatUsesMonthName:function(t){return o.formatUsesMonthName(t)},formatUsesDayName:function(t){return o.formatUsesDayName(t)},getLongestDate:function(t,e,n){var r=m(t),a=9;r&&!l.formatUsesMonthName(r)||(a=l.getLongestCaptionIndex(e));var o=new Date(1888,a,21,23,59,59,999);if(!r||l.formatUsesDayName(r)){var s=o.getDate()-o.getDay()+l.getLongestCaptionIndex(n);o.setDate(s)}return o},normalizeTime:function(t){t.setSeconds(0),t.setMilliseconds(0)}};l.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter:function(t,e){var n=new Date(e.getTime());return n.setFullYear(t),o.format(n,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter:function(t,e){var n=new Date(e.getTime());return n.setDate(t),o.format(n,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:function(t){return o.getMonthNames()[t]},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:function(t){return o.format(new Date(0,0,0,t),"hour")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:function(t){return o.format(new Date(0,0,0,0,t),"minute")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:function(t){return o.format(new Date(0,0,0,0,0,t),"second")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:function(t){return o.format(new Date(0,0,0,0,0,0,t),"millisecond")},startValue:0,endValue:999}},module.exports=l;
},{"../../core/renderer":"qxFQ","../../core/utils/date_serialization":"kANi","../../core/utils/type":"Mw4w","../../core/utils/iterator":"FHcO","../../localization/date":"F0Sb"}],"ocDn":[function(require,module,exports) {
"use strict";var e=require("../swipe"),t=require("../../events/core/events_engine"),n=require("../../core/dom_component"),i=require("../../core/utils/iterator").each,a=require("../utils"),s=require("../../core/utils/extend").extend,c=require("../../core/utils/public_component"),o="dxSwipeable",r="dx-swipeable",l={onStart:e.start,onUpdated:e.swipe,onEnd:e.end,onCancel:"dxswipecancel"},d=n.inherit({_getDefaultOptions:function(){return s(this.callBase(),{elastic:!0,immediate:!1,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.$element().addClass(r),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHandlers(),!this.option("disabled")){var e=this.NAME;this._createEventData(),i(l,function(n,i){var s=this._createActionByOption(n,{context:this});i=a.addNamespace(i,e),t.on(this.$element(),i,this._eventData,function(e){return s({event:e})})}.bind(this))}},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate")}},_detachEventHandlers:function(){t.off(this.$element(),"."+o)},_optionChanged:function(e){switch(e.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(e)}}});c.name(d,o),module.exports=d;
},{"../swipe":"yGbt","../../events/core/events_engine":"oNrb","../../core/dom_component":"Jnhm","../../core/utils/iterator":"FHcO","../utils":"cNvJ","../../core/utils/extend":"ac8T","../../core/utils/public_component":"exJN"}],"CTDE":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),n=require("../../core/utils/extend").extend,i=require("../widget/ui.widget"),e=require("../button"),o="dx-calendar-navigator",a="dx-calendar-navigator-previous-month",c="dx-calendar-navigator-next-month",r="dx-calendar-navigator-previous-view",s="dx-calendar-navigator-next-view",l="dx-calendar-disabled-navigator-link",d="dx-calendar-caption-button",u=i.inherit({_getDefaultOptions:function(){return n(this.callBase(),{onClick:null,onCaptionClick:null,text:""})},_init:function(){this.callBase(),this._initActions()},_initActions:function(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")},_initMarkup:function(){this.callBase(),this.$element().addClass(o),this._renderButtons(),this._renderCaption()},_renderButtons:function(){var n=this,i=this.option("rtlEnabled")?-1:1;this._prevButton=this._createComponent(t("<a>"),e,{focusStateEnabled:!1,icon:"chevronleft",onClick:function(t){n._clickAction({direction:-i,event:t})},integrationOptions:{}});var o=this._prevButton.$element().addClass(r).addClass(a);this._nextButton=this._createComponent(t("<a>"),e,{focusStateEnabled:!1,icon:"chevronright",onClick:function(t){n._clickAction({direction:i,event:t})},integrationOptions:{}});var l=this._nextButton.$element().addClass(s).addClass(c);this._caption=this._createComponent(t("<a>").addClass(d),e,{focusStateEnabled:!1,onClick:function(t){n._captionClickAction({event:t})},integrationOptions:{}});var u=this._caption.$element();this.$element().append(o,u,l)},_renderCaption:function(){this._caption.option("text",this.option("text"))},toggleButton:function(t,n){var i=this["_"+t+"Button"];i&&(i.option("disabled",n),i.$element().toggleClass(l,n))},_optionChanged:function(t){switch(t.name){case"text":this._renderCaption();break;default:this.callBase(t)}}});module.exports=u;
},{"../../core/renderer":"qxFQ","../../core/utils/extend":"ac8T","../widget/ui.widget":"gtOK","../button":"kKaI"}],"gKz6":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../core/dom_adapter"),a=require("../../events/core/events_engine"),i=require("../../core/element_data"),l=require("../../core/utils/dom"),n=require("../widget/ui.widget"),r=require("../../core/utils/date"),s=require("../../core/utils/extend").extend,o=require("../../core/utils/common").noop,d=require("../../core/utils/date_serialization"),c=require("../../events/utils"),u=require("../../events/click"),h=n.abstract,_="dx-calendar-other-view",C="dx-calendar-cell",D="dx-calendar-empty-cell",f="dx-calendar-today",p="dx-calendar-selected-date",v="dx-calendar-contoured-date",g=c.addNamespace(u.name,"dxCalendar"),b="dxDateValueKey",m=n.inherit({_getViewName:function(){return"base"},_getDefaultOptions:function(){return s(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,rowCount:3,colCount:4,allowValueSelection:!0})},_init:function(){this.callBase();var e=this.option("value");this.option("value",new Date(e)),this.option("value").valueOf()||this.option("value",new Date(0,0,0,0,0,0))},_initMarkup:function(){this.callBase(),this._renderImpl()},_renderImpl:function(){this._$table=e("<table>"),this.$element().append(this._$table),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderEvents()},_renderBody:function(){this.$body=e("<tbody>").appendTo(this._$table);var a=this,n=this.option("cellTemplate"),s=this.option("rtl")?function(e,t){e.insertBefore(t,e.firstChild)}:function(e,t){e.appendChild(t)};function o(o){c&&r.fixTimezoneGap(c,u),c=u;var h=t.createElement("td"),p=e(h),v=C;a._isTodayCell(u)&&(v=v+" "+f),(a._isDateOutOfRange(u)||a.isDateDisabled(u))&&(v=v+" "+D),a._isOtherView(u)&&(v=v+" "+_),h.className=v,h.setAttribute("data-value",d.serializeDate(u,r.getShortDateFormat())),i.data(h,b,u),a.setAria({role:"option",label:a.getCellAriaLabel(u)},p),s(g,h),n?n.render({model:{text:a._getCellText(u),date:u,view:a._getViewName()},container:l.getPublicElement(p),index:o}):h.innerHTML=a._getCellText(u),u=a._getNextCellData(u)}for(var c,u=this._getFirstCellData(),h=this.option("colCount"),p=0,v=this.option("rowCount");p<v;p++){var g=t.createElement("tr");this.$body.get(0).appendChild(g),this._iterateCells(h,o)}},_iterateCells:function(e,t){for(var a=0;a<e;)t(a),++a},_renderEvents:function(){this._createCellClickAction(),a.off(this._$table,g),a.on(this._$table,g,"td",function(t){e(t.currentTarget).hasClass(D)||this._cellClickAction({event:t,value:e(t.currentTarget).data(b)})}.bind(this))},_createCellClickAction:function(){this._cellClickAction=this._createActionByOption("onCellClick")},_createDisabledDatesHandler:function(){var e=this.option("disabledDates");this._disabledDatesHandler=Array.isArray(e)?this._getDefaultDisabledDatesHandler(e):e||o},_getDefaultDisabledDatesHandler:function(e){return o},_isTodayCell:h,_isDateOutOfRange:h,isDateDisabled:function(e){var t={date:e,view:this._getViewName()};return this._disabledDatesHandler(t)},_isOtherView:h,_getCellText:h,_getFirstCellData:h,_getNextCellData:h,_renderContouredDate:function(e){if(this.option("focusStateEnabled")){e=e||this.option("contouredDate");var t=this._$table.find("."+v),a=this._getCellByDate(e);t.removeClass(v),a.addClass(v)}},_dispose:function(){this._keyboardProcessor=void 0,this.callBase()},_changeValue:function(e){if(e){var t=this.option("value"),a=t?new Date(t):new Date;a.setDate(e.getDate()),a.setMonth(e.getMonth()),a.setFullYear(e.getFullYear()),a.setDate(e.getDate()),this.option("value",a)}else this.option("value",null)},_renderValue:function(){if(this.option("allowValueSelection")){var e=this.option("value"),t=this._getCellByDate(e);this._selectedCell&&this._selectedCell.removeClass(p),t.addClass(p),this._selectedCell=t}},getCellAriaLabel:function(e){return this._getCellText(e)},_getFirstAvailableDate:function(){var e=this.option("date"),t=this.option("min");return e=r.getFirstDateView(this._getViewName(),e),new Date(t&&e<t?t:e)},_getCellByDate:h,isBoundary:h,_optionChanged:function(e){switch(e.name){case"value":this._renderValue();break;case"contouredDate":this._renderContouredDate(e.value);break;case"onCellClick":this._createCellClickAction();break;case"disabledDates":case"cellTemplate":this._invalidate();break;default:this.callBase(e)}}});module.exports=m;
},{"../../core/renderer":"qxFQ","../../core/dom_adapter":"RRDy","../../events/core/events_engine":"oNrb","../../core/element_data":"yYfn","../../core/utils/dom":"vDwZ","../widget/ui.widget":"gtOK","../../core/utils/date":"IcD0","../../core/utils/extend":"ac8T","../../core/utils/common":"GcQA","../../core/utils/date_serialization":"kANi","../../events/utils":"cNvJ","../../events/click":"RTmy"}],"TjRZ":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=require("../../core/utils/common").noop,n=require("./ui.calendar.base_view"),a=require("../../core/utils/date"),r=require("../../core/utils/extend").extend,i=require("../../localization/date"),o=require("../../core/utils/date_serialization"),u=require("../../core/utils/type"),s="dx-calendar-other-month",l="dx-calendar-other-view",d={month:n.inherit({_getViewName:function(){return"month"},_getDefaultOptions:function(){return r(this.callBase(),{firstDayOfWeek:void 0,rowCount:6,colCount:7})},_renderImpl:function(){this.callBase(),this._renderHeader()},_renderBody:function(){this.callBase(),this._$table.find("."+l).addClass(s)},_renderFocusTarget:e,getCellAriaLabel:function(t){return i.format(t,"longdate")},_renderHeader:function(){var e=this,n=t("<thead>");this._$table.prepend(n);var a=t("<tr>");n.append(a);var r=this.option("rtl")?function(t,e){t.prepend(e)}:function(t,e){t.append(e)};this._iterateCells(this.option("colCount"),function(n){var i=t("<th>").text(e._getDayCaption(e._getFirstDayOfWeek()+n));r(a,i)})},getNavigatorCaption:function(){return i.format(this.option("date"),"monthandyear")},_isTodayCell:function(t){var e=new Date;return a.sameDate(t,e)},_isDateOutOfRange:function(t){var e=this.option("min"),n=this.option("max");return!a.dateInRange(t,e,n,"date")},_isOtherView:function(t){return t.getMonth()!==this.option("date").getMonth()},_getCellText:function(t){return i.format(t,"d")},_getDayCaption:function(t){var e=this.option("colCount");return i.getDayNames("abbreviated")[t%e]},_getFirstCellData:function(){var t=a.getFirstMonthDate(this.option("date")),e=this._getFirstDayOfWeek()-t.getDay(),n=this.option("colCount");return e>=0&&(e-=n),t.setDate(t.getDate()+e),t},_getNextCellData:function(t){return(t=new Date(t)).setDate(t.getDate()+1),t},_getFirstDayOfWeek:function(){return u.isDefined(this.option("firstDayOfWeek"))?this.option("firstDayOfWeek"):i.firstDayOfWeekIndex()},_getCellByDate:function(t){return this._$table.find("td[data-value='"+o.serializeDate(t,a.getShortDateFormat())+"']")},isBoundary:function(t){return a.sameMonthAndYear(t,this.option("min"))||a.sameMonthAndYear(t,this.option("max"))},_getDefaultDisabledDatesHandler:function(t){return function(e){if(t.some(function(t){return a.sameDate(t,e.date)}))return!0}}}),year:n.inherit({_getViewName:function(){return"year"},_isTodayCell:function(t){return a.sameMonthAndYear(t,new Date)},_isDateOutOfRange:function(t){return!a.dateInRange(t,a.getFirstMonthDate(this.option("min")),a.getLastMonthDate(this.option("max")))},_isOtherView:function(){return!1},_getCellText:function(t){return i.getMonthNames("abbreviated")[t.getMonth()]},_getFirstCellData:function(){var t=new Date(this.option("date"));return t.setDate(1),t.setMonth(0),t},_getNextCellData:function(t){return(t=new Date(t)).setMonth(t.getMonth()+1),t},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),this._$table.find("td[data-value='"+o.serializeDate(e,a.getShortDateFormat())+"']")},getCellAriaLabel:function(t){return i.format(t,"monthandyear")},getNavigatorCaption:function(){return i.format(this.option("date"),"yyyy")},isBoundary:function(t){return a.sameYear(t,this.option("min"))||a.sameYear(t,this.option("max"))}}),decade:n.inherit({_getViewName:function(){return"decade"},_isTodayCell:function(t){return a.sameYear(t,new Date)},_isDateOutOfRange:function(t){var e=this.option("min"),n=this.option("max");return!a.dateInRange(t.getFullYear(),e&&e.getFullYear(),n&&n.getFullYear())},_isOtherView:function(t){var e=new Date(t);return e.setMonth(1),!a.sameDecade(e,this.option("date"))},_getCellText:function(t){return i.format(t,"yyyy")},_getFirstCellData:function(){var t=a.getFirstYearInDecade(this.option("date"))-1;return new Date(t,0,1)},_getNextCellData:function(t){return(t=new Date(t)).setFullYear(t.getFullYear()+1),t},getNavigatorCaption:function(){var t=this.option("date"),e=a.getFirstYearInDecade(t),n=new Date(t),r=new Date(t);return n.setFullYear(e),r.setFullYear(e+9),i.format(n,"yyyy")+"-"+i.format(r,"yyyy")},_isValueOnCurrentView:function(t,e){return a.sameDecade(t,e)},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),e.setMonth(0),this._$table.find("td[data-value='"+o.serializeDate(e,a.getShortDateFormat())+"']")},isBoundary:function(t){return a.sameDecade(t,this.option("min"))||a.sameDecade(t,this.option("max"))}}),century:n.inherit({_getViewName:function(){return"century"},_isTodayCell:function(t){return a.sameDecade(t,new Date)},_isDateOutOfRange:function(t){var e=a.getFirstYearInDecade(t),n=a.getFirstYearInDecade(this.option("min")),r=a.getFirstYearInDecade(this.option("max"));return!a.dateInRange(e,n,r)},_isOtherView:function(t){var e=new Date(t);return e.setMonth(1),!a.sameCentury(e,this.option("date"))},_getCellText:function(t){var e=i.format(t,"yyyy"),n=new Date(t);return n.setFullYear(n.getFullYear()+9),e+" - "+i.format(n,"yyyy")},_getFirstCellData:function(){var t=a.getFirstDecadeInCentury(this.option("date"))-10;return new Date(t,0,1)},_getNextCellData:function(t){return(t=new Date(t)).setFullYear(t.getFullYear()+10),t},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),e.setMonth(0),e.setFullYear(a.getFirstYearInDecade(e)),this._$table.find("td[data-value='"+o.serializeDate(e,a.getShortDateFormat())+"']")},getNavigatorCaption:function(){var t=this.option("date"),e=a.getFirstDecadeInCentury(t),n=new Date(t),r=new Date(t);return n.setFullYear(e),r.setFullYear(e+99),i.format(n,"yyyy")+"-"+i.format(r,"yyyy")},isBoundary:function(t){return a.sameCentury(t,this.option("min"))||a.sameCentury(t,this.option("max"))}})};module.exports=d;
},{"../../core/renderer":"qxFQ","../../core/utils/common":"GcQA","./ui.calendar.base_view":"gKz6","../../core/utils/date":"IcD0","../../core/utils/extend":"ac8T","../../localization/date":"F0Sb","../../core/utils/date_serialization":"kANi","../../core/utils/type":"Mw4w"}],"Bt5L":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../core/guid"),i=require("../../core/component_registrator"),a=require("../../core/utils/common").noop,n=require("../../core/utils/type"),o=require("../../core/utils/math").inRange,s=require("../../core/utils/extend").extend,r=require("../button"),h=require("../editor/editor"),l=require("../../events/gesture/swipeable"),_=require("./ui.calendar.navigator"),u=require("./ui.calendar.views"),d=require("../../animation/translator"),c=require("../../core/utils/browser"),v=require("../../core/utils/date"),p=require("../../core/utils/date_serialization"),f=require("../../core/devices"),w=require("../../animation/fx"),m=require("../../core/utils/window"),g=require("../../localization/message"),D=require("../../core/templates/function_template").FunctionTemplate,V="dx-calendar",C="dx-calendar-body",b="dx-calendar-cell",y="dx-calendar-footer",x="dx-calendar-today-button",M="dx-calendar-with-footer",A="dx-calendar-views-wrapper",S="dx-calendar-view",L="dx-state-focused",O=250,T=.6,$=1,B="yyyy-MM-dd",k="dxDateValueKey",z={month:3,year:2,decade:1,century:0},E={MONTH:"month",YEAR:"year",DECADE:"decade",CENTURY:"century"},N=h.inherit({_activeStateUnit:"."+b,_getDefaultOptions:function(){return s(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,dateSerializationFormat:void 0,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:void 0,zoomLevel:E.MONTH,maxZoomLevel:E.MONTH,minZoomLevel:E.CENTURY,showTodayButton:!1,cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,hasFocus:function(e){return e.hasClass(L)}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===f.real().deviceType&&!f.isSimulator()},options:{focusStateEnabled:!0}}])},_supportedKeys:function(){return s(this.callBase(),{rightArrow:function(e){e.preventDefault(),e.ctrlKey?this._waitRenderView(1):this._moveCurrentDate(1*this._getRtlCorrection())},leftArrow:function(e){e.preventDefault(),e.ctrlKey?this._waitRenderView(-1):this._moveCurrentDate(-1*this._getRtlCorrection())},upArrow:function(e){if(e.preventDefault(),e.ctrlKey)this._navigateUp();else{if(w.isAnimating(this._view.$element()))return;this._moveCurrentDate(-1*this._view.option("colCount"))}},downArrow:function(e){if(e.preventDefault(),e.ctrlKey)this._navigateDown();else{if(w.isAnimating(this._view.$element()))return;this._moveCurrentDate(1*this._view.option("colCount"))}},home:function(e){e.preventDefault();var t=this.option("zoomLevel"),i=this.option("currentDate"),a=this._dateOption("min"),n=v.sameView(t,i,a)?a:v.getViewFirstCellDate(t,i);this._moveToClosestAvailableDate(n,1)},end:function(e){e.preventDefault();var t=this.option("zoomLevel"),i=this.option("currentDate"),a=this._dateOption("max"),n=v.sameView(t,i,a)?a:v.getViewLastCellDate(t,i);this._moveToClosestAvailableDate(n,-1)},pageUp:function(e){e.preventDefault(),this._waitRenderView(-1)},pageDown:function(e){e.preventDefault(),this._waitRenderView(1)},tab:a,enter:function(e){if(this._isMaxZoomLevel()){var t=this._updateTimeComponent(this.option("currentDate"));this._dateValue(t,e)}else this._navigateDown()}})},_getSerializationFormat:function(e){var t=this.option(e||"value");return this.option("dateSerializationFormat")?this.option("dateSerializationFormat"):n.isNumeric(t)?"number":n.isString(t)?p.getDateSerializationFormat(t):void 0},_convertToDate:function(e,t){return p.deserializeDate(e)},_dateValue:function(e,t){t&&this._saveValueChangeEvent(t),this._dateOption("value",e)},_dateOption:function(e,t){if(1===arguments.length)return this._convertToDate(this.option(e),e);var i=this._getSerializationFormat(e);this.option(e,p.serializeDate(t,i))},_moveCurrentDate:function(e,t){for(var i=t||new Date(this.option("currentDate")),a=this._getMaxDate(),n=this._getMinDate(),s=this.option("zoomLevel"),r=o(i,n,a),h=new Date(i),l=new Date(i),_=r,u=r,d=e||1;!e&&(_||u)||e&&_;){switch(s){case E.MONTH:h.setDate(h.getDate()+d),l.setDate(l.getDate()-d);break;case E.YEAR:h.setMonth(h.getMonth()+d),l.setMonth(l.getMonth()-d);break;case E.DECADE:h.setFullYear(h.getFullYear()+d),l.setFullYear(l.getFullYear()-d);break;case E.CENTURY:h.setFullYear(h.getFullYear()+10*d),l.setFullYear(l.getFullYear()-10*d)}if(_&&!this._view.isDateDisabled(h)){i=h;break}if(u&&!e&&!this._view.isDateDisabled(l)){i=l;break}u=o(l,n,a),_=o(h,n,a)}this.option("currentDate",i)},_moveToClosestAvailableDate:function(e,t){this._view.isDateDisabled(e)?this._moveCurrentDate(t,e):this.option("currentDate",e)},_init:function(){this.callBase(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_correctZoomLevel:function(){var e=this.option("minZoomLevel"),t=this.option("maxZoomLevel"),i=this.option("zoomLevel");z[t]<z[e]||(z[i]>z[t]?this.option("zoomLevel",t):z[i]<z[e]&&this.option("zoomLevel",e))},_initCurrentDate:function(){var e=this._getNormalizedDate(this._dateOption("value"))||this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",e)},_getNormalizedDate:function(e){return e=v.normalizeDate(e,this._getMinDate(),this._getMaxDate()),n.isDefined(e)?new Date(e):e},_initActions:function(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_initTemplates:function(){this.callBase(),this._defaultTemplates.cell=new D(function(t){var i=t.model;e(t.container).append(e("<span>").text(i&&i.text||String(i)))})},_updateCurrentDate:function(e){if(w.isAnimating(this._$viewsWrapper)&&w.stop(this._$viewsWrapper,!0),this._getMinDate()>this._getMaxDate())this.option("currentDate",new Date);else{var t=this._getNormalizedDate(e);if(e.getTime()===t.getTime()){var i=this._getViewsOffset(this._view.option("date"),t);0!==i&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(i=0),this._view&&0!==i&&!this._suppressNavigation?this._navigate(i,t):(this._renderNavigator(),this._setViewContoured(t),this._updateAriaId(t))}else this.option("currentDate",new Date(t))}},_setViewContoured:function(e){this.option("hasFocus")(this._focusTarget())&&this._view.option("contouredDate",e)},_getMinDate:function(){return this.min?this.min:(this.min=this._dateOption("min")||new Date(1e3,0),this.min)},_getMaxDate:function(){return this.max?this.max:(this.max=this._dateOption("max")||new Date(3e3,0),this.max)},_getViewsOffset:function(e,t){var i,a=this.option("zoomLevel");if(a===E.MONTH)return this._getMonthsOffset(e,t);switch(a){case E.CENTURY:i=100;break;case E.DECADE:i=10;break;default:i=1}return parseInt(t.getFullYear()/i)-parseInt(e.getFullYear()/i)},_getMonthsOffset:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())},_waitRenderView:function(e){if(!this._alreadyViewRender){this._alreadyViewRender=!0;var t=this._getDateByOffset(e*this._getRtlCorrection());this._moveToClosestAvailableDate(t,e),setTimeout(function(){this._alreadyViewRender=!1}.bind(this))}},_getRtlCorrection:function(){return this.option("rtlEnabled")?-1:1},_getDateByOffset:function(e,t){var i=(t=new Date(t||this.option("currentDate"))).getDate(),a=v.getDifferenceInMonth(this.option("zoomLevel"))*e;t.setDate(1),t.setMonth(t.getMonth()+a);var n=v.getLastMonthDate(t).getDate();return t.setDate(i>n?n:i),t},_focusTarget:function(){return this.$element()},_initMarkup:function(){this._renderSubmitElement(),this.callBase();var e=this.$element();e.addClass(V),this._renderBody(),e.append(this.$body),this._renderViews(),this._renderNavigator(),e.append(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this.setAria({role:"listbox",label:g.format("dxCalendar-ariaWidgetName")}),this._updateAriaSelected(),this._updateAriaId(),this._view.isDateDisabled(this.option("currentDate"))&&this._moveCurrentDate(0)},_render:function(){this.callBase(),this._setViewContoured(this.option("currentDate"))},_renderBody:function(){this._$viewsWrapper||(this.$body=e("<div>").addClass(C),this._$viewsWrapper=e("<div>").addClass(A),this.$body.append(this._$viewsWrapper))},_renderViews:function(){this.$element().addClass(S+"-"+this.option("zoomLevel"));var e=this.option("currentDate");if(this._view=this._renderSpecificView(e),this._view.option("_keyboardProcessor",this._viewKeyboardProcessor),m.hasWindow()){var t=this._getDateByOffset(-1,e);this._beforeView=this._isViewAvailable(t)?this._renderSpecificView(t):null;var i=this._getDateByOffset(1,e);i.setDate(1),this._afterView=this._isViewAvailable(i)?this._renderSpecificView(i):null}this._translateViews()},_renderSpecificView:function(t){return new(0,u[this.option("zoomLevel")])(e("<div>").appendTo(this._$viewsWrapper),this._viewConfig(t))},_viewConfig:function(e){var t=this.option("disabledDates");return t=n.isFunction(t)?this._injectComponent(t.bind(this)):t,{date:e,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:this.option("firstDayOfWeek"),value:this._dateOption("value"),rtl:this.option("rtlEnabled"),disabled:this.option("disabled"),tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),disabledDates:t,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel()}},_injectComponent:function(e){var t=this;return function(i){return s(i,{component:t}),e(i)}},_isViewAvailable:function(e){var t=this.option("zoomLevel"),i=v.getViewMinBoundaryDate(t,this._getMinDate()),a=v.getViewMaxBoundaryDate(t,this._getMaxDate());return v.dateInRange(e,i,a)},_translateViews:function(){d.move(this._view.$element(),{left:0,top:0}),this._beforeView&&d.move(this._beforeView.$element(),{left:this._getViewPosition(-1),top:0}),this._afterView&&d.move(this._afterView.$element(),{left:this._getViewPosition(1),top:0})},_getViewPosition:function(e){return 100*e*(this.option("rtlEnabled")&&!c.msie?-1:1)+"%"},_cellClickHandler:function(e){var t=this.option("zoomLevel"),i=v.getViewDown(t),a=this._isMaxZoomLevel();if(i&&!a)this._navigateDown(e.event.currentTarget);else{var n=this._updateTimeComponent(e.value);this._dateValue(n,e.event),this._cellClickAction(e)}},_updateTimeComponent:function(e){var t=new Date(e),i=this._dateOption("value");return i&&(t.setHours(i.getHours()),t.setMinutes(i.getMinutes()),t.setSeconds(i.getSeconds()),t.setMilliseconds(i.getMilliseconds())),t},_isMaxZoomLevel:function(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown:function(t){var i=this.option("zoomLevel");if(!this._isMaxZoomLevel()){var a=v.getViewDown(i);if(a){var n=this._view.option("contouredDate")||this._view.option("date");t&&(n=e(t).data(k)),this._isOtherViewCellClicked=!0,this.option("currentDate",n),this.option("zoomLevel",a),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._setViewContoured(this._getNormalizedDate(n))}}},_renderNavigator:function(){this._navigator||(this._navigator=new _(e("<div>"),this._navigatorConfig())),this._navigator.option("text",this._view.getNavigatorCaption()),this._updateButtonsVisibility()},_navigatorConfig:function(){return{text:this._view.getNavigatorCaption(),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),rtlEnabled:this.option("rtlEnabled")}},_navigatorClickHandler:function(e){var t=this._getDateByOffset(e.direction,this.option("currentDate"));this._moveToClosestAvailableDate(t,1*e.direction),this._updateNavigatorCaption(-e.direction*this._getRtlCorrection())},_navigateUp:function(){var e=this.option("zoomLevel"),t=v.getViewUp(e);if(t&&!this._isMinZoomLevel(e)){var i=this._view.option("contouredDate");this.option("zoomLevel",t),this.option("currentDate",i||this._view.option("date")),this._renderNavigator(),this._animateShowView().done(function(){this._setViewContoured(i)}.bind(this))}},_isMinZoomLevel:function(e){var t=this._getMinDate(),i=this._getMaxDate();return v.sameView(e,t,i)||this.option("minZoomLevel")===e},_updateButtonsVisibility:function(){this._navigator.toggleButton("next",!n.isDefined(this._getRequiredView("next"))),this._navigator.toggleButton("prev",!n.isDefined(this._getRequiredView("prev")))},_renderSwipeable:function(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),l,{onStart:this._swipeStartHandler.bind(this),onUpdated:this._swipeUpdateHandler.bind(this),onEnd:this._swipeEndHandler.bind(this),itemSizeFunc:this._viewWidth.bind(this)}))},_swipeStartHandler:function(e){w.stop(this._$viewsWrapper,!0),e.event.maxLeftOffset=this._getRequiredView("next")?1:0,e.event.maxRightOffset=this._getRequiredView("prev")?1:0},_getRequiredView:function(e){var t,i=this.option("rtlEnabled");return"next"===e?t=i?this._beforeView:this._afterView:"prev"===e&&(t=i?this._afterView:this._beforeView),t},_swipeUpdateHandler:function(e){var t=e.event.offset;d.move(this._$viewsWrapper,{left:t*this._viewWidth(),top:0}),this._updateNavigatorCaption(t)},_swipeEndHandler:function(e){var t=e.event.targetOffset,i=t?t/Math.abs(t):0;if(0!==i){var a=this._getDateByOffset(-i*this._getRtlCorrection());this._isDateInInvalidRange(a)&&(a=i>=0?new Date(this._getMinDate()):new Date(this._getMaxDate())),this.option("currentDate",a)}else this._animateWrapper(0,O)},_viewWidth:function(){return this._viewWidthValue||(this._viewWidthValue=this.$element().width()),this._viewWidthValue},_updateNavigatorCaption:function(e){e*=this._getRtlCorrection();var t=this._view;e>.5&&this._beforeView?t=this._beforeView:e<-.5&&this._afterView&&(t=this._afterView),this._navigator.option("text",t.getNavigatorCaption())},_isDateInInvalidRange:function(e){if(!this._view.isBoundary(e)){var t=this._getMinDate(),i=this._getMaxDate(),a=v.normalizeDate(e,t,i);return a===t||a===i}},_renderFooter:function(){var t=this.option("showTodayButton");if(t){var i=this._createComponent(e("<a>"),r,{focusStateEnabled:!1,text:g.format("dxCalendar-todayButtonText"),onClick:function(){this._toTodayView()}.bind(this),integrationOptions:{}}).$element().addClass(x);this._$footer=e("<div>").addClass(y).append(i),this.$element().append(this._$footer)}this.$element().toggleClass(M,t)},_renderSubmitElement:function(){this._$submitElement=e("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(e){var t=this._convertToDate(e);this._getSubmitElement().val(p.serializeDate(t,B))},_getSubmitElement:function(){return this._$submitElement},_animateShowView:function(){return w.stop(this._view.$element(),!0),this._popAnimationView(this._view,T,$,O).promise()},_popAnimationView:function(e,t,i,a){return w.animate(e.$element(),{type:"pop",from:{scale:t,opacity:t},to:{scale:i,opacity:i},duration:a})},_navigate:function(e,t){if(0!==e&&1!==Math.abs(e)&&this._isViewAvailable(t)){var i=this._renderSpecificView(t);e>0?(this._afterView&&this._afterView.$element().remove(),this._afterView=i):(this._beforeView&&this._beforeView.$element().remove(),this._beforeView=i),this._translateViews()}var a=-this._getRtlCorrection()*(e>0?1:e<0?-1:0)*this._viewWidth();this._$viewsWrapper.position().left!==a&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(e,t):this._animateWrapper(a,O).done(this._wrapperAnimationEndHandler.bind(this,e,t)))},_animateWrapper:function(e,t){return w.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:e},duration:t})},_toTodayView:function(){var e=new Date;this._isMaxZoomLevel()?this._dateOption("value",e):(this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._dateOption("value",e),this._animateShowView(),this._preventViewChangeAnimation=!1)},_wrapperAnimationEndHandler:function(e,t){this._rearrangeViews(e),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(t),this._updateAriaId(t)},_rearrangeViews:function(e){var t,i,a;if(0!==e&&(e<0?(t=1,i="_beforeView",a="_afterView"):(t=-1,i="_afterView",a="_beforeView"),this[i])){var n=this[i].option("date");this[a]&&this[a].$element().remove(),e===t?this[a]=this._view:(this[a]=this._renderSpecificView(this._getDateByOffset(t,n)),this._view.$element().remove()),this._view=this[i];var o=this._getDateByOffset(-t,n);this[i]=this._isViewAvailable(o)?this._renderSpecificView(o):null}},_resetLocation:function(){d.move(this._$viewsWrapper,{left:0,top:0})},_clean:function(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache:function(){delete this._viewWidthValue},_disposeViews:function(){this._view.$element().remove(),this._beforeView&&this._beforeView.$element().remove(),this._afterView&&this._afterView.$element().remove(),delete this._view,delete this._beforeView,delete this._afterView},_refreshViews:function(){this._disposeViews(),this._renderViews()},_visibilityChanged:function(){this._translateViews()},_focusInHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",this.option("currentDate"))},_focusOutHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",null)},_updateViewsValue:function(e){var t=e?new Date(e):null;this._view.option("value",t),this._beforeView&&this._beforeView.option("value",t),this._afterView&&this._afterView.option("value",t)},_updateAriaSelected:function(e,t){e=e||this._dateOption("value");var i=this._view._getCellByDate(t),a=this._view._getCellByDate(e);this.setAria("selected",void 0,i),this.setAria("selected",!0,a),e&&this.option("currentDate").getTime()===e.getTime()&&this._updateAriaId(e)},_updateAriaId:function(e){e=e||this.option("currentDate");var i="dx-"+new t,a=this._view._getCellByDate(e);this.setAria("id",i,a),this.setAria("activedescendant",i),this._onContouredChanged(i)},_suppressingNavigation:function(e,t){this._suppressNavigation=!0,e.apply(this,t),delete this._suppressNavigation},_optionChanged:function(e){var t=e.value,i=e.previousValue;switch(e.name){case"width":this.callBase(e),this._clearViewWidthCache();break;case"min":case"max":this.min=void 0,this.max=void 0,this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(i)),this._updateCurrentDate(t);break;case"zoomLevel":this.$element().removeClass(S+"-"+i),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":t=this._convertToDate(t),i=this._convertToDate(i),this._updateAriaSelected(t,i),this.option("currentDate",n.isDefined(t)?new Date(t):new Date),this._updateViewsValue(t),this._setSubmitValue(t),this.callBase(e);break;case"disabled":this._view.option("disabled",t),this.callBase(e);break;case"onCellClick":this._view.option("onCellClick",t);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":this._invalidate();break;case"hasFocus":break;default:this.callBase(e)}}});i("dxCalendar",N),module.exports=N;
},{"../../core/renderer":"qxFQ","../../core/guid":"tQQP","../../core/component_registrator":"g3fO","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/math":"Ntiw","../../core/utils/extend":"ac8T","../button":"kKaI","../editor/editor":"IJZF","../../events/gesture/swipeable":"ocDn","./ui.calendar.navigator":"CTDE","./ui.calendar.views":"TjRZ","../../animation/translator":"IRTp","../../core/utils/browser":"nlvS","../../core/utils/date":"IcD0","../../core/utils/date_serialization":"kANi","../../core/devices":"LpzF","../../animation/fx":"qxJT","../../core/utils/window":"NXH3","../../localization/message":"Njcj","../../core/templates/function_template":"Xd2Y"}],"UR4h":[function(require,module,exports) {
"use strict";module.exports=require("./calendar/ui.calendar"),module.exports.default=module.exports;
},{"./calendar/ui.calendar":"Bt5L"}],"FgI6":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../events/core/events_engine"),n=require("../../core/utils/common").noop,i=require("../../core/class"),o=require("../../localization/date"),a=i.abstract,r=i.inherit({ctor:function(e){this.dateBox=e},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(t){t=t||e("<div>"),this._widget=this._createWidget(t),this._widget.$element().appendTo(this._getWidgetContainer())},_createWidget:function(e){var t=this._getWidgetName(),n=this._getWidgetOptions();return this.dateBox._createComponent(e,t,n)},_getWidgetOptions:a,_getWidgetName:a,getDefaultOptions:function(){return{mode:"text"}},getDisplayFormat:a,supportedKeys:n,customizeButtons:n,attachKeyboardEvents:function(e){this._widgetKeyboardProcessor=e.attachChildProcessor()},getParsedText:function(e,t){var n=o.parse(e,t);return n||o.parse(e)},renderInputMinMax:n,renderOpenedState:function(){this._updateValue()},popupConfig:a,renderPopupContent:function(){var e=this._getPopup();this._renderWidget();var n=e.$content().parent();t.off(n,"mousedown"),t.on(n,"mousedown",this._preventFocusOnPopup.bind(this))},getFirstPopupElement:n,getLastPopupElement:n,_preventFocusOnPopup:function(e){e.preventDefault()},_getWidgetContainer:function(){return this._getPopup().$content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:n,popupHiddenHandler:n,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},_valueChangedHandler:function(e){this.dateBox.option("opened")&&"instantly"===this.dateBox.option("applyValueMode")&&this.dateBoxValue(e.value)},useCurrentDateByDefault:n,getDefaultDate:function(){return new Date},textChangedHandler:n,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},isAdaptivityChanged:function(){return!1},dispose:function(){var e=this._getPopup();e&&e.$content().empty()},dateBoxValue:function(){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}});module.exports=r;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/utils/common":"GcQA","../../core/class":"YpjV","../../localization/date":"F0Sb"}],"kY8c":[function(require,module,exports) {
"use strict";var t=require("../calendar"),e=require("./ui.date_box.strategy"),i=require("../../core/utils/date"),n=require("../../core/utils/common"),o=require("../../core/utils/type").isFunction,a=require("../../core/utils/extend").extend,s=require("../../localization/message"),d=e.inherit({NAME:"Calendar",supportedKeys:function(){return{rightArrow:function(){if(this.option("opened"))return!0},leftArrow:function(){if(this.option("opened"))return!0},enter:function(t){if(this.dateBox.option("opened")){if(t.preventDefault(),this._widget.option("zoomLevel")!==this._widget.option("maxZoomLevel"))return!0;var e=this._widget._view.option("contouredDate"),i=this._lastActionElement;e&&"calendar"===i&&this.dateBoxValue(e,t),this.dateBox.close(),this.dateBox._valueChangeEventHandler(t)}else this.dateBox._valueChangeEventHandler(t)}.bind(this)}},getDisplayFormat:function(t){return t||"shortdate"},_getWidgetName:function(){return t},_getWidgetOptions:function(){var t=this.dateBox.option("disabledDates");return a(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,dateSerializationFormat:null,_keyboardProcessor:this._widgetKeyboardProcessor,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),tabIndex:null,disabledDates:o(t)?this._injectComponent(t.bind(this.dateBox)):t,onContouredChanged:this._refreshActiveDescendant.bind(this),hasFocus:function(){return!0}})},_injectComponent:function(t){var e=this;return function(i){return a(i,{component:e.dateBox}),t(i)}},_refreshActiveDescendant:function(t){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",t.actionValue)},popupConfig:function(t){var e=t.toolbarItems,i=this.dateBox.option("buttonsLocation"),o=[];return o="default"!==i?n.splitPair(i):["bottom","center"],"useButtons"===this.dateBox.option("applyValueMode")&&e.unshift({widget:"dxButton",toolbar:o[0],location:"after"===o[1]?"before":o[1],options:{onInitialized:function(t){t.component.registerKeyHandler("escape",this._escapeHandler.bind(this))}.bind(this),onClick:function(){this._widget._toTodayView()}.bind(this),text:s.format("dxCalendar-todayButtonText"),type:"today"}}),a(!0,t,{toolbarItems:e,position:{collision:"flipfit flip"}})},_escapeHandler:function(){this.dateBox.close(),this.dateBox.focus()},_valueChangedHandler:function(t){var e=this.dateBox,n=t.value,o=t.previousValue;i.sameDate(n,o)||"instantly"===e.option("applyValueMode")&&this.dateBoxValue(this.getValue(),t.event)},_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},textChangedHandler:function(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(t){var e=this.dateBox;"instantly"===e.option("applyValueMode")&&(e.option("opened",!1),this.dateBoxValue(this.getValue(),t.event))}});module.exports=d;
},{"../calendar":"UR4h","./ui.date_box.strategy":"FgI6","../../core/utils/date":"IcD0","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","../../localization/message":"Njcj"}],"cr6o":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../events/core/events_engine"),i=require("../../core/component_registrator"),n=require("../../core/utils/extend").extend,s=require("../../core/utils/iterator").each,r=require("../../events/utils"),o=require("../../events/click"),a=require("../scroll_view/ui.scrollable"),d=require("../../animation/fx"),l=require("../../animation/translator"),c="dx-dateviewroller",h="dx-state-active",_="dx-dateviewroller-current",u="dx-dateview-item",m="dx-dateview-item-selected",f="dx-dateview-item-selected-frame",v="dx-dateview-item-selected-border",p=a.inherit({_getDefaultOptions:function(){return n(this.callBase(),{showScrollbar:!1,useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{scrollByContent:!0}}])},_init:function(){this.callBase(),this._renderSelectedItemFrame()},_render:function(){this.callBase(),this.$element().addClass(c),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._wrapAction("_endAction",this._endActionHandler.bind(this)),this._renderSelectedIndexChanged()},_renderSelectedIndexChanged:function(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")},_renderContainerClick:function(){if(this.option("showOnClick")){var e=r.addNamespace(o.name,this.NAME),i=this._createActionByOption("onClick");t.off(this._$container,e),t.on(this._$container,e,function(e){i({event:e})})}},_wrapAction:function(e,t){var i=this._strategy,n=i[e];i[e]=function(){return t.apply(this,arguments),n.apply(this,arguments)}},_renderItems:function(){var t=this.option("items")||[],i=e();this._$content.empty(),t.forEach(function(t){i=i.add(e("<div>").addClass(u).append(t))}),this._$content.append(i),this._$items=i,this.update()},_renderSelectedItemFrame:function(){e("<div>").addClass(f).append(e("<div>").addClass(v)).appendTo(this._$container)},_renderSelectedValue:function(e){var t=this._fitIndex(e||this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(t)}),this._renderActiveStateItem()},_fitIndex:function(e){var t=(this.option("items")||[]).length;return e>=t?t-1:e<0?0:e},_getItemPosition:function(e){return Math.round(this._itemHeight()*e)},_renderItemsClick:function(){var e=this._getItemSelector(),i=r.addNamespace(o.name,this.NAME);t.off(this.$element(),i,e),t.on(this.$element(),i,e,this._itemClickHandler.bind(this))},_getItemSelector:function(){return"."+u},_itemClickHandler:function(e){this.option("selectedIndex",this._itemElementIndex(e.currentTarget))},_itemElementIndex:function(e){return this._itemElements().index(e)},_itemElements:function(){return this.$element().find(this._getItemSelector())},_renderActiveStateItem:function(){var t=this.option("selectedIndex");s(this._$items,function(i){e(this).toggleClass(m,t===i)})},_moveTo:function(e){e=this._normalizeLocation(e);var t=this._location(),i={x:-(t.left-e.left),y:-(t.top-e.top)};if(this._isVisible()&&(i.x||i.y))if(this._strategy._prepareDirections(!0),this._animation){var n=this;d.stop(this._$content),d.animate(this._$content,{duration:200,type:"slide",to:{top:Math.floor(i.y)},complete:function(){l.resetPosition(n._$content),n._strategy.handleMove({delta:i})}}),delete this._animation}else this._strategy.handleMove({delta:i})},_validate:function(e){return this._strategy.validate(e)},_endActionHandler:function(){var e=this.option("selectedIndex"),t=-this._location().top/this._itemHeight(),i=Math.round(t);this._animation=!0,i===e?this._renderSelectedValue(i):this.option("selectedIndex",i)},_itemHeight:function(){var e=this._$items.first();return e.get(0)&&e.get(0).getBoundingClientRect().height||0},_toggleActive:function(e){this.$element().toggleClass(h,e)},_isVisible:function(){return this._$container.is(":visible")},_fireSelectedIndexChanged:function(e,t){this._selectedIndexChanged({value:e,previousValue:t,event:void 0})},_visibilityChanged:function(e){this.callBase(e),e&&this._renderSelectedValue(this.option("selectedIndex")),this.toggleActiveState(!1)},toggleActiveState:function(e){this.$element().toggleClass(_,e)},_refreshSelectedIndex:function(){var e=this.option("selectedIndex"),t=this._fitIndex(e);t===e?this._renderActiveStateItem():this.option("selectedIndex",t)},_optionChanged:function(e){switch(e.name){case"selectedIndex":this._fireSelectedIndexChanged(e.value,e.previousValue),this._renderSelectedValue(e.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:this.callBase(e)}}});i("dxDateViewRoller",p),module.exports=p;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/component_registrator":"g3fO","../../core/utils/extend":"ac8T","../../core/utils/iterator":"FHcO","../../events/utils":"cNvJ","../../events/click":"RTmy","../scroll_view/ui.scrollable":"tHRk","../../animation/fx":"qxJT","../../animation/translator":"IRTp"}],"lvwC":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../editor/editor"),r=require("./ui.date_view_roller"),o=require("../../core/utils/date"),a=require("../../core/utils/iterator").each,l=require("../../core/utils/extend").extend,n=require("./ui.date_utils"),i=require("../../core/component_registrator"),s=require("../../localization/date"),u="dx-dateview",h="dx-dateview-compact",d="dx-dateview-wrapper",c="dx-dateview-rollers",_="dx-dateviewroller",p={date:"date",datetime:"datetime",time:"time"},g={year:"year",month:"month",day:"day",hours:"hours"},f=t.inherit({_valueOption:function(){var e=this.option("value"),t=new Date(e);return!e||isNaN(t)?this._getDefaultDate():t},_getDefaultDate:function(){var e=new Date;return this.option("type")===p.date?new Date(e.getFullYear(),e.getMonth(),e.getDate()):e},_getDefaultOptions:function(){return l(this.callBase(),{minDate:n.MIN_DATEVIEW_DEFAULT_DATE,maxDate:n.MAX_DATEVIEW_DEFAULT_DATE,type:p.date,value:new Date,applyCompactClass:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){return"desktop"!==e.deviceType},options:{applyCompactClass:!0}}])},_render:function(){this.callBase(),this.$element().addClass(u),this._toggleFormatClasses(this.option("type")),this._toggleCompactClass()},_toggleFormatClasses:function(e,t){this.$element().addClass(u+"-"+e),t&&this.$element().removeClass(u+"-"+t)},_toggleCompactClass:function(){this.$element().toggleClass(h,this.option("applyCompactClass"))},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=e("<div>").addClass(d),this._renderRollers(),this._$wrapper.appendTo(this.$element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=e("<div>").addClass(c)),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var t=this;a(t._rollerConfigs,function(o){var a=e("<div>").appendTo(t._$rollersContainer).addClass(_+"-"+t._rollerConfigs[o].type);t._rollers[t._rollerConfigs[o].type]=t._createComponent(a,r,{items:t._rollerConfigs[o].displayItems,selectedIndex:t._rollerConfigs[o].selectedIndex,showScrollbar:!1,onStart:function(e){var r=e.component;r._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[o],r.option("selectedIndex"))},onEnd:function(e){e.component._toggleActive(!1)},onClick:function(e){var r=e.component;r._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[o],r.option("selectedIndex")),t._setRollerState(t._rollerConfigs[o],r.option("selectedIndex")),r._toggleActive(!1)},onSelectedIndexChanged:function(e){var r=e.component;t._setRollerState(t._rollerConfigs[o],r.option("selectedIndex"))}})}),t._$rollersContainer.appendTo(t._wrapper())},_createRollerConfigs:function(e){var t=this;e=e||t.option("type"),t._rollerConfigs={},s.getFormatParts(n.FORMATS_MAP[e]).forEach(function(e){t._createRollerConfig(e)})},_createRollerConfig:function(e){for(var t=n.DATE_COMPONENTS_INFO[e],r=this._calculateRollerConfigValueRange(e),o=r.startValue,a=r.endValue,l=t.formatter,i=this._getCurrentDate(),s={type:e,setValue:t.setter,valueItems:[],displayItems:[],getIndex:function(e){return e[t.getter]()-o}},u=o;u<=a;u++)s.valueItems.push(u),s.displayItems.push(l(u,i));s.selectedIndex=s.getIndex(i),this._rollerConfigs[e]=s},_setActiveRoller:function(e){var t=e&&this._rollers[e.type];a(this._rollers,function(){this.toggleActiveState(this===t)})},_updateRollersPosition:function(){var e=this;a(this._rollers,function(t){var r=e._rollerConfigs[t].getIndex(e._getCurrentDate());this.option("selectedIndex",r)})},_setRollerState:function(e,t){if(t!==e.selectedIndex){var r=e.valueItems[t],a=e.setValue,l=new Date(this._getCurrentDate()),i=l.getDate(),s=this.option("minDate"),u=this.option("maxDate");e.type===g.month?i=Math.min(i,n.getMaxMonthDay(l.getFullYear(),r)):e.type===g.year&&(i=Math.min(i,n.getMaxMonthDay(r,l.getMonth()))),l.setDate(i),l[a](r);var h=o.normalizeDate(l,s,u);l=n.mergeDates(h,l,"time"),l=o.normalizeDate(l,s,u),this.option("value",l),e.selectedIndex=t}e.type===g.year&&this._refreshRollers(),e.type===g.month&&(this._refreshRoller(g.day),this._refreshRoller(g.hours))},_refreshRoller:function(e){var t=this._rollers[e];if(t){this._createRollerConfig(e);var r=this._rollerConfigs[e];e!==g.day&&r.displayItems.toString()===t.option("items").toString()||t.option({items:r.displayItems,selectedIndex:r.selectedIndex})}},_getCurrentDate:function(){var e=this._valueOption(),t=this.option("minDate"),r=this.option("maxDate");return o.normalizeDate(e,t,r)},_calculateRollerConfigValueRange:function(e){var t=this._getCurrentDate(),r=this.option("minDate"),a=this.option("maxDate"),l=o.sameYear(t,r),i=l&&t.getMonth()===r.getMonth(),s=o.sameYear(t,a),u=s&&t.getMonth()===a.getMonth(),h=i&&t.getDate()===r.getDate(),d=u&&t.getDate()===a.getDate(),c=n.DATE_COMPONENTS_INFO[e],_=c.startValue,p=c.endValue;return e===g.year&&(_=r.getFullYear(),p=a.getFullYear()),e===g.month&&(l&&(_=r.getMonth()),s&&(p=a.getMonth())),e===g.day&&(p=n.getMaxMonthDay(t.getFullYear(),t.getMonth()),l&&i&&(_=r.getDate()),s&&u&&(p=a.getDate())),e===g.hours&&(_=h?r.getHours():_,p=d?a.getHours():p),{startValue:_,endValue:p}},_refreshRollers:function(){this._refreshRoller(g.month),this._refreshRoller(g.day),this._refreshRoller(g.hours)},_optionChanged:function(e){switch(e.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(e.value,e.previousValue);break;case"visible":this.callBase(e),e.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(e)}},_clean:function(){this.callBase(),delete this._$rollersContainer},_dispose:function(){clearTimeout(this._deferredRenderDayTimeout),clearTimeout(this._deferredRenderMonthTimeout),this.callBase()}});i("dxDateView",f),module.exports=f;
},{"../../core/renderer":"qxFQ","../editor/editor":"IJZF","./ui.date_view_roller":"cr6o","../../core/utils/date":"IcD0","../../core/utils/iterator":"FHcO","../../core/utils/extend":"ac8T","./ui.date_utils":"P6ZX","../../core/component_registrator":"g3fO","../../localization/date":"F0Sb"}],"C2Q4":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=require("../../core/utils/window").getWindow(),i=require("./ui.date_view"),o=require("./ui.date_box.strategy"),n=require("../../core/utils/support"),a=require("../../core/utils/extend").extend,r=require("./ui.date_utils"),s=require("../../localization/message"),d=o.inherit({NAME:"DateView",getDefaultOptions:function(){return a(this.callBase(),{openOnFieldClick:!0,applyButtonText:s.format("OK")})},getDisplayFormat:function(t){return t||r.FORMATS_MAP[this.dateBox.option("type")]},popupConfig:function(t){return{showTitle:!0,toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:t.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device:function(t){var e=t.platform;return"generic"===e||"ios"===e},options:{width:"auto",height:"auto"}},{device:function(t){var e=t.platform,i=t.phone;return"generic"===e&&i},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:e}}}]}},_renderWidget:function(){if(n.inputType(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly"))this._widget&&(this._widget.$element().remove(),this._widget=null);else{var e=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{var i=t("<div>").appendTo(e.$content());this._widget=this._createWidget(i)}this._widget.$element().appendTo(this._getWidgetContainer())}},_getWidgetName:function(){return i},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*r.ONE_YEAR),onDisposing:function(){this._widget=null}.bind(this)}}});module.exports=d;
},{"../../core/renderer":"qxFQ","../../core/utils/window":"NXH3","./ui.date_view":"lvwC","./ui.date_box.strategy":"FgI6","../../core/utils/support":"eZC7","../../core/utils/extend":"ac8T","./ui.date_utils":"P6ZX","../../localization/message":"Njcj"}],"cba3":[function(require,module,exports) {
"use strict";var t=require("../../core/utils/common").noop,e=require("./ui.date_box.strategy"),i=require("../../core/utils/support"),r=require("../../core/utils/array").inArray,o=require("./ui.date_utils"),a=require("../../core/utils/date_serialization"),n=e.inherit({NAME:"Native",popupConfig:t,getParsedText:function(t){return t?"datetime"===this.dateBox.option("type")?new Date(t.replace(/-/g,"/").replace("T"," ").split(".")[0]):o.fromStandardDateFormat(t):null},renderPopupContent:t,_getWidgetName:t,_getWidgetOptions:t,_getDateBoxType:function(){var t=this.dateBox.option("type");return-1===r(t,o.SUPPORTED_FORMATS)?t="date":"datetime"!==t||i.inputType(t)||(t="datetime-local"),t},customizeButtons:function(){var t=this.dateBox.getButton("dropDown");t&&t.on("click",function(){this.dateBox._input().get(0).click()}.bind(this))},getDefaultOptions:function(){return{mode:this._getDateBoxType()}},getDisplayFormat:function(t){var e=this._getDateBoxType();return t||o.FORMATS_MAP[e]},renderInputMinMax:function(t){t.attr({min:a.serializeDate(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:a.serializeDate(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}});module.exports=n;
},{"../../core/utils/common":"GcQA","./ui.date_box.strategy":"FgI6","../../core/utils/support":"eZC7","../../core/utils/array":"uivT","./ui.date_utils":"P6ZX","../../core/utils/date_serialization":"kANi"}],"LXK0":[function(require,module,exports) {
"use strict";var e=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),t=function e(t,i,o){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,i);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,i,o)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(o):void 0},i=require("../core/renderer"),o=O(i),n=require("../events/core/events_engine"),r=O(n),s=require("../core/component_registrator"),a=O(s),u=require("../core/utils/extend"),l=require("../core/utils/common"),c=require("../core/utils/window"),h=O(c),_=require("../core/utils/inflector"),d=O(_),p=require("../core/utils/type"),f=require("../core/utils/style"),m=O(f),y=require("../core/utils/iterator"),g=require("../core/utils/browser"),v=O(g),b=require("./collection/item"),k=O(b),S=require("./collection/ui.collection_widget.edit"),x=O(S);function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var z="dx-box",$=".dx-box",A="dx-box-item",P="dxBoxItemData",q={row:"minWidth",col:"minHeight"},M={row:"maxWidth",col:"maxHeight"},j=1,D={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},T={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},B={row:"row",col:"column"},E=function(e,t,i){if(i=m.default.normalizeStyleProp(t,i),e.style[m.default.styleProp(t)]=i,!h.default.hasWindow()){if(""===i||!(0,p.isDefined)(i))return;var o=d.default.dasherize(t)+": "+i+";";e.attributes.style?e.attributes.style.value.indexOf(o)<0&&(e.attributes.style.value+=" "+o):e.setAttribute("style",o)}},R="dxBox",H="dxupdate."+R,V="dx-box-fallback-item",L={row:"nowrap",col:"normal"},Q={row:"width",col:"height"},F={row:"height",col:"width"},N={row:"marginLeft",col:"marginTop"},U={row:"marginRight",col:"marginBottom"},W={row:"marginTop",col:"marginLeft"},G={row:"marginBottom",col:"marginRight"},K={marginLeft:"marginRight",marginRight:"marginLeft"},J=function(i){function o(){return I(this,o),w(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return C(o,k.default),e(o,[{key:"_renderVisible",value:function(e,i){t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_renderVisible",this).call(this,e),(0,p.isDefined)(i)&&this._options.fireItemStateChangedAction({name:"visible",state:e,oldState:i})}}]),o}(),X=function(){function t(e,i){I(this,t),this._$element=e,this._option=i,this.initSize=l.noop,this.update=l.noop}return e(t,[{key:"renderBox",value:function(){this._$element.css({display:m.default.stylePropPrefix("flexDirection")+"flex"}),E(this._$element.get(0),"flexDirection",B[this._option("direction")])}},{key:"renderAlign",value:function(){this._$element.css({justifyContent:this._normalizedAlign()})}},{key:"_normalizedAlign",value:function(){var e=this._option("align");return e in D?D[e]:e}},{key:"renderCrossAlign",value:function(){this._$element.css({alignItems:this._normalizedCrossAlign()})}},{key:"_normalizedCrossAlign",value:function(){var e=this._option("crossAlign");return e in T?T[e]:e}},{key:"renderItems",value:function(e){var t=m.default.stylePropPrefix("flexDirection"),i=this._option("direction");(0,y.each)(e,function(){var e=(0,o.default)(this),n=e.data(P);e.css({display:t+"flex"}).css(M[i],n.maxSize||"none").css(q[i],n.minSize||"0"),E(e.get(0),"flexBasis",n.baseSize||0),E(e.get(0),"flexGrow",n.ratio),E(e.get(0),"flexShrink",(0,p.isDefined)(n.shrink)?n.shrink:j),e.children().each(function(e,t){(0,o.default)(t).css({width:"auto",height:"auto",display:m.default.stylePropPrefix("flexDirection")+"flex",flexBasis:0}),E(t,"flexGrow",1),E(t,"flexDirection",(0,o.default)(t)[0].style.flexDirection||"column")})})}}]),t}(),Y=function(){function t(e,i){I(this,t),this._$element=e,this._option=i}return e(t,[{key:"renderBox",value:function(){this._$element.css({fontSize:0,whiteSpace:L[this._option("direction")],verticalAlign:"top"}),r.default.off(this._$element,H),r.default.on(this._$element,H,this.update.bind(this))}},{key:"renderAlign",value:function(){var e=this._$items;if(e){var t=this._option("align"),i=this.totalItemSize,o=this._option("direction"),n=this._$element[Q[o]]()-i,r=0;switch(this._setItemsMargins(e,o,0),t){case"start":break;case"end":r=n,e.first().css(this._chooseMarginSide(N[o]),r);break;case"center":r=.5*n,e.first().css(this._chooseMarginSide(N[o]),r),e.last().css(this._chooseMarginSide(U[o]),r);break;case"space-between":r=.5*n/(e.length-1),this._setItemsMargins(e,o,r),e.first().css(this._chooseMarginSide(N[o]),0),e.last().css(this._chooseMarginSide(U[o]),0);break;case"space-around":r=.5*n/e.length,this._setItemsMargins(e,o,r)}}}},{key:"_setItemsMargins",value:function(e,t,i){e.css(this._chooseMarginSide(N[t]),i).css(this._chooseMarginSide(U[t]),i)}},{key:"renderCrossAlign",value:function(){var e=this._$items;if(e){var t=this._option("crossAlign"),i=this._option("direction"),n=this._$element[F[i]](),r=this;switch(t){case"start":break;case"end":(0,y.each)(e,function(){var e=(0,o.default)(this),t=e[F[i]](),s=n-t;e.css(r._chooseMarginSide(W[i]),s)});break;case"center":(0,y.each)(e,function(){var e=(0,o.default)(this),t=e[F[i]](),s=.5*(n-t);e.css(r._chooseMarginSide(W[i]),s).css(r._chooseMarginSide(G[i]),s)});break;case"stretch":e.css(r._chooseMarginSide(W[i]),0).css(r._chooseMarginSide(G[i]),0).css(F[i],"100%")}}}},{key:"_chooseMarginSide",value:function(e){return this._option("rtlEnabled")&&K[e]||e}},{key:"renderItems",value:function(e){var t=this;this._$items=e;var i=this._option("direction"),n=0,r=0,s=0;(0,y.each)(e,function(e,a){var u=(0,o.default)(a);u.css({display:"inline-block",verticalAlign:"top"}),u[Q[i]]("auto"),u.removeClass(V);var l=u.data(P),c=l.ratio||0,h=t._baseSize(u),_=(0,p.isDefined)(l.shrink)?l.shrink:j;n+=c,r+=_*h,s+=h});var a=this._boxSize()-s,u=0;(0,y.each)(e,function(e,s){var l=(0,o.default)(s),c=(0,o.default)(s).data(P),h=function(e){var i=e.data(P),o=t._baseSize(e),s=a>=0?i.ratio||0:((0,p.isDefined)(i.shrink)?i.shrink:j)*o,u=a>=0?n:r;return o+(u?Math.round(a*s/u):0)}(l);u+=h,l.css(M[i],c.maxSize||"none").css(q[i],c.minSize||"0").css(Q[i],h),l.addClass(V)}),this.totalItemSize=u}},{key:"_baseSize",value:function(e){var t=(0,o.default)(e).data(P);return null==t.baseSize?0:"auto"===t.baseSize?this._contentSize(e):this._parseSize(t.baseSize)}},{key:"_contentSize",value:function(e){return(0,o.default)(e)[Q[this._option("direction")]]()}},{key:"_parseSize",value:function(e){return String(e).match(/.+%$/)?.01*parseFloat(e)*this._boxSizeValue:e}},{key:"_boxSize",value:function(e){if(!arguments.length)return this._boxSizeValue=this._boxSizeValue||this._totalBaseSize(),this._boxSizeValue;this._boxSizeValue=e}},{key:"_totalBaseSize",value:function(){var e=this,t=0;return(0,y.each)(this._$items,function(i,o){t+=e._baseSize(o)}),t}},{key:"initSize",value:function(){this._boxSize(this._$element[Q[this._option("direction")]]())}},{key:"update",value:function(){if(this._$items&&!this._$element.is(":hidden")){this._$items.detach(),this.initSize(),this._$element.append(this._$items),this.renderItems(this._$items),this.renderAlign(),this.renderCrossAlign();var e=this._$element.get(0);this._$items.find($).each(function(){e===(0,o.default)(this).parent().closest($).get(0)&&r.default.triggerHandler(this,H)})}}}]),t}(),Z=function(i){function n(){return I(this,n),w(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return C(n,x.default),e(n,[{key:"_getDefaultOptions",value:function(){return(0,u.extend)(t(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_getDefaultOptions",this).call(this),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,_layoutStrategy:"flex",_queue:void 0})}},{key:"_defaultOptionsRules",value:function(){return t(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_defaultOptionsRules",this).call(this).concat([{device:function(){return v.default.msie},options:{_layoutStrategy:"fallback"}}])}},{key:"_itemClass",value:function(){return A}},{key:"_itemDataKey",value:function(){return P}},{key:"_itemElements",value:function(){return this._itemContainer().children(this._itemSelector())}},{key:"_init",value:function(){t(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_init",this).call(this),this.$element().addClass(z+"-"+this.option("_layoutStrategy")),this._initLayout(),this._initBoxQueue()}},{key:"_initLayout",value:function(){this._layout="fallback"===this.option("_layoutStrategy")?new Y(this.$element(),this.option.bind(this)):new X(this.$element(),this.option.bind(this))}},{key:"_initBoxQueue",value:function(){this._queue=this.option("_queue")||[]}},{key:"_queueIsNotEmpty",value:function(){return!this.option("_queue")&&!!this._queue.length}},{key:"_pushItemToQueue",value:function(e,t){this._queue.push({$item:e,config:t})}},{key:"_shiftItemFromQueue",value:function(){return this._queue.shift()}},{key:"_initMarkup",value:function(){this.$element().addClass(z),this._layout.renderBox(),t(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_initMarkup",this).call(this),this._renderAlign(),this._renderActions()}},{key:"_renderActions",value:function(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}},{key:"_renderAlign",value:function(){this._layout.renderAlign(),this._layout.renderCrossAlign()}},{key:"_renderItems",value:function(e){var i=this;for(this._layout.initSize(),t(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_renderItems",this).call(this,e);this._queueIsNotEmpty();){var o=this._shiftItemFromQueue();this._createComponent(o.$item,n,(0,u.extend)({_layoutStrategy:this.option("_layoutStrategy"),itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},o.config))}this._layout.renderItems(this._itemElements()),clearTimeout(this._updateTimer),this._updateTimer=setTimeout(function(){i._isUpdated||i._layout.update(),i._isUpdated=!1,i._updateTimer=null})}},{key:"_renderItemContent",value:function(e){var i=e.itemData&&e.itemData.node;return i?this._renderItemContentByNode(e,i):t(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_renderItemContent",this).call(this,e)}},{key:"_postprocessRenderItem",value:function(e){var t=e.itemData.box;t&&this._pushItemToQueue(e.itemContent,t)}},{key:"_createItemByTemplate",value:function(e,i){return i.itemData.box?e.source?e.source():(0,o.default)():t(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_createItemByTemplate",this).call(this,e,i)}},{key:"_visibilityChanged",value:function(e){e&&this._dimensionChanged()}},{key:"_dimensionChanged",value:function(){this._updateTimer||(this._isUpdated=!0,this._layout.update())}},{key:"_dispose",value:function(){clearTimeout(this._updateTimer),t(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_dispose",this).apply(this,arguments)}},{key:"_itemOptionChanged",value:function(e,i,o,r){"visible"===i&&this._onItemStateChanged({name:i,state:o,oldState:!1!==r}),t(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_itemOptionChanged",this).call(this,e,i,o)}},{key:"_optionChanged",value:function(e){switch(e.name){case"_layoutStrategy":case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:t(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_optionChanged",this).call(this,e)}}},{key:"_itemOptions",value:function(){var e=this,i=t(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_itemOptions",this).call(this);return i.fireItemStateChangedAction=function(t){e._onItemStateChanged(t)},i}},{key:"repaint",value:function(){this._dimensionChanged()}}]),n}();Z.ItemClass=J,(0,a.default)("dxBox",Z),module.exports=Z,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../events/core/events_engine":"oNrb","../core/component_registrator":"g3fO","../core/utils/extend":"ac8T","../core/utils/common":"GcQA","../core/utils/window":"NXH3","../core/utils/inflector":"i2nR","../core/utils/type":"Mw4w","../core/utils/style":"DyYH","../core/utils/iterator":"FHcO","../core/utils/browser":"nlvS","./collection/item":"Dcm1","./collection/ui.collection_widget.edit":"IZYs"}],"Ha5F":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=f(e),i=require("../editor/editor"),o=f(i),r=require("../number_box"),a=f(r),n=require("../select_box"),s=f(n),u=require("../box"),l=f(u),d=require("../../core/utils/extend"),h=require("../../core/component_registrator"),_=f(h),c=require("../../localization/date"),m=require("./ui.date_utils");function f(e){return e&&e.__esModule?e:{default:e}}var p="dx-timeview",v="dx-timeview-clock",g="dx-timeview-field",x="dx-timeview-hourarrow",w="dx-timeview-time-separator",C="dx-timeview-format12",b=-1,B=1,V="dx-timeview-minutearrow",H=function(e,t,i){k(e,t,i)},k=function(e,t,i){e.css("transform","rotate("+t+"deg) translate(0,"+i+"px)")},M=o.default.inherit({_getDefaultOptions:function(){return(0,d.extend)(this.callBase(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:0,stylingMode:void 0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"android"},options:{_arrowOffset:15}},{device:{platform:"generic"},options:{_arrowOffset:5}}])},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.$element().addClass(p)},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var e=(0,t.default)("<div>").appendTo(this.$element()),i=[];this.option("_showClock")&&i.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),i.push({ratio:0,shrink:0,baseSize:50,template:this._renderField.bind(this)}),this._createComponent(e,l.default,{height:"100%",width:"100%",direction:"col",items:i})},_renderClock:function(e,i,o){this._$hourArrow=(0,t.default)("<div>").addClass(x),this._$minuteArrow=(0,t.default)("<div>").addClass(V);var r=(0,t.default)(o);r.addClass(v).append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",r)},_updateClock:function(){var e=this._getValue(),t=e.getHours()/12*360+e.getMinutes()/60*30,i=e.getMinutes()/60*360;H(this._$hourArrow,t,this.option("_arrowOffset")),H(this._$minuteArrow,i,this.option("_arrowOffset"))},_getBoxItems:function(e){var i=this,o=[{ratio:0,shrink:0,baseSize:"auto",template:function(){return i._hourBox.$element()}},{ratio:0,shrink:0,baseSize:"auto",template:(0,t.default)("<div>").addClass(w).text((0,c.getTimeSeparator)())},{ratio:0,shrink:0,baseSize:"auto",template:function(){return i._minuteBox.$element()}}];return e&&o.push({ratio:0,shrink:0,baseSize:"auto",template:function(){return i._format12.$element()}}),o},_renderField:function(){var e=!this.option("use24HourFormat");return this._createHourBox(),this._createMinuteBox(),e&&this._createFormat12Box(),this._createComponent((0,t.default)("<div>").addClass(g),l.default,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(e)}).$element()},_attachKeyboardProcessorToEditor:function(e){var t=e._keyboardProcessor;t&&t.attachChildProcessor().reinitialize(this._keyboardHandler,this)},_createHourBox:function(){var e=this._hourBox=this._createComponent((0,t.default)("<div>"),a.default,(0,d.extend)({min:-1,max:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this)},this._getNumberBoxConfig()));e.setAria("label","hours"),this._attachKeyboardProcessorToEditor(e)},_isPM:function(){return!this.option("use24HourFormat")&&1===this._format12.option("value")},_onHourBoxValueChanged:function(e){var t=this._getValue(),i=new Date(t),o=this._convertMaxHourToMin(e.value);this._isPM()&&(o+=12),i.setHours(o),(0,m.normalizeTime)(i),this.option("value",i)},_convertMaxHourToMin:function(e){var t=this.option("use24HourFormat")?24:12;return(t+e)%t},_createMinuteBox:function(){var e=this,i=this._minuteBox=this._createComponent((0,t.default)("<div>"),a.default,(0,d.extend)({min:-1,max:60,value:this._getValue().getMinutes(),onValueChanged:function(t){var i=(60+t.value)%60;t.component.option("value",i);var o=new Date(e._getValue());o.setMinutes(i),(0,m.normalizeTime)(o),e.option("value",o)}},this._getNumberBoxConfig()));i.setAria("label","minutes"),this._attachKeyboardProcessorToEditor(i)},_createFormat12Box:function(){var e=this,i=(0,c.getPeriodNames)(),o=this._format12=this._createComponent((0,t.default)("<div>").addClass(C),s.default,{items:[{value:b,text:i[0]},{value:B,text:i[1]}],valueExpr:"value",displayExpr:"text",onValueChanged:function(t){var i=t.value,o=e._getValue().getHours(),r=new Date(e._getValue()),a=(o+12*i)%24;r.setHours(a),e.option("value",r)},value:this._getValue().getHours()>=12?B:b,stylingMode:this.option("stylingMode")});this._attachKeyboardProcessorToEditor(o),o.setAria("label","type")},_refreshFormat12:function(){if(!this.option("use24HourFormat")){var e=this._getValue().getHours()>=12?B:b;this._silentEditorValueUpdate(this._format12,e)}},_silentEditorValueUpdate:function(e,t){e&&(e._suppressValueChangeAction(),e.option("value",t),e._resumeValueChangeAction())},_getNumberBoxConfig:function(){return{showSpinButtons:!0,displayValueFormatter:function(e){return(e<10?"0":"")+e},stylingMode:this.option("stylingMode")}},_normalizeHours:function(e){return this.option("use24HourFormat")?e:e%12||12},_updateField:function(){var e=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,e),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()},_updateTime:function(){this.option("_showClock")&&this._updateClock(),this._updateField()},_visibilityChanged:function(e){e&&this._updateTime()},_optionChanged:function(e){switch(e.name){case"value":this._updateTime(),this.callBase(e);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:this.callBase(e)}}});(0,_.default)("dxTimeView",M),module.exports=M;
},{"../../core/renderer":"qxFQ","../editor/editor":"IJZF","../number_box":"n0cg","../select_box":"hndn","../box":"LXK0","../../core/utils/extend":"ac8T","../../core/component_registrator":"g3fO","../../localization/date":"F0Sb","./ui.date_utils":"P6ZX"}],"EvMV":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../core/utils/window").getWindow(),i=require("./ui.date_box.strategy.calendar"),n=require("./ui.time_view"),a=require("../../localization/date"),s=require("../../core/utils/extend").extend,o=require("../box"),r=require("./ui.date_utils"),u=573,h="dx-datebox-adaptivity-mode",l=i.inherit({NAME:"CalendarWithTime",getDefaultOptions:function(){return s(this.callBase(),{applyValueMode:"useButtons",buttonsLocation:"bottom after",showPopupTitle:!1})},getDisplayFormat:function(e){return e||"shortdateshorttime"},_is24HourFormat:function(){return a.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent(e("<div>"),n,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")}),this._timeView.registerKeyHandler("escape",this._escapeHandler.bind(this))},renderOpenedState:function(){this.callBase();var e=this._getPopup();e&&e._wrapper().toggleClass(h,this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout(function(){this._getPopup()&&this._getPopup().repaint()}.bind(this),0)},isAdaptivityChanged:function(){var e=this._isShrinkView(),t=this._currentAdaptiveMode;return e!==t?(this._currentAdaptiveMode=e,void 0!==t):this.callBase()},_updateValue:function(e){var t=this.dateBoxValue();t||e||(t=new Date,r.normalizeTime(t)),this.callBase(),this._timeView&&(t&&this._timeView.option("value",t),this._timeView.option("use24HourFormat",this._is24HourFormat()))},_isSmallScreen:function(){return e(t).width()<=u},_isShrinkView:function(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()},_getBoxItems:function(){var e=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||e.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),e},renderPopupContent:function(){this.callBase(),this._currentAdaptiveMode=this._isShrinkView();var t=this._getPopup().$content();this._box=this.dateBox._createComponent(e("<div>").appendTo(t),o,{direction:"row",crossAlign:"start",items:this._getBoxItems(),itemTemplate:function(t){var i=e("<div>");switch(t.name){case"calendar":i.append(this._widget.$element()),this._isShrinkView()&&i.append(this._timeView.$element());break;case"time":i.append(this._timeView.$element())}return i}.bind(this)}),this._attachTabHandler()},popupConfig:function(e){var t=this.callBase(e);return s(t,{onShowing:function(){if("fallback"===this._box.option("_layoutStrategy")){var e=this._getPopup().$content().find(".dx-timeview-clock").css("minWidth");this._timeView.$element().css("maxWidth",e)}}.bind(this)})},getFirstPopupElement:function(){return this._timeView._hourBox.$element().find("input")},_attachTabHandler:function(){var e=this.dateBox;this._timeView._hourBox.registerKeyHandler("tab",function(t){t.shiftKey&&(t.preventDefault(),e.focus())})},_preventFocusOnPopup:function(t){e(t.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},getValue:function(){var e=this._widget.option("value"),t=this._timeView.option("value");return(e=e?new Date(e):new Date).setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e},dispose:function(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}});module.exports=l;
},{"../../core/renderer":"qxFQ","../../core/utils/window":"NXH3","./ui.date_box.strategy.calendar":"kY8c","./ui.time_view":"Ha5F","../../localization/date":"F0Sb","../../core/utils/extend":"ac8T","../box":"LXK0","./ui.date_utils":"P6ZX"}],"zdbp":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=require("../../core/utils/window").getWindow(),i=require("../list"),n=require("./ui.date_box.strategy"),s=require("../../core/utils/common").noop,o=require("../../core/utils/common").ensureDefined,a=require("../../core/utils/type").isDate,r=require("../../core/utils/extend").extend,u=require("./ui.date_utils"),d=require("../../localization/date"),h="date",l={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)},c=n.inherit({NAME:"List",supportedKeys:function(){return{tab:function(){this.option("opened")&&this.close()},space:s,home:s,end:s}},getDefaultOptions:function(){return r(this.callBase(),{applyValueMode:"instantly"})},getDisplayFormat:function(t){return t||"shorttime"},popupConfig:function(t){return r(t,{width:this._getPopupWidth()})},useCurrentDateByDefault:function(){return!0},getDefaultDate:function(){return new Date(null)},_getPopupWidth:function(){return this.dateBox.$element().outerWidth()},popupShowingHandler:function(){this._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return i},_getWidgetOptions:function(){var t=this.dateBox._keyboardProcessor;return{_keyboardProcessor:t?t.attachChildProcessor():null,itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}},_refreshActiveDescendant:function(t){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",t.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())},dispose:function(){this.callBase(),clearTimeout(this._asyncScrollTimeout)},_updateValue:function(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())},_setSelectedItemsByValue:function(){var t=this.dateBoxValue(),e=this._getDateIndex(t);-1===e?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",e)},_scrollToSelectedItem:function(){this._widget.scrollToItem(this._widget.option("selectedIndex"))},_getDateIndex:function(t){for(var e=-1,i=0,n=this._widgetItems.length;i<n;i++)if(this._areDatesEqual(t,this._widgetItems[i])){e=i;break}return e},_areDatesEqual:function(t,e){return a(t)&&a(e)&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()},_getTimeListItems:function(){var t=this.dateBox.dateOption("min")||this._getBoundaryDate("min"),e=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),i=this.dateBox.dateOption("value")||null,n=e-t,s=t.getMinutes()%this.dateBox.option("interval");return n<0?[]:(n>u.ONE_DAY&&(n=u.ONE_DAY),i-t<u.ONE_DAY?this._getRangeItems(t,new Date(t),n):((t=this._getBoundaryDate("min")).setMinutes(s),i&&Math.abs(i-e)<u.ONE_DAY&&(n=(60*e.getHours()+Math.abs(e.getMinutes()-s))*u.ONE_MINUTE),this._getRangeItems(t,new Date(t),n)))},_getRangeItems:function(t,e,i){for(var n=[],s=this.dateBox.option("interval");e-t<i;)n.push(new Date(e)),e.setMinutes(e.getMinutes()+s);return n},_getBoundaryDate:function(t){var e=l[t],i=new Date(o(this.dateBox.dateOption("value"),0));return new Date(i.getFullYear(),i.getMonth(),i.getDate(),e.getHours(),e.getMinutes())},_timeListItemTemplate:function(t){var e=this.dateBox.option("displayFormat");return d.format(t,this.getDisplayFormat(e))},_listItemClickHandler:function(t){this.dateBox.option("opened",!1);var e=this.dateBox.option("value"),i=t.itemData,n=i.getHours(),s=i.getMinutes(),o=i.getSeconds(),a=i.getFullYear(),r=i.getMonth(),u=i.getDate();e?((e=new Date(e)).setHours(n),e.setMinutes(s),e.setSeconds(o),e.setFullYear(a),e.setMonth(r),e.setDate(u)):e=new Date(a,r,u,n,s,0,0),this.dateBoxValue(e)},attachKeyboardEvents:function(t){var e=t.attachChildProcessor();this._widget&&this._widget.option("_keyboardProcessor",e)},_dimensionChanged:function(){this._getPopup()&&this._updatePopupDimensions()},_updatePopupDimensions:function(){this._updatePopupWidth(),this._updatePopupHeight()},_updatePopupWidth:function(){this.dateBox._setPopupOption("width",this._getPopupWidth())},_updatePopupHeight:function(){this.dateBox._setPopupOption("height","auto");var i=this._widget.$element().outerHeight(),n=.45*t(e).height();this.dateBox._setPopupOption("height",Math.min(i,n)),this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()},getParsedText:function(t,e){var i=this.callBase(t,e);return i&&(i=u.mergeDates(i,new Date(null),h)),i}});module.exports=c;
},{"../../core/renderer":"qxFQ","../../core/utils/window":"NXH3","../list":"fgGv","./ui.date_box.strategy":"FgI6","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","./ui.date_utils":"P6ZX","../../localization/date":"F0Sb"}],"DCDN":[function(require,module,exports) {
"use strict";var t=require("../../core/utils/window"),e=t.getWindow(),i=require("../../core/component_registrator"),a=require("../../core/utils/type"),s=require("../../core/utils/dom"),n=require("../../core/utils/iterator").each,r=require("../../core/utils/version").compare,o=require("../../core/utils/extend").extend,l=require("../../core/utils/support"),d=require("../../core/devices"),p=require("../../core/config"),h=require("../../core/utils/date"),u=require("./ui.date_utils"),c=require("../../core/utils/date_serialization"),_=require("../drop_down_editor/ui.drop_down_editor"),g=require("../../localization/date"),m=require("../../localization/message"),f="dx-datebox",y="dx-auto-width",v="dx-show-invalid-badge",C="dx-clear-button-area",D="dx-datebox-wrapper",B={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},V={date:"date",datetime:"datetime",time:"time"},T={calendar:"Calendar",dateView:"DateView",native:"Native",calendarWithTime:"CalendarWithTime",list:"List"},x={Calendar:require("./ui.date_box.strategy.calendar"),DateView:require("./ui.date_box.strategy.date_view"),Native:require("./ui.date_box.strategy.native"),CalendarWithTime:require("./ui.date_box.strategy.calendar_with_time"),List:require("./ui.date_box.strategy.list")},O=_.inherit({_supportedKeys:function(){return o(this.callBase(),this._strategy.supportedKeys())},_setDeprecatedOptions:function(){this.callBase(),o(this._deprecatedOptions,{maxZoomLevel:{since:"18.1",alias:"calendarOptions.maxZoomLevel"},minZoomLevel:{since:"18.1",alias:"calendarOptions.minZoomLevel"}})},_renderButtonContainers:function(){this.callBase.apply(this,arguments),this._strategy.customizeButtons()},_getDefaultOptions:function(){return o(this.callBase(),{type:"date",showAnalogClock:!0,value:null,dateSerializationFormat:void 0,min:void 0,max:void 0,displayFormat:null,interval:30,disabledDates:null,maxZoomLevel:"month",minZoomLevel:"century",pickerType:B.calendar,invalidDateMessage:m.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:m.format("validation-range"),applyButtonText:m.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{showPopupTitle:!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device:function(){var t=d.real().platform;return"ios"===t||"android"===t},options:{pickerType:B.native}},{device:function(t){var e=d.real(),i=e.platform,a=e.version;return"generic"===i&&"desktop"!==t.deviceType||"android"===i&&r(a,[4,4])<0},options:{pickerType:B.rollers}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])},_initOptions:function(t){this._userOptions=o({},t),this.callBase(t),this._updatePickerOptions()},_updatePickerOptions:function(){var t=this.option("pickerType"),e=this.option("type");t!==B.list||e!==V.datetime&&e!==V.date||(t=B.calendar),e===V.time&&t===B.calendar&&(t=B.list),this.option("showDropDownButton","generic"!==d.real().platform||t!==B.native),this._pickerType=t},_init:function(){this._initStrategy(),this.option(o({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this._skipCustomValidation=!1,this.callBase()},_toLowerCaseFirstLetter:function(t){return t.charAt(0).toLowerCase()+t.substr(1)},_initStrategy:function(){var t=this._getStrategyName(this._getFormatType()),e=x[t];this._strategy&&this._strategy.NAME===t||(this._strategy=new e(this))},_getFormatType:function(){var t=this.option("type"),e=/h|m|s/g.test(t),i="";return/d|M|Y/g.test(t)&&(i+=V.date),e&&(i+=V.time),i},_getStrategyName:function(t){var e=this._pickerType;return e===B.rollers?T.dateView:e===B.native?T.native:t===V.date?T.calendar:t===V.datetime?T.calendarWithTime:T.list},_initMarkup:function(){this.$element().addClass(f),this.callBase(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())},_render:function(){this.callBase(),this._formatValidationIcon()},_renderDimensions:function(){this.callBase(),this.$element().toggleClass(y,!this.option("width"))},_refreshFormatClass:function(){var t=this.$element();n(V,function(e,i){t.removeClass(f+"-"+i)}),t.addClass(f+"-"+this.option("type"))},_refreshPickerTypeClass:function(){var t=this.$element();n(B,function(e,i){t.removeClass(f+"-"+i)}),t.addClass(f+"-"+this._pickerType)},_formatValidationIcon:function(){if(t.hasWindow()){var i=this._input().get(0),a=this.option("rtlEnabled"),s=this._getClearButtonWidth(),n=this._getLongestElementDimensions(),r=parseFloat(e.getComputedStyle(i).width)-s,o=n.width>r,l=i.style;this.$element().toggleClass(v,!o),o?(void 0===this._storedPadding&&(this._storedPadding=a?n.leftPadding:n.rightPadding),a?l.paddingLeft=0:l.paddingRight=0):a?l.paddingLeft=this._storedPadding+"px":l.paddingRight=this._storedPadding+"px"}},_getClearButtonWidth:function(){var t=0;if(this._isClearButtonVisible()&&""===this._input().val()){var i=this.$element().find("."+C).get(0);t=parseFloat(e.getComputedStyle(i).width)}return t},_getLongestElementDimensions:function(){var t=this._strategy.getDisplayFormat(this.option("displayFormat")),i=g.format(u.getLongestDate(t,g.getMonthNames(),g.getDayNames()),t),a=this._input(),n=a.get(0),r=s.createTextElementHiddenCopy(a,i),o=void 0!==this._storedPadding?this._storedPadding:0;r.appendTo(this.$element());var l=parseFloat(e.getComputedStyle(r.get(0)).width),d=parseFloat(e.getComputedStyle(n).paddingRight),p=parseFloat(e.getComputedStyle(n).paddingLeft),h=l+p+d+o;return r.remove(),{width:h,leftPadding:p,rightPadding:d}},_attachChildKeyboardEvents:function(){this._strategy.attachKeyboardEvents(this._keyboardProcessor)},_renderPopup:function(){this.callBase(),this._popup._wrapper().addClass(D),this._renderPopupWrapper()},_popupConfig:function(){var t=this.callBase();return o(this._strategy.popupConfig(t),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var t=this.$element(),e=o({},V,B);n(e,function(e,i){t.removeClass(D+"-"+i)}.bind(this)),this._popup._wrapper().addClass(D+"-"+this.option("type")).addClass(D+"-"+this._pickerType)}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_getFirstPopupElement:function(){return this._strategy.getFirstPopupElement()||this.callBase()},_getLastPopupElement:function(){return this._strategy.getLastPopupElement()||this.callBase()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupHiddenHandler:function(){this.callBase(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(t){t&&this._formatValidationIcon()},_clearValueHandler:function(t){this.option("text",""),this.callBase(t)},_readOnlyPropValue:function(){if(this._pickerType===B.rollers)return!0;var t=d.real().platform;return this._isNativeType()&&("ios"===t||"android"===t)?this.option("readOnly"):this.callBase()},_isClearButtonVisible:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var t=this.dateOption("value");return this.option("text",this._getDisplayedText(t)),this._strategy.renderValue(),this.callBase()},_setSubmitValue:function(){var t=this.dateOption("value"),e=this.option("dateSerializationFormat"),i=u.SUBMIT_FORMATS_MAP[this.option("type")],a=e?c.serializeDate(t,e):u.toStandardDateFormat(t,i);this._getSubmitElement().val(a)},_getDisplayedText:function(t){var e,i=this.option("mode");if("text"===i){var a=this._strategy.getDisplayFormat(this.option("displayFormat"));e=g.format(t,a)}else{var s=this._getFormatByMode(i);e=s?g.format(t,s):u.toStandardDateFormat(t,i)}return e},_getFormatByMode:function(t){return l.inputType(t)?null:u.FORMATS_MAP[t]},_valueChangeEventHandler:function(t){var e=this.option("text"),i=this.dateOption("value");if(e!==this._getDisplayedText(i)){var a=this._getParsedDate(e),s=i||this._getDateByDefault(),n=this.option("type"),r=u.mergeDates(s,a,n),o=a&&"time"===n?r:a;if(this._applyInternalValidation(o)){var l=this._getDisplayedText(r);s&&r&&s.getTime()===r.getTime()&&l!==e?this._renderValue():this.dateValue(r,t)}this._applyCustomValidation(r)}else this._validateValue(i)},_getDateByDefault:function(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()},_getParsedDate:function(t){var e=this._strategy.getDisplayFormat(this.option("displayFormat")),i=this._strategy.getParsedText(t,e);return a.isDefined(i)?i:void 0},_validateValue:function(t){var e=this._applyInternalValidation(t),i=!!this._skipCustomValidation||this._applyCustomValidation(t);return this._skipCustomValidation=!1,e&&i},_applyInternalValidation:function(t){var e=!!this.option("text")&&null!==t,i=!!t&&a.isDate(t)&&!isNaN(t.getTime()),s=i&&h.dateInRange(t,this.dateOption("min"),this.dateOption("max"),this.option("type")),n=!e&&!t||s,r="";return i?s||(r=this.option("dateOutOfRangeMessage")):r=this.option("invalidDateMessage"),this.option({isValid:n,validationError:n?null:{editorSpecific:!0,message:r}}),n},_applyCustomValidation:function(t){return this.validationRequest.fire({editor:this,value:t}),this.option("isValid")},_isValueChanged:function(t){var e=this.dateOption("value");return(e&&e.getTime())!==(t&&t.getTime())},_isTextChanged:function(t){return this.option("text")!==(t&&this._getDisplayedText(t)||"")},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy(),this._strategy.renderOpenedState()},_getPopupTitle:function(){var t=this.option("placeholder");if(t)return t;var e=this.option("type");return e===V.time?m.format("dxDateBox-simulatedDataPickerTitleTime"):e===V.date||e===V.datetime?m.format("dxDateBox-simulatedDataPickerTitleDate"):""},_renderPlaceholder:function(){this._popup&&this._popup.option("title",this._getPopupTitle()),this.callBase()},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(t){var e=this._strategy.getValue();this._applyInternalValidation(e)&&this.dateValue(e,t.event),this.callBase()},_dispose:function(){this._strategy&&this._strategy.dispose(),this.callBase()},_isNativeType:function(){return this._pickerType===B.native},_optionChanged:function(t){switch(t.name){case"showClearButton":case"buttons":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions({pickerType:t.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions({format:t.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":this._renderPlaceholder();break;case"min":case"max":this.option("isValid")?this._applyInternalValidation(this.dateOption("value")):this._validateValue(this.dateOption("value")),this._invalidate();break;case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":case"minZoomLevel":case"maxZoomLevel":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"formatWidthCalculator":break;case"closeOnValueChange":var e=t.value?"instantly":"useButtons";this.option("applyValueMode",e);break;case"applyValueMode":this.option("closeOnValueChange","instantly"===t.value),this.callBase.apply(this,arguments);break;case"text":this._strategy.textChangedHandler(t.value),this.callBase.apply(this,arguments);break;case"isValid":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"showDropDownButton":this._formatValidationIcon();break;case"readOnly":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":break;default:this.callBase.apply(this,arguments)}},_getSerializationFormat:function(){var t=this.option("value");return this.option("dateSerializationFormat")&&p().forceIsoDateParsing?this.option("dateSerializationFormat"):a.isNumeric(t)?"number":a.isString(t)?c.getDateSerializationFormat(t):void 0},_updateValue:function(t){this.callBase(),this._validateValue(t||this.dateOption("value"))},dateValue:function(t,e){var i=this._isValueChanged(t);return i&&e&&this._saveValueChangeEvent(e),!i&&this._isTextChanged(t)&&this._updateValue(t),this.dateOption("value",t)},dateOption:function(t,e){if(1===arguments.length)return c.deserializeDate(this.option(t));var i=this._getSerializationFormat();this.option(t,c.serializeDate(e,i))},reset:function(){var t=this._getDefaultOptions();this._skipCustomValidation=t.value===this.dateOption("value"),this.callBase(),this._updateValue(this.dateOption("value"))}});i("dxDateBox",O),module.exports=O;
},{"../../core/utils/window":"NXH3","../../core/component_registrator":"g3fO","../../core/utils/type":"Mw4w","../../core/utils/dom":"vDwZ","../../core/utils/iterator":"FHcO","../../core/utils/version":"Dkvf","../../core/utils/extend":"ac8T","../../core/utils/support":"eZC7","../../core/devices":"LpzF","../../core/config":"iRjc","../../core/utils/date":"IcD0","./ui.date_utils":"P6ZX","../../core/utils/date_serialization":"kANi","../drop_down_editor/ui.drop_down_editor":"PZSO","../../localization/date":"F0Sb","../../localization/message":"Njcj","./ui.date_box.strategy.calendar":"kY8c","./ui.date_box.strategy.date_view":"C2Q4","./ui.date_box.strategy.native":"cba3","./ui.date_box.strategy.calendar_with_time":"EvMV","./ui.date_box.strategy.list":"zdbp"}],"kXZs":[function(require,module,exports) {
"use strict";var t=require("../../events/utils"),e=require("../../core/utils/type"),a=require("../../core/utils/dom"),i=require("../../core/utils/extend"),s=require("../../core/utils/math"),r=require("../../events/core/events_engine"),n=f(r),l=require("./ui.date_box.mask.parts"),h=require("../../localization/date"),u=f(h),_=require("../../localization/ldml/date.parser"),c=require("../../localization/ldml/date.format"),o=require("./ui.date_box.base"),d=f(o);function f(t){return t&&t.__esModule?t:{default:t}}var v="dateBoxMask",p=1,P=-1,m=d.default.inherit({_supportedKeys:function(e){var a=this,s=this.callBase(e),r=function(e,i){return a._shouldUseOriginalHandler(e)?function(e){var i=s[(0,t.normalizeKeyName)(e)];return i&&i.apply(a,[e])}.apply(a,[e]):i.apply(a,[e])};return(0,i.extend)({},s,{del:function(t){return r(t,function(t){a._revertPart(p),a._isAllSelected()||t.preventDefault()})},backspace:function(t){return r(t,function(t){a._revertPart(P),a._isAllSelected()||t.preventDefault()})},home:function(t){return r(t,function(t){a._selectFirstPart(),t.preventDefault()})},end:function(t){return r(t,function(t){a._selectLastPart(),t.preventDefault()})},escape:function(t){return r(t,function(t){a._revertChanges(t)})},enter:function(t){return r(t,function(t){a._enterHandler(t)})},leftArrow:function(t){return r(t,function(t){a._selectNextPart(P),t.preventDefault()})},rightArrow:function(t){return r(t,function(t){a._selectNextPart(p),t.preventDefault()})},upArrow:function(t){return r(t,function(t){a._upDownArrowHandler(p),t.preventDefault()})},downArrow:function(t){return r(t,function(t){a._upDownArrowHandler(P),t.preventDefault()})}})},_shouldUseOriginalHandler:function(e){var a=this.option("opened")&&e&&-1===["backspace","del"].indexOf((0,t.normalizeKeyName)(e));return!this._useMaskBehavior()||a||e&&e.altKey},_upDownArrowHandler:function(t){this._setNewDateIfEmpty();var e=this._getActivePartValue(this._initialMaskValue),a=this._getActivePartValue()-e;this._loadMaskValue(this._initialMaskValue),this._partIncrease(a+t,!0)},_getDefaultOptions:function(){return(0,i.extend)(this.callBase(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0),advanceCaret:!0})},_isSingleCharKey:function(t){var e=t.originalEvent.key;return"string"==typeof e&&1===e.length&&!t.ctrl&&!t.alt},_keyboardHandler:function(t){var e=t.originalEvent.key,a=this.callBase(t);return this._useMaskBehavior()&&this._isSingleCharKey(t)?(this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(e))?this._searchString(e):this._searchNumber(e),t.originalEvent.preventDefault(),a):a},_isAllSelected:function(){var t=this._caret();return t.end-t.start===this.option("text").length},_getFormatPattern:function(){if(this._formatPattern)return this._formatPattern;var t=this._strategy.getDisplayFormat(this.option("displayFormat")),a=(0,e.isString)(t)&&!u.default._getPatternByFormat(t);return this._formatPattern=a?t:(0,c.getFormat)(function(e){return u.default.format(e,t)}),this._formatPattern},_setNewDateIfEmpty:function(){if(!this._maskValue){var t="time"===this.option("type")?new Date(null):new Date;this._maskValue=t,this._initialMaskValue=t,this._renderDateParts()}},_searchNumber:function(t){var e=this._getActivePartLimits().max,a=String(e).length,i=this._getActivePartProp("pattern").length;if(this._searchValue=(this._searchValue+t).substr(-a),isNaN(this._searchValue)&&(this._searchValue=t),this._setActivePartValue(this._searchValue),this.option("advanceCaret")){var s=1===i?a:Math.min(i,a),r=this._searchValue.length===s,n=parseInt(this._searchValue+"0")>e;(r||n)&&this._selectNextPart(p)}},_searchString:function(t){if(isNaN(parseInt(this._getActivePartProp("text")))){for(var e=this._getActivePartProp("limits")(this._maskValue),a=this._searchValue+t.toLowerCase(),i=e.max-e.min,s=0;s<=i;s++)if(this._loadMaskValue(this._initialMaskValue),this._partIncrease(s+1),0===this._getActivePartProp("text").toLowerCase().indexOf(a))return void(this._searchValue=a);this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(t))}},_clearSearchValue:function(){this._searchValue=""},_revertPart:function(t){if(!this._isAllSelected()){var e=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(e),this._selectNextPart(t)}this._clearSearchValue()},_useMaskBehavior:function(){return this.option("useMaskBehavior")&&"text"===this.option("mode")},_initMaskState:function(){this._activePartIndex=0,this._formatPattern=null,this._regExpInfo=(0,_.getRegExpInfo)(this._getFormatPattern(),u.default),this._loadMaskValue()},_renderMask:function(){this.callBase(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())},_renderDateParts:function(){if(this._useMaskBehavior()){var t=this.option("text")||this._getDisplayedText(this._maskValue);t&&(this._dateParts=(0,l.renderDateParts)(t,this._regExpInfo),this._selectNextPart())}},_detachMaskEvents:function(){n.default.off(this._input(),"."+v)},_attachMaskEvents:function(){var e=this;n.default.on(this._input(),(0,t.addNamespace)("dxclick",v),this._maskClickHandler.bind(this)),n.default.on(this._input(),(0,t.addNamespace)("paste",v),this._maskPasteHandler.bind(this)),n.default.on(this._input(),(0,t.addNamespace)("drop",v),function(){e._renderDisplayText(e._getDisplayedText(e._maskValue)),e._selectNextPart()})},_selectLastPart:function(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(P))},_selectFirstPart:function(){this.option("text")&&(this._activePartIndex=-1,this._selectNextPart(p))},_onMouseWheel:function(t){this._useMaskBehavior()&&this._partIncrease(t.delta>0?p:P,t)},_selectNextPart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.option("text")&&!this._disposed){t&&(this._initialMaskValue=new Date(this._maskValue));var e=(0,s.fitIntoRange)(this._activePartIndex+t,0,this._dateParts.length-1);if(this._dateParts[e].isStub){if(!(0===e&&t<0||e===this._dateParts.length-1&&t>0))return void this._selectNextPart(t>=0?t+1:t-1);e=this._activePartIndex}this._activePartIndex!==e&&this._clearSearchValue(),this._activePartIndex=e,this._caret(this._getActivePartProp("caret"))}},_getRealLimitsPattern:function(){if("d"===this._getActivePartProp("pattern")[0])return"dM"},_getActivePartLimits:function(t){return this._getActivePartProp("limits")(this._maskValue,t&&this._getRealLimitsPattern())},_getActivePartValue:function(t){t=t||this._maskValue;var a=this._getActivePartProp("getter");return(0,e.isFunction)(a)?a(t):t[a]()},_addLeadingZeroes:function(t){var e=this._searchValue.match(/^0+/),a=this._getActivePartLimits(),i=String(a.max).length;return((e&&e[0]||"")+String(t)).substr(-i)},_setActivePartValue:function(t,a){a=a||this._maskValue;var i=this._getActivePartProp("setter"),r=this._getActivePartLimits();t=(0,s.inRange)(t,r.min,r.max)?t:t%10,t=this._addLeadingZeroes((0,s.fitIntoRange)(t,r.min,r.max)),(0,e.isFunction)(i)?i(a,t):a[i](t),this._renderDisplayText(this._getDisplayedText(a)),this._renderDateParts()},_getActivePartProp:function(t){if(this._dateParts&&this._dateParts[this._activePartIndex])return this._dateParts[this._activePartIndex][t]},_loadMaskValue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dateOption("value");this._maskValue=t&&new Date(t),this._initialMaskValue=t&&new Date(t)},_saveMaskValue:function(){var t=this._maskValue&&new Date(this._maskValue);this._initialMaskValue=new Date(t),this.dateOption("value",t)},_revertChanges:function(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()},_renderDisplayText:function(t){this.callBase(t),this._useMaskBehavior()&&this.option("text",t)},_partIncrease:function(t,e){this._setNewDateIfEmpty();var a=this._getActivePartLimits(e),i=a.max,s=a.min,r=i-s;1===r&&r++;var n=t+this._getActivePartValue();n>i?n=this._applyLimits(n,{limitBase:s,limitClosest:i,limitDelta:r}):n<s&&(n=this._applyLimits(n,{limitBase:i,limitClosest:s,limitDelta:r})),this._setActivePartValue(n)},_applyLimits:function(t,e){var a=e.limitBase,i=e.limitClosest,r=(t-i)%e.limitDelta;return r?a+r-1*(0,s.sign)(r):i},_maskClickHandler:function(){this.option("text")&&(this._activePartIndex=(0,l.getDatePartIndexByPosition)(this._dateParts,this._caret().start),this._caret(this._getActivePartProp("caret")))},_maskPasteHandler:function(t){var e=this._replaceSelectedText(this.option("text"),this._caret(),(0,a.clipboardText)(t)),i=u.default.parse(e,this._getFormatPattern());i&&(this._maskValue=i,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),t.preventDefault()},_isValueDirty:function(){var t=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(t&&t.getTime())},_fireChangeEvent:function(){this._clearSearchValue(),this._isValueDirty()&&n.default.trigger(this._input(),"change")},_enterHandler:function(t){this._fireChangeEvent(),this._selectNextPart(p),t.preventDefault()},_focusOutHandler:function(t){this.callBase(t),this._useMaskBehavior()&&!t.isDefaultPrevented()&&(this._fireChangeEvent(),this._selectFirstPart(t))},_valueChangeEventHandler:function(t){this._useMaskBehavior()?(this._saveValueChangeEvent(t),this.option("text")||(this._maskValue=null),this._saveMaskValue()):this.callBase(t)},_optionChanged:function(t){switch(t.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":this.callBase(t),this._renderMask();break;case"value":this._loadMaskValue(),this.callBase(t),this._renderDateParts();break;case"advanceCaret":case"emptyDateValue":break;default:this.callBase(t)}},_clearMaskState:function(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue},reset:function(){this.callBase(),this._clearMaskState(),this._activePartIndex=0},_clean:function(){this.callBase(),this._detachMaskEvents(),this._clearMaskState()}});module.exports=m;
},{"../../events/utils":"cNvJ","../../core/utils/type":"Mw4w","../../core/utils/dom":"vDwZ","../../core/utils/extend":"ac8T","../../core/utils/math":"Ntiw","../../events/core/events_engine":"oNrb","./ui.date_box.mask.parts":"hiuY","../../localization/date":"F0Sb","../../localization/ldml/date.parser":"CEC5","../../localization/ldml/date.format":"IYxP","./ui.date_box.base":"DCDN"}],"qgtD":[function(require,module,exports) {
"use strict";var e=require("../../core/component_registrator"),r=require("./ui.date_box.mask");e("dxDateBox",r),module.exports=r;
},{"../../core/component_registrator":"g3fO","./ui.date_box.mask":"kXZs"}],"EXMI":[function(require,module,exports) {
"use strict";module.exports=require("./date_box/ui.date_box"),module.exports.default=module.exports;
},{"./date_box/ui.date_box":"qgtD"}],"wkC1":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../core/utils/common").noop,a=require("../../events/core/events_engine"),r=require("../../core/utils/type"),o=require("../../core/utils/variable_wrapper").isWrapped,n=require("../../core/utils/data").compileGetter,i=require("../../core/utils/browser"),u=require("../../core/utils/extend").extend,l=require("../../core/devices"),d=require("../../core/utils/dom").getPublicElement,s=require("../../data/data_source/data_source").normalizeDataSourceOptions,c=require("../../events/utils").normalizeKeyName;require("../text_box"),require("../number_box"),require("../check_box"),require("../select_box"),require("../date_box");var p="checkbox-size",x="dx-cell-focus-disabled",v="dx-editor-inline-block",m=function(){var m=function(e,t){return u(e,{readOnly:t.readOnly,placeholder:t.placeholder,inputAttr:{id:t.id},tabIndex:t.tabIndex},t.editorOptions)},f=function(){return i.msie||i.mozilla||l.real().ios},h=function(t){var o={},n=f(),i=t.sharedData||o;return m({placeholder:t.placeholder,width:t.width,value:t.value,onValueChanged:function(e){var a="filterRow"===t.parentType||"searchPanel"===t.parentType,n=e.event&&("input"===e.event.type||"keyup"===e.event.type),u=function(e,a){t&&t.setValue(e.value,a)};clearTimeout(o.valueChangeTimeout),n&&a?i.valueChangeTimeout=o.valueChangeTimeout=setTimeout(function(){u(e,o.valueChangeTimeout!==i.valueChangeTimeout)},r.isDefined(t.updateValueTimeout)?t.updateValueTimeout:0):u(e)},onKeyDown:function(t){n&&"enter"===c(t.event)&&a.trigger(e(t.component._input()),"change")},valueChangeEvent:"change"+("filterRow"===t.parentType?" keyup input":"")},t)},y=function(e){var t,a,i,u=e.lookup,l="filterRow"===e.parentType;if(u){t=n(u.displayExpr),a=u.dataSource,r.isFunction(a)&&!o(a)&&(a=a(e.row||{})),(r.isObject(a)||Array.isArray(a))&&(a=s(a),l&&(i=a.postProcess,a.postProcess=function(e){return 0===this.pageIndex()&&(e=e.slice(0)).unshift(null),i?i.call(this,e):e}));var d=Boolean(u.allowClearing&&!l);e.editorName="dxSelectBox",e.editorOptions=m({searchEnabled:!0,value:e.value,valueExpr:e.lookup.valueExpr,searchExpr:e.lookup.searchExpr||e.lookup.displayExpr,allowClearing:d,showClearButton:d,displayExpr:function(a){return null===a?e.showAllText:t(a)},dataSource:a,onValueChanged:function(t){var a=[t.value];!l&&a.push(t.component.option("text")),e.setValue.apply(this,a)}},e)}},T=function(e){e.editorName="dxCheckBox",e.editorOptions=m({value:r.isDefined(e.value)?e.value:void 0,hoverStateEnabled:!e.readOnly,focusStateEnabled:!e.readOnly,activeStateEnabled:!1,onValueChanged:function(t){e.setValue&&e.setValue(t.value,t)}},e)};return{createEditor:function(a,o){var n;if(o.cancel=!1,o.editorElement=d(a),r.isDefined(o.tabIndex)||(o.tabIndex=this.option("tabIndex")),o.lookup)y(o);else switch(o.dataType){case"date":case"datetime":!function(e){e.editorName="dxDateBox",e.editorOptions=m({value:e.value,onValueChanged:function(t){e.setValue(t.value)},onKeyDown:function(e){f()&&"enter"===c(e.event)&&(e.component.blur(),e.component.focus())},displayFormat:e.format,type:e.dataType,formatWidthCalculator:null,dateSerializationFormat:null,width:"filterBuilder"===e.parentType?void 0:"auto"},e)}(o);break;case"boolean":!function(e){"filterRow"===e.parentType||"filterBuilder"===e.parentType?y(u(e,{lookup:{displayExpr:function(t){return!0===t?e.trueText||"true":!1===t?e.falseText||"false":void 0},dataSource:[!0,!1]}})):T(e)}(o);break;case"number":!function(e){var t=h(e);t.value=r.isDefined(e.value)?e.value:null,e.editorName="dxNumberBox",e.editorOptions=t}(o);break;default:!function(e){var t,a=h(e),o="searchPanel"===e.parentType;e.editorType&&"dxTextBox"!==e.editorType?a.value=e.value:a.value=(t=e.value,r.isDefined(t)?t.toString():""),a.valueChangeEvent+=o?" keyup input search":"",a.mode=a.mode||(o?"search":"text"),e.editorName="dxTextBox",e.editorOptions=a}(o)}n=o.editorName,this.executeAction("onEditorPreparing",o),o.cancel||("dataRow"===o.parentType&&o.editorType&&n===o.editorName&&(o.editorName=o.editorType),function(a,r){var o=e(r.editorElement);r.editorName&&r.editorOptions&&o[r.editorName]&&("dxCheckBox"===r.editorName&&(r.isOnForm||(o.addClass(a.addWidgetPrefix(p)),o.parent().addClass(v)),(r.command||r.editorOptions.readOnly)&&o.parent().addClass(x)),a._createComponent(o,r.editorName,r.editorOptions),"dxTextBox"===r.editorName&&o.dxTextBox("instance").registerKeyHandler("enter",t),"dxDateBox"===r.editorName&&o.dxDateBox("instance").registerKeyHandler("enter",t),"dxTextArea"===r.editorName&&o.dxTextArea("instance").registerKeyHandler("enter",function(e){"enter"!==c(e)||e.ctrlKey||e.shiftKey||e.stopPropagation()}))}(this,o),this.executeAction("onEditorPrepared",o))}}}();module.exports=m;
},{"../../core/renderer":"qxFQ","../../core/utils/common":"GcQA","../../events/core/events_engine":"oNrb","../../core/utils/type":"Mw4w","../../core/utils/variable_wrapper":"SPUa","../../core/utils/data":"YLhW","../../core/utils/browser":"nlvS","../../core/utils/extend":"ac8T","../../core/devices":"LpzF","../../core/utils/dom":"vDwZ","../../data/data_source/data_source":"SIr7","../../events/utils":"cNvJ","../text_box":"DM5G","../number_box":"n0cg","../check_box":"LByi","../select_box":"hndn","../date_box":"EXMI"}],"j5lS":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=x(e),o=require("../../core/dom_adapter"),s=x(o),i=require("../../events/core/events_engine"),r=x(i),u=require("./ui.grid_core.modules"),a=x(u),n=require("../../events/click"),d=x(n),l=require("../../events/pointer"),c=x(l),f=require("../../animation/position"),h=x(f),m=require("../../events/utils"),v=require("../../core/utils/browser"),_=x(v),g=require("../../core/utils/extend"),p=require("../shared/ui.editor_factory_mixin"),y=x(p),F=require("./ui.grid_core.utils");function x(e){return e&&e.__esModule?e:{default:e}}var C="dx-editor-inline-block",E="dx-cell-focus-disabled",O="focus-overlay",$="content",b="dx-focused",T="dx-row",q="dxDataGridEditorFactory",z=(0,m.addNamespace)([c.default.down,"focusin",d.default.name].join(" "),q),D="dx-pointer-events-target",w="dx-pointer-events-none",H="dx-hidden",I=a.default.ViewController.inherit({_getFocusedElement:function(e){var t="td[tabindex]:focus, "+(this.option("focusedRowEnabled")?"tr[tabindex]:focus":"tr[tabindex]:not(.dx-data-row):focus")+", input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus";return e.find(t)},_getFocusCellSelector:function(){return".dx-row > td"},_updateFocusCore:function(){var e,t,o=this._$focusedElement,s=this.component&&this.component.$element();s&&(o=this._getFocusedElement(s)).length&&(o.hasClass(E)||o.hasClass(T)||(t=(e=o.closest(this._getFocusCellSelector()+", ."+E)).get(0)!==o.get(0)&&e.hasClass(C),o=e),o.length&&!o.hasClass(E))?this.focus(o,t):this.loseFocus()},_updateFocus:function(e){var o=this,s=e&&e.event&&(0,t.default)(e.event.target).hasClass(o.addWidgetPrefix(O));o._isFocusOverlay=o._isFocusOverlay||s,clearTimeout(o._updateFocusTimeoutID),o._updateFocusTimeoutID=setTimeout(function(){delete o._updateFocusTimeoutID,o._isFocusOverlay||o._updateFocusCore(),o._isFocusOverlay=!1})},_updateFocusOverlaySize:function(e,t){e.hide();var o=h.default.calculate(e,(0,g.extend)({collision:"fit"},t));o.h.oversize>0&&e.outerWidth(e.outerWidth()-o.h.oversize),o.v.oversize>0&&e.outerHeight(e.outerHeight()-o.v.oversize),e.show()},callbackNames:function(){return["focused"]},focus:function(e,t){var o=this;if(void 0===e)return o._$focusedElement;e&&(e.is(o._$focusedElement)||o._$focusedElement&&o._$focusedElement.removeClass(b),o._$focusedElement=e,clearTimeout(o._focusTimeoutID),o._focusTimeoutID=setTimeout(function(){delete o._focusTimeoutID,o.renderFocusOverlay(e,t),e.addClass(b),o.focused.fire(e)}))},renderFocusOverlay:function(e,o){var s;if((0,F.isElementInCurrentGrid)(this,e))if(this._$focusOverlay||(this._$focusOverlay=(0,t.default)("<div>").addClass(this.addWidgetPrefix(O)+" "+D)),o)this._$focusOverlay.addClass(H);else if(e.length){var i=_.default.msie?"left bottom":_.default.mozilla?"right bottom":"left top",r=e.closest("."+this.addWidgetPrefix($)),u=e[0].getBoundingClientRect();this._$focusOverlay.removeClass(H).appendTo(r).outerWidth(u.right-u.left+1).outerHeight(u.bottom-u.top+1),s={precise:!0,my:i,at:i,of:e,boundary:r.length&&r},this._updateFocusOverlaySize(this._$focusOverlay,s),h.default.setup(this._$focusOverlay,s),this._$focusOverlay.css("visibility","visible")}},resize:function(){var e=this._$focusedElement;e&&this.focus(e)},loseFocus:function(){this._$focusedElement&&this._$focusedElement.removeClass(b),this._$focusedElement=null,this._$focusOverlay&&this._$focusOverlay.addClass(H)},init:function(){this.createAction("onEditorPreparing",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onEditorPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this._updateFocusHandler=this._updateFocusHandler||this.createAction(this._updateFocus.bind(this)),r.default.on(s.default.getDocument(),z,this._updateFocusHandler),this._attachContainerEventHandlers()},_attachContainerEventHandlers:function(){var e=this,t=e.component&&e.component.$element();t&&r.default.on(t,(0,m.addNamespace)("keydown",q),function(t){"tab"===(0,m.normalizeKeyName)(t)&&e._updateFocusHandler(t)})},_focusOverlayEventProxy:function(e){var o,s=(0,t.default)(e.target),i=(0,t.default)(e.currentTarget);(s.hasClass(D)||s.hasClass(w))&&!i.hasClass(H)&&(i.addClass(H),o=s.get(0).ownerDocument.elementFromPoint(e.clientX,e.clientY),(0,m.fireEvent)({originalEvent:e,target:o}),e.stopPropagation(),i.removeClass(H),e.type===d.default.name&&"INPUT"===o.tagName&&r.default.trigger((0,t.default)(o),"focus"))},dispose:function(){clearTimeout(this._focusTimeoutID),clearTimeout(this._updateFocusTimeoutID),r.default.off(s.default.getDocument(),z,this._updateFocusHandler)}}).include(y.default);module.exports={defaultOptions:function(){return{}},controllers:{editorFactory:I},extenders:{controllers:{columnsResizer:{_startResizing:function(e){this.callBase(e),this.isResizing()&&this.getController("editorFactory").loseFocus()}}}}};
},{"../../core/renderer":"qxFQ","../../core/dom_adapter":"RRDy","../../events/core/events_engine":"oNrb","./ui.grid_core.modules":"vXU0","../../events/click":"RTmy","../../events/pointer":"HDhW","../../animation/position":"cuhc","../../events/utils":"cNvJ","../../core/utils/browser":"nlvS","../../core/utils/extend":"ac8T","../shared/ui.editor_factory_mixin":"wkC1","./ui.grid_core.utils":"kk68"}],"sxRf":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),r=u(e),t=require("../grid_core/ui.grid_core.editor_factory"),i=u(t);function u(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("editorFactory",i.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.editor_factory":"j5lS"}],"Tg7l":[function(require,module,exports) {
"use strict";var e=require("../core/renderer"),t=O(e),o=require("../core/component"),n=O(o),r=require("../core/action"),i=O(r),s=require("../core/devices"),a=O(s),u=require("../core/config"),l=O(u),d=require("../core/utils/dom"),c=require("../core/utils/deferred"),p=require("../core/utils/type"),f=require("../core/utils/iterator"),m=require("../core/utils/extend"),h=require("../core/utils/window"),w=require("../events/core/events_engine"),g=require("../core/utils/view_port"),v=require("../localization/message"),b=O(v),x=require("./widget/ui.errors"),q=O(x),C=require("./popup"),y=O(C),E=require("../core/utils/common");function O(e){return e&&e.__esModule?e:{default:e}}var T=(0,h.getWindow)(),_={text:"OK",onClick:function(){return!0}},k="dx-dialog",W=k+"-wrapper",B=k+"-root",D=k+"-content",H=k+"-message",j=k+"-buttons",I=k+"-button",P="dx-button",S=n.default.inherit({ctor:function(e,t){this.callBase(t)},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{width:276}},{device:{platform:"android"},options:{lWidth:"60%",pWidth:"80%"}}])}});exports.FakeDialogComponent=S,exports.title="",exports.custom=function(e){var o=new c.Deferred,n=(new S).option();e=(0,m.extend)(n,e);var r=(0,t.default)("<div>").addClass(k).appendTo((0,g.value)()),s="messageHtml"in e;"message"in e&&q.default.log("W1013");var u=String(s?e.messageHtml:e.message),h=(0,t.default)("<div>").addClass(H).html(u),v=[],b=e.toolbarItems;b?q.default.log("W0001","DevExpress.ui.dialog","toolbarItems","16.2","Use the 'buttons' option instead"):b=e.buttons,(0,f.each)(b||[_],function(){var e=new i.default(this.onClick,{context:x});v.push({toolbar:"bottom",location:a.default.current().android?"after":"center",widget:"dxButton",options:(0,m.extend)({},this,{onClick:function(){C(e.execute.apply(e,arguments))}})})});var x=new y.default(r,(0,m.extend)({title:e.title||exports.title,showTitle:(0,E.ensureDefined)(e.showTitle,!0),dragEnabled:(0,E.ensureDefined)(e.dragEnabled,!0),height:"auto",width:function(){var o=((0,t.default)(T).height()>(0,t.default)(T).width()?"p":"l")+"Width",n=Object.prototype.hasOwnProperty.call(e,o)?e[o]:e.width;return(0,p.isFunction)(n)?n():n},showCloseButton:e.showCloseButton||!1,ignoreChildEvents:!1,onContentReady:function(e){e.component.$content().addClass(D).append(h)},onShowing:function(e){e.component.bottomToolbar().addClass(j).find("."+P).addClass(I),(0,d.resetActiveElement)()},onShown:function(e){var t=e.component.bottomToolbar().find("."+P).first();(0,w.trigger)(t,"focus")},onHiding:function(){o.reject()},toolbarItems:v,animation:{show:{type:"pop",duration:400},hide:{type:"pop",duration:400,to:{opacity:0,scale:0},from:{opacity:1,scale:1}}},rtlEnabled:(0,l.default)().rtlEnabled,boundaryOffset:{h:10,v:0}},e.popupOptions));function C(e){o.resolve(e),x.hide().done(function(){x.$element().remove()})}return x._wrapper().addClass(W),e.position&&x.option("position",e.position),x._wrapper().addClass(B),{show:function(){return x.show(),o.promise()},hide:C}},exports.alert=function(e,t,o){var n=(0,p.isPlainObject)(e)?e:{title:t,messageHtml:e,showTitle:o,dragEnabled:o};return exports.custom(n).show()},exports.confirm=function(e,t,o){var n=(0,p.isPlainObject)(e)?e:{title:t,messageHtml:e,showTitle:o,buttons:[{text:b.default.format("Yes"),onClick:function(){return!0}},{text:b.default.format("No"),onClick:function(){return!1}}],dragEnabled:o};return exports.custom(n).show()};
},{"../core/renderer":"qxFQ","../core/component":"OyO8","../core/action":"Bpfv","../core/devices":"LpzF","../core/config":"iRjc","../core/utils/dom":"vDwZ","../core/utils/deferred":"g5TB","../core/utils/type":"Mw4w","../core/utils/iterator":"FHcO","../core/utils/extend":"ac8T","../core/utils/window":"NXH3","../events/core/events_engine":"oNrb","../core/utils/view_port":"SnKV","../localization/message":"Njcj","./widget/ui.errors":"RFsS","./popup":"DU0r","../core/utils/common":"GcQA"}],"NGcK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),n=require("../../core/guid"),t=r(n),i=require("../../core/utils/iterator"),a=require("../../core/utils/extend");function r(e){return e&&e.__esModule?e:{default:e}}function u(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function n(){u(this,n),this._map={}}return e(n,[{key:"_findWidgetInstance",value:function(e){var n=void 0;return(0,i.each)(this._map,function(t,i){var a=i.widgetInstance,r=i.item;if(e(r))return n=a,!1}),n}},{key:"_findFieldByCondition",value:function(e,n){var t=void 0;return(0,i.each)(this._map,function(i,a){if(e(a))return t="guid"===n?i:a[n],!1}),t}},{key:"clear",value:function(){this._map={}}},{key:"removeItemsByItems",value:function(e){var n=this;(0,i.each)(e.getItems(),function(e){delete n._map[e]})}},{key:"add",value:function(e){var n=e.guid||new t.default;return this._map[n]=e,n}},{key:"addItemsOrExtendFrom",value:function(e){var n=this;e.each(function(e,t){n._map[e]?(n._map[e].widgetInstance=t.widgetInstance,n._map[e].$itemContainer=t.$itemContainer):n.add({item:t.item,widgetInstance:t.widgetInstance,guid:e,$itemContainer:t.$itemContainer})})}},{key:"extendRunTimeItemInfoByKey",value:function(e,n){this._map[e]=(0,a.extend)(this._map[e],n)}},{key:"findWidgetInstanceByItem",value:function(e){return this._findWidgetInstance(function(n){return n===e})}},{key:"getGroupOrTabLayoutManagerByPath",value:function(e){return this._findFieldByCondition(function(n){return n.path===e},"layoutManager")}},{key:"getKeyByPath",value:function(e){return this._findFieldByCondition(function(n){return n.path===e},"guid")}},{key:"getPathFromItem",value:function(e){return this._findFieldByCondition(function(n){return n.item===e},"path")}},{key:"findWidgetInstanceByName",value:function(e){return this._findWidgetInstance(function(n){return e===n.name})}},{key:"findWidgetInstanceByDataField",value:function(e){return this._findWidgetInstance(function(n){return e===n.dataField})}},{key:"findItemContainerByItem",value:function(e){for(var n in this._map)if(this._map[n].item===e)return this._map[n].$itemContainer;return null}},{key:"findItemIndexByItem",value:function(e){return this._findFieldByCondition(function(n){return n.item===e},"itemIndex")}},{key:"getItems",value:function(){return this._map}},{key:"each",value:function(e){(0,i.each)(this._map,function(n,t){e(n,t)})}}]),n}();exports.default=o;
},{"../../core/guid":"tQQP","../../core/utils/iterator":"FHcO","../../core/utils/extend":"ac8T"}],"vspP":[function(require,module,exports) {
"use strict";var t=require("../../core/utils/callbacks"),i=r(t),e=require("../../core/class"),o=r(e);function r(t){return t&&t.__esModule?t:{default:t}}var a=o.default.inherit({ctor:function(t,e){var o=this;this.editor=t,this.validator=e,this.validationRequestsCallbacks=(0,i.default)();var r=function(t){o.validationRequestsCallbacks.fire(t)};t.validationRequest.add(r),t.on("disposing",function(){t.validationRequest.remove(r)})},getValue:function(){return this.editor.option("value")},getCurrentValidationError:function(){return this.editor.option("validationError")},bypass:function(){return this.editor.option("disabled")},applyValidationResults:function(t){this.editor.option({validationErrors:t.brokenRules,validationStatus:t.status})},reset:function(){this.editor.reset()},focus:function(){this.editor.focus()}});module.exports=a;
},{"../../core/utils/callbacks":"gtoU","../../core/class":"YpjV"}],"QVx0":[function(require,module,exports) {
"use strict";var i=require("../core/element_data"),t=I(i),e=require("../core/utils/callbacks"),a=I(e),n=require("./widget/ui.errors"),o=I(n),l=require("../core/dom_component"),s=I(l),r=require("../core/utils/extend"),d=require("../core/utils/iterator"),u=require("./validation_engine"),f=I(u),h=require("./validation/default_adapter"),p=I(h),v=require("../core/component_registrator"),_=I(v),c=require("../core/utils/deferred"),R=require("../core/guid"),V=I(R);function I(i){return i&&i.__esModule?i:{default:i}}var g="dx-validator",m="valid",y="invalid",k="pending",G=s.default.inherit({_initOptions:function(i){this.callBase.apply(this,arguments),this.option(f.default.initValidationOptions(i))},_getDefaultOptions:function(){return(0,r.extend)(this.callBase(),{validationRules:[]})},_init:function(){this.callBase(),this._initGroupRegistration(),this.focused=(0,a.default)(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}},_initGroupRegistration:function(){var i=this._findGroup();this._groupWasInit||this.on("disposing",function(i){f.default.removeRegisteredValidator(i.component._validationGroup,i.component)}),this._groupWasInit&&this._validationGroup===i||(f.default.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=i,f.default.registerValidatorInGroup(i,this))},_setOptionsByReference:function(){this.callBase(),(0,r.extend)(this._optionsByReference,{validationGroup:!0})},_initAdapter:function(){var i=this,e=this.$element()[0],a=t.default.data(e,"dx-validation-target"),n=this.option("adapter");if(!n){if(a)return(n=new p.default(a,this)).validationRequestsCallbacks.add(function(t){i._validationInfo.skipValidation||i.validate(t)}),void this.option("adapter",n);throw o.default.Error("E0120")}var l=n.validationRequestsCallbacks;l&&(Array.isArray(l)?l.push(function(t){i.validate(t)}):(o.default.log("W0014","validationRequestsCallbacks","jQuery.Callbacks","17.2","Use the array instead"),l.add(function(t){i.validate(t)})))},_initMarkup:function(){this.$element().addClass(g),this.callBase()},_visibilityChanged:function(i){i&&this._initGroupRegistration()},_optionChanged:function(i){switch(i.name){case"validationGroup":return void this._initGroupRegistration();case"validationRules":return this._resetValidationRules(),void(void 0!==this.option("isValid")&&this.validate());case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(f.default.synchronizeValidationOptions(i,this.option()));break;default:this.callBase(i)}},_getValidationRules:function(){var i=this;return this._validationRules||(this._validationRules=(0,d.map)(this.option("validationRules"),function(t,e){return(0,r.extend)({},t,{validator:i,index:e})})),this._validationRules},_findGroup:function(){var i=this.$element();return this.option("validationGroup")||f.default.findGroup(i,this._modelByElement(i))},_resetValidationRules:function(){delete this._validationRules},validate:function(i){var t=this,e=this.option("adapter"),a=this.option("name"),n=e.bypass&&e.bypass(),o=i&&void 0!==i.value?i.value:e.getValue(),l=e.getCurrentValidationError&&e.getCurrentValidationError(),s=this._getValidationRules(),d=this._validationInfo&&this._validationInfo.result;if(d&&d.status===k&&d.value===o)return(0,r.extend)({},d);var u=void 0;return n?u={isValid:!0,status:m}:l&&l.editorSpecific?(l.validator=this,u={isValid:!1,status:y,brokenRule:l,brokenRules:[l]}):u=f.default.validate(o,s,a),u.id=(new V.default).toString(),this._applyValidationResult(u,e),u.complete&&u.complete.then(function(i){i.id===t._validationInfo.result.id&&t._applyValidationResult(i,e)}),(0,r.extend)({},this._validationInfo.result)},reset:function(){var i=this.option("adapter"),t={id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:m,complete:null};this._validationInfo.skipValidation=!0,i.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult(t,i)},_updateValidationResult:function(i){if(this._validationInfo.result&&this._validationInfo.result.id===i.id)for(var t in i)"id"!==t&&"complete"!==t&&(this._validationInfo.result[t]=i[t]);else{var e=this._validationInfo.deferred&&this._validationInfo.result.complete;this._validationInfo.result=(0,r.extend)({},i,{complete:e})}},_applyValidationResult:function(i,t){var e=this._createActionByOption("onValidated");if(i.validator=this,this._updateValidationResult(i),t.applyValidationResults&&t.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),this._validationInfo.result.status===k)return this._validationInfo.deferred||(this._validationInfo.deferred=new c.Deferred,this._validationInfo.result.complete=this._validationInfo.deferred.promise()),void this.fireEvent("validating",[this._validationInfo.result]);this._validationInfo.result.status!==k&&(e(i),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(i),this._validationInfo.deferred=null))},focus:function(){var i=this.option("adapter");i&&i.focus&&i.focus()}});(0,_.default)("dxValidator",G),module.exports=G,module.exports.default=module.exports;
},{"../core/element_data":"yYfn","../core/utils/callbacks":"gtoU","./widget/ui.errors":"RFsS","../core/dom_component":"Jnhm","../core/utils/extend":"ac8T","../core/utils/iterator":"FHcO","./validation_engine":"E8TJ","./validation/default_adapter":"vspP","../core/component_registrator":"g3fO","../core/utils/deferred":"g5TB","../core/guid":"tQQP"}],"n31q":[function(require,module,exports) {
"use strict";var t=require("../core/renderer"),e=require("../events/core/events_engine"),i=require("../core/utils/common"),n=require("../core/utils/type"),o=require("./widget/ui.errors"),r=require("../core/utils/window"),s=r.getWindow(),a=require("../core/utils/iterator"),c=require("../core/utils/extend").extend,l=require("../core/component_registrator"),h=require("./box"),u=require("./collection/ui.collection_widget.edit"),_="dx-responsivebox",d=_+"-screen-",m="dx-box-item",p="dxBoxItemData",f=1920,g=u.inherit({_getDefaultOptions:function(){return c(this.callBase(),{rows:[],cols:[],screenByWidth:null,singleColumnScreen:"",height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,onLayoutChanged:null,currentScreenFactor:void 0,_layoutStrategy:void 0})},_init:function(){this.option("screenByWidth")||(this._options.screenByWidth=r.defaultScreenFactorFunc),this.callBase(),this._initLayoutChangedAction()},_initLayoutChangedAction:function(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readonly"]})},_itemClass:function(){return m},_itemDataKey:function(){return p},_initMarkup:function(){this.callBase(),this.$element().addClass(_),this._updateRootBox()},_updateRootBox:function(){clearTimeout(this._updateTimer),this._updateTimer=setTimeout(function(){this._$root&&e.triggerHandler(this._$root,"dxupdate")}.bind(this))},_renderItems:function(){this._setScreenSize(),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()},_itemOptionChanged:function(t){var e=this._findItemElementByItem(t);e.length&&(this._refreshItem(e,t),this._clearItemNodeTemplates(),this._update())},_setScreenSize:function(){var t=this._getCurrentScreen();this._removeScreenSizeClass(),this.$element().addClass(d+t),this.option("currentScreenFactor",t)},_removeScreenSizeClass:function(){var t=this.option("currentScreenFactor");t&&this.$element().removeClass(d+t)},_prepareGrid:function(){var t=this._grid=[];this._prepareRowsAndCols(),a.each(this._rows,function(){var e=[];t.push(e),a.each(this._cols,function(){e.push(this._createEmptyCell())}.bind(this))}.bind(this))},getSingleColumnRows:function(){var t=this.option("rows"),e=this._screenItems.length;if(t.length){for(var i=this._filterByScreen(t),o=[],r=0;r<e;r++){var s=this._defaultSizeConfig();r<i.length&&n.isDefined(i[r].shrink)&&(s.shrink=i[r].shrink),o.push(s)}return o}return this._defaultSizeConfig(e)},_prepareRowsAndCols:function(){this._isSingleColumnScreen()?(this._prepareSingleColumnScreenItems(),this._rows=this.getSingleColumnRows(),this._cols=this._defaultSizeConfig(1)):(this._rows=this._sizesByScreen(this.option("rows")),this._cols=this._sizesByScreen(this.option("cols")))},_isSingleColumnScreen:function(){return this._screenRegExp().test(this.option("singleColumnScreen"))||!this.option("rows").length||!this.option("cols").length},_prepareSingleColumnScreenItems:function(){this._screenItems.sort(function(t,e){return t.location.row-e.location.row||t.location.col-e.location.col}),a.each(this._screenItems,function(t,e){c(e.location,{row:t,col:0,rowspan:1,colspan:1})})},_sizesByScreen:function(t){return a.map(this._filterByScreen(t),function(t){return c(this._defaultSizeConfig(),t)}.bind(this))},_createDefaultSizeConfig:function(){return{ratio:1,baseSize:0,minSize:0,maxSize:0}},_defaultSizeConfig:function(t){var e=this._createDefaultSizeConfig();if(!arguments.length)return e;for(var i=[],n=0;n<t;n++)i.push(e);return i},_filterByScreen:function(t){var e=this._screenRegExp();return i.grep(t,function(t){return!t.screen||e.test(t.screen)})},_screenRegExp:function(){var t=this._getCurrentScreen();return new RegExp("(^|\\s)"+t+"($|\\s)","i")},_getCurrentScreen:function(){var t=this._screenWidth();return this.option("screenByWidth")(t)},_screenWidth:function(){return r.hasWindow()?t(s).width():f},_createEmptyCell:function(){return{item:{},location:{colspan:1,rowspan:1}}},_spreadItems:function(){a.each(this._screenItems,function(t,e){var i=e.location||{},n=i.col,o=i.row,r=this._grid[o],s=r&&r[n];this._occupyCells(s,e)}.bind(this))},_itemsByScreen:function(){var t=this;return this.option("items").reduce(function(e,i){var o=i.location||{};return o=n.isPlainObject(o)?[o]:o,t._filterByScreen(o).forEach(function(t){e.push({item:i,location:c({rowspan:1,colspan:1},t)})}),e},[])},_occupyCells:function(t,e){t&&!this._isItemCellOccupied(t,e)&&(c(t,e),this._markSpanningCell(t))},_isItemCellOccupied:function(t,e){if(!n.isEmptyObject(t.item))return!0;var i=!1;return this._loopOverSpanning(e.location,function(t){i=i||!n.isEmptyObject(t.item)}),i},_loopOverSpanning:function(t,e){var i=t.row+t.rowspan-1,n=t.col+t.colspan-1,o=Math.min(i,this._rows.length-1),r=Math.min(n,this._cols.length-1);t.rowspan-=i-o,t.colspan-=n-r;for(var s=t.row;s<=o;s++)for(var a=t.col;a<=r;a++)s===t.row&&a===t.col||e(this._grid[s][a])},_markSpanningCell:function(t){this._loopOverSpanning(t.location,function(e){c(e,{item:t.item,spanningCell:t})})},_linkNodeToItem:function(){a.each(this._itemElements(),function(e,i){var n=t(i),o=n.data(p);o.box||(o.node=n.children())})},_layoutItems:function(){var e=this._grid.length,i=e&&this._grid[0].length;if(e||i){var n=this._layoutBlock({direction:"col",row:{start:0,end:e-1},col:{start:0,end:i-1}}),o=this._prepareBoxConfig(n.box||{direction:"row",items:[c(n,{ratio:1})]});c(o,this._rootBoxConfig(o.items)),this._$root=t("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,h,o)}},_rootBoxConfig:function(t){var e=a.each(t,function(t,e){this._needApplyAutoBaseSize(e)&&c(e,{baseSize:"auto"})}.bind(this));return c({width:"100%",height:"100%",items:e,itemTemplate:this._getTemplateByOption("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this._createActionByOption("onItemHold"),onItemClick:this._createActionByOption("onItemClick"),onItemContextMenu:this._createActionByOption("onItemContextMenu"),onItemRendered:this._createActionByOption("onItemRendered")},{_layoutStrategy:this.option("_layoutStrategy")})},_needApplyAutoBaseSize:function(t){return!(t.baseSize||t.minSize&&"auto"!==t.minSize||t.maxSize&&"auto"!==t.maxSize)},_prepareBoxConfig:function(t){return c(t||{},{crossAlign:"stretch",onItemStateChanged:this.option("onItemStateChanged")})},_layoutBlock:function(t){return this._isSingleItem(t)?this._itemByCell(t.row.start,t.col.start):this._layoutDirection(t)},_isSingleItem:function(t){var e=this._grid[t.row.start][t.col.start].location,i=t.row.end-t.row.start==e.rowspan-1,n=t.col.end-t.col.start==e.colspan-1;return i&&n},_itemByCell:function(t,e){var i=this._grid[t][e];return i.spanningCell?null:i.item},_layoutDirection:function(t){for(var e,i=[],n=t.direction,r=this._crossDirection(n);e=this._nextBlock(t);){if(this._isBlockIndivisible(t.prevBlockOptions,e))throw o.Error("E1025");var s=this._layoutBlock({direction:r,row:e.row,col:e.col,prevBlockOptions:t});s&&(c(s,this._blockSize(e,r)),i.push(s)),t[r].start=e[r].end+1}return{box:this._prepareBoxConfig({direction:n,items:i})}},_isBlockIndivisible:function(t,e){return t&&t.col.start===e.col.start&&t.col.end===e.col.end&&t.row.start===e.row.start&&t.row.end===e.row.end},_crossDirection:function(t){return"col"===t?"row":"col"},_nextBlock:function(t){var e=t.direction,i=this._crossDirection(e),n=t[e].start,o=t[e].end,r=t[i].start;if(r>t[i].end)return null;for(var s=1,a=r;a<r+s;a++){for(var c=1,l=n;l<=o;l++){var h=this._cellByDirection(e,l,a);c=Math.max(c,h.location[i+"span"])}var u=a+c,_=r+s;u>_&&(s+=u-_)}var d={};return d[e]={start:n,end:o},d[i]={start:r,end:r+s-1},d},_cellByDirection:function(t,e,i){return"col"===t?this._grid[i][e]:this._grid[e][i]},_blockSize:function(t,e){for(var i="row"===e?this._rows:this._cols,o=c(this._createDefaultSizeConfig(),{ratio:0}),r=t[e].start;r<=t[e].end;r++){var s=i[r];o.ratio+=s.ratio,o.baseSize+=s.baseSize,o.minSize+=s.minSize,o.maxSize+=s.maxSize,n.isDefined(s.shrink)&&(o.shrink=s.shrink)}return o.minSize=o.minSize?o.minSize:"auto",o.maxSize=o.maxSize?o.maxSize:"auto",this._isSingleColumnScreen()&&(o.baseSize="auto"),o},_update:function(){var t=this._$root;this._renderItems(),t&&t.detach(),this._saveAssistantRoot(t),this._layoutChangedAction(),this._updateRootBox()},_saveAssistantRoot:function(t){this._assistantRoots=this._assistantRoots||[],this._assistantRoots.push(t)},_dispose:function(){clearTimeout(this._updateTimer),this._clearItemNodeTemplates(),this._cleanUnusedRoots(),this.callBase.apply(this,arguments)},_cleanUnusedRoots:function(){this._assistantRoots&&a.each(this._assistantRoots,function(e,i){t(i).remove()})},_clearItemNodeTemplates:function(){a.each(this.option("items"),function(){delete this.node})},_toggleVisibility:function(t){this.callBase(t),t&&this._updateRootBox()},_attachClickEvent:i.noop,_optionChanged:function(t){switch(t.name){case"rows":case"cols":case"screenByWidth":case"_layoutStrategy":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":this.callBase(t),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),this.callBase(t);break;case"currentScreenFactor":break;default:this.callBase(t)}},_dimensionChanged:function(){this._getCurrentScreen()!==this.option("currentScreenFactor")&&this._update()},repaint:function(){this._update()}});l("dxResponsiveBox",g),module.exports=g,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../events/core/events_engine":"oNrb","../core/utils/common":"GcQA","../core/utils/type":"Mw4w","./widget/ui.errors":"RFsS","../core/utils/window":"NXH3","../core/utils/iterator":"FHcO","../core/utils/extend":"ac8T","../core/component_registrator":"g3fO","./box":"LXK0","./collection/ui.collection_widget.edit":"IZYs"}],"eEg2":[function(require,module,exports) {
"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=require("../../core/renderer"),i=H(t),n=require("../../events/core/events_engine"),a=H(n),o=require("../../core/guid"),r=H(o),s=require("./ui.form.items_runtime_info"),l=H(s),d=require("../../core/component_registrator"),u=H(d),c=require("../../core/utils/type"),h=require("../../core/utils/dom"),p=H(h),f=require("../../core/utils/variable_wrapper"),m=require("../../core/utils/window"),_=H(m),g=require("../../core/utils/string"),C=H(g),v=require("../../core/utils/iterator"),y=require("../../core/utils/extend"),x=require("../../core/utils/array"),b=require("../../core/utils/data"),I=H(b),D=require("../../core/remove_event"),F=H(D),B=require("../../events/click"),w=H(B),T=require("../widget/ui.errors"),q=H(T),R=require("../../localization/message"),O=H(R),k=require("../../core/utils/style"),M=H(k),S=require("../../core/utils/inflector"),W=H(S),A=require("../widget/ui.widget"),L=H(A),E=require("../validator"),$=H(E),N=require("../responsive_box"),V=H(N),z=require("../themes"),j=H(z);function H(e){return e&&e.__esModule?e:{default:e}}require("../text_box"),require("../number_box"),require("../check_box"),require("../date_box"),require("../button");var G="dxTextBox",K="dx-field-item",P="dx-field-empty-item",U="dx-field-button-item",J="dx-field-item-required",Q="dx-field-item-optional",X="dx-field-item-required-mark",Y="dx-field-item-optional-mark",Z="dx-field-item-label",ee="dx-field-item-label-align",te="dx-field-item-label-content",ie="dx-field-item-label-text",ne="dx-field-item-label-location-",ae="dx-field-item-content",oe="dx-field-item-content-location-",re="dx-field-item-content-wrapper",se="dx-field-item-help-text",le="dx-single-column-item-content",de="dx-label-h-align",ue="dx-label-v-align",ce="dx-layout-manager",he="dx-first-row",pe="dx-first-col",fe="dx-last-col",me="dx-layout-manager-one-col",_e="dx-flex-layout",ge="dx-invalid",Ce="flex",ve="fallback",ye="simple",xe="dx-template-wrapper",be=["dataSource","items"],Ie=["dxTagBox","dxRangeSlider"],De=L.default.inherit({_getDefaultOptions:function(){return(0,y.extend)(this.callBase(),{layoutData:{},readOnly:!1,colCount:1,colCountByScreen:void 0,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:200,showRequiredMark:!0,screenByWidth:null,showOptionalMark:!1,requiredMark:"*",optionalMark:O.default.format("dxForm-optionalMark"),requiredMessage:O.default.getFormatter("dxForm-requiredMessage")})},_setOptionsByReference:function(){this.callBase(),(0,y.extend)(this._optionsByReference,{layoutData:!0,validationGroup:!0})},_init:function(){var e=this.option("layoutData");this.callBase(),this._itemWatchers=[],this._itemsRunTimeInfo=new l.default,this._updateReferencedOptions(e),this._initDataAndItems(e)},_dispose:function(){this.callBase(),this._cleanItemWatchers()},_initDataAndItems:function(e){this._syncDataWithItems(),this._updateItems(e)},_syncDataWithItems:function(){var e=this,t=e.option("items");(0,c.isDefined)(t)&&(0,v.each)(t,function(t,i){var n;i.dataField&&void 0===e._getDataByField(i.dataField)&&(i.editorOptions&&(n=i.editorOptions.value),e._updateFieldValue(i.dataField,n))})},_getDataByField:function(e){return e?this.option("layoutData."+e):null},_updateFieldValue:function(e,t){var i=this.option("layoutData"),n=t;!(0,f.isWrapped)(i[e])&&(0,c.isDefined)(e)?this.option("layoutData."+e,n):(0,f.isWritableWrapped)(i[e])&&(n=(0,c.isFunction)(n)?n():n,i[e](n)),this._triggerOnFieldDataChanged({dataField:e,value:n})},_triggerOnFieldDataChanged:function(e){this._createActionByOption("onFieldDataChanged")(e)},_updateItems:function(e){var t,i,n=this,a=this.option("items"),o=(0,c.isDefined)(a),r=n.option("customizeItem");t=o?a:this._generateItemsByData(e),(0,c.isDefined)(t)&&(i=[],(0,v.each)(t,function(e,t){n._isAcceptableItem(t)&&(t=n._processItem(t),r&&r(t),(0,c.isObject)(t)&&!1!==(0,f.unwrap)(t.visible)&&i.push(t))}),n._itemWatchers.length&&o||n._updateItemWatchers(t),this._items=i,this._sortItems())},_cleanItemWatchers:function(){this._itemWatchers.forEach(function(e){e()}),this._itemWatchers=[]},_updateItemWatchers:function(e){var t=this,i=t._getWatch();e.forEach(function(e){(0,c.isObject)(e)&&(0,c.isDefined)(e.visible)&&(0,c.isFunction)(i)&&t._itemWatchers.push(i(function(){return(0,f.unwrap)(e.visible)},function(){t._updateItems(t.option("layoutData")),t.repaint()},{skipImmediate:!0}))})},_generateItemsByData:function(e){var t=[];return(0,c.isDefined)(e)&&(0,v.each)(e,function(e){t.push({dataField:e})}),t},_isAcceptableItem:function(e){var t=e.dataField||e,i=this._getDataByField(t);return!((0,c.isFunction)(i)&&!(0,f.isWrapped)(i))},_processItem:function(t){if("string"==typeof t&&(t={dataField:t}),"object"!==(void 0===t?"undefined":e(t))||t.itemType||(t.itemType=ye),!(0,c.isDefined)(t.editorType)&&(0,c.isDefined)(t.dataField)){var i=this._getDataByField(t.dataField);t.editorType=(0,c.isDefined)(i)?this._getEditorTypeByDataType((0,c.type)(i)):G}return t},_getEditorTypeByDataType:function(e){switch(e){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}},_sortItems:function(){(0,x.normalizeIndexes)(this._items,"visibleIndex"),this._sortIndexes()},_sortIndexes:function(){this._items.sort(function(e,t){var i=e.visibleIndex,n=t.visibleIndex;return i>n?1:i<n?-1:0})},_initMarkup:function(){this._itemsRunTimeInfo.clear(),this.$element().addClass(ce),this.callBase(),this._renderResponsiveBox()},_hasBrowserFlex:function(){return M.default.styleProp(Ce)===Ce},_renderResponsiveBox:function(){var e=[];if(this._items&&this._items.length){var t,n=this._getColCount(),a=(0,i.default)("<div>").appendTo(this.$element());this._prepareItemsWithMerging(n),t=this._generateLayoutItems(),this._extendItemsWithDefaultTemplateOptions(t,this._items),this._responsiveBox=this._createComponent(a,V.default,this._getResponsiveBoxConfig(t,n,e)),_.default.hasWindow()||this._renderTemplates(e)}},_extendItemsWithDefaultTemplateOptions:function(e,t){t.forEach(function(t){t.merged||((0,c.isDefined)(t.disabled)&&(e[t.visibleIndex].disabled=t.disabled),(0,c.isDefined)(t.visible)&&(e[t.visibleIndex].visible=t.visible))})},_itemStateChangedHandler:function(e){this._refresh()},_renderTemplate:function(e,t){switch(t.itemType){case"empty":this._renderEmptyItem(e);break;case"button":this._renderButtonItem(t,e);break;default:this._renderFieldItem(t,e)}},_renderTemplates:function(e){var t=this;(0,v.each)(e,function(e,i){t._renderTemplate(i.container,i.formItem)})},_getResponsiveBoxConfig:function(e,t,n){var a=this,o=a.option("colCountByScreen"),r=o&&o.xs;return{onItemStateChanged:this._itemStateChangedHandler.bind(this),_layoutStrategy:a._hasBrowserFlex()?Ce:ve,onLayoutChanged:function(){var e=a.option("onLayoutChanged"),t=a.isSingleColumnMode();e&&(a.$element().toggleClass(me,t),e(t))},onContentReady:function(e){_.default.hasWindow()&&a._renderTemplates(n),a.option("onLayoutChanged")&&a.$element().toggleClass(me,a.isSingleColumnMode(e.component))},itemTemplate:function(e,o,r){if(e.location){var s=(0,i.default)(r),l=e.location.row*t,d=a._items[e.location.col+l],u=(0,i.default)("<div>").addClass(d.cssClass).appendTo(s);n.push({container:u,formItem:d}),s.toggleClass(le,a.isSingleColumnMode(this)),0===e.location.row&&u.addClass(he),0===e.location.col&&u.addClass(pe),e.location.col!==t-1&&e.location.col+e.location.colspan!==t||u.addClass(fe)}},cols:a._generateRatio(t),rows:a._generateRatio(a._getRowsCount(),!0),dataSource:e,screenByWidth:a.option("screenByWidth"),singleColumnScreen:!r&&"xs"}},_getColCount:function(){var e=this.option("colCount"),t=this.option("colCountByScreen");if(t){var i=this.option("form").getTargetScreenFactor();i||(i=_.default.hasWindow()?_.default.getCurrentScreenFactor(this.option("screenByWidth")):"lg"),e=t[i]||e}if("auto"===e){if(this._cashedColCount)return this._cashedColCount;this._cashedColCount=e=this._getMaxColCount()}return e<1?1:e},_getMaxColCount:function(){if(!_.default.hasWindow())return 1;var e=this.option("minColWidth"),t=this.$element().width(),i=this._items.length,n=Math.floor(t/e)||1;return i<n?i:n},isCachedColCountObsolete:function(){return this._cashedColCount&&this._getMaxColCount()!==this._cashedColCount},_prepareItemsWithMerging:function(e){var t,i,n,a,o=this._items.slice(0),r=[];for(a=0;a<o.length;a++)if(t=o[a],r.push(t),(this.option("alignItemLabels")||t.alignItemLabels||t.colSpan)&&(t.col=this._getColByIndex(r.length-1,e)),t.colSpan>1&&t.col+t.colSpan<=e){for(i=[],n=0;n<t.colSpan-1;n++)i.push({merged:!0});r=r.concat(i)}else delete t.colSpan;this._items=r},_getColByIndex:function(e,t){return e%t},_generateLayoutItems:function(){var e,t,i=this._items,n=this._getColCount(),a=[];for(t=0;t<i.length;t++)if(!(e=i[t]).merged){var o={location:{row:parseInt(t/n),col:this._getColByIndex(t,n)}};(0,c.isDefined)(e.colSpan)&&(o.location.colspan=e.colSpan),(0,c.isDefined)(e.rowSpan)&&(o.location.rowspan=e.rowSpan),a.push(o)}return a},_renderEmptyItem:function(e){return e.addClass(P).html("&nbsp;")},_getButtonHorizontalAlignment:function(e){return(0,c.isDefined)(e.horizontalAlignment)?e.horizontalAlignment:(0,c.isDefined)(e.alignment)?(q.default.log("W0001","dxForm","alignment","18.1","Use the 'horizontalAlignment' option in button items instead."),e.alignment):"right"},_getButtonVerticalAlignment:function(e){switch(e.verticalAlignment){case"center":return"center";case"bottom":return"flex-end";default:return"flex-start"}},_renderButtonItem:function(e,t){var n=(0,i.default)("<div>").appendTo(t),a={validationGroup:this.option("validationGroup")};t.addClass(U).css("textAlign",this._getButtonHorizontalAlignment(e)),t.parent().css("justifyContent",this._getButtonVerticalAlignment(e));var o=this._createComponent(n,"dxButton",(0,y.extend)(a,e.buttonOptions));return this._itemsRunTimeInfo.add({item:e,widgetInstance:o,guid:e.guid,$itemContainer:t}),this._addItemClasses(t,e.col),n},_addItemClasses:function(e,t){e.addClass(K).addClass(this.option("cssItemClass")).addClass((0,c.isDefined)(t)?"dx-col-"+t:"")},_renderFieldItem:function(e,t){var n,a=this._getName(e),o=this.getItemID(a),s=(0,c.isDefined)(e.isRequired)?e.isRequired:!!this._hasRequiredRuleInSet(e.validationRules),l=this._getLabelOptions(e,o,s),d=(0,i.default)("<div>"),u=e.helpText?"dx-"+new r.default:null;this._addItemClasses(t,e.col),t.addClass(s?J:Q),l.visible&&l.text&&(n=this._renderLabel(l).appendTo(t)),e.itemType===ye&&(this._isLabelNeedBaselineAlign(e)&&"top"!==l.location&&t.addClass(ee),this._hasBrowserFlex()&&t.addClass(_e)),d.data("dx-form-item",e),this._appendEditorToField({$fieldItem:t,$label:n,$editor:d,labelOptions:l});var h=this._renderEditor({$container:d,dataField:e.dataField,name:e.name,editorType:e.editorType,editorOptions:e.editorOptions,template:this._getTemplateByFieldItem(e),isRequired:s,helpID:u,labelID:l.labelID,id:o,validationBoundary:this.option("validationBoundary")});this._itemsRunTimeInfo.add({item:e,widgetInstance:h,guid:e.guid,$itemContainer:t});var p=d.children().first(),f=p.hasClass(xe)?p.children().first():p;f&&f.data("dx-validation-target")&&this._renderValidator(f,e),this._renderHelpText(e,d,u),this._attachClickHandler(n,d,e.editorType)},_hasRequiredRuleInSet:function(e){var t;return e&&e.length&&(0,v.each)(e,function(e,i){if("required"===i.type)return t=!0,!1}),t},_getName:function(e){return e.dataField||e.name},_isLabelNeedBaselineAlign:function(e){return!!e.helpText&&!this._hasBrowserFlex()||-1!==(0,x.inArray)(e.editorType,["dxTextArea","dxRadioGroup","dxCalendar","dxHtmlEditor"])},_isLabelNeedId:function(e){return-1!==(0,x.inArray)(e.editorType,["dxRadioGroup","dxCheckBox","dxLookup","dxSlider","dxRangeSlider","dxSwitch","dxHtmlEditor"])},_getLabelOptions:function(e,t,i){var n=(0,y.extend)({showColon:this.option("showColonAfterLabel"),location:this.option("labelLocation"),id:t,visible:!0,isRequired:i},e?e.label:{});return this._isLabelNeedId(e)&&(n.labelID="dx-label-"+new r.default),!n.text&&e.dataField&&(n.text=W.default.captionize(e.dataField)),n.text&&(n.text+=n.showColon?":":""),n},_renderLabel:function(e){var t=e.text,n=e.id,a=e.location,o=e.alignment,r=e.isRequired,s=e.labelID,l=void 0===s?null:s;if((0,c.isDefined)(t)&&t.length>0){var d=Z+" "+ne+a,u=(0,i.default)("<label>").addClass(d).attr("for",n).attr("id",l),h=(0,i.default)("<span>").addClass(te).appendTo(u);return(0,i.default)("<span>").addClass(ie).text(t).appendTo(h),o&&u.css("textAlign",o),h.append(this._renderLabelMark(r)),u}},_renderLabelMark:function(e){var t,n=this._getRequiredMarksConfig(),a=n.showRequiredMark&&e,o=n.showOptionalMark&&!e;if(a||o){var r=a?X:Y,s=a?n.requiredMark:n.optionalMark;t=(0,i.default)("<span>").addClass(r).html("&nbsp"+s)}return t},_getRequiredMarksConfig:function(){return this._cashedRequiredConfig||(this._cashedRequiredConfig={showRequiredMark:this.option("showRequiredMark"),showOptionalMark:this.option("showOptionalMark"),requiredMark:this.option("requiredMark"),optionalMark:this.option("optionalMark")}),this._cashedRequiredConfig},_renderEditor:function(e){var t,i=this._getDataByField(e.dataField),n=void 0!==i?{value:i}:{};-1!==Ie.indexOf(e.editorType)&&(n.value=n.value||[]);var a=this.option("form");t=(0,y.extend)(!0,n,e.editorOptions,{inputAttr:{id:e.id},validationBoundary:e.validationBoundary,stylingMode:a&&a.option("stylingMode")}),this._replaceDataOptions(e.editorOptions,t);var o={editorType:e.editorType,dataField:e.dataField,template:e.template,name:e.name,helpID:e.helpID,labelID:e.labelID,isRequired:e.isRequired};return this._createEditor(e.$container,o,t)},_replaceDataOptions:function(e,t){e&&be.forEach(function(i){t[i]&&(t[i]=e[i])})},_renderValidator:function(e,t){var i=this._getFieldLabelName(t),n=this._prepareValidationRules(t.validationRules,t.isRequired,t.itemType,i);Array.isArray(n)&&n.length&&this._createComponent(e,$.default,{validationRules:n,validationGroup:this.option("validationGroup"),dataGetter:function(){return{formItem:t}}})},_getFieldLabelName:function(e){var t=e.label&&e.label.text,i=t?null:this._getName(e);return t?e.label.text:i&&W.default.captionize(i)},_prepareValidationRules:function(e,t,i,n){var a;if(i===ye)if(e)a=e;else{var o=C.default.format(this.option("requiredMessage"),n||"");a=t?[{type:"required",message:o}]:null}return a},_addWrapperInvalidClass:function(e){var t="."+re,n=function(e){(0,i.default)(e.element).parents(t).toggleClass(ge,e.component._isFocused()&&!1===e.component.option("isValid"))};e.on("focusIn",n).on("focusOut",n).on("enterKey",n)},_createEditor:function(e,t,n){var a,o=t.template;if(t.dataField&&!n.name&&(n.name=t.dataField),this._addItemContentClasses(e),o){var r={dataField:t.dataField,editorType:t.editorType,editorOptions:n,component:this._getComponentOwner(),name:t.name};o.render({model:r,container:p.default.getPublicElement(e)})}else{var s=(0,i.default)("<div>").appendTo(e);try{(a=this._createComponent(s,t.editorType,n)).setAria("describedby",t.helpID),a.setAria("labelledby",t.labelID),a.setAria("required",t.isRequired),j.default.isMaterial()&&this._addWrapperInvalidClass(a),t.dataField&&this._bindDataField(a,t,e)}catch(l){q.default.log("E1035",l.message)}}return a},_getComponentOwner:function(){return this.option("form")||this},_bindDataField:function(e,t,i){var n=this._getComponentOwner();e.on("enterKey",function(e){n._createActionByOption("onEditorEnterKey")((0,y.extend)(e,{dataField:t.dataField}))}),this._createWatcher(e,i,t),this.linkEditorToDataField(e,t.dataField,t.editorType)},_createWatcher:function(e,t,i){var n=this,o=n._getWatch();if((0,c.isFunction)(o)){var r=o(function(){return n._getDataByField(i.dataField)},function(){e.option("value",n._getDataByField(i.dataField))},{deep:!0,skipImmediate:!0});a.default.on(t,F.default,r)}},_getWatch:function(){if(!(0,c.isDefined)(this._watch)){var e=this.option("form");this._watch=e&&e.option("integrationOptions.watchMethod")}return this._watch},_addItemContentClasses:function(e){var t=this._getItemContentLocationSpecificClass();e.addClass([ae,t].join(" "))},_getItemContentLocationSpecificClass:function(){var e=this.option("labelLocation");return oe+{right:"left",left:"right",top:"bottom"}[e]},_createComponent:function(e,t,i){var n,a=this.option("readOnly");return n=this.callBase(e,t,i),a&&n.option("readOnly",a),this.on("optionChanged",function(e){"readOnly"!==e.name||(0,c.isDefined)(i.readOnly)||n.option(e.name,e.value)}),n},_getTemplateByFieldItem:function(e){return e.template?this._getTemplate(e.template):null},_appendEditorToField:function(e){if(e.$label){var t=e.labelOptions.location;"top"!==t&&"left"!==t||e.$fieldItem.append(e.$editor),"right"===t&&e.$fieldItem.prepend(e.$editor),this._addInnerItemAlignmentClass(e.$fieldItem,t)}else e.$fieldItem.append(e.$editor)},_addInnerItemAlignmentClass:function(e,t){"top"===t?e.addClass(ue):e.addClass(de)},_renderHelpText:function(e,t,n){var a=e.helpText,o=e.itemType===ye;if(a&&o){var r=(0,i.default)("<div>").addClass(re);t.wrap(r),(0,i.default)("<div>").addClass(se).attr("id",n).text(a).appendTo(t.parent())}},_attachClickHandler:function(e,t,i){e&&("dxCheckBox"===i||"dxSwitch"===i)&&a.default.on(e,w.default.name,function(){a.default.trigger(t.children(),w.default.name)})},_generateRatio:function(e,t){var i,n,a=[];for(n=0;n<e;n++)i={ratio:1},t&&(i.baseSize="auto"),a.push(i);return a},_getRowsCount:function(){return Math.ceil(this._items.length/this._getColCount())},_updateReferencedOptions:function(e){var t=this,i=this.option("layoutData");(0,c.isObject)(i)&&Object.getOwnPropertyNames(i).forEach(function(e){return delete t._optionsByReference["layoutData."+e]}),(0,c.isObject)(e)&&Object.getOwnPropertyNames(e).forEach(function(e){return t._optionsByReference["layoutData."+e]=!0})},_resetWidget:function(e){var t=e._getDefaultOptions();e._setOptionSilent("value",t.value),e.option("isValid",!0)},_optionChanged:function(e){var t=this;if(0!==e.fullName.search("layoutData."))switch(e.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":this._cashedRequiredConfig=null,this._invalidate();break;case"layoutData":this._updateReferencedOptions(e.value),this.option("items")?(0,c.isEmptyObject)(e.value)||this._itemsRunTimeInfo.each(function(i,n){if((0,c.isDefined)(n.item)){var a=n.item.dataField;if(a&&(0,c.isDefined)(n.widgetInstance)){var o=I.default.compileGetter(a)(e.value);void 0===o?t._resetWidget(n.widgetInstance):n.widgetInstance.option("value",o)}}}):(this._initDataAndItems(e.value),this._invalidate());break;case"items":this._cleanItemWatchers(),this._initDataAndItems(e.value),this._invalidate();break;case"alignItemLabels":case"labelLocation":case"requiredMessage":this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":this._resetColCount();break;case"minColWidth":"auto"===this.option("colCount")&&this._resetColCount();break;case"readOnly":break;case"width":this.callBase(e),"auto"===this.option("colCount")&&this._resetColCount();break;case"onFieldDataChanged":break;default:this.callBase(e)}},_resetColCount:function(){this._cashedColCount=null,this._invalidate()},linkEditorToDataField:function(e,t){var i=this;this.on("optionChanged",function(i){i.fullName==="layoutData."+t&&e._setOptionSilent("value",i.value)}),e.on("valueChanged",function(e){(0,c.isObject)(e.value)&&e.value===e.previousValue||i._updateFieldValue(t,e.value)})},_dimensionChanged:function(){"auto"===this.option("colCount")&&this.isCachedColCountObsolete()&&this.fireEvent("autoColCountChanged")},getItemID:function(e){var t=this.option("form");return t&&t.getItemID(e)},updateData:function(e,t){var i=this;(0,c.isObject)(e)?(0,v.each)(e,function(e,t){i._updateFieldValue(e,t)}):"string"==typeof e&&i._updateFieldValue(e,t)},getEditor:function(e){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(e)||this._itemsRunTimeInfo.findWidgetInstanceByName(e)},isSingleColumnMode:function(e){var t=this._responsiveBox||e;if(t)return t.option("currentScreenFactor")===t.option("singleColumnScreen")},getItemsRunTimeInfo:function(){return this._itemsRunTimeInfo}});(0,u.default)("dxLayoutManager",De),module.exports=De;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/guid":"tQQP","./ui.form.items_runtime_info":"NGcK","../../core/component_registrator":"g3fO","../../core/utils/type":"Mw4w","../../core/utils/dom":"vDwZ","../../core/utils/variable_wrapper":"SPUa","../../core/utils/window":"NXH3","../../core/utils/string":"X4J5","../../core/utils/iterator":"FHcO","../../core/utils/extend":"ac8T","../../core/utils/array":"uivT","../../core/utils/data":"YLhW","../../core/remove_event":"zNXU","../../events/click":"RTmy","../widget/ui.errors":"RFsS","../../localization/message":"Njcj","../../core/utils/style":"DyYH","../../core/utils/inflector":"i2nR","../widget/ui.widget":"gtOK","../validator":"QVx0","../responsive_box":"n31q","../themes":"k2ha","../text_box":"DM5G","../number_box":"n0cg","../check_box":"LByi","../date_box":"EXMI","../button":"kKaI"}],"bOgt":[function(require,module,exports) {
"use strict";var e=require("../core/renderer"),t=w(e),i=require("../animation/fx"),n=w(i),s=require("../animation/translator"),o=w(s),a=require("../core/utils/math"),r=w(a),l=require("../core/utils/extend"),d=require("../core/utils/common"),u=require("../core/utils/dom"),c=require("../core/utils/type"),h=require("../core/devices"),m=w(h),p=require("../core/component_registrator"),_=w(p),f=require("./collection/ui.collection_widget.live_update"),v=w(f),I=require("../events/gesture/swipeable"),g=w(I),C=require("../core/utils/deferred");function w(e){return e&&e.__esModule?e:{default:e}}var b="dx-multiview",S="dx-multiview-wrapper",x="dx-multiview-item-container",E="dx-multiview-item",D="dx-multiview-item-hidden",y="dxMultiViewItemData",B=200,q=function(e){return+e},$=function(e){return o.default.locate(e).left},R={move:function(e,t){o.default.move(e,{left:t})}},F={moveTo:function(e,t,i,s){n.default.animate(e,{type:"slide",to:{left:t},duration:i,complete:s})},complete:function(e){n.default.stop(e,!0)}},L=v.default.inherit({_activeStateUnit:"."+E,_supportedKeys:function(){return(0,l.extend)(this.callBase(),{pageUp:d.noop,pageDown:d.noop})},_getDefaultOptions:function(){return(0,l.extend)(this.callBase(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,_itemAttributes:{role:"tabpanel"},loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectionByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===m.default.real().deviceType&&!m.default.isSimulator()},options:{focusStateEnabled:!0}}])},_itemClass:function(){return E},_itemDataKey:function(){return y},_itemContainer:function(){return this._$itemContainer},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_itemWidth:function(){return this._itemWidthValue||(this._itemWidthValue=this._$wrapper.width()),this._itemWidthValue},_clearItemWidthCache:function(){delete this._itemWidthValue},_itemsCount:function(){return this.option("items").length},_normalizeIndex:function(e){var t=this._itemsCount();return e<0&&(e+=t),e>=t&&(e-=t),e},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_init:function(){this.callBase.apply(this,arguments);var e=this.$element();e.addClass(b),this._$wrapper=(0,t.default)("<div>").addClass(S),this._$wrapper.appendTo(e),this._$itemContainer=(0,t.default)("<div>").addClass(x),this._$itemContainer.appendTo(this._$wrapper),this.option("loopItemFocus",this.option("loop")),this._initSwipeable()},_initMarkup:function(){this._deferredItems=[],this.callBase();var e=this._getSelectedItemIndices();this._updateItemsVisibility(e[0])},_afterItemElementDeleted:function(e,t){this.callBase(e,t),this._deferredItems&&this._deferredItems.splice(t.itemIndex,1)},_beforeItemElementInserted:function(e){this.callBase.apply(this,arguments),this._deferredItems&&this._deferredItems.splice(e.index,0,null)},_executeItemRenderAction:function(e,t,i){e=(this.option("items")||[]).indexOf(t),this.callBase(e,t,i)},_renderItemContent:function(e){var t=new C.Deferred,i=this,n=this.callBase,s=new C.Deferred;return s.done(function(){var s=n.call(i,e);t.resolve(s)}),this._deferredItems[e.index]=s,this.option("deferRendering")||s.resolve(),t.promise()},_render:function(){var e=this;this.callBase(),(0,d.deferRender)(function(){var t=e._getSelectedItemIndices();e._updateItems(t[0])})},_updateItems:function(e,t){this._updateItemsPosition(e,t),this._updateItemsVisibility(e,t)},_modifyByChanges:function(){this.callBase.apply(this,arguments);var e=this._getSelectedItemIndices();this._updateItemsVisibility(e[0])},_updateItemsPosition:function(e,t){var i=this._itemElements(),n=(0,c.isDefined)(t)?-this._animationDirection(t,e):void 0,s=i.eq(e);R.move(s,0),(0,c.isDefined)(t)&&R.move(i.eq(t),100*n+"%")},_updateItemsVisibility:function(e,i){this._itemElements().each(function(n,s){var o=(0,t.default)(s),a=n!==e&&n!==i;a||this._renderSpecificItem(n),o.toggleClass(D,a),this.setAria("hidden",a||void 0,o)}.bind(this))},_renderSpecificItem:function(e){var t=this._itemElements().eq(e),i=t.find(this._itemContentClass()).length>0;(0,c.isDefined)(e)&&!i&&(this._deferredItems[e].resolve(),(0,u.triggerResizeEvent)(t))},_refreshItem:function(e,t){this.callBase(e,t),this._updateItemsVisibility(this.option("selectedIndex"))},_setAriaSelected:d.noop,_updateSelection:function(e,t){var i=e[0],n=t[0];F.complete(this._$itemContainer),this._updateItems(n,i);var s=this._animationDirection(i,n);this._animateItemContainer(s*this._itemWidth(),function(){R.move(this._$itemContainer,0),this._updateItems(i),this._$itemContainer.width()}.bind(this))},_animateItemContainer:function(e,t){var i=this.option("animationEnabled")?B:0;F.moveTo(this._$itemContainer,e,i,t)},_animationDirection:function(e,t){var i=$(this._$itemContainer),n=(t-e)*this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection(),s=0!==i?i:n;return r.default.sign(s)},_getSwipeDisabledState:function(){return!this.option("swipeEnabled")||this._itemsCount()<=1},_initSwipeable:function(){var e=this;this._createComponent(this.$element(),g.default,{disabled:this._getSwipeDisabledState(),elastic:!1,itemSizeFunc:this._itemWidth.bind(this),onStart:function(t){return e._swipeStartHandler(t.event)},onUpdated:function(t){return e._swipeUpdateHandler(t.event)},onEnd:function(t){return e._swipeEndHandler(t.event)}})},_swipeStartHandler:function(e){F.complete(this._$itemContainer);var t=this.option("selectedIndex"),i=this.option("loop"),n=this._itemsCount()-1,s=this.option("rtlEnabled");e.maxLeftOffset=q(i||(s?t>0:t<n)),e.maxRightOffset=q(i||(s?t<n:t>0)),this._swipeDirection=null},_swipeUpdateHandler:function(e){var t=e.offset,i=r.default.sign(t)*this._getRTLSignCorrection();if(R.move(this._$itemContainer,t*this._itemWidth()),i!==this._swipeDirection){this._swipeDirection=i;var n=this.option("selectedIndex"),s=this._normalizeIndex(n-i);this._updateItems(n,s)}},_swipeEndHandler:function(e){var t=e.targetOffset*this._getRTLSignCorrection();if(t){this.option("selectedIndex",this._normalizeIndex(this.option("selectedIndex")-t));var i=this.itemElements().filter(".dx-item-selected");this.option("focusStateEnabled")&&this.option("focusedElement",(0,u.getPublicElement)(i))}else this._animateItemContainer(0,d.noop)},_getItemFocusLoopSignCorrection:function(){return this._itemFocusLooped?-1:1},_moveFocus:function(){this.callBase.apply(this,arguments),this._itemFocusLooped=!1},_prevItem:function(e){var t=this.callBase.apply(this,arguments);return this._itemFocusLooped=t.is(e.last()),t},_nextItem:function(e){var t=this.callBase.apply(this,arguments);return this._itemFocusLooped=t.is(e.first()),t},_dimensionChanged:function(){this._clearItemWidthCache()},_visibilityChanged:function(e){e&&this._dimensionChanged()},_updateSwipeDisabledState:function(){var e=this._getSwipeDisabledState();g.default.getInstance(this.$element()).option("disabled",e)},_optionChanged:function(e){var t=e.value;switch(e.name){case"loop":this.option("loopItemFocus",t);break;case"animationEnabled":break;case"swipeEnabled":this._updateSwipeDisabledState();break;case"deferRendering":this._invalidate();break;case"items":this._updateSwipeDisabledState(),this.callBase(e);break;default:this.callBase(e)}}});(0,_.default)("dxMultiView",L),module.exports=L,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../animation/fx":"qxJT","../animation/translator":"IRTp","../core/utils/math":"Ntiw","../core/utils/extend":"ac8T","../core/utils/common":"GcQA","../core/utils/dom":"vDwZ","../core/utils/type":"Mw4w","../core/devices":"LpzF","../core/component_registrator":"g3fO","./collection/ui.collection_widget.live_update":"RBgg","../events/gesture/swipeable":"ocDn","../core/utils/deferred":"g5TB"}],"NWoL":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),r=require("../collection/item"),t="dx-tabs-item-badge",d="dx-badge",i=r.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this))},_renderBadge:function(r){if(this._$element.children("."+d).remove(),r){var i=e("<div>").addClass(t).addClass(d).text(r);this._$element.append(i)}}});module.exports=i;
},{"../../core/renderer":"qxFQ","../collection/item":"Dcm1"}],"VZ8a":[function(require,module,exports) {
"use strict";var e=require("../core/renderer"),t=q(e),i=require("../events/core/events_engine"),n=q(i),l=require("../core/devices"),s=q(l),a=require("../core/component_registrator"),o=q(a),r=require("./button"),c=q(r),d=require("./widget/utils.ink_ripple"),u=q(d),h=require("../events/utils"),_=require("../core/utils/extend"),p=require("../core/utils/type"),f=require("../events/pointer"),m=q(f),b=require("../core/utils/iterator"),v=require("./tabs/item"),g=q(v),B=require("./themes"),I=q(B),x=require("../events/hold"),C=q(x),S=require("./scroll_view/ui.scrollable"),$=q(S),w=require("./collection/ui.collection_widget.live_update"),E=q(w),k=require("../core/utils/icon"),N=require("../core/templates/bindable_template");function q(e){return e&&e.__esModule?e:{default:e}}var y="dx-tabs",T="dx-tabs-wrapper",W="dx-tabs-expanded",M="dx-tabs-stretched",R="dx-tabs-scrollable",O="dx-tabs-nav-buttons",D="dx-overflow-hidden",V="dx-tab",A="dx-tab-selected",F="dx-tabs-nav-button",P="dx-tabs-nav-button-left",j="dx-tabs-nav-button-right",H="dx-tab-text",K="dxTabData",L="chevronnext",z="chevronprev",U=100,G=5,J=300,Q=30,X=E.default.inherit({_activeStateUnit:"."+V,_getDefaultOptions:function(){return(0,_.extend)(this.callBase(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:function(e){return e?e.badge:void 0}})},_defaultOptionsRules:function(){var e=I.default.current();return this.callBase().concat([{device:function(){return"desktop"!==s.default.real().deviceType},options:{showNavButtons:!1}},{device:{deviceType:"desktop"},options:{scrollByContent:!1}},{device:function(){return"desktop"===s.default.real().deviceType&&!s.default.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return I.default.isMaterial(e)},options:{useInkRipple:!0,selectOnFocus:!1}}])},_init:function(){this.callBase(),this.setAria("role","tablist"),this.$element().addClass(y),this._renderWrapper(),this._renderMultiple(),this._feedbackHideTimeout=U},_initTemplates:function(){this.callBase(),this._defaultTemplates.item=new N.BindableTemplate(function(e,i){(0,p.isPlainObject)(i)?this._prepareDefaultItemTemplate(i,e):e.text(String(i));var n=(0,k.getImageContainer)(i.icon);e.wrapInner((0,t.default)("<span>").addClass(H)),n&&n.prependTo(e)}.bind(this),["text","html","icon"],this.option("integrationOptions.watchMethod"))},_itemClass:function(){return V},_selectedItemClass:function(){return A},_itemDataKey:function(){return K},_initMarkup:function(){this.callBase(),this.setAria("role","tab",this.itemElements()),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass(D)},_render:function(){this.callBase(),this._renderScrolling()},_renderScrolling:function(){var e=[M,W,D];this.$element().removeClass(e.join(" ")),this.option("scrollingEnabled")&&this._isItemsWidthExceeded()&&(this._scrollable||(this._renderScrollable(),this._renderNavButtons()),this._scrollable.update(),this._updateNavButtonsVisibility(),this.option("rtlEnabled")&&this._scrollable.scrollTo({left:this._scrollable.scrollWidth()-this._scrollable.clientWidth()}),this._scrollToItem(this.option("selectedItem"))),this.option("scrollingEnabled")&&this._isItemsWidthExceeded()||(this._cleanScrolling(),this._needStretchItems()&&!this._isItemsWidthExceeded()&&this.$element().addClass(M),this.$element().removeClass(O).addClass(W))},_isItemsWidthExceeded:function(){return this._getSummaryItemsWidth(this._getVisibleItems(),!0)-1>this.$element().width()},_needStretchItems:function(){var e=this._getVisibleItems(),i=this.$element().width(),n=[];return(0,b.each)(e,function(e,i){n.push((0,t.default)(i).outerWidth(!0))}),Math.max.apply(null,n)>i/e.length},_cleanNavButtons:function(){this._leftButton&&this._rightButton&&(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)},_cleanScrolling:function(){this._scrollable&&(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())},_renderInkRipple:function(){this._inkRipple=u.default.render()},_toggleActiveState:function(e,t,i){if(this.callBase.apply(this,arguments),this._inkRipple){var n={element:e,event:i};t?this._inkRipple.showWave(n):this._inkRipple.hideWave(n)}},_renderMultiple:function(){"multiple"===this.option("selectionMode")&&this.option("selectOnFocus",!1)},_renderWrapper:function(){this._$wrapper=(0,t.default)("<div>").addClass(T),this.$element().append(this._$wrapper)},_itemContainer:function(){return this._$wrapper},_renderScrollable:function(){var e=this.$element().wrapInner((0,t.default)("<div>").addClass(R)).children();this._scrollable=this._createComponent(e,$.default,{direction:"horizontal",showScrollbar:!1,useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:this._updateNavButtonsVisibility.bind(this)}),this.$element().append(this._scrollable.$element())},_scrollToItem:function(e){if(this._scrollable){var t=this._editStrategy.getItemElement(e);this._scrollable.scrollToElement(t)}},_renderNavButtons:function(){if(this.$element().toggleClass(O,this.option("showNavButtons")),this.option("showNavButtons")){var e=this.option("rtlEnabled");this._leftButton=this._createNavButton(-Q,e?L:z);var t=this._leftButton.$element();t.addClass(P),this.$element().prepend(t),this._rightButton=this._createNavButton(Q,e?z:L);var i=this._rightButton.$element();i.addClass(j),this.$element().append(i)}},_updateNavButtonsVisibility:function(){this._leftButton&&this._leftButton.option("disabled",this._scrollable.scrollLeft()<=0),this._rightButton&&this._rightButton.option("disabled",this._scrollable.scrollLeft()>=Math.round(this._scrollable.scrollWidth()-this._scrollable.clientWidth()))},_updateScrollPosition:function(e,t){this._scrollable.update(),this._scrollable.scrollBy(e/t)},_createNavButton:function(e,i){var l=this,s=l._createAction(function(){l._holdInterval=setInterval(function(){l._updateScrollPosition(e,G)},G)}),a=(0,h.addNamespace)(C.default.name,"dxNavButton"),o=(0,h.addNamespace)(m.default.up,"dxNavButton"),r=(0,h.addNamespace)(m.default.out,"dxNavButton"),d=this._createComponent((0,t.default)("<div>").addClass(F),c.default,{focusStateEnabled:!1,icon:i,onClick:function(){l._updateScrollPosition(e,1)},integrationOptions:{}}),u=d.$element();return n.default.on(u,a,{timeout:J},function(e){s({event:e})}.bind(this)),n.default.on(u,o,function(){l._clearInterval()}),n.default.on(u,r,function(){l._clearInterval()}),d},_clearInterval:function(){this._holdInterval&&clearInterval(this._holdInterval)},_updateSelection:function(e){this._scrollable&&this._scrollable.scrollToElement(this.itemElements().eq(e[0]),{left:1,right:1})},_visibilityChanged:function(e){e&&this._dimensionChanged()},_dimensionChanged:function(){this._renderScrolling()},_itemSelectHandler:function(e){"single"===this.option("selectionMode")&&this.isItemSelected(e.currentTarget)||this.callBase(e)},_clean:function(){this._cleanScrolling(),this.callBase()},_optionChanged:function(e){switch(e.name){case"useInkRipple":case"scrollingEnabled":case"showNavButtons":this._invalidate();break;case"scrollByContent":this._scrollable&&this._scrollable.option(e.name,e.value);break;case"width":this.callBase(e),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),this.callBase(e);break;case"badgeExpr":this._invalidate();break;default:this.callBase(e)}},_afterItemElementInserted:function(){this.callBase(),this._renderScrolling()},_afterItemElementDeleted:function(e,t){this.callBase(e,t),this._renderScrolling()}});X.ItemClass=g.default,(0,o.default)("dxTabs",X),module.exports=X,module.exports.getTabsExpandedClass=W,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../events/core/events_engine":"oNrb","../core/devices":"LpzF","../core/component_registrator":"g3fO","./button":"kKaI","./widget/utils.ink_ripple":"NDxX","../events/utils":"cNvJ","../core/utils/extend":"ac8T","../core/utils/type":"Mw4w","../events/pointer":"HDhW","../core/utils/iterator":"FHcO","./tabs/item":"NWoL","./themes":"k2ha","../events/hold":"zW3q","./scroll_view/ui.scrollable":"tHRk","./collection/ui.collection_widget.live_update":"RBgg","../core/utils/icon":"W6A0","../core/templates/bindable_template":"pNX9"}],"Hh1X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),t=function e(t,r,o){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,o)}if("value"in n)return n.value;var u=n.get;return void 0!==u?u.call(o):void 0},r=require("../collection/item"),o=i(r),n=require("../../core/utils/common");function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(r){function i(){return u(this,i),c(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return a(i,o.default),e(i,[{key:"_renderWatchers",value:function(){return this._startWatcher("badge",n.noop),t(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_renderWatchers",this).call(this)}}]),i}();exports.default=l;
},{"../collection/item":"Dcm1","../../core/utils/common":"GcQA"}],"ZoEO":[function(require,module,exports) {
"use strict";var t=require("../core/renderer"),e=C(t),i=require("../core/utils/support"),n=C(i),s=require("../core/utils/extend"),a=require("../core/devices"),o=C(a),l=require("../core/component_registrator"),c=C(l),r=require("./multi_view"),d=C(r),u=require("./tabs"),h=C(u),p=require("./tab_panel/item"),_=C(p),b=require("../core/utils/icon"),f=require("../core/utils/dom"),m=require("../core/utils/type"),T=require("../core/templates/bindable_template"),g=require("../core/utils/window"),v=C(g);function C(t){return t&&t.__esModule?t:{default:t}}var E="dx-tabpanel",x="dx-tabpanel-tabs",O="dx-tabpanel-container",B="dx-tab-text",A=d.default.inherit({_getDefaultOptions:function(){return(0,s.extend)(this.callBase(),{itemTitleTemplate:"title",hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,onTitleClick:null,onTitleHold:null,onTitleRendered:null,badgeExpr:function(t){return t?t.badge:void 0}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===o.default.real().deviceType&&!o.default.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return!n.default.touch},options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}}])},_init:function(){this.callBase(),this.$element().addClass(E),this.setAria("role","tabpanel")},_initMarkup:function(){this.callBase(),this._createTitleActions(),this._renderLayout()},_initTemplates:function(){this.callBase(),this._defaultTemplates.title=new T.BindableTemplate(function(t,i){if((0,m.isPlainObject)(i)){(0,m.isDefined)(i.title)&&!(0,m.isPlainObject)(i.title)&&t.text(i.title);var n=(0,b.getImageContainer)(i.icon);n&&n.prependTo(t)}else(0,m.isDefined)(i)&&t.text(String(i));t.wrapInner((0,e.default)("<span>").addClass(B))},["title","icon"],this.option("integrationOptions.watchMethod"))},_createTitleActions:function(){this._createTitleClickAction(),this._createTitleHoldAction(),this._createTitleRenderedAction()},_createTitleClickAction:function(){this._titleClickAction=this._createActionByOption("onTitleClick")},_createTitleHoldAction:function(){this._titleHoldAction=this._createActionByOption("onTitleHold")},_createTitleRenderedAction:function(){this._titleRenderedAction=this._createActionByOption("onTitleRendered")},_renderContent:function(){var t=this;this.callBase(),this.option("templatesRenderAsynchronously")&&(this._resizeEventTimer=setTimeout(function(){t._updateLayout()},0))},_renderLayout:function(){if(!this._tabs){var t=this.$element();this._$tabContainer=(0,e.default)("<div>").addClass(x).appendTo(t);var i=(0,e.default)("<div>").appendTo(this._$tabContainer);this._tabs=this._createComponent(i,h.default,this._tabConfig()),this._$container=(0,e.default)("<div>").addClass(O).appendTo(t),this._$container.append(this._$wrapper),this._updateLayout()}},_updateLayout:function(){if(v.default.hasWindow()){var t=this._$tabContainer.outerHeight();this._$container.css({marginTop:-t,paddingTop:t})}},_refreshActiveDescendant:function(){if(this._tabs){var t=this._tabs,i=t.itemElements(),n=(0,e.default)(i[t.option("selectedIndex")]),s=this.getFocusedItemId();this.setAria("controls",void 0,(0,e.default)(i)),this.setAria("controls",s,n)}},_tabConfig:function(){return{selectOnFocus:!0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),repaintChangesOnly:this.option("repaintChangesOnly"),tabIndex:this.option("tabIndex"),selectedIndex:this.option("selectedIndex"),badgeExpr:this.option("badgeExpr"),onItemClick:this._titleClickAction.bind(this),onItemHold:this._titleHoldAction.bind(this),itemHoldTimeout:this.option("itemHoldTimeout"),onSelectionChanged:function(t){this.option("selectedIndex",t.component.option("selectedIndex")),this._refreshActiveDescendant()}.bind(this),onItemRendered:this._titleRenderedAction.bind(this),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:this.option("items"),noDataText:null,scrollingEnabled:this.option("scrollingEnabled"),scrollByContent:this.option("scrollByContent"),showNavButtons:this.option("showNavButtons"),itemTemplateProperty:"tabTemplate",loopItemFocus:this.option("loop"),selectionRequired:!0,onOptionChanged:function(t){if("focusedElement"===t.name)if(t.value){var i=(0,e.default)(t.value),n=this._itemElements().eq(i.index());this.option("focusedElement",(0,f.getPublicElement)(n))}else this.option("focusedElement",t.value)}.bind(this),onFocusIn:function(t){this._focusInHandler(t.event)}.bind(this),onFocusOut:function(t){this._isFocusOutHandlerExecuting||this._focusOutHandler(t.event)}.bind(this)}},_renderFocusTarget:function(){this._focusTarget().attr("tabIndex",-1)},_updateFocusState:function(t,e){this.callBase(t,e),t.target===this._tabs._focusTarget().get(0)&&this._toggleFocusClass(e,this._focusTarget())},_focusOutHandler:function(t){this._isFocusOutHandlerExecuting=!0,this.callBase.apply(this,arguments),this._tabs._focusOutHandler(t),this._isFocusOutHandlerExecuting=!1},_setTabsOption:function(t,e){this._tabs&&this._tabs.option(t,e)},_visibilityChanged:function(t){t&&(this._tabs._dimensionChanged(),this._updateLayout())},registerKeyHandler:function(t,e){this.callBase(t,e),this._tabs&&this._tabs.registerKeyHandler(t,e)},repaint:function(){this.callBase(),this._tabs.repaint()},_optionChanged:function(t){var i=t.name,n=t.value,s=t.fullName;switch(i){case"dataSource":this.callBase(t);break;case"items":this._setTabsOption(i,this.option(i)),this._updateLayout(),this.option("repaintChangesOnly")||this._tabs.repaint(),this.callBase(t);break;case"width":this.callBase(t),this._tabs.repaint();break;case"selectedIndex":case"selectedItem":case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(s,n),this.callBase(t);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(s,n);break;case"focusedElement":var a=n?(0,e.default)(n).index():n,o=n?this._tabs._itemElements().eq(a):n;this._setTabsOption("focusedElement",(0,f.getPublicElement)(o)),this.callBase(t);break;case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._createTitleClickAction(),this._setTabsOption("onItemClick",this._titleClickAction.bind(this));break;case"onTitleHold":this._createTitleHoldAction(),this._setTabsOption("onItemHold",this._titleHoldAction.bind(this));break;case"onTitleRendered":this._createTitleRenderedAction(),this._setTabsOption("onItemRendered",this._titleRenderedAction.bind(this));break;case"loop":this._setTabsOption("loopItemFocus",n);break;case"badgeExpr":this._invalidate();break;default:this.callBase(t)}},_clean:function(){clearTimeout(this._resizeEventTimer),this.callBase()}});A.ItemClass=_.default,(0,c.default)("dxTabPanel",A),module.exports=A,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../core/utils/support":"eZC7","../core/utils/extend":"ac8T","../core/devices":"LpzF","../core/component_registrator":"g3fO","./multi_view":"bOgt","./tabs":"VZ8a","./tab_panel/item":"Hh1X","../core/utils/icon":"W6A0","../core/utils/dom":"vDwZ","../core/utils/type":"Mw4w","../core/templates/bindable_template":"pNX9","../core/utils/window":"NXH3"}],"pIpj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),t=require("../../core/class");function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function i(e){n(this,i),this._options=e,this._itemsRunTimeInfo=this._options.itemsRunTimeInfo}return e(i,[{key:"findInstance",value:function(){return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)}},{key:"findItemContainer",value:function(){return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)}},{key:"tryExecute",value:function(){(0,t.abstract)()}}]),i}();exports.default=i;
},{"../../core/class":"YpjV"}],"O9ht":[function(require,module,exports) {
"use strict";var t=require("../../core/utils/type");function e(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var r=function(t,e){return(e?"tabs":"items")+"["+t+"]"},n=function(e,r){return(0,t.isDefined)(e)&&(0,t.isDefined)(r)?e+"."+r:e||r},i=function(t){return t?t.replace(/\s/g,""):void 0},o=function(t,e){return t&&(t.dataField===e||t.name===e||i(t.title)===e||"group"===t.itemType&&i(t.caption)===e)},a=function(t,e){return t+"."+e},u=function(t){var e=t.split(".");return e[e.length-1].replace(/\[\d+]/,"")},s=function(t){for(var r=t.split("."),n=[].concat(e(r)),i=r.length-1;i>=0;i--){if(c(r[i]))return n.join(".");n.splice(i,1)}return""},c=function(t){return t.indexOf("tabs")>-1};exports.getOptionNameFromFullName=u,exports.getFullOptionName=a,exports.getTextWithoutSpaces=i,exports.isExpectedItem=o,exports.createItemPathByIndex=r,exports.concatPaths=n,exports.tryGetTabPath=s,exports.isFullPathContainsTabs=c;
},{"../../core/utils/type":"Mw4w"}],"LSf2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t=require("./ui.form.item_option_action"),n=u(t),r=require("../../core/element_data"),o=require("../../core/utils/extend"),i=require("./ui.form.utils");function u(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(t){function r(){return a(this,r),s(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return c(r,n.default),e(r,[{key:"tryExecute",value:function(){var e=this._options.value,t=this.findInstance();return!!t&&(t.option(e),!0)}}]),r}(),f=function(t){function r(){return a(this,r),s(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return c(r,n.default),e(r,[{key:"tryExecute",value:function(){var e=this.findInstance();if(e){var t=this._options,n=t.optionName,r=t.item,o=t.value,u=this._itemsRunTimeInfo.findItemIndexByItem(r);if(u>=0)return e.option((0,i.getFullOptionName)("items["+u+"]",n),o),!0}return!1}}]),r}(),p=function(t){function o(){return a(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return c(o,n.default),e(o,[{key:"tryExecute",value:function(){var e=this._options.item,t=this.findInstance(),n=t&&(0,r.data)(t.$element()[0],"dxValidator");if(n&&e){var o=function(e){return"required"===e.type},i=(n.option("validationRules")||[]).some(o),u=(e.validationRules||[]).some(o);if(!i&&!u||i&&u)return n.option("validationRules",e.validationRules),!0}return!1}}]),o}(),d=function(t){function r(){return a(this,r),s(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return c(r,n.default),e(r,[{key:"tryExecute",value:function(){var e=this.findItemContainer(),t=this._options,n=t.previousValue,r=t.value;return!!e&&(e.removeClass(n).addClass(r),!0)}}]),r}(),y=function(e,t){switch(e){case"editorOptions":case"buttonOptions":return new l(t);case"validationRules":return new p(t);case"cssClass":return new d(t);case"badge":case"disabled":case"icon":case"template":case"tabTemplate":case"title":return new f((0,o.extend)(t,{optionName:e}));default:return null}};exports.default=y;
},{"./ui.form.item_option_action":"pIpj","../../core/element_data":"yYfn","../../core/utils/extend":"ac8T","./ui.form.utils":"O9ht"}],"F1O6":[function(require,module,exports) {
"use strict";var t=require("../core/component_registrator"),i=f(t),e=require("../events/core/events_engine"),n=f(e),a=require("../core/utils/common"),o=require("../core/utils/extend"),r=require("../core/utils/iterator"),u=f(r),s=require("./validation_engine"),l=f(s),d=require("./collection/ui.collection_widget.edit"),c=f(d);function f(t){return t&&t.__esModule?t:{default:t}}var p="dx-validationsummary",m=p+"-item",v=p+"-item-data",h=c.default.inherit({_getDefaultOptions:function(){return(0,o.extend)(this.callBase(),{focusStateEnabled:!1,noDataText:null})},_setOptionsByReference:function(){this.callBase(),(0,o.extend)(this._optionsByReference,{validationGroup:!0})},_init:function(){this.callBase(),this._initGroupRegistration()},_initGroupRegistration:function(){var t=this.$element(),i=this.option("validationGroup")||l.default.findGroup(t,this._modelByElement(t)),e=l.default.addGroup(i);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=i,this.groupSubscription=this._groupValidationHandler.bind(this),e.on("validated",this.groupSubscription)},_unsubscribeGroup:function(){var t=l.default.getGroupConfig(this._validationGroup);t&&t.off("validated",this.groupSubscription)},_getOrderedItems:function(t,i){var e=[];return u.default.each(t,function(t,n){var o=(0,a.grep)(i,function(t){if(t.validator===n)return!0});o.length&&(e=e.concat(o))}),e},_groupValidationHandler:function(t){var i=this,e=this._getOrderedItems(t.validators,u.default.map(t.brokenRules,function(t){return{text:t.message,validator:t.validator,index:t.index}}));this.validators=t.validators,u.default.each(this.validators,function(t,e){if(e._validationSummary!==i){var n=i._itemValidationHandler.bind(i);e.on("validated",n),e.on("disposing",function(){e.off("validated",n),e._validationSummary=null,n=null}),e._validationSummary=i}}),this.option("items",e)},_itemValidationHandler:function(t){for(var i=t.isValid,e=t.validator,n=t.brokenRules,o=this.option("items"),r=!1,s=0,l=function(){var t=o[s];if(t.validator===e){var u=(0,a.grep)(n||[],function(i){return i.index===t.index})[0];if(i||!u)return o.splice(s,1),r=!0,"continue";u.message!==t.text&&(t.text=u.message,r=!0)}s++};s<o.length;)l();u.default.each(n,function(t,i){(0,a.grep)(o,function(t){return t.validator===e&&t.index===i.index})[0]||(o.push({text:i.message,validator:e,index:i.index}),r=!0)}),r&&(o=this._getOrderedItems(this.validators,o),this.option("items",o))},_initMarkup:function(){this.$element().addClass(p),this.callBase()},_optionChanged:function(t){switch(t.name){case"validationGroup":this._initGroupRegistration();break;default:this.callBase(t)}},_itemClass:function(){return m},_itemDataKey:function(){return v},_postprocessRenderItem:function(t){n.default.on(t.itemElement,"click",function(){t.itemData.validator&&t.itemData.validator.focus&&t.itemData.validator.focus()})},_dispose:function(){this.callBase(),this._unsubscribeGroup()}});(0,i.default)("dxValidationSummary",h),module.exports=h,module.exports.default=module.exports;
},{"../core/component_registrator":"g3fO","../events/core/events_engine":"oNrb","../core/utils/common":"GcQA","../core/utils/extend":"ac8T","../core/utils/iterator":"FHcO","./validation_engine":"E8TJ","./collection/ui.collection_widget.edit":"IZYs"}],"nXKr":[function(require,module,exports) {
"use strict";var t=function(){function t(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,o,r){return o&&t(e.prototype,o),r&&t(e,r),e}}(),e=function t(e,o,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,o);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,o,r)}if("value"in n)return n.value;var u=n.get;return void 0!==u?u.call(r):void 0},o=require("../core/renderer"),r=_(o),n=require("../core/component_registrator"),i=_(n),u=require("../core/dom_component"),a=_(u),l=require("./validation_summary"),p=_(l),c=require("./validation_engine"),f=_(c),s=require("./validator"),d=_(s);function _(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b="dx-validationgroup",O="dx-validator",g="dx-validationsummary",m=function(o){function n(){return y(this,n),v(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return h(n,a.default),t(n,[{key:"_getDefaultOptions",value:function(){return e(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_getDefaultOptions",this).call(this)}},{key:"_init",value:function(){e(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_init",this).call(this),f.default.addGroup(this)}},{key:"_initMarkup",value:function(){var t=this.$element();t.addClass(b),t.find("."+O).each(function(t,e){d.default.getInstance((0,r.default)(e))._initGroupRegistration()}),t.find("."+g).each(function(t,e){p.default.getInstance((0,r.default)(e))._initGroupRegistration()}),e(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_initMarkup",this).call(this)}},{key:"validate",value:function(){return f.default.validateGroup(this)}},{key:"reset",value:function(){return f.default.resetGroup(this)}},{key:"_dispose",value:function(){f.default.removeGroup(this),this.$element().removeClass(b),e(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_dispose",this).call(this)}}]),n}();(0,i.default)("dxValidationGroup",m),module.exports=m,module.exports.default=module.exports;
},{"../core/renderer":"qxFQ","../core/component_registrator":"g3fO","../core/dom_component":"Jnhm","./validation_summary":"F1O6","./validation_engine":"E8TJ","./validator":"QVx0"}],"zYAO":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=V(e),n=require("../../events/core/events_engine"),i=V(n),a=require("../../core/component_registrator"),o=V(a),r=require("../../core/guid"),s=V(r),l=require("../../core/utils/common"),u=require("../../core/utils/type"),d=require("../../core/utils/iterator"),c=require("../../core/utils/array"),m=require("../../core/utils/extend"),h=require("../../core/utils/string"),p=require("../../core/utils/browser"),f=V(p),g=require("../../core/utils/dom"),_=require("../../localization/message"),y=V(_),C=require("../widget/ui.widget"),b=V(C),I=require("../editor/editor"),v=V(I),L=require("../../core/utils/window"),O=require("../validation_engine"),T=V(O),x=require("./ui.form.layout_manager"),M=V(x),B=require("./ui.form.items_runtime_info"),S=V(B),F=require("../tab_panel"),D=V(F),w=require("../scroll_view/ui.scrollable"),G=V(w),R=require("../../core/utils/deferred"),E=require("../themes"),q=V(E),W=require("./ui.form.item_options_actions"),k=V(W),P=require("./ui.form.utils");function V(e){return e&&e.__esModule?e:{default:e}}require("../validation_summary"),require("../validation_group");var N="dx-form",A="dx-field-item",$="dx-field-item-label-text",K="dx-form-group",j="dx-form-group-content",H="dx-form-group-with-caption",U="dx-form-group-caption",z="dx-layout-manager-hidden-label",J="dx-field-item-label",Q="dx-field-item-label-content",X="dx-field-item-tab",Y="dx-col-",Z="dx-group-colcount-",ee="dx-field-item-content",te="dx-form-validation-summary",ne="dx-widget",ie="dx-state-focused",ae=["items","isRequired","validationRules","visible"],oe=b.default.inherit({_init:function(){this.callBase(),this._cachedColCountOptions=[],this._itemsRunTimeInfo=new S.default,this._groupsColCount=[],this._attachSyncSubscriptions()},_initOptions:function(e){"screenByWidth"in e||(e.screenByWidth=L.defaultScreenFactorFunc),this.callBase(e)},_getDefaultOptions:function(){return(0,m.extend)(this.callBase(),{formID:"dx-"+new s.default,formData:{},colCount:1,screenByWidth:null,colCountByScreen:void 0,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:y.default.format("dxForm-optionalMark"),requiredMessage:y.default.getFormatter("dxForm-requiredMessage"),showValidationSummary:!1,items:void 0,scrollingEnabled:!1,validationGroup:void 0,stylingMode:void 0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return q.default.isMaterial()},options:{showColonAfterLabel:!1,labelLocation:"top"}}])},_setOptionsByReference:function(){this.callBase(),(0,m.extend)(this._optionsByReference,{formData:!0,validationGroup:!0})},_getColCount:function(e){for(var t=0,n=!0;n;)e.find("."+Y+t).length?t++:n=!1;return t},_createHiddenElement:function(e){this._$hiddenElement=(0,t.default)("<div>").addClass(ne).addClass(z).appendTo("body");var n=e._renderLabel({text:" ",location:this._labelLocation()}).appendTo(this._$hiddenElement);this._hiddenLabelText=n.find("."+$)[0]},_removeHiddenElement:function(){this._$hiddenElement.remove(),this._hiddenLabelText=null},_getLabelWidthByText:function(e){return this._hiddenLabelText.innerHTML=e,this._hiddenLabelText.offsetWidth},_getLabelsSelectorByCol:function(e,t){return"."+((t=t||{}).inOneColumn?A:Y+e)+(t.excludeTabbed?":not(."+X+")":"")+("> ."+J+" > ."+Q)},_getLabelText:function(e){var t,n,i=e.children.length,a="";for(n=0;n<i;n++)t=e.children[n],a+=(0,h.isEmpty)(t.innerText)?t.innerHTML:t.innerText;return a},_applyLabelsWidthByCol:function(e,t,n){var i,a,o=e.find(this._getLabelsSelectorByCol(t,n)),r=o.length,s=0;for(a=0;a<r;a++)(i=this._getLabelWidthByText(this._getLabelText(o[a])))>s&&(s=i);for(a=0;a<r;a++)o[a].style.width=s+"px"},_applyLabelsWidth:function(e,t,n,i){i=n?1:i||this._getColCount(e);var a,o={excludeTabbed:t,inOneColumn:n};for(a=0;a<i;a++)this._applyLabelsWidthByCol(e,a,o)},_getGroupElementsInColumn:function(e,t,n){var i=(0,u.isDefined)(n)?"."+Z+n:"",a="."+Y+t+" > ."+ee+" > ."+K+i;return e.find(a)},_applyLabelsWidthWithGroups:function(e,t,n){if(this.option("alignItemLabelsInAllGroups"))this._applyLabelsWidthWithNestedGroups(e,t,n);else{var i,a=this.$element().find("."+K);for(i=0;i<a.length;i++)this._applyLabelsWidth(a.eq(i),n)}},_applyLabelsWidthWithNestedGroups:function(e,t,n){var i,a,o,r,s={excludeTabbed:n};for(i=0;i<t;i++)for(r=this._getGroupElementsInColumn(e,i),this._applyLabelsWidthByCol(r,0,s),a=0;a<this._groupsColCount.length;a++){r=this._getGroupElementsInColumn(e,i,this._groupsColCount[a]);var l=this._getColCount(r);for(o=1;o<l;o++)this._applyLabelsWidthByCol(r,o,s)}},_labelLocation:function(){return this.option("labelLocation")},_alignLabelsInColumn:function(e){var t=e.layoutManager,n=e.inOneColumn,i=e.$container,a=e.excludeTabbed,o=e.items;(0,L.hasWindow)()&&"top"!==this._labelLocation()&&(this._createHiddenElement(t),n?this._applyLabelsWidth(i,a,!0):this._checkGrouping(o)?this._applyLabelsWidthWithGroups(i,t._getColCount(),a):this._applyLabelsWidth(i,a,!1,t._getColCount()),this._removeHiddenElement())},_prepareFormData:function(){(0,u.isDefined)(this.option("formData"))||this.option("formData",{})},_initMarkup:function(){T.default.addGroup(this._getValidationGroup()),this._clearCachedInstances(),this._prepareFormData(),this.$element().addClass(N),this.callBase(),this.setAria("role","form",this.$element()),this.option("scrollingEnabled")&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary(),this._lastMarkupScreenFactor=this._targetScreenFactor||this._getCurrentScreenFactor()},_getCurrentScreenFactor:function(){return(0,L.hasWindow)()?(0,L.getCurrentScreenFactor)(this.option("screenByWidth")):"lg"},_clearCachedInstances:function(){this._itemsRunTimeInfo.clear(),this._cachedLayoutManagers=[]},_alignLabels:function(e,t){this._alignLabelsInColumn({$container:this.$element(),layoutManager:e,excludeTabbed:!0,items:this.option("items"),inOneColumn:t})},_clean:function(){this.callBase(),this._groupsColCount=[],this._cachedColCountOptions=[],this._lastMarkupScreenFactor=void 0},_renderScrollable:function(){var e=this.option("useNativeScrolling");this._scrollable=new G.default(this.$element(),{useNative:!!e,useSimulatedScrollbar:!e,useKeyboard:!1,direction:"both",bounceEnabled:!1})},_getContent:function(){return this.option("scrollingEnabled")?this._scrollable.$content():this.$element()},_renderValidationSummary:function(){var e=this.$element().find("."+te);if(e.length>0&&e.remove(),this.option("showValidationSummary")){var n=(0,t.default)("<div>").addClass(te).appendTo(this._getContent());this._validationSummary=n.dxValidationSummary({validationGroup:this._getValidationGroup()}).dxValidationSummary("instance")}},_prepareItems:function(e,t,n,i){if(e){for(var a=[],o=0;o<e.length;o++){var r=e[o],s=(0,P.concatPaths)(n,(0,P.createItemPathByIndex)(o,i)),l=this._itemsRunTimeInfo.add({item:r,itemIndex:o,path:s});if((0,u.isObject)(r)){var d=(0,m.extend)({},r);d.guid=l,this._tryPrepareGroupItem(d),this._tryPrepareTabbedItem(d,s),this._tryPrepareItemTemplate(d),t&&(d.cssItemClass=X),d.items&&(d.items=this._prepareItems(d.items,t,s)),a.push(d)}else a.push(r)}return a}},_tryPrepareGroupItem:function(e){"group"===e.itemType&&(e.alignItemLabels=(0,l.ensureDefined)(e.alignItemLabels,!0),e.template&&(e.groupContentTemplate=this._getTemplate(e.template)),e.template=this._itemGroupTemplate.bind(this,e))},_tryPrepareTabbedItem:function(e,t){"tabbed"===e.itemType&&(e.template=this._itemTabbedTemplate.bind(this,e),e.tabs=this._prepareItems(e.tabs,!0,t,!0))},_tryPrepareItemTemplate:function(e){e.template&&(e.template=this._getTemplate(e.template))},_checkGrouping:function(e){if(e)for(var t=0;t<e.length;t++){if("group"===e[t].itemType)return!0}},_renderLayout:function(){var e=this,t=e.option("items"),n=e._getContent();t=e._prepareItems(t),e._rootLayoutManager=e._renderLayoutManager(t,n,{colCount:e.option("colCount"),alignItemLabels:e.option("alignItemLabels"),screenByWidth:this.option("screenByWidth"),colCountByScreen:this.option("colCountByScreen"),onLayoutChanged:function(t){e._alignLabels.bind(e)(e._rootLayoutManager,t)},onContentReady:function(t){e._alignLabels(t.component,t.component.isSingleColumnMode())}})},_tryGetItemsForTemplate:function(e){return e.items||[]},_itemTabbedTemplate:function(e,n,i){var a=this,o=(0,t.default)("<div>").appendTo(i),r=(0,m.extend)({},e.tabPanelOptions,{dataSource:e.tabs,onItemRendered:function(e){return(0,g.triggerShownEvent)(e.itemElement)},itemTemplate:function(e,n,i){var o=(0,t.default)(i),r=(0,l.ensureDefined)(e.alignItemLabels,!0),s=a._renderLayoutManager(a._tryGetItemsForTemplate(e),o,{colCount:e.colCount,alignItemLabels:r,screenByWidth:a.option("screenByWidth"),colCountByScreen:e.colCountByScreen,cssItemClass:e.cssItemClass,onLayoutChanged:function(t){a._alignLabelsInColumn({$container:o,layoutManager:s,items:e.items,inOneColumn:t})}});a._itemsRunTimeInfo&&a._itemsRunTimeInfo.extendRunTimeItemInfoByKey(e.guid,{layoutManager:s}),r&&a._alignLabelsInColumn({$container:o,layoutManager:s,items:e.items,inOneColumn:s.isSingleColumnMode()})}}),s=this._createComponent(o,D.default,r);e.tabs&&e.tabs.forEach(function(e){return a._itemsRunTimeInfo.extendRunTimeItemInfoByKey(e.guid,{widgetInstance:s})})},_itemGroupTemplate:function(e,n,i){var a,o,r,s=(0,t.default)("<div>").toggleClass(H,(0,u.isDefined)(e.caption)&&e.caption.length).addClass(K).appendTo(i);if(e.caption&&(0,t.default)("<span>").addClass(U).text(e.caption).appendTo(s),a=(0,t.default)("<div>").addClass(j).appendTo(s),e.groupContentTemplate){var l={formData:this.option("formData"),component:this};e.groupContentTemplate.render({model:l,container:(0,g.getPublicElement)(a)})}else r=this._renderLayoutManager(this._tryGetItemsForTemplate(e),a,{colCount:e.colCount,colCountByScreen:e.colCountByScreen,alignItemLabels:e.alignItemLabels,cssItemClass:e.cssItemClass}),this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(e.guid,{layoutManager:r}),o=r._getColCount(),-1===(0,c.inArray)(o,this._groupsColCount)&&this._groupsColCount.push(o),s.addClass(Z+o)},_renderLayoutManager:function(e,n,i){var a,o=(0,t.default)("<div>"),r=this,s=r._getLayoutManagerConfig(e,i),l={lg:i.colCount,md:i.colCount,sm:i.colCount,xs:1};return r._cachedColCountOptions.push({colCountByScreen:(0,m.extend)(l,i.colCountByScreen)}),o.appendTo(n),(a=r._createComponent(o,"dxLayoutManager",s)).on("autoColCountChanged",function(){r._refresh()}),r._cachedLayoutManagers.push(a),a},_getValidationGroup:function(){return this.option("validationGroup")||this},_getLayoutManagerConfig:function(e,t){var n=this,i={form:n,validationGroup:n._getValidationGroup(),showRequiredMark:n.option("showRequiredMark"),showOptionalMark:n.option("showOptionalMark"),requiredMark:n.option("requiredMark"),optionalMark:n.option("optionalMark"),requiredMessage:n.option("requiredMessage"),screenByWidth:n.option("screenByWidth"),layoutData:n.option("formData"),labelLocation:n.option("labelLocation"),customizeItem:n.option("customizeItem"),minColWidth:n.option("minColWidth"),showColonAfterLabel:n.option("showColonAfterLabel"),onEditorEnterKey:n.option("onEditorEnterKey"),onFieldDataChanged:function(e){n._isDataUpdating||n._triggerOnFieldDataChanged(e)},validationBoundary:n.option("scrollingEnabled")?n.$element():void 0};return(0,m.extend)(i,{items:e,onContentReady:function(e){n._itemsRunTimeInfo.addItemsOrExtendFrom(e.component._itemsRunTimeInfo),t.onContentReady&&t.onContentReady(e)},colCount:t.colCount,alignItemLabels:t.alignItemLabels,cssItemClass:t.cssItemClass,colCountByScreen:t.colCountByScreen,onLayoutChanged:t.onLayoutChanged,width:t.width})},_createComponent:function(e,t,n){return n=n||{},this._extendConfig(n,{readOnly:this.option("readOnly")}),this.callBase(e,t,n)},_attachSyncSubscriptions:function(){var e=this;e.on("optionChanged",function(t){var n=t.fullName;"formData"===n&&((0,u.isDefined)(t.value)||(e._options.formData=t.value={}),e._triggerOnFieldDataChangedByDataSet(t.value)),e._cachedLayoutManagers.length&&(0,d.each)(e._cachedLayoutManagers,function(i,a){"formData"===n&&(e._isDataUpdating=!0,a.option("layoutData",t.value),e._isDataUpdating=!1),"readOnly"!==t.name&&"disabled"!==t.name||a.option(n,t.value)})})},_optionChanged:function(e){var t=this._getRootLevelOfExpectedComplexOption(e.fullName,["formData","items"]);if(t)this._customHandlerOfComplexOption(e,t);else switch(e.name){case"formData":this.option("items")?(0,u.isEmptyObject)(e.value)&&this._resetValues():this._invalidate();break;case"items":case"colCount":case"onFieldDataChanged":case"onEditorEnterKey":case"labelLocation":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":case"colCountByScreen":case"screenByWidth":case"stylingMode":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":"auto"===this.option("colCount")&&this._invalidate();break;case"readOnly":break;case"width":this.callBase(e),this._rootLayoutManager.option(e.name,e.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode());break;case"visible":this.callBase(e),e.value&&(0,g.triggerShownEvent)(this.$element());break;case"validationGroup":T.default.removeGroup(e.previousValue||this),this._invalidate();break;default:this.callBase(e)}},_getRootLevelOfExpectedComplexOption:function(e,t){var n,i=e.split(".");if(i.length>1){var a,o=i[0];for(a=0;a<t.length;a++)-1!==o.search(t[a])&&(n=t[a])}return n},_tryCreateItemOptionAction:function(e,t,n,i){return(0,k.default)(e,{item:t,value:n,previousValue:i,itemsRunTimeInfo:this._itemsRunTimeInfo})},_tryExecuteItemOptionAction:function(e){return e&&e.tryExecute()},_updateValidationGroupAndSummaryIfNeeded:function(e){var t=(0,P.getOptionNameFromFullName)(e);ae.indexOf(t)>-1&&(T.default.addGroup(this._getValidationGroup()),this.option("showValidationSummary")&&this._validationSummary&&this._validationSummary._initGroupRegistration())},_setLayoutManagerItemOption:function(e,t,n,i){var a=this;if(this._updateLockCount>0){!e._updateLockCount&&e.beginUpdate();var o=this._itemsRunTimeInfo.getKeyByPath(i);this.postponedOperations.add(o,function(){return e.endUpdate(),(new R.Deferred).resolve()})}e.on("contentReady",function e(t){if(t.component.off("contentReady",e),(0,P.isFullPathContainsTabs)(i)){var n=(0,P.tryGetTabPath)(i),o=a._itemsRunTimeInfo.getGroupOrTabLayoutManagerByPath(n);a._alignLabelsInColumn({items:o.option("items"),layoutManager:o,$container:o.$element(),inOneColumn:o.isSingleColumnMode()})}else a._alignLabels(a._rootLayoutManager,a._rootLayoutManager.isSingleColumnMode())}),e.option(t,n),this._updateValidationGroupAndSummaryIfNeeded(t)},_tryChangeLayoutManagerItemOption:function(e,t){var n=e.split("."),i=(0,P.getOptionNameFromFullName)(e);if("items"===i&&n.length>1){var a=this._getItemPath(n),o=this._itemsRunTimeInfo.getGroupOrTabLayoutManagerByPath(a);if(o){this._itemsRunTimeInfo.removeItemsByItems(o.getItemsRunTimeInfo());var r=this._prepareItems(t,!1,a);return this._setLayoutManagerItemOption(o,i,r,a),!0}}else if(n.length>2){var s=n.length-2,l=this._getItemPath(n.slice(0,s)),u=this._itemsRunTimeInfo.getGroupOrTabLayoutManagerByPath(l);if(u){var d=(0,P.getFullOptionName)(n[s],i);return this._setLayoutManagerItemOption(u,d,t,l),!0}}return!1},_tryChangeLayoutManagerItemOptions:function(e,t){var n=this,i=void 0;return this.beginUpdate(),(0,d.each)(t,function(t,a){if(!(i=n._tryChangeLayoutManagerItemOption((0,P.getFullOptionName)(e,t),a)))return!1}),this.endUpdate(),i},_customHandlerOfComplexOption:function(e,t){var n=e.fullName.split("."),i=e.value;if("items"===t){var a=this._getItemPath(n),o=this.option(a),r=e.fullName.replace(a+".",""),s=r.split(".")[0].replace(/\[\d+]/,""),l=this._tryCreateItemOptionAction(s,o,o[s],e.previousValue);if(!this._tryExecuteItemOptionAction(l)&&!this._tryChangeLayoutManagerItemOption(e.fullName,i)&&o){this._changeItemOption(o,r,i);var u=this._generateItemsFromData(this.option("items"));this.option("items",u)}}if("formData"===t){var d=n.slice(1).join("."),c=this.getEditor(d);c?c.option("value",i):this._triggerOnFieldDataChanged({dataField:d,value:i})}},_getItemPath:function(e){var t,n=e[0];for(t=1;t<e.length&&-1!==e[t].search(/items\[\d+]|tabs\[\d+]/);t++)n+="."+e[t];return n},_triggerOnFieldDataChanged:function(e){this._createActionByOption("onFieldDataChanged")(e)},_triggerOnFieldDataChangedByDataSet:function(e){var t=this;e&&(0,u.isObject)(e)&&(0,d.each)(e,function(e,n){t._triggerOnFieldDataChanged({dataField:e,value:n})})},_updateFieldValue:function(e,t){if((0,u.isDefined)(this.option("formData"))){var n=this.getEditor(e);if(this.option("formData."+e,t),n)n.option("value")!==t&&n.option("value",t)}},_generateItemsFromData:function(e){var t=this.option("formData"),n=[];return!e&&(0,u.isDefined)(t)&&(0,d.each)(t,function(e){n.push({dataField:e})}),e&&(0,d.each)(e,function(e,t){(0,u.isObject)(t)?n.push(t):n.push({dataField:t})}),n},_getItemByField:function(e,t){var n,i=this,a=(0,u.isObject)(e)?e:i._getFieldParts(e),o=a.fieldName,r=a.fieldPath;return t.length&&(0,d.each)(t,function(e,t){var a=t.itemType;if(r.length){var s=r.slice();t=i._getItemByFieldPath(s,o,t)}else if("group"===a&&!t.caption&&!t.name||"tabbed"===a&&!t.name){var l=i._getSubItemField(a);t.items=i._generateItemsFromData(t.items),t=i._getItemByField({fieldName:o,fieldPath:r},t[l])}if((0,P.isExpectedItem)(t,o))return n=t,!1}),n},_getFieldParts:function(e){for(var t=e,n=t.indexOf("."),i=[];-1!==n;)i.push(t.substr(0,n)),n=(t=t.substr(n+1)).indexOf(".");return{fieldName:t,fieldPath:i.reverse()}},_getItemByFieldPath:function(e,t,n){var i,a=n.itemType,o=this._getSubItemField(a),r="group"===a||"tabbed"===a||n.title;do{if(!r)break;var s,l=n.name||n.caption||n.title,d=(0,u.isDefined)(l),c=(0,P.getTextWithoutSpaces)(l);if(n[o]=this._generateItemsFromData(n[o]),d&&(s=e.pop()),!e.length&&(i=this._getItemByField(t,n[o])))break;(!d||d&&c===s)&&e.length&&(i=this._searchItemInEverySubItem(e,t,n[o]))}while(e.length&&!(0,u.isDefined)(i));return i},_getSubItemField:function(e){return"tabbed"===e?"tabs":"items"},_searchItemInEverySubItem:function(e,t,n){var i,a=this;return(0,d.each)(n,function(n,o){if(i=a._getItemByFieldPath(e.slice(),t,o))return!1}),i||(i=!1),i},_changeItemOption:function(e,t,n){(0,u.isObject)(e)&&(e[t]=n)},_dimensionChanged:function(){var e=this._getCurrentScreenFactor();this._lastMarkupScreenFactor!==e&&(this._isColCountChanged(this._lastMarkupScreenFactor,e)&&(this._targetScreenFactor=e,this._refresh(),this._targetScreenFactor=void 0),this._lastMarkupScreenFactor=e)},_isColCountChanged:function(e,t){var n=!1;return(0,d.each)(this._cachedColCountOptions,function(i,a){if(a.colCountByScreen[e]!==a.colCountByScreen[t])return n=!0,!1}),n},_refresh:function(){var e="."+ie+" input, ."+ie+" textarea";i.default.trigger(this.$element().find(e),"change"),this.callBase()},_resetValues:function(){this._itemsRunTimeInfo.each(function(e,t){(0,u.isDefined)(t.widgetInstance)&&t.widgetInstance instanceof v.default&&(t.widgetInstance.reset(),t.widgetInstance.option("isValid",!0))}),T.default.resetGroup(this._getValidationGroup())},_updateData:function(e,t,n){var i=this,a=n?t:e;(0,u.isObject)(a)?(0,d.each)(a,function(t,a){i._updateData(n?e+"."+t:t,a,(0,u.isObject)(a))}):(0,u.isString)(e)&&i._updateFieldValue(e,t)},registerKeyHandler:function(e,t){this.callBase(e,t),this._itemsRunTimeInfo.each(function(n,i){(0,u.isDefined)(i.widgetInstance)&&i.widgetInstance.registerKeyHandler(e,t)})},_focusTarget:function(){return this.$element().find("."+ee+" [tabindex]").first()},_visibilityChanged:function(e){e&&f.default.msie&&this._refresh()},_dispose:function(){T.default.removeGroup(this._getValidationGroup()),this.callBase()},resetValues:function(){this._resetValues()},updateData:function(e,t){this._updateData(e,t)},getEditor:function(e){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(e)||this._itemsRunTimeInfo.findWidgetInstanceByName(e)},getButton:function(e){return this._itemsRunTimeInfo.findWidgetInstanceByName(e)},updateDimensions:function(){var e=this,t=new R.Deferred;return e._scrollable?e._scrollable.update().done(function(){t.resolveWith(e)}):t.resolveWith(e),t.promise()},itemOption:function(e,t,n){var i=this,a=this._generateItemsFromData(this.option("items")),o=this._getItemByField(e,a),r=this._itemsRunTimeInfo.getPathFromItem(o);if(o)switch(arguments.length){case 1:return o;case 3:var s=this._tryCreateItemOptionAction(t,o,n,o[t]);this._changeItemOption(o,t,n);var l=(0,P.getFullOptionName)(r,t);this._tryExecuteItemOptionAction(s)||this._tryChangeLayoutManagerItemOption(l,n)||this.option("items",a);break;default:if((0,u.isObject)(t)&&!this._tryChangeLayoutManagerItemOptions(r,t)){var c=void 0;(0,d.each)(t,function(e,t){var n=i._tryCreateItemOptionAction(e,o,t,o[e]);i._changeItemOption(o,e,t),c||i._tryExecuteItemOptionAction(n)||(c=!0)}),c&&this.option("items",a)}}},validate:function(){return T.default.validateGroup(this._getValidationGroup())},getItemID:function(e){return"dx_"+this.option("formID")+"_"+(e||new s.default)},getTargetScreenFactor:function(){return this._targetScreenFactor}});(0,o.default)("dxForm",oe),module.exports=oe;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/component_registrator":"g3fO","../../core/guid":"tQQP","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/iterator":"FHcO","../../core/utils/array":"uivT","../../core/utils/extend":"ac8T","../../core/utils/string":"X4J5","../../core/utils/browser":"nlvS","../../core/utils/dom":"vDwZ","../../localization/message":"Njcj","../widget/ui.widget":"gtOK","../editor/editor":"IJZF","../../core/utils/window":"NXH3","../validation_engine":"E8TJ","./ui.form.layout_manager":"eEg2","./ui.form.items_runtime_info":"NGcK","../tab_panel":"ZoEO","../scroll_view/ui.scrollable":"tHRk","../../core/utils/deferred":"g5TB","../themes":"k2ha","./ui.form.item_options_actions":"LSf2","./ui.form.utils":"O9ht","../validation_summary":"F1O6","../validation_group":"nXKr"}],"C6st":[function(require,module,exports) {
"use strict";module.exports=require("./form/ui.form"),module.exports.default=module.exports;
},{"./form/ui.form":"zYAO"}],"tSGQ":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=L(e),i=require("../../core/dom_adapter"),n=L(i),a=require("../../core/utils/window"),o=require("../../events/core/events_engine"),d=L(o),r=require("../../core/guid"),l=L(r),s=require("../../core/utils/type"),u=L(s),c=require("../../core/utils/iterator"),f=require("../../core/utils/extend"),h=require("./ui.grid_core.modules"),p=L(h),g=require("../../events/click"),w=L(g),m=require("../../events/double_click"),_=L(m),C=require("../../events/pointer"),v=L(C),E=require("./ui.grid_core.utils"),x=require("../../events/utils"),I=require("../dialog"),y=L(I),R=require("../../localization/message"),D=L(R),b=require("../button"),k=L(b),T=require("../popup"),V=L(T),B=require("../widget/ui.errors"),F=L(B),P=require("../../core/devices"),A=L(P),O=require("../form"),S=L(O),N=require("../../events/hold"),q=L(N),U=require("../../core/utils/deferred"),M=L(U),G=require("../../core/utils/common"),W=L(G),H=require("../../core/utils/icon"),K=L(H),j=require("../scroll_view/ui.scrollable"),$=L(j);function L(e){return e&&e.__esModule?e:{default:e}}function z(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var X="edit-form",Y="edit-form-item",J="focus-overlay",Q="readonly",Z="edit-popup",ee="form-buttons-container",te="addrow-button",ie="dx-dropdowneditor-overlay",ne="dx-link",ae="dx-editor-cell",oe="dx-selection",de="dx-edit-row",re="dx-edit-button",le="dx-command-edit",se=le+"-with-icons",ue="dx-scrollable-container",ce="dx-button",fe="__DX_INSERT_INDEX__",he="dx-row",pe="dx-row-removed",ge="dx-row-inserted",we="dx-row-modified",me="dx-cell-modified",_e="dx-highlight-outline",Ce="dxDataGridEditing",ve="dx-data-row",Ee="dx-cell-focus-disabled",xe="input:not([type='hidden'])",Ie="[tabindex], "+xe,ye="batch",Re="row",De="cell",be="form",ke="popup",Te="insert",Ve="update",Be="remove",Fe="dx-pointer-events-target",Pe="click",Ae=[ye,Re,De,be,ke],Oe=[Re,be,ke],Se=[ye,De],Ne=[be,ke],qe=[Re,be],Ue="targetComponent",Me={save:"dx-link-save",cancel:"dx-link-cancel",edit:"dx-link-edit",undelete:"dx-link-undelete",delete:"dx-link-delete",add:"dx-link-add"},Ge={save:"save",cancel:"revert",edit:"edit",undelete:"revert",delete:"trash",add:"add"},We={edit:"editRow",delete:"deleteRow",undelete:"undeleteRow",save:"saveEditData",cancel:"cancelEditData",add:"addRowByRowIndex"},He={add:"allowAdding",edit:"allowUpdating",delete:"allowDeleting"},Ke=["edit","save","cancel","delete","undelete"],je=function(e){return function(t){var i=t instanceof Error?t:new Error(t&&String(t)||"Unknown error");e.reject(i)}},$e=function(e){var t=e.option("editing.mode");return-1!==Ae.indexOf(t)?t:Re},Le=function(e){var t=$e(e);return-1!==Oe.indexOf(t)},ze=p.default.ViewController.inherit(function(){var e=function(e){return function(i,n){var a=(0,t.default)("<div>").appendTo(i);e.getController("editorFactory").createEditor(a,(0,f.extend)({},n.column,{value:n.value,setValue:n.setValue,row:n.row,parentType:"dataRow",width:null,readOnly:!n.setValue,isOnForm:n.isOnForm,id:n.id}))}},i=function(e,t){var i=-1;return e.some(function(e,n){if(o(e)===t)return i=n,!0}),i},o=function(e){return u.default.isObject(e)?e.name:e};return{init:function(){var e=this;if(e._editRowIndex=-1,e._editData=[],e._editColumnIndex=-1,e._columnsController=e.getController("columns"),e._dataController=e.getController("data"),e._rowsView=e.getView("rowsView"),e._editForm=null,e._updateEditFormDeferred=null,e._deferreds&&e._deferreds.forEach(function(e){return e.reject("cancel")}),e._deferreds=[],e._dataChangedHandler||(e._dataChangedHandler=e._handleDataChanged.bind(e),e._dataController.changed.add(e._dataChangedHandler)),!e._saveEditorHandler){e.createAction("onInitNewRow",{excludeValidators:["disabled","readOnly"]}),e.createAction("onRowInserting",{excludeValidators:["disabled","readOnly"]}),e.createAction("onRowInserted",{excludeValidators:["disabled","readOnly"]}),e.createAction("onEditingStart",{excludeValidators:["disabled","readOnly"]}),e.createAction("onRowUpdating",{excludeValidators:["disabled","readOnly"]}),e.createAction("onRowUpdated",{excludeValidators:["disabled","readOnly"]}),e.createAction("onRowRemoving",{excludeValidators:["disabled","readOnly"]}),e.createAction("onRowRemoved",{excludeValidators:["disabled","readOnly"]});var i=void 0;e._pointerDownEditorHandler=function(e){return i=(0,t.default)(e.target)},e._saveEditorHandler=e.createAction(function(n){var o,d,r,l,s,u,c=n.event,f=(0,t.default)(c.target),h=c[Ue];i&&i.is("input")&&!i.is(f)||Le(e)||e._editCellInProgress||(o=!!f.closest("."+ie).length,d=!!f.closest((0,a.getWindow)().document).length,u=h&&h!==e.component,l=!!f.closest("."+e.addWidgetPrefix(te)).length,r=f.hasClass(e.addWidgetPrefix(J)),s=$e(e)===De,o||r||l&&s&&e.isEditing()||!d&&!u||e._closeEditItem.bind(e)(f))}),d.default.on(n.default.getDocument(),v.default.down,e._pointerDownEditorHandler),d.default.on(n.default.getDocument(),w.default.name,e._saveEditorHandler)}e._updateEditColumn(),e._updateEditButtons()},getUpdatedData:function(e){var t=this._dataController.keyOf(e),i=this._editData,n=(0,E.getIndexByKey)(t,i);return i[n]?(0,E.createObjectWithChanges)(e,i[n].data):e},getInsertedData:function(){return this._editData.filter(function(e){return e.data&&e.type===Te}).map(function(e){return e.data})},getRemovedData:function(){return this._editData.filter(function(e){return e.oldData&&e.type===Be}).map(function(e){return e.oldData})},_fireDataErrorOccurred:function(e){if("cancel"!==e){var t=this.getPopupContent();this._dataController.dataErrorOccurred.fire(e,t)}},_needToCloseEditableCell:function(e){var t=this.component.$element(),i=this.isEditing();if((!t||!!e.closest(t).length)&&e.closest("."+ve).length){var n=this.getView("rowsView"),a=e.closest("."+he+"> td"),o=n.getRowIndex(a.parent()),d=n.getCellElements(o).index(a),r=this._columnsController.getVisibleColumns(),l=r[d]&&r[d].allowEditing;i=i&&!l&&!this.isEditCell(o,d)}return i},_closeEditItem:function(e){this._needToCloseEditableCell(e)&&this.closeEditCell()},_handleDataChanged:function(e){var t=this._editForm;"standard"===this.option("scrolling.mode")&&this.resetRowAndPageIndices(),"prepend"===e.changeType&&(0,c.each)(this._editData,function(t,i){i.rowIndex+=e.items.length}),"refresh"===e.changeType&&$e(this)===ke&&t&&t.option("visible")&&this._repaintEditPopup()},_isDefaultButtonVisible:function(e,t){var i=!0,n=Le(this),a=t.row&&t.row.rowIndex===this._getVisibleEditRowIndex()&&n;switch(e.name){case"edit":i=!a&&this.allowUpdating(t)&&n;break;case"save":case"cancel":i=a;break;case"delete":i=!a&&this.allowDeleting(t)&&!t.row.removed;break;case"undelete":i=this.allowDeleting(t)&&t.row.removed}return i},_isButtonVisible:function(e,t){var i=e.visible;return u.default.isDefined(i)?u.default.isFunction(i)?i.call(e,{component:t.component,row:t.row,column:t.column}):i:this._isDefaultButtonVisible(e,t)},_getButtonConfig:function(e,t){var i=this,n=u.default.isObject(e)?e:{},a=o(e),d=function(e){var t=e.component.option("editing.texts")||{};return{save:t.saveRowChanges,cancel:t.cancelRowChanges,edit:t.editRow,undelete:t.undeleteRow,delete:t.deleteRow,add:t.addRowToNode}}(t),r=We[a],l=this.option("editing"),s=He[a],c=!s||l[s];return(0,f.extend)({name:a,text:d[a],cssClass:Me[a],onClick:function(e){var n=e.event;n.stopPropagation(),n.preventDefault(),setTimeout(function(){t.row&&c&&i[r]&&i[r](t.row.rowIndex)})}},n)},_getEditingButtons:function(e){var t,n=this,a=!!e.column.buttons,o=(e.column.buttons||[]).slice();return a?((t=i(o,"edit"))>=0&&(i(o,"save")<0&&o.splice(t+1,0,"save"),i(o,"cancel")<0&&o.splice(i(o,"save")+1,0,"cancel")),(t=i(o,"delete"))>=0&&i(o,"undelete")<0&&o.splice(t+1,0,"undelete")):o=Ke.slice(),o.map(function(t){return n._getButtonConfig(t,e)})},_renderEditingButtons:function(e,t,i){var n=this;t.forEach(function(t){n._isButtonVisible(t,i)&&n._createButton(e,t,i)})},_getEditCommandCellTemplate:function(){var e=this;return function(i,n){var a,o=(0,t.default)(i);"data"===n.rowType?(n.rtlEnabled=e.option("rtlEnabled"),a=e._getEditingButtons(n),e._renderEditingButtons(o,a,n),n.watch&&n.watch(function(){return a.map(function(t){return e._isButtonVisible(t,n)})},function(){o.empty(),e._renderEditingButtons(o,a,n)})):(0,E.setEmptyText)(o)}},correctEditRowIndexAfterExpand:function(e){this._editRowIndex>this._dataController.getRowIndexByKey(e)&&this._editRowIndex++},correctEditRowIndex:function(e){this._editRowIndex+=e(this._getVisibleEditRowIndex())},isRowEditMode:function(){return Le(this)},isFormEditMode:function(){var e=$e(this);return-1!==Ne.indexOf(e)},isCellOrBatchEditMode:function(){var e=this.getEditMode();return e===ye||e===De},getEditMode:function(){return $e(this)},getFirstEditableColumnIndex:function(){var e,t=this.getController("columns"),i=this._firstFormItem;if($e(this)===be&&i){var n=this._rowsView.getCellElements(this._editRowIndex);e=this._rowsView._getEditFormEditorVisibleIndex(n,i.column)}else{var a=t.getVisibleColumns();(0,c.each)(a,function(t,i){if(i.allowEditing)return e=t,!1})}return e},getFirstEditableCellInRow:function(e){var t=this.getView("rowsView");return t&&t._getCellElement(e||0,this.getFirstEditableColumnIndex())},getFocusedCellInRow:function(e){return this.getFirstEditableCellInRow(e)},getIndexByKey:function(e,t){return(0,E.getIndexByKey)(e,t)},hasChanges:function(e){for(var t=!1,i=0;i<this._editData.length;i++)if(this._editData[i].type&&(!u.default.isDefined(e)||this._dataController.getRowIndexByKey(this._editData[i].key)===e)){t=!0;break}return t},dispose:function(){this.callBase(),clearTimeout(this._inputFocusTimeoutID),d.default.off(n.default.getDocument(),v.default.down,this._pointerDownEditorHandler),d.default.off(n.default.getDocument(),w.default.name,this._saveEditorHandler)},optionChanged:function(e){"editing"===e.name?(this._editPopup&&this._editPopup.option("visible")&&0===e.fullName.indexOf("editing.form")?this._repaintEditPopup():this.init(),e.handled=!0):this.callBase(e)},publicMethods:function(){return["insertRow","addRow","removeRow","deleteRow","undeleteRow","editRow","editCell","closeEditCell","saveEditData","cancelEditData","hasEditData"]},refresh:function(){$e(this)!==De&&($e(this)!==ye?this.init():(this._editRowIndex=-1,this._editColumnIndex=-1))},isEditing:function(){return this._editRowIndex>-1},isEditRow:function(e){var t=$e(this);return this._getVisibleEditRowIndex()===e&&-1!==Oe.indexOf(t)},getEditRowKey:function(){var e=this._dataController.items()[this._getVisibleEditRowIndex()];return e&&e.key},getEditRowIndex:function(){return this._getVisibleEditRowIndex()},getEditFormRowIndex:function(){var e=$e(this);return e===be||e===ke?this._getVisibleEditRowIndex():-1},isEditCell:function(e,t){return!(!Array.isArray(this._editData)||!this._editData.length)&&this._getVisibleEditRowIndex()===e&&this._editColumnIndex===t},getPopupContent:function(){var e=$e(this),t=this._editPopup&&this._editPopup.option("visible");if(e===ke&&t)return this._$popupContent},getEditForm:function(){return this._editForm},_needInsertItem:function(e,t){var i=this._dataController.dataSource(),n=this.option("scrolling.mode"),a=i.pageIndex(),o=i.beginPageIndex?i.beginPageIndex():a,d=i.endPageIndex?i.endPageIndex():a;if("standard"!==n)switch(t){case"append":return e.key.pageIndex===d;case"prepend":return e.key.pageIndex===o;case"refresh":e.key.rowIndex=0,e.key.dataRowIndex=0,e.key.pageIndex=0;break;default:return e.key.pageIndex>=o&&e.key.pageIndex<=d}return e.key.pageIndex===a},_generateNewItem:function(e){var t={key:e};return e&&e[fe]&&(t[fe]=e[fe]),t},processItems:function(e,t){var i,n,a,o,d=t.changeType,r=this._dataController,l=-1;this.update(d),a=this._editData;for(var s=0;s<a.length;s++)(i=a[s].key)&&(o=r.getRowIndexOffset(),l=i.dataRowIndex-o+r.getRowIndexDelta(),"append"===d&&(l-=r.items(!0).length,t.removeCount&&(l+=t.removeCount)),n=this._generateNewItem(i),l>=0&&a[s].type===Te&&this._needInsertItem(a[s],d,e,n)&&e.splice(i.dataRowIndex?l:0,0,n));return e},processDataItem:function(e,t,i){var n,a,o,d,r=t.visibleColumns,l=e.data[fe]?e.data.key:e.key;if((d=(0,E.getIndexByKey)(l,this._editData))>=0)switch(a=$e(this),n=(o=this._editData[d]).data,e.isEditing=!1,o.type){case Te:a===ke&&(e.visible=!1),e.isNewRow=!0,e.key=l,e.data=n;break;case Ve:e.modified=!0,e.oldData=e.data,e.data=(0,E.createObjectWithChanges)(e.data,n),e.modifiedValues=i(n,r,!0);break;case Be:a===ye&&(e.data=(0,E.createObjectWithChanges)(e.data,n)),e.removed=!0}},insertRow:function(){return F.default.log("W0002","dxDataGrid","insertRow","15.2","Use the 'addRow' method instead"),this.addRow()},_initNewRow:function(e){var t=this;if(this.executeAction("onInitNewRow",e),e.promise){var i=new U.Deferred;return(0,U.when)((0,U.fromPromise)(e.promise)).done(i.resolve).fail(je(i)).fail(function(e){return t._fireDataErrorOccurred(e)}),i}},_getInsertKey:function(e){var t,i,n=this._dataController,a=n.items(),o=$e(this);return(i=a[(t={parentKey:e,pageIndex:n.pageIndex(),rowIndex:this._getInsertRowIndex(e)}).rowIndex])&&(!i.isEditing&&"detail"===i.rowType||"detailAdaptive"===i.rowType)&&t.rowIndex++,t.dataRowIndex=n.getRowIndexOffset()+a.filter(function(e,i){return i<t.rowIndex&&("data"===e.rowType||"group"===e.rowType||e.isNewRow)}).length,o!==ye&&(this._editRowIndex=t.rowIndex+this._dataController.getRowIndexOffset()),t[fe]=this._getInsertIndex(),t},_getInsertRowIndex:function(e){var t=this.getView("rowsView"),i=this._dataController.getRowIndexByKey(e);return i>=0?i+1:t?t.getTopVisibleItemIndex(!0):0},_getInsertIndex:function(){var e=0;return this._editData.forEach(function(t){t.type===Te&&t.key[fe]>e&&(e=t.key[fe])}),e+1},addRow:function(e){var t=this,i=t._dataController,n=i.store(),a=n&&n.key(),o={data:{}},d=$e(t),r=t._getVisibleEditRowIndex();n?d===De&&t.hasChanges()?t.saveEditData().done(function(){t.hasChanges()||t.addRow(e)}):(t.refresh(),t._allowRowAdding()&&(a||(o.data.__KEY__=String(new l.default)),(0,U.when)(t._initNewRow(o,e)).done(function(){t._allowRowAdding()&&t._addRowCore(o.data,e,r)}))):i.fireError("E1052",this.component.NAME)},_allowRowAdding:function(){var e=$e(this),t=this._getInsertIndex();return!(e!==ye&&t>1)},_addRowCore:function(e,t,i){var n=this._getVisibleEditRowIndex(),a=this._getInsertKey(t),o=$e(this);this._addEditData({key:a,data:e,type:Te}),this._dataController.updateItems({changeType:"update",rowIndices:[i,n,a.rowIndex]}),o===ke?this._showEditPopup(a.rowIndex):this._focusFirstEditableCellInRow(a.rowIndex),this._afterInsertRow({key:a,data:e})},_focusFirstEditableCellInRow:function(e){var t=this,i=t.getFirstEditableCellInRow(e);t._editCellInProgress=!0,t._delayedInputFocus(i,function(){t._editCellInProgress=!1;var i=t.getFirstEditableCellInRow(e),n="dblClick"===t.option("editing.startEditAction")?_.default.name:w.default.name;i&&d.default.trigger(i,n)})},_isEditingStart:function(e){return this.executeAction("onEditingStart",e),e.cancel},_beforeEditCell:function(e,t,i){var n=this;if($e(n)===De&&!i.isNewRow&&n.hasChanges()){var a=new U.Deferred;return n.saveEditData().always(function(){a.resolve(n.hasChanges())}),a}},_beforeUpdateItems:function(){},_getVisibleEditRowIndex:function(){return this._editRowIndex>=0?this._editRowIndex-this._dataController.getRowIndexOffset():-1},editRow:function(e){var t,i=this,n=i._dataController,a=n.items(),o=a[e],d={data:o&&o.data,cancel:!1},r=i._getVisibleEditRowIndex();if(o){if(e===r)return!0;if(o.isNewRow||(d.key=o.key),!i._isEditingStart(d)){i.init(),i._pageIndex=n.pageIndex(),i._editRowIndex=(a[0].isNewRow?e-1:e)+i._dataController.getRowIndexOffset(),i._addEditData({data:{},key:o.key,oldData:o.data});var l=[r,e],s=$e(i);i._beforeUpdateItems(l,e,r),s===ke?i._showEditPopup(e):n.updateItems({changeType:"update",rowIndices:l}),-1!==qe.indexOf(s)&&(t=i.getFocusedCellInRow(i._getVisibleEditRowIndex()),i._delayedInputFocus(t,function(){t&&i.component.focus(t)}))}}},_showEditPopup:function(e,i){var n=this,a="desktop"!==A.default.current().deviceType,o=(0,f.extend)({showTitle:!1,fullScreen:a,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:n._getSaveButtonConfig()},{toolbar:"bottom",location:"after",widget:"dxButton",options:n._getCancelButtonConfig()}],contentTemplate:n._getPopupEditFormTemplate(e)},n.option("editing.popup"));if(!n._editPopup){var r=(0,t.default)("<div>").appendTo(n.component.$element()).addClass(n.addWidgetPrefix(Z));n._editPopup=n._createComponent(r,V.default,{}),n._editPopup.on("hiding",n._getEditPopupHiddenHandler()),n._editPopup.on("shown",function(e){d.default.trigger(e.component.$content().find(Ie).not("."+ue).first(),"focus"),i&&n._editForm&&n._editForm.repaint()})}n._editPopup.option(o),n._editPopup.show()},_repaintEditPopup:function(){var e=this._getVisibleEditRowIndex();if(this._editPopup&&this._editPopup.option("visible")&&e>=0){var t=this._editPopup.option("animation");this._editPopup.option("animation",null),this._showEditPopup(e,!0),this._editPopup.option("animation",t)}},_getEditPopupHiddenHandler:function(){var e=this;return function(t){e.isEditing()&&e.cancelEditData()}},_getPopupEditFormTemplate:function(e){var i=this,n=i.component.getVisibleRows()[e],a={row:n,rowType:n.rowType,key:n.key};return function(e){var n=i.getEditFormTemplate(),o=i._createComponent((0,t.default)("<div>").appendTo(e),$.default);i._$popupContent=o.$content(),n(i._$popupContent,a,!0)}},_getSaveButtonConfig:function(){return{text:this.option("editing.texts.saveRowChanges"),onClick:this.saveEditData.bind(this)}},_getCancelButtonConfig:function(){return{text:this.option("editing.texts.cancelRowChanges"),onClick:this.cancelEditData.bind(this)}},_removeEditDataItem:function(e){e>=0&&this._editData.splice(e,1)},editCell:function(e,t){var i=this,n=new U.Deferred,a=void 0;return U.when.apply(void 0,z(this._deferreds)).done(function(){a=i._editCellCore(e,t),(0,U.when)(a).done(n.resolve).fail(n.reject)}),void 0!==a?a:n.promise()},_editCellCore:function(e,t){var i=this,n=i._columnsController,a=i._dataController,o=a.items()[e],d={data:o&&o.data,cancel:!1},r=i._getVisibleEditRowIndex(),l=n.getVisibleColumns(),s=l[i._editColumnIndex];u.default.isString(t)&&(t=n.columnOption(t,"index"),t=n.getVisibleIndex(t));var c=d.column=l[t];if(c&&o&&("data"===o.rowType||"detailAdaptive"===o.rowType)&&!o.removed&&!Le(i)){if(i.isEditCell(e,t))return!0;var f=e+a.getRowIndexOffset();return(0,U.when)(i._beforeEditCell(e,t,o)).done(function(e){e||(i._prepareEditCell(d,o,t,f)?W.default.deferRender(function(){i._repaintEditCell(c,s,r)}):i._processCanceledEditingCell())})}return!1},_processCanceledEditingCell:function(){},_prepareEditCell:function(e,t,i,n){return t.isNewRow||(e.key=t.key),!this._isEditingStart(e)&&(this._editRowIndex=n,this._editColumnIndex=i,this._pageIndex=this._dataController.pageIndex(),this._addEditData({data:{},key:t.key,oldData:t.data}),!0)},_repaintEditCell:function(e,t,i){var n=this,a=n._rowsView;e&&e.showEditorAlways&&(!t||t.showEditorAlways)||(n._editCellInProgress=!0,n.getController("editorFactory").loseFocus(),n._dataController.updateItems({changeType:"update",rowIndices:[i,n._getVisibleEditRowIndex()]}));var o=a&&a._getCellElement(n._getVisibleEditRowIndex(),n._editColumnIndex);o&&!o.find(":focus").length?n._focusEditingCell(function(){n._editCellInProgress=!1},o,!0):n._editCellInProgress=!1},_delayedInputFocus:function(e,t,i){var n=this;function a(){if(t&&t(),e){var i=e.find(Ie).first();(0,E.focusAndSelectElement)(n,i)}n._beforeFocusCallback=null}A.default.real().ios||A.default.real().android?a():(n._beforeFocusCallback&&n._beforeFocusCallback(),clearTimeout(n._inputFocusTimeoutID),i&&(n._beforeFocusCallback=t),n._inputFocusTimeoutID=setTimeout(a))},_focusEditingCell:function(e,t,i){var n=this.getView("rowsView");t=t||n&&n._getCellElement(this._getVisibleEditRowIndex(),this._editColumnIndex),this._delayedInputFocus(t,e,i)},removeRow:function(e){return F.default.log("W0002","dxDataGrid","removeRow","15.2","Use the 'deleteRow' method instead"),this.deleteRow(e)},deleteRow:function(e){var t,i,n=this,a=n.option("editing"),o=a&&a.texts,d=o&&o.confirmDeleteTitle,r=a&&a.mode===ye,l=o&&o.confirmDeleteMessage,s=n._dataController,c=n._getVisibleEditRowIndex(),f=s.items()[e],h=f&&f.key,p=r||!this.isEditing();f&&p&&(t=function(t){n.refresh();var i=(0,E.getIndexByKey)(t,n._editData);i>=0?n._editData[i].type===Te?n._removeEditDataItem(i):n._addEditData({key:t,type:Be}):n._addEditData({key:t,oldData:f.data,type:Be}),r?s.updateItems({changeType:"update",rowIndices:[c,e]}):n.saveEditData()},r||!l?t(h):(i=u.default.isDefined(d)&&d.length>0,y.default.confirm(l,d,i).done(function(e){e&&t(h)})))},undeleteRow:function(e){var t=this._dataController,i=t.items()[e],n=this._getVisibleEditRowIndex(),a=i&&i.key;if(i){var o,d=(0,E.getIndexByKey)(a,this._editData);d>=0&&(o=this._editData[d],u.default.isEmptyObject(o.data)?this._removeEditDataItem(d):this._addEditData({key:a,type:Ve}),t.updateItems({changeType:"update",rowIndices:[n,e]}))}},_saveEditDataCore:function(e,t,i){var n=this,a=n._dataController.store(),o=!0;function d(e,t,i){var a=new U.Deferred;return n.executeAction(e,t),(0,U.when)((0,U.fromPromise)(t.cancel)).done(function(e){e?setTimeout(function(){a.resolve("cancel")}):i(t).done(a.resolve).fail(je(a))}).fail(je(a)),a}return(0,c.each)(n._editData,function(r,l){var s,c,f,h=l.data,p=l.oldData,g=l.type;if(!n._beforeSaveEditData(l,r)){switch(g){case Be:s=d("onRowRemoving",f={data:p,key:l.key,cancel:!1},function(){return a.remove(l.key).done(function(e){i.push({type:"remove",key:e})})});break;case Te:s=d("onRowInserting",f={data:h,cancel:!1},function(){return a.insert(f.data).done(function(e,t){u.default.isDefined(t)&&(l.key=t),e&&u.default.isObject(e)&&e!==f.data&&(l.data=e),i.push({type:"insert",data:e,index:0})})});break;case Ve:s=d("onRowUpdating",f={newData:h,oldData:p,key:l.key,cancel:!1},function(){return a.update(l.key,f.newData).done(function(e,t){e&&u.default.isObject(e)&&e!==f.newData&&(l.data=e),i.push({type:"update",key:t,data:e})})})}s&&(c=new U.Deferred,s.always(function(e){o="cancel"!==e,t.push({key:l.key,result:e})}).always(c.resolve),e.push(c.promise()))}}),o},_processSaveEditDataResult:function(e){var t,i,n,a,o,d=!1,r=$e(this);for(t=0;t<e.length;t++)if(n="cancel"===(i=e[t].result),o=(0,E.getIndexByKey)(e[t].key,this._editData),a=this._editData[o],i&&i instanceof Error){if(a&&(a.error=i),this._fireDataErrorOccurred(i),r!==ye){a&&a.type===Be&&this._removeEditDataItem(o);break}}else n&&a&&(r===ye||a.type!==Be)||(this._removeEditDataItem(o),d=!n);return d},_fireSaveEditDataEvents:function(e){var t=this;(0,c.each)(e,function(e,i){var n=i.data,a=i.key,o=i.type,d={key:a,data:n};switch(i.error&&(d.error=i.error),o){case Be:t.executeAction("onRowRemoved",(0,f.extend)({},d,{data:i.oldData}));break;case Te:t.executeAction("onRowInserted",d);break;case Ve:t.executeAction("onRowUpdated",d)}})},saveEditData:function(){var e=this,t=new U.Deferred,i=function(){(0,U.when)(e._afterSaveEditData()).done(function(){t.resolve()})};return U.when.apply(void 0,z(this._deferreds)).done(function(){e._saving?i():(0,U.when)(e._beforeSaveEditData()).done(function(n){n?i():e._saveEditDataInner().done(t.resolve).fail(t.reject)})}).fail(t.reject),t.promise()},_saveEditDataInner:function(){var e=this,i=[],n=[],a=[],o=this._dataController,d=o.dataSource(),r=$e(this),l=new U.Deferred,s=function(){r!==De&&(e._editColumnIndex=-1,e._editRowIndex=-1)},u=function(t){(0,U.when)(e._afterSaveEditData()).done(function(){l.resolve(t)})},c=this._editData.slice(0);return this._saveEditDataCore(n,i,a)||r!==De||this._focusEditingCell(),n.length?(this._saving=!0,d&&d.beginLoading(),U.when.apply(t.default,n).done(function(){if(e._processSaveEditDataResult(i)){s(),r===ke&&e._editPopup&&e._editPopup.hide(),d&&d.endLoading();var t=e.option("editing.refreshMode"),n="reshape"!==t&&"repaint"!==t;n||o.push(a),(0,U.when)(o.refresh({selection:n,reload:n,load:"reshape"===t,changesOnly:e.option("repaintChangesOnly")})).always(function(){e._fireSaveEditDataEvents(c)}).done(function(){u()}).fail(function(e){u(e)})}else d&&d.endLoading(),l.resolve()}).fail(function(e){d&&d.endLoading(),l.resolve(e)}),l.always(function(){e._focusEditingCell(),e._saving=!1}).promise()):(Le(this)?this.hasChanges()||this.cancelEditData():-1!==Se.indexOf(r)?(s(),o.updateItems()):this._focusEditingCell(),u(),l.promise())},isSaving:function(){return this._saving},_updateEditColumn:function(){var e=this._isEditColumnVisible(),t=this.option("editing.useIcons"),i=le+(t?" "+se:"");this._columnsController.addCommandColumn({type:"buttons",command:"edit",visible:e,cssClass:i,width:"auto",alignment:"center",cellTemplate:this._getEditCommandCellTemplate(),fixedPosition:"right"}),this._columnsController.columnOption("command:edit",{visible:e,cssClass:i})},_isEditColumnVisible:function(){var e=this.option("editing");if(e){var t=!1;switch($e(this)){case Re:t=e.allowUpdating||e.allowAdding;break;case be:case ke:t=e.allowUpdating}return e.allowDeleting||t}},_updateEditButtons:function(){var e=this.getView("headerPanel"),t=this.hasChanges();e&&(e.setToolbarItemDisabled("saveButton",!t),e.setToolbarItemDisabled("revertButton",!t))},_applyModified:function(e){e&&e.addClass(me)},_beforeCloseEditCellInBatchMode:function(){},cancelEditData:function(){var e=$e(this),t=this._getVisibleEditRowIndex(),i=this._dataController;this._beforeCancelEditData(),this.init(),-1!==Oe.indexOf(e)&&t>=0?i.updateItems({changeType:"update",rowIndices:[t,t+1]}):i.updateItems({repaintChangesOnly:this.option("repaintChangesOnly")}),e===ke&&this._hideEditPopup()},_hideEditPopup:function(){this._editPopup&&this._editPopup.option("visible",!1)},hasEditData:function(){return this.hasChanges()},closeEditCell:function(e){var t=this,i=M.default.when(),n=this._getVisibleEditRowIndex();return Le(this)||(i=M.default.Deferred(),setTimeout(function(){U.when.apply(void 0,z(t._deferreds)).done(function(){t._closeEditCellCore(e,n),i.resolve()}).fail(i.reject)})),i.promise()},_closeEditCellCore:function(e,t){var i=this,n=$e(i),a=i._dataController;if(n===De&&i.hasChanges())i.saveEditData().done(function(e){i.hasChanges()||i.closeEditCell(!!e)});else if(t>=0){var o=[t];i._editRowIndex=-1,i._editColumnIndex=-1,i._beforeCloseEditCellInBatchMode(o),e||a.updateItems({changeType:"update",rowIndices:o})}},update:function(e){var t=this._dataController;t&&this._pageIndex!==t.pageIndex()&&("refresh"===e&&this.refresh(),this._pageIndex=t.pageIndex()),this._updateEditButtons()},_getRowIndicesForCascadeUpdating:function(e,t){return t?[]:[e.rowIndex]},_prepareEditDataParams:function(e,i,n){var a,o=this,d={},r=e.data,l=e.key,s=(0,t.default)(e.cellElement),c=$e(o),h=new U.Deferred;return void 0!==l&&(c===ye&&o._applyModified(s,e),e.value=i,(a=(0,U.fromPromise)(e.column.setCellValue(d,i,(0,f.extend)(!0,{},r),n))).done(function(){h.resolve({data:d,key:l,oldData:r,type:Ve})}).fail(je(h)).fail(function(e){return o._fireDataErrorOccurred(e)}),u.default.isString(n)&&e.column.displayValueMap&&(e.column.displayValueMap[i]=n),e.values&&(e.values[e.columnIndex]=i),o._deferreds.push(a),a.always(function(){var e=o._deferreds.indexOf(a);e>=0&&o._deferreds.splice(e,1)})),h},updateFieldValue:function(e,t,i,n){var a=this;void 0===e.key&&this._dataController.fireError("E1043"),e.column.setCellValue&&this._prepareEditDataParams(e,t,i).done(function(t){a._applyEditDataParams(e,t,n)})},_focusPreviousEditingCellIfNeed:function(e){if(this.hasEditData()&&!this.isEditCell(e.rowIndex,e.columnIndex))return this._focusEditingCell(),this._updateEditRow(e.row,!0),!0},_applyEditDataParams:function(e,t,i){var n=$e(this),a=e.column.setCellValue!==e.column.defaultSetCellValue,o=e.column.showEditorAlways,d=n===De&&e.row&&!e.row.isNewRow;if(o&&!i&&d&&this.hasEditData()&&!this.isEditCell(e.rowIndex,e.columnIndex))return this._focusEditingCell(),void this._updateEditRow(e.row,!0,a);if(this._addEditData(t,e.row),this._updateEditButtons(),o&&!i){if(d)return this._editRowIndex=e.rowIndex+this._dataController.getRowIndexOffset(),this._editColumnIndex=e.columnIndex,this.saveEditData();if(n===ye){var r=this._columnsController.getVisibleColumns();i=a||r.some(function(e){return e.calculateCellValue!==e.defaultCalculateCellValue})}}e.row&&(i||a)&&this._updateEditRow(e.row,i,a)},_updateEditRowCore:function(e,t,i){var n=this._editForm;$e(this)===ke?this.option("repaintChangesOnly")?e.update&&e.update(e):n&&(this._updateEditFormDeferred=(new U.Deferred).done(function(){return n.repaint()}),this._updateLockCount||this._updateEditFormDeferred.resolve()):this._dataController.updateItems({changeType:"update",rowIndices:this._getRowIndicesForCascadeUpdating(e,t)}),i&&this._editForm&&!e.isNewRow&&this._editForm.validate()},_endUpdateCore:function(){this._updateEditFormDeferred&&this._updateEditFormDeferred.resolve()},_updateEditRow:function(e,i,a){var o=this;i||!Le(o)?(o._updateEditRowCore(e,!i,a),i||o._focusEditingCell()):setTimeout(function(){var i=(0,t.default)(n.default.getActiveElement()),d=o._rowsView.getCellIndex(i,e.rowIndex),r=i.get(0),l=(0,E.getSelectionRange)(r);if(o._updateEditRowCore(e,!1,a),d>=0){var s=o._rowsView._getCellElement(e.rowIndex,d);o._delayedInputFocus(s,function(){setTimeout(function(){r=n.default.getActiveElement(),l.selectionStart>=0&&(0,E.setSelectionRange)(r,l)})})}})},_addEditData:function(e,t){var i=(0,E.getIndexByKey)(e.key,this._editData);return i<0&&(i=this._editData.length,this._editData.push(e)),this._editData[i]&&(e.data&&(this._editData[i].data=(0,E.createObjectWithChanges)(this._editData[i].data,e.data)),this._editData[i].type&&e.data||!e.type||(this._editData[i].type=e.type),t&&(t.oldData=this._editData[i].oldData,t.data=(0,E.createObjectWithChanges)(t.data,e.data))),i},_getFormEditItemTemplate:function(t,i){return i.editCellTemplate||e(this)},renderFormEditTemplate:function(e,i,n,o,d){var r=this,l=(0,t.default)(o),s=i.column,u=function(e){var t=e.column;return e.isCustomEditorType?e.editorType:t.formItem&&t.formItem.editorType}(i),c=e.row&&e.row.data,h=(0,f.extend)({},e,{data:c,cellElement:null,isOnForm:!0,item:i,column:(0,f.extend)({},s,{editorType:u,editorOptions:i.editorOptions}),id:n.getItemID(i.name||i.dataField),columnIndex:s.index,setValue:!d&&s.allowEditing&&function(e){r.updateFieldValue(h,e)}});h.value=s.calculateCellValue(c);var p=r._getFormEditItemTemplate.bind(r)(h,s);r._rowsView.renderTemplate(l,p,h,!!l.closest((0,a.getWindow)().document).length)&&r._rowsView._updateCell(l,h)},getFormEditorTemplate:function(e,i){var n=this,a=this.component.columnOption(i.dataField);return function(o,d){var r=(0,f.extend)({},e),l=(0,t.default)(d);r.column=a,r.row.watch&&r.row.watch(function(){return r.column.selector(r.row.data)},function(t){var a=l.find(".dx-widget").first(),d=a.data("dxValidator"),s=d&&d.option();r.value=t,l.contents().remove(),n.renderFormEditTemplate.bind(n)(e,i,o.component,l),d=(a=l.find(".dx-widget").first()).data("dxValidator"),s&&!d&&a.dxValidator({validationRules:s.validationRules,validationGroup:s.validationGroup,dataGetter:s.dataGetter})}),n.renderFormEditTemplate.bind(n)(e,i,o.component,l)}},getEditFormTemplate:function(){var e=this;return function(i,n,a){var o=e.option("editing.form"),d=e.option("editing.form.items"),r=e.option("editing.form.customizeItem"),s=e._editData[(0,E.getIndexByKey)(n.key,e._editData)],h=e.addWidgetPrefix(Y),p={};if(d)!function e(t,i){t.forEach(function(t){t.items||t.tabs?e(t.items||t.tabs,i):i(t)})}(d,function(e){var t=e&&(e.name||e.dataField);t&&(p[t]=!!e.editorType)});else{var g=e.getController("columns").getColumns();d=[],(0,c.each)(g,function(e,t){t.isBand||t.type||d.push({column:t,name:t.name,dataField:t.dataField})})}if(e._firstFormItem=void 0,e._editForm=e._createComponent((0,t.default)("<div>").appendTo(i),S.default,(0,f.extend)({},o,{items:d,formID:"dx-"+new l.default,validationGroup:s,customizeItem:function(t){var i,a=t.name||t.dataField;if((t.column||a)&&(i=t.column||e._columnsController.columnOption(t.name?"name:"+t.name:"dataField:"+t.dataField)),i){t.label=t.label||{},t.label.text=t.label.text||i.caption,t.template=t.template||e.getFormEditorTemplate(n,t),t.column=i,t.isCustomEditorType=p[a],i.formItem&&(0,f.extend)(t,i.formItem),void 0===t.isRequired&&i.validationRules&&(t.isRequired=i.validationRules.some(function(e){return"required"===e.type}),t.validationRules=[]);var o=!u.default.isDefined(t.visible)||t.visible;!e._firstFormItem&&o&&(e._firstFormItem=t)}r&&r.call(this,t),t.cssClass=u.default.isString(t.cssClass)?t.cssClass+" "+h:h}})),!a){var w=(0,t.default)("<div>").addClass(e.addWidgetPrefix(ee)).appendTo(i);e._createComponent((0,t.default)("<div>").appendTo(w),k.default,e._getSaveButtonConfig()),e._createComponent((0,t.default)("<div>").appendTo(w),k.default,e._getCancelButtonConfig())}e._editForm.on("contentReady",function(){e._editPopup&&e._editPopup.repaint()})}},getColumnTemplate:function(t){var i,n,a=this,o=t.column,d=t.row&&t.row.rowIndex,r=Le(a),l=a.isEditRow(d),s=a.isEditCell(d,t.columnIndex);return!(o.showEditorAlways||o.setCellValue&&(l&&o.allowEditing||s))||"data"!==t.rowType&&"detailAdaptive"!==t.rowType||o.command?"detail"===o.command&&"detail"===t.rowType&&l&&(i=a.getEditFormTemplate(t)):(((a.allowUpdating(t)||l)&&o.allowEditing||s)&&(r&&l||!r)&&(o.showEditorAlways&&!r&&(n={cancel:!1,key:t.row.isNewRow?void 0:t.row.key,data:t.row.data,column:o},a._isEditingStart(n)),n&&n.cancel||(t.setValue=function(e,i){a.updateFieldValue(t,e,i)})),i=o.editCellTemplate||e(a)),i},_createButton:function(e,i,n){var a,o=Ge[i.name],r=this.option("editing.useIcons"),l=(0,t.default)("<a>").attr("href","#").addClass(ne).addClass(i.cssClass);if(i.template)this._rowsView.renderTemplate(e,i.template,n,!0);else{if(r&&o||i.icon){o=i.icon||o,"image"===(a=K.default.getImageSourceType(o))||"svg"===a?l=K.default.getImageContainer(o).addClass(i.cssClass):l.addClass("dx-icon"+("dxIcon"===a?"-":" ")+o).attr("title",i.text),e.addClass(se);var s=this.getButtonLocalizationNames()[i.name];s&&l.attr("aria-label",D.default.format(s))}else l.text(i.text);u.default.isDefined(i.hint)&&l.attr("title",i.hint),d.default.on(l,(0,x.addNamespace)("click",Ce),this.createAction(function(e){i.onClick.call(i,(0,f.extend)({},e,{row:n.row,column:n.column})),e.event.preventDefault()})),n.rtlEnabled?e.prepend(l,"&nbsp;"):e.append(l,"&nbsp;")}},getButtonLocalizationNames:function(){return{edit:"dxDataGrid-editingEditRow",save:"dxDataGrid-editingSaveRowChanges",delete:"dxDataGrid-editingDeleteRow",undelete:"dxDataGrid-editingUndeleteRow",cancel:"dxDataGrid-editingCancelRowChanges"}},prepareEditButtons:function(e){var i=this,n=i.option("editing")||{},a=i.option("editing.texts")||{},o={revert:a.cancelAllChanges,save:a.saveAllChanges,addRow:a.addRow},d={revert:"cancel",save:"save",addRow:"addrow"},r=[],l=function(n,a,r){var l=d[n],s=o[n],u=("save"===l||"cancel"===l)&&!i.hasChanges();return{widget:"dxButton",options:{onInitialized:function(n){(0,t.default)(n.element).addClass(e._getToolbarButtonClass(re+" "+i.addWidgetPrefix(l)+"-button"))},icon:"edit-button-"+l,disabled:u,onClick:function(){setTimeout(function(){i[a]()})},text:s,hint:s},showText:"inMenu",name:n+"Button",location:"after",locateInMenu:"auto",sortIndex:r}};return n.allowAdding&&r.push(l("addRow","addRow",20)),(n.allowUpdating||n.allowAdding||n.allowDeleting)&&$e(i)===ye&&(r.push(l("save","saveEditData",21)),r.push(l("revert","cancelEditData",22))),r},showHighlighting:function(e){var i=e.find("."+_e);"TD"!==e.get(0).tagName||i.length||e.wrapInner((0,t.default)("<div>").addClass(_e+" "+Fe))},resetRowAndPageIndices:function(e){var t=this;(0,c.each)(t._editData,function(i,n){(n.pageIndex!==t._pageIndex||e)&&(delete n.pageIndex,delete n.rowIndex)})},_afterInsertRow:function(){},_beforeSaveEditData:function(e){if(e&&!u.default.isDefined(e.key)&&u.default.isDefined(e.type))return!0},_afterSaveEditData:function(){},_beforeCancelEditData:function(){},_allowEditAction:function(e,t){var i=this.option("editing."+e);return u.default.isFunction(i)&&(i=i({component:this.component,row:t.row})),i},allowUpdating:function(e,t){var i=this.option("editing.startEditAction")||Pe;return(!(arguments.length>1)||(i===t||"down"===t))&&this._allowEditAction("allowUpdating",e)},allowDeleting:function(e){return this._allowEditAction("allowDeleting",e)}}}());module.exports={defaultOptions:function(){return{editing:{mode:"row",refreshMode:"full",allowAdding:!1,allowUpdating:!1,allowDeleting:!1,useIcons:!1,selectTextOnEditStart:!1,texts:{editRow:D.default.format("dxDataGrid-editingEditRow"),saveAllChanges:D.default.format("dxDataGrid-editingSaveAllChanges"),saveRowChanges:D.default.format("dxDataGrid-editingSaveRowChanges"),cancelAllChanges:D.default.format("dxDataGrid-editingCancelAllChanges"),cancelRowChanges:D.default.format("dxDataGrid-editingCancelRowChanges"),addRow:D.default.format("dxDataGrid-editingAddRow"),deleteRow:D.default.format("dxDataGrid-editingDeleteRow"),undeleteRow:D.default.format("dxDataGrid-editingUndeleteRow"),confirmDeleteMessage:D.default.format("dxDataGrid-editingConfirmDeleteMessage"),confirmDeleteTitle:""},form:{colCount:2},popup:{},startEditAction:"click"}}},controllers:{editing:ze},extenders:{controllers:{data:{init:function(){this._editingController=this.getController("editing"),this.callBase()},reload:function(e,t){var i,n=this.getController("editing");return!t&&this._editingController.refresh(),(i=this.callBase.apply(this,arguments))&&i.done(function(){n.resetRowAndPageIndices(!0)})},repaintRows:function(){if(!this.getController("editing").isSaving())return this.callBase.apply(this,arguments)},_updateEditRow:function(e){var t=this._editingController,i=e[t.getEditRowIndex()];i&&(i.isEditing=!0,t.getEditMode()===be&&(i.rowType="detail"))},_updateItemsCore:function(e){this.callBase(e),this._updateEditRow(this.items())},_applyChangeUpdate:function(e){this._updateEditRow(e.items),this.callBase(e)},_applyChangesOnly:function(e){this._updateEditRow(e.items),this.callBase(e)},_processItems:function(e,t){return e=this._editingController.processItems(e,t),this.callBase(e,t)},_processDataItem:function(e,t){return this._editingController.processDataItem(e,t,this.generateDataValues),this.callBase(e,t)},_processItem:function(e,t){return(e=this.callBase(e,t)).isNewRow&&(t.dataIndex--,delete e.dataIndex),e},_correctRowIndices:function(e){this.callBase.apply(this,arguments),this._editingController.correctEditRowIndex(e)},_getChangedColumnIndices:function(e,t,i,n){var a=this.getController("editing"),o=a.isRowEditMode();if(!(e.isNewRow!==t.isNewRow||e.removed!==t.removed||o&&e.isEditing!==t.isEditing))return e.rowType===t.rowType&&o&&a.isEditRow(i)&&n?[]:this.callBase.apply(this,arguments)},_isCellChanged:function(e,t,i,n,a){var o=this.getController("editing"),d=e.cells&&e.cells[n],r=o&&o.isEditCell(i,n);return(!a||!r)&&(!(!d||!d.column||d.column.showEditorAlways||d.isEditing===r)||this.callBase.apply(this,arguments))}}},views:{rowsView:{init:function(){this.callBase(),this._editingController=this.getController("editing")},getCellElements:function(e){var t=this.callBase(e),i=this._editingController,n=i.getEditForm();return i.getEditFormRowIndex()===e&&t&&n?n.$element().find("."+this.addWidgetPrefix(Y)+", ."+ce):t},getCellIndex:function(e,i){if(!e.is("td")&&i>=0){var n=this.getCellElements(i),a=-1;return(0,c.each)(n,function(i,n){(0,t.default)(n).find(e).length&&(a=i)}),a}return this.callBase.apply(this,arguments)},_getVisibleColumnIndex:function(e,t,i){var n;return this._editingController.getEditFormRowIndex()===t&&u.default.isString(i)?(n=this._columnsController.columnOption(i),this._getEditFormEditorVisibleIndex(e,n)):this.callBase.apply(this,arguments)},_getEditFormEditorVisibleIndex:function(e,i){var n,a=-1;return(0,c.each)(e,function(e,o){if((n=(0,t.default)(o).find(".dx-field-item-content").data("dx-form-item"))&&n.column&&i&&n.column.index===i.index)return a=e,!1}),a},publicMethods:function(){return this.callBase().concat(["cellValue"])},_getCellTemplate:function(e){return this._editingController.getColumnTemplate(e)||this.callBase(e)},_isNativeClick:function(){return(A.default.real().ios||A.default.real().android)&&this.option("editing.allowUpdating")},_createTable:function(){var e=this,t=e.callBase.apply(e,arguments);return!Le(e)&&e.option("editing.allowUpdating")&&d.default.on(t,(0,x.addNamespace)(q.default.name,"dxDataGridRowsView"),"td:not(."+ae+")",e.createAction(function(){var t=e._editingController;t.isEditing()&&t.closeEditCell()})),t},_createRow:function(e){var t,i,n,a,o=this.callBase(e);return e&&(t=this._editingController.isEditRow(e.rowIndex),i=!!e.removed,n=!!e.isNewRow,a=!!e.modified,$e(this)===ye?i&&o.addClass(pe):t&&o.addClass(de),n&&o.addClass(ge),a&&o.addClass(we),(t||n||i)&&o.removeClass(oe),t&&"detail"===e.rowType&&o.addClass(this.addWidgetPrefix(X))),o},_getColumnIndexByElement:function(e){for(var t=e.closest("table"),i=this.getTableElements();t.length&&!i.filter(t).length;)e=t.closest("td"),t=e.closest("table");return this._getColumnIndexByElementCore(e)},_getColumnIndexByElementCore:function(e){var t=e.closest("."+he+"> td:not(.dx-master-detail-cell)");return this.getCellIndex(t)},_editCellByClick:function(e,i){var n=this._editingController,a=(0,t.default)(e.event.target),o=this._getColumnIndexByElement(a),d=this._dataController.items()[e.rowIndex],r=n.allowUpdating({row:d},i)||d&&d.isNewRow,l=this._columnsController.getVisibleColumns()[o],s=r&&l&&(l.allowEditing||n.isEditCell(e.rowIndex,o)),u=this.option("editing.startEditAction")||"click";return"down"===i?l&&l.showEditorAlways&&s&&n.editCell(e.rowIndex,o):("click"!==i||"dblClick"!==u||n.isEditCell(e.rowIndex,o)||n.closeEditCell(),i===u&&s&&n.editCell(e.rowIndex,o)||n.isEditRow(e.rowIndex))},_rowPointerDown:function(e){var t=this;this._pointerDownTimeout=setTimeout(function(){t._editCellByClick(e,"down")})},_rowClick:function(e){e.event[Ue]=this.component,this._editCellByClick(e,"click")||this.callBase.apply(this,arguments)},_rowDblClick:function(e){this._editCellByClick(e,"dblClick")||this.callBase.apply(this,arguments)},_cellPrepared:function(e,t){var i=t.columnIndex,n=this._editingController,a=!!t.column.command,o=t.setValue,d=t.isEditing||n.isEditRow(t.rowIndex)&&t.column.allowEditing;if("data"===t.rowType&&!t.column.command&&(d||t.column.showEditorAlways)){var r=t.column.alignment;e.addClass(ae).toggleClass(this.addWidgetPrefix(Q),!o).toggleClass(Ee,!o),r&&e.find(xe).first().css("textAlign",r)}d&&this._editCellPrepared(e);var l=t.row&&(t.row.isNewRow?t.row.values:t.row.modifiedValues);l&&void 0!==l[i]&&t.column&&!a&&t.column.setCellValue?(n.showHighlighting(e),e.addClass(me)):o&&n.showHighlighting(e,!0),this.callBase.apply(this,arguments)},_editCellPrepared:function(e){},_formItemPrepared:function(){},_isFormItem:function(e){var t="detail"===e.rowType||"detailAdaptive"===e.rowType,i="data"===e.rowType&&"popup"===$e(this);return(t||i)&&e.item},_updateCell:function(e,t){this._isFormItem(t)?this._formItemPrepared(t,e):this.callBase(e,t)},_update:function(e){this.callBase(e),"updateSelection"===e.changeType&&this.getTableElements().children("tbody").children("."+de).removeClass(oe)},_getCellOptions:function(e){var t=this.callBase(e);return t.isEditing=this._editingController.isEditCell(t.rowIndex,t.columnIndex),t},_renderCellContent:function(e,t){"data"===t.rowType&&$e(this)===ke&&!1===t.row.visible||this.callBase.apply(this,arguments)},cellValue:function(e,t,i,n){var a=this.getCellOptions(e,t);if(a){if(void 0===i)return a.value;this._editingController.updateFieldValue(a,i,n,!0)}},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._pointerDownTimeout)}},headerPanel:{_getToolbarItems:function(){var e=this.callBase();return this.getController("editing").prepareEditButtons(this).concat(e)},optionChanged:function(e){switch(e.name){case"editing":e.fullName&&0===e.fullName.indexOf("editing.popup")||this._invalidate(),this.callBase(e);break;default:this.callBase(e)}},isVisible:function(){var e=this.getController("editing").option("editing");return this.callBase()||e&&(e.allowAdding||(e.allowUpdating||e.allowDeleting)&&e.mode===ye)}}}}};
},{"../../core/renderer":"qxFQ","../../core/dom_adapter":"RRDy","../../core/utils/window":"NXH3","../../events/core/events_engine":"oNrb","../../core/guid":"tQQP","../../core/utils/type":"Mw4w","../../core/utils/iterator":"FHcO","../../core/utils/extend":"ac8T","./ui.grid_core.modules":"vXU0","../../events/click":"RTmy","../../events/double_click":"st1m","../../events/pointer":"HDhW","./ui.grid_core.utils":"kk68","../../events/utils":"cNvJ","../dialog":"Tg7l","../../localization/message":"Njcj","../button":"kKaI","../popup":"DU0r","../widget/ui.errors":"RFsS","../../core/devices":"LpzF","../form":"C6st","../../events/hold":"zW3q","../../core/utils/deferred":"g5TB","../../core/utils/common":"GcQA","../../core/utils/icon":"W6A0","../scroll_view/ui.scrollable":"tHRk"}],"I5pL":[function(require,module,exports) {
"use strict";require("./ui.tree_list.editor_factory");var e=require("../../core/renderer"),t=g(e),i=require("../widget/ui.errors"),r=g(i),n=require("../../core/utils/type"),l=require("../../core/utils/extend"),o=require("../../core/utils/deferred"),a=require("../../localization/message"),s=g(a),d=require("./ui.tree_list.core"),u=g(d),c=require("../grid_core/ui.grid_core.utils"),h=g(c),f=require("../grid_core/ui.grid_core.editing"),w=g(f);function g(e){return e&&e.__esModule?e:{default:e}}var p="dx-treelist-icon-container",v="dx-select-checkbox",_="insert",x=w.default.controllers.editing.inherit({_generateNewItem:function(e){var t=this.callBase(e);return t.data={key:e},t.children=[],t.level=0,t.parentKey=this.option("rootValue"),t},_needInsertItem:function(e,t,i,r){var n=e.key.parentKey;if(void 0!==n&&n!==this.option("rootValue")){var l=h.default.getIndexByKey(n,i);return l>=0&&this._dataController.isRowExpanded(n)&&i.splice(l+1,0,r),!1}return this.callBase.apply(this,arguments)},_isEditColumnVisible:function(){var e=this.callBase.apply(this,arguments),t=this.option("editing");return e||t&&t.allowAdding},_isDefaultButtonVisible:function(e,t){var i=this.callBase.apply(this,arguments),r=t.row;return"add"===e.name?this.allowAdding(t)&&r.rowIndex!==this._getVisibleEditRowIndex()&&!(r.removed||r.isNewRow):i},_getEditingButtons:function(e){var t=this.callBase.apply(this,arguments);return e.column.buttons||t.unshift(this._getButtonConfig("add",e)),t},_beforeSaveEditData:function(e){var t,i,l=this._dataController,o=this.callBase.apply(this,arguments);if(e&&e.type!==_&&(t=(i=l&&l.store())&&i.key(),!(0,n.isDefined)(t)))throw r.default.Error("E1045");return o},addRowByRowIndex:function(e){var t=this.getController("data").getVisibleRows()[e];return this.addRow(t?t.key:void 0)},addRow:function(e){var t=this,i=t.callBase,r=t.getController("data");if(void 0!==e&&!r.isRowExpanded(e)){var n=new o.Deferred;return r.expandRow(e).done(function(){setTimeout(function(){i.call(t,e),n.resolve()})}).fail(n.reject),n}void 0===e&&(e=t.option("rootValue")),i.call(t,e)},_initNewRow:function(e,t){this.getController("data").dataSource().createParentIdSetter()(e.data,t),this.callBase.apply(this,arguments)},allowAdding:function(e){return this._allowEditAction("allowAdding",e)},_needToCloseEditableCell:function(e){return this.callBase.apply(this,arguments)||e.closest("."+p).length&&this.isEditing()},getButtonLocalizationNames:function(){var e=this.callBase.apply(this);return e.add="dxTreeList-editingAddRowToNode",e}}),y=w.default.extenders.views.rowsView._rowClick,B=w.default.extenders.views.rowsView._rowDblClick,C=function(e){var i=(0,t.default)(e.event.target),r="dxdblclick"===e.event.type?B:y;return!i.closest("."+v).length&&!R.call(this,e,r)},R=function(e,i){return!(0,t.default)(e.event.target).closest("."+p).length&&(i.call(this,e),!0)},E=(0,l.extend)({},w.default.extenders.views.rowsView,{_renderCellCommandContent:function(e,t){var i=this._editingController,r=t.row&&i.isEditRow(t.row.rowIndex);return!(t.isEditing||r)&&this.callBase.apply(this,arguments)},_rowClick:function(e){C.call(this,e)&&this.callBase.apply(this,arguments)},_rowDblClick:function(e){C.call(this,e)&&this.callBase.apply(this,arguments)}});u.default.registerModule("editing",{defaultOptions:function(){return(0,l.extend)(!0,w.default.defaultOptions(),{editing:{texts:{addRowToNode:s.default.format("dxTreeList-editingAddRowToNode")}}})},controllers:{editing:x},extenders:{controllers:(0,l.extend)(!0,{},w.default.extenders.controllers,{data:{changeRowExpand:function(){return this._editingController.refresh(),this.callBase.apply(this,arguments)}}}),views:{rowsView:E,headerPanel:w.default.extenders.views.headerPanel}}});
},{"./ui.tree_list.editor_factory":"sxRf","../../core/renderer":"qxFQ","../widget/ui.errors":"RFsS","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","../../core/utils/deferred":"g5TB","../../localization/message":"Njcj","./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.utils":"kk68","../grid_core/ui.grid_core.editing":"tSGQ"}],"fNxK":[function(require,module,exports) {
"use strict";var t=require("../../core/renderer"),e=require("../../core/guid"),i=require("../../core/component_registrator"),r=require("../../core/utils/extend").extend,o=require("../popover"),n="dx-tooltip",l="dx-tooltip-wrapper",s=o.inherit({_getDefaultOptions:function(){return r(this.callBase(),{toolbarItems:[],showCloseButton:!1,showTitle:!1,title:null,titleTemplate:null,onTitleRendered:null,bottomTemplate:null,propagateOutsideClick:!0})},_render:function(){this.$element().addClass(n),this._wrapper().addClass(l),this.callBase()},_renderContent:function(){this.callBase(),this._contentId="dx-"+new e,this._$content.attr({id:this._contentId,role:"tooltip"}),this._toggleAriaDescription(!0)},_toggleAriaDescription:function(e){var i=t(this.option("target")),r=e?this._contentId:void 0;this.setAria("describedby",r,i)}});i("dxTooltip",s),module.exports=s;
},{"../../core/renderer":"qxFQ","../../core/guid":"tQQP","../../core/component_registrator":"g3fO","../../core/utils/extend":"ac8T","../popover":"fJhL"}],"V2Bs":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),r=require("./tooltip"),n=require("../../core/utils/extend").extend,t=require("../../core/utils/deferred").Deferred,o=require("../../core/utils/view_port"),i=null,u=null,l=function(t){var l=(t=n({position:"top"},t)).content;delete t.content;var c=e("<div>").html(l).appendTo(o.value());u=function(){c.remove()},i=new r(c,t)},c=function(){i&&(u(),i=null)};exports.show=function(e){return c(),l(e),i.show()},exports.hide=function(){return i?i.hide().done(c).promise():(new t).resolve()};
},{"../../core/renderer":"qxFQ","./tooltip":"fNxK","../../core/utils/extend":"ac8T","../../core/utils/deferred":"g5TB","../../core/utils/view_port":"SnKV"}],"kLoJ":[function(require,module,exports) {
"use strict";module.exports=require("./tooltip/tooltip"),module.exports.show=require("./tooltip/ui.tooltip").show,module.exports.hide=require("./tooltip/ui.tooltip").hide,module.exports.default=module.exports;
},{"./tooltip/tooltip":"fNxK","./tooltip/ui.tooltip":"V2Bs"}],"vHks":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=P(e),i=require("../../events/core/events_engine"),n=P(i),a=require("./ui.grid_core.modules"),o=P(a),r=require("./ui.grid_core.utils"),l=require("../../core/utils/common"),s=require("../../core/utils/iterator"),d=require("../../core/utils/type"),u=require("../../core/utils/extend"),c=require("../widget/selectors"),h=require("../../localization/message"),f=P(h),g=require("../button"),p=P(g),v=require("../../events/pointer"),m=P(v),w=require("../validation_engine"),_=P(w),V=require("../validator"),x=P(V),y=require("../tooltip"),C=P(y),b=require("../overlay"),I=P(b),R=require("../themes"),k=P(R),D=require("../widget/ui.errors"),E=P(D),B=require("../../core/utils/deferred");function P(e){return e&&e.__esModule?e:{default:e}}function A(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var q="invalid",M="revert-tooltip",T="rowsview",W="dx-invalid-message",F="invalid-message",G="dx-invalid-message-always",O="dx-revert-button",H="dx-highlight-outline",S="validator",K="__DX_INSERT_INDEX__",$=2,N="row",j="form",z="batch",X="cell",U="popup",J="dx-group-cell",L=[U,j],Q="transparent",Y=o.default.Controller.inherit({init:function(){this._editingController=this.getController("editing"),this.createAction("onRowValidating")},_getBrokenRules:function(e,t){return t?t.brokenRules||t.brokenRule&&[t.brokenRule]:e.brokenRules||[]},_rowValidating:function(e,t){var i=new B.Deferred,n=this._getBrokenRules(e,t),a={brokenRules:n,isValid:t?t.isValid:e.isValid,key:e.key,newData:e.data,oldData:e.oldData,promise:null,errorText:this.getHiddenValidatorsErrorText(n)};return this.executeAction("onRowValidating",a),(0,B.when)(a.promise).always(function(){e.isValid=a.isValid,e.errorText=a.errorText,i.resolve(a)}),i.promise()},getHiddenValidatorsErrorText:function(e){var t=[];return(0,s.each)(e,function(e,i){i.validator.$element().parent().length||t.push(i.message)}),t.join(", ")},validate:function(e){var t=this,i=!0,n=this._editingController,a=new B.Deferred,o=[];if(e=e||n.getEditMode()===N,this._isValidationInProgress)return a.resolve(!1).promise();if(this._isValidationInProgress=!0,e)(0,s.each)(n._editData,function(e,a){var r=void 0;a.type&&"remove"!==a.type&&(r=t.validateGroup(a),o.push(r),r.done(function(e){e.isValid||(0,s.each)(e.brokenRules,function(){var e=this.validator.option("adapter").getValue();void 0===e&&(e=null),this.column&&n.updateFieldValue({key:a.key,column:this.column},e,null,!0)}),i=i&&e.isValid}))});else if(this._currentCellValidator){var r=this.validateGroup(this._currentCellValidator._findGroup());o.push(r),r.done(function(e){i=e.isValid})}return this._isValidationInProgress=!1,B.when.apply(void 0,o).done(function(){a.resolve(i)}),a.promise()},validateGroup:function(e){var t=this,i=new B.Deferred,n=_.default.getGroupConfig(e),a=void 0;return n&&n.validators.length&&(a=_.default.validateGroup(e)),(0,B.when)(a&&a.complete||a).done(function(n){(0,B.when)(t._rowValidating(e,n)).done(i.resolve)}),i.promise()},updateEditData:function(e){var t=this._editingController.getEditMode();if(-1===L.indexOf(t)){if(this.setDisableApplyValidationResults(!0),_.default.getGroupConfig(e)){var i=_.default.validateGroup(e);(0,B.when)(i.complete||i).done(function(t){e.isValid=t.isValid,e.brokenRules=t.brokenRules})}else e.brokenRules&&e.brokenRules.length||(e.isValid=!0);this.setDisableApplyValidationResults(!1)}else e.isValid=!0},setValidator:function(e){this._currentCellValidator=e},getValidator:function(){return this._currentCellValidator},createValidator:function(e,i){var a,o,l,s=this,h=s._editingController,f=e.column,g=function(){var t=f.calculateCellValue(a.data||{});return void 0!==t?t:e.value},p=f.showEditorAlways;if(f.validationRules&&Array.isArray(f.validationRules)&&f.validationRules.length&&!(0,d.isDefined)(f.command)&&((o=h.getIndexByKey(e.key,h._editData))<0&&(p||(p=((l=s.getController("columns"))&&l.getVisibleColumns()||[]).some(function(e){return e.showEditorAlways})),p&&(o=h._addEditData({key:e.key,oldData:e.data}))),o>=0)){if(i&&!i.length)return void E.default.log("E1050");a=h._editData[o];var v=i&&i.hasClass("dx-widget");i&&i.addClass(s.addWidgetPrefix(S));var w=new x.default(i||(0,t.default)("<div>"),{name:f.caption,validationRules:(0,u.extend)(!0,[],f.validationRules),validationGroup:a,adapter:v?null:{getValue:g,applyValidationResults:function(e){if(e.brokenRule&&(e.brokenRule.columnIndex=f.index,e.brokenRule.column=f),i&&!s.getDisableApplyValidationResults()){if(!e.isValid){var t=i.find(":focus");h.showHighlighting(i,!0),(0,c.focused)(t)||(n.default.trigger(t,"focus"),n.default.trigger(t,m.default.down))}i.toggleClass(s.addWidgetPrefix(q),!e.isValid)}}},dataGetter:function(){return{data:(0,r.createObjectWithChanges)(a.oldData,a.data),column:f}}});if(v){var _=w.option("adapter");_&&(_.getValue=g)}return w}},setDisableApplyValidationResults:function(e){this._disableApplyValidationResults=e},getDisableApplyValidationResults:function(){return this._disableApplyValidationResults}});module.exports={defaultOptions:function(){return{editing:{texts:{validationCancelChanges:f.default.format("dxDataGrid-validationCancelChanges")}}}},controllers:{validating:Y},extenders:{controllers:{editing:{_addEditData:function(e,t){var i,n=this.getController("validating"),a=this.callBase(e,t);return a>=0&&(i=this._editData[a],n.updateEditData(i)),a},_updateRowAndPageIndices:function(){var e=this,t=e.getView("rowsView").getTopVisibleItemIndex(),i=t;(0,s.each)(e._editData,function(n,a){a.isValid||a.pageIndex===e._pageIndex||(a.pageIndex=e._pageIndex,"insert"===a.type?a.rowIndex=t:a.rowIndex=i,i++)})},_needInsertItem:function(e){var t=this.callBase.apply(this,arguments);return t&&!e.isValid&&(t=e.key.pageIndex===this._pageIndex),t},processItems:function(e,t){var i,n,a=this._editData,o=this.getController("data"),r=function(t){var i,a={key:t.key};(function(e,t){var i=-1,n="insert"===e.type,a=e.key;return(0,s.each)(t,function(e,t){if((0,l.equalByValue)(a,n?t:o.keyOf(t)))return i=e,!1}),i})(t,e)>=0||(t.rowIndex=t.rowIndex>n?t.rowIndex%n:t.rowIndex,i=t.rowIndex,a[K]=1,e.splice(i,0,a))};if(e=this.callBase(e,t),n=e.length,this.getEditMode()===z&&"prepend"!==t&&"append"!==t)for(i=0;i<a.length;i++)a[i].type&&a[i].pageIndex===this._pageIndex&&a[i].key.pageIndex!==this._pageIndex&&r(a[i]);return e},processDataItem:function(e){var t,i,n=e.data[K],a=n?e.data.key:e.key;this.getEditMode()===z&&n&&a&&(t=(0,r.getIndexByKey)(a,this._editData))>=0&&"insert"!==(i=this._editData[t]).type&&(e.data=(0,u.extend)(!0,{},i.oldData,i.data),e.key=a),this.callBase.apply(this,arguments)},_createInvisibleColumnValidators:function(e){var t=this.getController("validating"),i=this.getController("columns"),n=i.getInvisibleColumns().filter(function(e){return!e.isBand}),a=i.getGroupColumns().filter(function(e){return!e.showWhenGrouped&&-1===n.indexOf(e)}),o=[];return n.push.apply(n,A(a)),-1===L.indexOf(this.getEditMode())&&(0,s.each)(n,function(i,n){e.forEach(function(e){var i;if("insert"===e.type?i=e.data:"update"===e.type&&(i=(0,r.createObjectWithChanges)(e.oldData,e.data)),i){var a=t.createValidator({column:n,key:e.key,value:n.calculateCellValue(i)});a&&o.push(a)}})}),function(){o.forEach(function(e){e._dispose()})}},_beforeSaveEditData:function(e,t){var i=this,n=void 0,a=this.callBase.apply(this,arguments),o=this.getController("validating");if(e)n="remove"===e.type||e.isValid,a=a||!n;else{var r=this._createInvisibleColumnValidators(this._editData);a=new B.Deferred,o.validate(!0).done(function(e){switch(r(),i._updateRowAndPageIndices(),i.getEditMode()){case X:e||i._focusEditingCell();break;case z:e||(i._editRowIndex=-1,i._editColumnIndex=-1,i.getController("data").updateItems())}a.resolve(!e)})}return a.promise?a.promise():a},_beforeEditCell:function(e,t,i){var n=this.callBase(e,t,i),a=this._rowsView._getCellElement(e,t),o=a&&a.data("dxValidator"),r=o&&o.option("adapter").getValue();if(this.getEditMode(this)===X&&(!o||void 0!==r&&o.validate().isValid))return n},_afterSaveEditData:function(){var e,t=this;if((0,s.each)(t._editData,function(i,n){var a=t._showErrorRow(n);e=e||a}),e){var i=this._rowsView.getScrollable();i&&(i.update(),i.scrollToElement(e))}},_showErrorRow:function(e){var t,i=this.getController("errorHandling"),n=this.getController("data").items(),a=this.getIndexByKey(e.key,n);if(!e.isValid&&e.errorText&&a>=0)return t=this.getPopupContent(),i&&i.renderErrorRow(e.errorText,a,t)},updateFieldValue:function(e){var t=this.getEditMode();if(this.callBase.apply(this,arguments),t===N||t===z&&e.column.showEditorAlways){var i=this.getController("validating").getValidator();i&&i.validate()}},showHighlighting:function(e,t){var i=this,n=!0,a=this.callBase,o=void 0;if(t||!(o=e.data("dxValidator")))n&&a.call(this,e);else{var r=o.validate();(0,B.when)(r.complete||r).done(function(t){(n=t.isValid)&&a.call(i,e)})}},getEditDataByKey:function(e){return this._editData[(0,r.getIndexByKey)(e,this._editData)]}},editorFactory:{_showRevertButton:function(e,i){var n=this;if(i&&i.length){var a=(0,t.default)("<div>").addClass(this.addWidgetPrefix(M)).appendTo(e),o={animation:null,visible:!0,target:i,container:e,closeOnOutsideClick:!1,closeOnTargetScroll:!1,contentTemplate:function(){var e=(0,t.default)("<div>").addClass(O),i={icon:"revert",hint:n.option("editing.texts.validationCancelChanges"),onClick:function(){n._editingController.cancelEditData()}};return new p.default(e,i).$element()},position:{my:"left top",at:"right top",of:i,offset:"1 0",collision:"flip",boundary:this._rowsView.element()},onPositioned:this._positionedHandler.bind(this)};return new C.default(a,o)}},_hideFixedGroupCell:function(e,i){var n,a,o,r=this._rowsView.isFixedColumns(),l=this._editingController.isFormEditMode();r&&!l&&(n=e.closest(".dx-row").next().data("options"))&&"group"===n.rowType&&(a=(0,t.default)(this._rowsView.getRowElement(n.rowIndex)).last(),(o=a.find("."+J)).length&&"hidden"!==o.get(0).style.visibility&&(o.css("visibility","hidden"),i.onDisposing=function(){o.css("visibility","")}))},_positionedHandler:function(e,i){if(!e.component.__skipPositionProcessing){var n=(0,t.default)(e.element).hasClass(this.addWidgetPrefix(M)),a=!n&&this._rowsView.updateFreeSpaceRowHeight(),o=this._normalizeValidationMessagePositionAndMaxWidth(e,n,i);e.component.__skipPositionProcessing=!(!a&&!o),o?e.component.option(o):a&&e.component.repaint()}},_showValidationMessage:function(e,i,n,a){var o=this,r=e.find("."+H),l=k.default.isMaterial(),s=r.length&&!l?r:e,d=e.find(".dx-dropdowneditor-overlay").data("dxPopup"),u=d&&d.option("visible"),c=u?"top right":"top "+n,h=u?"top left":"bottom "+n,f=(0,t.default)("<div>").addClass(W).addClass(G).addClass(this.addWidgetPrefix(F)).text(i).appendTo(e),g={target:s,container:e,shading:!1,width:"auto",height:"auto",visible:!0,animation:!1,propagateOutsideClick:!0,closeOnOutsideClick:!1,closeOnTargetScroll:!1,position:{collision:"flip",boundary:this._rowsView.element(),boundaryOffset:"0 0",my:c,at:h},onPositioned:function(t){o._positionedHandler(t,u),o._shiftValidationMessageIfNeed(t.component.$content(),a&&a.$content(),e)}};this._hideFixedGroupCell(e,g),new I.default(f,g)},_normalizeValidationMessagePositionAndMaxWidth:function(e,i,n){var a=this._columnsController.getFixedColumns();if(a&&a.length){var o,r,l,s,d=void 0,u=!i&&(o=this,r=e.element,l=(0,t.default)(r).closest("tr").index(),s=(0,t.default)(o._rowsView.getRowElement(l)).first().children().filter(":not(.dx-hidden-cell)"),o._rowsView._getWidths(s).reduce(function(e,t){return e+t},0)),c=(i?e.component.overlayContent():e.component.$content()).outerWidth(!0),h=!i&&c>u,f=this._rowsView.getCellIndex((0,t.default)(e.element).closest("td")),g=function(e){var t=void 0,i=void 0;return e.some(function(n,a){if(n.command===Q)return t=0===a?-1:a,i=a===e.length-1?-1:a+n.colspan-1,!0}),{startColumnIndex:t,endColumnIndex:i}}(a);return i||f!==g.startColumnIndex&&!h?f===g.endColumnIndex&&(d={collision:"none flip",my:"top right",at:i||n?"top left":"bottom right"},i&&(d.offset="-1 0")):d={collision:"none flip",my:"top left",at:n?"top right":"bottom left"},d&&{position:d,maxWidth:h?u-2:void 0}}},_shiftValidationMessageIfNeed:function(e,t,i){if(t){var n=e.offset(),a=t.offset();if(n.top===a.top&&n.left+e.width()>a.left){var o=t.width()+$;e.css("left",a.left<i.offset().left?-o:o)}}},_getTooltipsSelector:function(){var e=this.addWidgetPrefix(F);return".dx-editor-cell ."+this.addWidgetPrefix(M)+", .dx-editor-cell ."+e+", .dx-cell-modified ."+e},init:function(){this.callBase(),this._editingController=this.getController("editing"),this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView")},loseFocus:function(e){e||this.getController("validating").setValidator(null),this.callBase()},focus:function(e,t){var i,n,a=e&&e.closest(this._getFocusCellSelector()),o=a&&(a.data("dxValidator")||e.find("."+this.addWidgetPrefix(S)).eq(0).data("dxValidator")),r=a&&a.closest(".dx-row").data("options"),l=r?this.getController("editing").getEditDataByKey(r.key):null,s=a&&a.closest("."+this.addWidgetPrefix(T)).find(this._getTooltipsSelector()),d=a&&a.is("td")?a:null,u=!1,c=d&&this.getController("columns").getVisibleColumns()[d.index()];return arguments.length?(s&&s.remove(),o&&(this.getController("validating").setValidator(o),void 0!==o.option("adapter").getValue()&&((i=o.validate()).isValid||(t=!0,u=!0))),(i&&!i.isValid||l&&"update"===l.type&&!this._editingController.isSaving())&&this._editingController.getEditMode()===X&&(n=this._showRevertButton(a,d?a.find("."+H).first():a)),u&&d&&c&&i.brokenRule.message&&this._showValidationMessage(a,i.brokenRule.message,c.alignment||"left",n),!t&&this._rowsView.element()&&this._rowsView.updateFreeSpaceRowHeight(),this.callBase(e,t)):this.callBase()}}},views:{rowsView:{updateFreeSpaceRowHeight:function(e){var t,i,n,a=this.element(),o=a&&a.find("."+this.addWidgetPrefix(F)+" .dx-overlay-content");if(this.callBase(e),o&&o.length&&(t=this._getRowElements(),(i=(n=this._getFreeSpaceRowElements(e)).first())&&1===t.length&&(!i.is(":visible")||o.outerHeight()>i.outerHeight())))return n.show(),n.height(o.outerHeight()),!0},_formItemPrepared:function(e,t){var i=this;this.callBase.apply(this,arguments),(0,l.deferUpdate)(function(){var n=t.find(".dx-widget").first();n.length&&!n.children().length||i.getController("validating").createValidator(e,n)})},_cellPrepared:function(e,t){this.getController("editing").isFormEditMode()||this.getController("validating").createValidator(t,e),this.callBase.apply(this,arguments)}}}}};
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","./ui.grid_core.modules":"vXU0","./ui.grid_core.utils":"kk68","../../core/utils/common":"GcQA","../../core/utils/iterator":"FHcO","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","../widget/selectors":"m3d1","../../localization/message":"Njcj","../button":"kKaI","../../events/pointer":"HDhW","../validation_engine":"E8TJ","../validator":"QVx0","../tooltip":"kLoJ","../overlay":"byva","../themes":"k2ha","../widget/ui.errors":"RFsS","../../core/utils/deferred":"g5TB"}],"TOoh":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/extend"),t=require("./ui.tree_list.core"),r=i(t),d=require("../grid_core/ui.grid_core.validating"),l=i(d);function i(e){return e&&e.__esModule?e:{default:e}}var o=(0,e.extend)({},l.default.extenders.controllers.editing);delete o.processItems,delete o.processDataItem,r.default.registerModule("validating",{defaultOptions:l.default.defaultOptions,controllers:l.default.controllers,extenders:{controllers:{editing:o,editorFactory:l.default.extenders.controllers.editorFactory},views:l.default.extenders.views}});
},{"../../core/utils/extend":"ac8T","./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.validating":"vHks"}],"wI3X":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=g(e),i=require("../../core/utils/window"),n=require("../../events/core/events_engine"),o=g(n),r=require("../../core/utils/browser"),a=g(r),s=require("../../core/utils/type"),c=require("../../animation/position"),u=g(c),l=require("../../core/utils/iterator"),h=require("../../core/class"),d=g(h),p=require("../../core/utils/deferred");function g(e){return e&&e.__esModule?e:{default:e}}var _="infinite",f="virtual",v=function(e){return e.option("scrolling.mode")===f||e._isVirtual},m=function(e){return e.option("scrolling.mode")===_&&!e._isVirtual};exports.getPixelRatio=function(e){return e.devicePixelRatio||1},exports.getContentHeightLimit=function(e){return e.msie?4e6:e.mozilla?8e6:15e6/exports.getPixelRatio((0,i.getWindow)())},exports.subscribeToExternalScrollers=function(e,n,r){var a,s=[],c=[],h=[];function d(t){var i=t.element?t.$element():t,n=u.default.offset(i);return n?t.scrollTop()-(n.top-e.offset().top):e.offset().top}var p={on:function(e,t,i){e.on("scroll",i)},off:function(e,t,i){e.off("scroll",i)}};function g(e){var r="#document"===e.get(0).nodeName,a=e.data("dxScrollable"),u=p;if(a||(a=r&&(0,t.default)((0,i.getWindow)())||"auto"===e.css("overflowY")&&e,u=o.default,a)){var l=function(e){return function(){var t=e.scrollTop()-d(e);n(t=t>0?t:0)}}(a);u.on(a,"scroll",l),c.push(function(e){var t=d(a),i=a.scrollTo?"scrollTo":"scrollTop";e-t>=0&&a[i](e+t)}),s.push(a),h.push(function(){u.off(a,"scroll",l)})}}for(a=(r=r||e).parent();a.length;a=a.parent())g(a);return{scrollTo:function(e){(0,l.each)(c,function(t,i){i(e)})},dispose:function(){(0,l.each)(h,function(e,t){t()})}}},exports.VirtualScrollController=d.default.inherit(function(){var e=function(e,t){var i=e.option("scrolling.preloadEnabled"),n=function(e){var t=e._dataSource.pageSize();if(e.option("scrolling.preventPreload"))return 0;var i=e._viewportSize;if(v(e)&&!e.option("legacyRendering")&&e.option("scrolling.removeInvisiblePages")){i=0;for(var n=e._viewportSize*e._viewportItemSize,o=e.getContentOffset(),r=e._position||0,a=e.virtualItemsCount(),s=e._dataSource.totalItemsCount(),c=a.begin;c<s&&!(o>=r+n);c++)(o+=e._itemSizes[c]||e._viewportItemSize)>=r&&i++}return t&&i>0?Math.ceil(i/t):1}(e);return n&&(t?n=i?1:0:(i&&n++,m(e)&&n--)),n},t=function(e){return e._cache.length?e._cache[0].pageIndex:-1},i=function(e){return e._cache.length?e._cache[e._cache.length-1].pageIndex:-1},n=function(e,t,i){e._isChangedFiring=!0,t(i),e._isChangedFiring=!1},o=function(e,t,i){if(e._isDelayChanged)return e._isDelayChanged=!1,n(e,t,i),!0},r=function(e,t,i,o,r){var a=e._dataSource,c=a.items().slice(),u=(0,s.isObject)(i)?i:void 0,l="prepend"===i,h=a.viewportItems();i&&(0,s.isString)(i)&&!e._isDelayChanged&&(u={changeType:i,items:c},r&&(u.removeCount=r.itemsCount,u.removeCount&&a.correctCount&&(u.removeCount=a.correctCount(h,u.removeCount,l))));var d=r?r.itemsLength:0;d&&a.correctCount&&(d=a.correctCount(h,d,l)),"append"===i?(h.push.apply(h,c),r&&h.splice(0,d)):l?(h.unshift.apply(h,c),r&&h.splice(-d)):e._dataSource.viewportItems(c),a.updateLoading(),e._lastPageIndex=e.pageIndex(),e._isDelayChanged=o,o||n(e,t,u)};return{ctor:function(e,t,i){this._dataSource=t,this.component=e,this._pageIndex=this._lastPageIndex=t.pageIndex(),this._viewportSize=0,this._viewportItemSize=20,this._viewportItemIndex=-1,this._itemSizes={},this._sizeRatio=1,this._items=[],this._cache=[],this._isVirtual=i,this._loadingPageIndexes={}},getItemSizes:function(){return this._itemSizes},option:function(){return this.component.option.apply(this.component,arguments)},virtualItemsCount:function(){var e,i,n=0;if(v(this))return(e=t(this))<0&&(e=this._dataSource.pageIndex()),i=e*this._dataSource.pageSize(),n=this._cache.length*this._dataSource.pageSize(),{begin:i,end:Math.max(0,this._dataSource.totalItemsCount()-n-i)}},setViewportPosition:function(e){var t=this,i=new p.Deferred,n=Math.min(t.option("scrolling.timeout")||0,t._dataSource.changingDuration());return n<t.option("scrolling.renderingThreshold")&&(n=t.option("scrolling.minTimeout")||0),clearTimeout(t._scrollTimeoutID),n>0?t._scrollTimeoutID=setTimeout(function(){t._setViewportPositionCore(e),i.resolve()},n):(t._setViewportPositionCore(e),i.resolve()),i.promise()},getViewportPosition:function(){return this._position||0},getItemIndexByPosition:function(){for(var e,t=this._position,i=this.getItemSize(),n=0,o=0,r=Object.keys(this._itemSizes).concat(-1),a=0;a<r.length&&n<t;a++){var s=parseInt(r[a]),c=(t-n)/i;if(s<0||o+c<s){o+=c;break}n+=(c=s-o)*i,o+=c,o+=(n+=e=this._itemSizes[s])<t?1:(t-n+e)/e}return Math.round(50*o)/50},_setViewportPositionCore:function(e){this._position=e;var t=this.getItemIndexByPosition();return this.setViewportItemIndex(t)},setContentSize:function(e){var t=this,i=Array.isArray(e)&&e,n=t.virtualItemsCount();if(i&&(e=i.reduce(function(e,t){return e+t},0)),t._contentSize=e,n){i&&i.forEach(function(e,i){t._itemSizes[n.begin+i]=e});var o=(n.begin+n.end+t.itemsCount())*t._viewportItemSize,r=exports.getContentHeightLimit(a.default);t._sizeRatio=o>r?r/o:1}},getItemSize:function(){return this._viewportItemSize*this._sizeRatio},getItemOffset:function(e,t){var i=this,n=i.virtualItemsCount(),o=e;if(!n)return 0;var r=0,a=i._dataSource.totalItemsCount();return Object.keys(i._itemSizes).forEach(function(n){o&&(t?n>=a-e:n<e)&&(r+=i._itemSizes[n],o--)}),Math.floor(r+o*i._viewportItemSize*i._sizeRatio)},getContentOffset:function(e){var t="end"===e,i=this.virtualItemsCount();return i?this.getItemOffset(t?i.end:i.begin,t):0},getVirtualContentSize:function(){return this.virtualItemsCount()?this.getContentOffset("begin")+this.getContentOffset("end")+this._contentSize:0},getViewportItemIndex:function(){return this._viewportItemIndex},setViewportItemIndex:function(e){var t,i,n,o=this._dataSource.pageSize(),r=this._dataSource.pageCount(),a=v(this),s=m(this),c=this._dataSource.totalItemsCount();if(this._viewportItemIndex=e,o&&(a||s)&&c>=0)return this._viewportSize&&e+this._viewportSize>=c&&!this._isVirtual?this._dataSource.hasKnownLastPage()?(t=c%o,(n=r-1)>0&&t>0&&t<o/2&&n--):n=r:(n=Math.floor(e/o),i=r-1,n=Math.max(n,0),n=Math.min(n,i)),this.pageIndex(n),this.load()},viewportItemSize:function(e){return void 0!==e&&(this._viewportItemSize=e),this._viewportItemSize},viewportSize:function(e){return void 0!==e&&(this._viewportSize=e),this._viewportSize},pageIndex:function(e){return v(this)||m(this)?(void 0!==e&&(this._pageIndex=e),this._pageIndex):this._dataSource.pageIndex(e)},beginPageIndex:function(e){var i=t(this);return i<0&&(i=void 0!==e?e:this.pageIndex()),i},endPageIndex:function(){var e=i(this);return e>0?e:this._lastPageIndex},pageSize:function(){return this._dataSource.pageSize()},load:function(){var n,o,r,a=this,s=a._dataSource;return v(a)||m(a)?(n=function(n){var o=-1,r=t(n),a=n._dataSource;return r<0?o=n._pageIndex:n._cache[n._pageIndex-r]?r>=0&&n._viewportSize>=0&&(r>0&&(i(n)+1===a.pageCount()&&n._cache.length<e(n)+1||n._pageIndex===r&&e(n,!0))&&(o=r-1),o<0&&r+n._cache.length<=n._pageIndex+e(n)&&(o=r+n._cache.length)):o=n._pageIndex,n._loadingPageIndexes[o]&&(o=-1),o}(a))>=0&&(o=function(e,t){var i=e._dataSource;if(t===e.pageIndex()||!i.isLoading()&&t<i.pageCount()||!i.hasKnownLastPage()&&t===i.pageCount())return i.pageIndex(t),e._loadingPageIndexes[t]=!0,(0,p.when)(i.load()).always(function(){e._loadingPageIndexes[t]=!1})}(a,n))&&(r=new p.Deferred,o.done(function(){var e=a._delayDeferred;e?e.done(r.resolve).fail(r.reject):r.resolve()}).fail(r.reject),s.updateLoading()):r=s.load(),r||a._lastPageIndex===a.pageIndex()||a._dataSource.onChanged({changeType:"pageIndex"}),r||(new p.Deferred).resolve()},loadIfNeed:function(){if((v(this)||m(this))&&!this._dataSource.isLoading()&&(!this._isChangedFiring||this._isVirtual)){var e=this.getViewportPosition();e>0?this._setViewportPositionCore(e):this.load()}},handleDataChanged:function(a,s){var c,u,l,h,d=this,p=d._dataSource,g=d._cache.length;if(s&&s.changes)n(d,a,s);else if(v(d)||m(d)){if((c=t(d))>=0&&(v(d)&&c+d._cache.length!==p.pageIndex()&&c-1!==p.pageIndex()&&(g=0,d._cache=[]),m(d)))if(0===p.pageIndex())d._cache=[];else if(p.pageIndex()<i(d))return void n(d,a,{changeType:"append",items:[]});var _;h={pageIndex:p.pageIndex(),itemsLength:p.items(!0).length,itemsCount:d.itemsCount(!0)},!d.option("legacyRendering")&&d.option("scrolling.removeInvisiblePages")&&v(d)?l=d._cache.length>Math.max(e(this)+(d.option("scrolling.preloadEnabled")?1:0),2):o(d,a,{isDelayed:!0}),c===p.pageIndex()+1?(l&&(_=d._cache.pop()),u="prepend",d._cache.unshift(h)):(l&&(_=d._cache.shift()),u="append",d._cache.push(h));var f=v(d)&&0===g;r(d,a,d._cache.length>1?u:void 0,f,_),d._delayDeferred=d.load().done(function(){o(d,a)&&d.load()})}else r(d,a,s)},itemsCount:function(e){var t=0;return!e&&v(this)?(0,l.each)(this._cache,function(){t+=this.itemsCount}):t=this._dataSource.itemsCount(),t},reset:function(e){this._loadingPageIndexes={},this._cache=[],e||(this._itemSizes={})},subscribeToWindowScrollEvents:function(e){var t=this;t._windowScroll=t._windowScroll||exports.subscribeToExternalScrollers(e,function(e){t.viewportItemSize()&&t.setViewportPosition(e)})},dispose:function(){clearTimeout(this._scrollTimeoutID),this._windowScroll&&this._windowScroll.dispose(),this._windowScroll=null},scrollTo:function(e){this._windowScroll&&this._windowScroll.scrollTo(e)}}}());
},{"../../core/renderer":"qxFQ","../../core/utils/window":"NXH3","../../events/core/events_engine":"oNrb","../../core/utils/browser":"nlvS","../../core/utils/type":"Mw4w","../../animation/position":"cuhc","../../core/utils/iterator":"FHcO","../../core/class":"YpjV","../../core/utils/deferred":"g5TB"}],"pJWY":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=g(e),i=require("../../core/utils/window"),n=require("../../core/utils/common"),o=require("./ui.grid_core.virtual_scrolling_core"),r=g(o),a=require("./ui.grid_core.utils"),l=g(a),s=require("../../core/utils/iterator"),d=require("../../core/utils/deferred"),u=require("../../animation/translator"),c=g(u),h=require("../load_indicator"),p=g(h);function g(e){return e&&e.__esModule?e:{default:e}}var f="table",_="bottom-load-panel",m="table-content",v="group-space",C="content",w="dx-row",S="dx-freespace-row",I="dx-column-lines",y="dx-virtual-row",x="infinite",T="virtual",z="standard",P=25e4,L=300,R=function(e){return e.option("scrolling.mode")===T},B=function(e){return e.option("scrolling.mode")===x},b=function(e){var t=e.option("scrolling.rowRenderingMode");return t===T||t!==z&&void 0},E=function(e,t,i,n){for(var o=i?0:1,r=0;r<t+o;r++){var a=e[i?e.length-1-r:r];a&&!n(a,r===t)&&t++}return t},V=function(){var e=function(e){var t=e._virtualScrollController.beginPageIndex(-1);R(e)&&(t<0||e.viewportSize()>=0&&e.getViewportItemIndex()>=0&&(t*e.pageSize()>e.getViewportItemIndex()||t*e.pageSize()+e.itemsCount()<e.getViewportItemIndex()+e.viewportSize())&&e._dataSource.isLoading()?e._isLoading||(e._isLoading=!0,e.loadingChanged.fire(!0)):e._isLoading&&(e._isLoading=!1,e.loadingChanged.fire(!1)))},t={init:function(t){var i=this;i.callBase.apply(i,arguments),i._items=[],i._isLoaded=!0,i._virtualScrollController=new r.default.VirtualScrollController(i.component,{pageSize:function(){return i.pageSize()},totalItemsCount:function(){return i.totalItemsCount()},hasKnownLastPage:function(){return i.hasKnownLastPage()},pageIndex:function(e){return t.pageIndex(e)},isLoading:function(){return t.isLoading()&&!i.isCustomLoading()},pageCount:function(){return i.pageCount()},load:function(){return t.load()},updateLoading:function(){e(i)},itemsCount:function(){return i.itemsCount(!0)},items:function(){return t.items()},viewportItems:function(e){return e&&(i._items=e),i._items},onChanged:function(e){i.changed.fire(e)},changingDuration:function(e){return i.isLoading()?L:i._renderTime||0}})},_handleLoadingChanged:function(e){R(this)||(this._isLoading=e,this.callBase.apply(this,arguments)),this._startLoadTime=e?new Date:void 0},_handleLoadError:function(){this._isLoading=!1,this.loadingChanged.fire(!1),this.callBase.apply(this,arguments)},_handleDataChanged:function(e){var t=this.callBase.bind(this);this._virtualScrollController.handleDataChanged(t,e)},_customizeRemoteOperations:function(e,t,i){!this.option("legacyRendering")&&R(this)&&!i.reload&&!t&&i.skip&&this._renderTime<this.option("scrolling.renderingThreshold")&&(e.delay=void 0),this.callBase.apply(this,arguments)},items:function(){return this._items},itemsCount:function(e){return e?this.callBase():this._virtualScrollController.itemsCount()},load:function(e){return e?this.callBase(e):this._virtualScrollController.load()},isLoading:function(){return this._isLoading},isLoaded:function(){return this._dataSource.isLoaded()&&this._isLoaded},resetPagesCache:function(e){e||this._virtualScrollController.reset(),this.callBase.apply(this,arguments)},_changeRowExpandCore:function(){var t=this.callBase.apply(this,arguments);return this.resetPagesCache(),e(this),t},reload:function(){this._dataSource.pageIndex(this.pageIndex());var e=this._virtualScrollController;if(e){var t=new d.Deferred;return this.callBase.apply(this,arguments).done(function(i){var n=e._delayDeferred;n?n.done(t.resolve).fail(t.reject):t.resolve(i)}).fail(t.reject),t}return this.callBase.apply(this,arguments)},refresh:function(t,i,n){var o=t.storeLoadOptions,r=this._dataSource;return(i||n.reload)&&(this._virtualScrollController.reset(),r.items().length=0,this._isLoaded=!1,e(this),this._isLoaded=!0,B(this)?(this.pageIndex(0),r.pageIndex(0),o.pageIndex=0,t.pageIndex=0,o.skip=0):(r.pageIndex(this.pageIndex()),r.paginate()&&(t.pageIndex=this.pageIndex(),o.skip=this.pageIndex()*this.pageSize()))),this.callBase.apply(this,arguments)},dispose:function(){this._virtualScrollController.dispose(),this.callBase.apply(this,arguments)}};return["virtualItemsCount","getContentOffset","getVirtualContentSize","setContentSize","setViewportPosition","getViewportItemIndex","setViewportItemIndex","getItemIndexByPosition","viewportSize","viewportItemSize","getItemSize","getItemSizes","pageIndex","beginPageIndex","endPageIndex","loadIfNeed"].forEach(function(e){t[e]=function(){var t=this._virtualScrollController;return t[e].apply(t,arguments)}}),t}(),D=function(){var e=function(e,t){var i,n=e.parent("."+t);n.length&&(e=n),i=t===S?e.length-1:e.length;for(var o=0;o<i;o++)e.eq(o).remove()};return{init:function(){var e=this,t=e.getController("data");if(e.callBase(),t.pageChanged.add(function(){e.scrollToPage(t.pageIndex())}),!e.option("legacyRendering")&&t.pageIndex()>0){e.resizeCompleted.add(function i(){e.resizeCompleted.remove(i),e.scrollToPage(t.pageIndex())})}},scrollToPage:function(e){var t,i=this._dataController,n=i?i.pageSize():0;if(R(this)||B(this)){var o=i.getItemSize(),r=i.getItemSizes(),a=e*n;for(var l in t=a*o,r)l<=a&&(t+=r[l]-o)}else t=0;this.scrollTo({y:t,x:this._scrollLeft})},renderDelayedTemplates:function(e){this._updateContentPosition(!0),this.callBase.apply(this,arguments)},_renderCore:function(e){var t,i=new Date;if(this.callBase.apply(this,arguments),(t=this._dataController._dataSource)&&e){var n=e.items?e.items.length:20,o=this._dataController.viewportSize()||20;b(this)?t._renderTime=(new Date-i)*o/n:t._renderTime=new Date-i}},_getRowElements:function(e){var t=this.callBase(e);return t&&t.not("."+y)},_renderContent:function(e,t){return this._dataController.virtualItemsCount()&&this.option("legacyRendering")?((0,i.hasWindow)()&&t.addClass(this.addWidgetPrefix(m)),e.children().length?e.children().first().replaceWith(t):e.append(t),1===e.children("table").length&&(e.append(this._createTable()),this._contentHeight=0),e):this.callBase.apply(this,arguments)},_removeRowsElements:function(e,i,n){var o=this._getRowElements(e).toArray();o="append"===n?o.slice(0,i):o.slice(-i);var r=this.getController("errorHandling");o.map(function(e){var i=(0,t.default)(e);r&&r.removeErrorRow(i.next()),i.remove()})},_restoreErrorRow:function(e){var i=this.getController("editing");i&&i.hasChanges()&&this._getRowElements(e).each(function(e,n){var o=(0,t.default)(n).data("options");if(o){var r=i.getEditDataByKey(o.key);r&&i._showErrorRow(r)}})},_updateContent:function(t,i){var n,o,r=this._findContentElement(),a=i&&i.changeType;if("append"===a||"prepend"===a){n=r.children().first();var l=this._getBodies(t);this.option("legacyRendering")||1!==l.length?l["append"===a?"appendTo":"prependTo"](n):this._getBodies(n)["append"===a?"append":"prepend"](l.children()),t.remove(),o=this._getFreeSpaceRowElements(n),e(o,S),i.removeCount&&this._removeRowsElements(n,i.removeCount,a),this._restoreErrorRow(n)}else this.callBase.apply(this,arguments);this._updateBottomLoading()},_addVirtualRow:function(e,t,i,n){if(n){var o=this._createEmptyRow(y,t,n);o=this._wrapRowIfNeed(e,o),this._appendEmptyRow(e,o,i)}},_updateContentPosition:function(i){var o=this,r=o._dataController,a=o._rowHeight||20;if(r.viewportItemSize(a),o.option("legacyRendering")||!R(o)&&!b(o))(0,n.deferUpdate)(function(){o._updateContentPositionCore()});else{if(!i){var l=o._getRowElements(o._tableElement).toArray().map(function(e){return e.getBoundingClientRect().height});r.setContentSize(l)}var s=r.getContentOffset("begin"),d=r.getContentOffset("end"),u=o.getTableElements(),c=u.children("tbody").children("."+y);e(c,y),u.each(function(e){var i=e>0;o._isFixedTableRendering=i,o._addVirtualRow((0,t.default)(this),i,"top",s),o._addVirtualRow((0,t.default)(this),i,"bottom",d),o._isFixedTableRendering=!1}),!i&&o._updateScrollTopPosition(s)}},_updateScrollTopPosition:function(e){this._scrollTop<e&&!this._isScrollByEvent&&this._dataController.pageIndex()>0&&this.scrollTo({top:e,left:this._scrollLeft})},_updateContentPositionCore:function(){var e,t,i,o,r,a=this,l=a._rowHeight||20;a._dataController.virtualItemsCount()&&(i=a._findContentElement().children(),o=i.eq(0),r=i.eq(1),a._contentTableHeight=o[0].offsetHeight,a._dataController.viewportItemSize(l),a._dataController.setContentSize(a._contentTableHeight),e=a._dataController.getVirtualContentSize(),t=a._dataController.getContentOffset(),(0,n.deferRender)(function(){c.default.move(o,{left:0,top:t}),(a._contentHeight!==e||0===e||!a._isTableLinesDisplaysCorrect(r)||!a._isColumnElementsEqual(o.find("col"),r.find("col")))&&(a._contentHeight=e,a._renderVirtualTableContent(r,e)),a._updateScrollTopPosition(t)}))},_isTableLinesDisplaysCorrect:function(e){return e.find("."+I).length>0===this.option("showColumnLines")},_isColumnElementsEqual:function(e,t){var i=e.length===t.length;return i&&(0,s.each)(e,function(e,n){if(n.style.width!==t[e].style.width)return i=!1}),i},_renderVirtualTableContent:function(e,t){var i,n=this._columnsController.getVisibleColumns(),o=this._createColGroup(n).prop("outerHTML"),r="",a=this.option("showColumnLines")?I:"",l=function(e){return"<tr style='height:"+e+"px;' class='"+S+" "+w+" "+a+"' >"+r+"</tr>"};for(i=0;i<n.length;i++){var s=this._getCellClasses(n[i]),d=s.length?" class='"+s.join(" ")+"'":"";r+="<td"+d+"/>"}for(;t>P;)o+=l(P),t-=P;o+=l(t),e.addClass(this.addWidgetPrefix(f)),e.html(o)},_getCellClasses:function(e){var t=[],i=e.cssClass,n="expand"===e.command;return i&&t.push(i),n&&t.push(this.addWidgetPrefix(v)),t},_findBottomLoadPanel:function(e){var t=e||this.element(),i=t&&t.find("."+this.addWidgetPrefix(_));if(i&&i.length)return i},_updateBottomLoading:function(){var e=this.option("scrolling.mode"),i=e===T,n=e===x,o=!this._dataController.hasKnownLastPage()&&this._dataController.isLoaded()&&(i||n),r=this._findContentElement(),a=this._findBottomLoadPanel(r);o?a||(0,t.default)("<div>").addClass(this.addWidgetPrefix(_)).append(this._createComponent((0,t.default)("<div>"),p.default).$element()).appendTo(r):a&&a.remove()},_handleScroll:function(e){this._hasHeight&&this._rowHeight&&this._dataController.setViewportPosition(e.scrollOffset.top),this.callBase.apply(this,arguments)},_needUpdateRowHeight:function(e){return this.callBase.apply(this,arguments)||e>0&&this.option("scrolling.mode")===x&&this.option("scrolling.rowRenderingMode")!==T},_updateRowHeight:function(){var e;this.callBase.apply(this,arguments),this._rowHeight&&(this._updateContentPosition(),e=this._hasHeight?this.element().outerHeight():(0,t.default)((0,i.getWindow)()).outerHeight(),this._dataController.viewportSize(Math.ceil(e/this._rowHeight)))},updateFreeSpaceRowHeight:function(){var e=this.callBase.apply(this,arguments);return e&&this._updateContentPosition(),e},setLoading:function(e,t){var i=this.callBase,n=this._dataController;n.pageIndex()>0&&n.isLoaded()&&!!this._findBottomLoadPanel()&&(e=!1),i.call(this,e,t)},_resizeCore:function(){var e=this,t=e.element();e.callBase(),e.component.$element()&&!e._windowScroll&&t.closest((0,i.getWindow)().document).length&&(e._windowScroll=r.default.subscribeToExternalScrollers(t,function(t){!e._hasHeight&&e._rowHeight&&e._dataController.setViewportPosition(t)},e.component.$element()),e.on("disposing",function(){e._windowScroll.dispose()})),e.loadIfNeed()},loadIfNeed:function(){var e=this._dataController;e&&e.loadIfNeed&&e.loadIfNeed()},setColumnWidths:function(e){var t,i=this.getScrollable();this.callBase.apply(this,arguments),"virtual"===this.option("scrolling.mode")&&(t=i?i.$content():this.element(),this.callBase(e,t.children("."+this.addWidgetPrefix(C)).children(":not(."+this.addWidgetPrefix(m)+")")))},dispose:function(){clearTimeout(this._scrollTimeoutID),this.callBase()}}}();module.exports={defaultOptions:function(){return{scrolling:{timeout:300,updateTimeout:300,minTimeout:0,renderingThreshold:100,removeInvisiblePages:!0,rowPageSize:5,mode:"standard",preloadEnabled:!1,rowRenderingMode:"standard"}}},extenders:{dataSourceAdapter:V,controllers:{data:function(){var e={_refreshDataSource:function(){var e=this.callBase.apply(this,arguments)||(new d.Deferred).resolve().promise();return e.done(this.initVirtualRows.bind(this)),e},getRowPageSize:function(){var e=this.option("scrolling.rowPageSize"),t=this.pageSize();return t&&t<e?t:e},reload:function(){var e=this,i=e._rowsScrollController||e._dataSource,n=i&&i.getItemIndexByPosition(),o=this.callBase.apply(this,arguments);return o&&o.done(function(){if(R(e)||b(e)){var i=e.getRowIndexOffset(),o=Math.floor(n)-i,r=e.component,a=r.getScrollable&&r.getScrollable();if(a&&!e.option("legacyRendering")){var l=r.getRowElement(o),s=l&&l[0]&&(0,t.default)(l[0]),d=s&&s.position().top;d>0&&(d=Math.round(d+s.outerHeight()*(n%1)),a.scrollTo({y:d}))}}})},initVirtualRows:function(){var e=this,t=b(e);if("virtual"!==e.option("scrolling.mode")&&!0!==t||!1===t||e.option("legacyRendering")||!e.option("scrolling.rowPageSize"))return e._visibleItems=null,void(e._rowsScrollController=null);e._rowPageIndex=Math.ceil(e.pageIndex()*e.pageSize()/e.getRowPageSize()),e._visibleItems=[];var i=function(t){return"data"===t.rowType&&!t.isNewRow||"group"===t.rowType&&e._dataSource.isGroupItemCountable(t.data)};e._rowsScrollController=new r.default.VirtualScrollController(e.component,{pageSize:function(){return e.getRowPageSize()},totalItemsCount:function(){return R(e)?e.totalItemsCount():e._items.filter(i).length},hasKnownLastPage:function(){return!0},pageIndex:function(t){return void 0!==t&&(e._rowPageIndex=t),e._rowPageIndex},isLoading:function(){return e.isLoading()},pageCount:function(){var e=Math.ceil(this.totalItemsCount()/this.pageSize());return e||1},load:function(){e._rowsScrollController.pageIndex()>=this.pageCount()&&(e._rowPageIndex=this.pageCount()-1,e._rowsScrollController.pageIndex(e._rowPageIndex)),!e._rowsScrollController._dataSource.items().length&&this.totalItemsCount()||e._rowsScrollController.handleDataChanged(function(t){(t=t||{}).changeType=t.changeType||"refresh",t.items=t.items||e._visibleItems,e._visibleItems.forEach(function(e,t){e.rowIndex=t}),e._fireChanged(t)})},updateLoading:function(){},itemsCount:function(){return e._rowsScrollController._dataSource.items().filter(i).length},correctCount:function(e,t,n){return E(e,t,n,i)},items:function(t){var n=e.dataSource(),o=n&&n.virtualItemsCount(),r=o?o.begin:0,a=e.getRowPageSize(),l=e._rowPageIndex*a-r,s=a,d=e._items;return l<0?[]:(l&&(l=this.correctCount(d,l),d=d.slice(l)),s&&(s=this.correctCount(d,s),d=d.slice(0,s)),t?d.filter(i):d)},viewportItems:function(t){return t&&(e._visibleItems=t),e._visibleItems},onChanged:function(){},changingDuration:function(t){var i=e.dataSource();return i.isLoading()?L:i&&i._renderTime||0}},!0),e.isLoaded()&&e._rowsScrollController.load()},_updateItemsCore:function(e){var t=this,i=this.getRowIndexDelta();this.callBase.apply(this,arguments);var n=this._rowsScrollController;if(n){var o=this._visibleItems,r="refresh"===e.changeType||e.isLiveUpdate;if("append"===e.changeType&&e.items&&!e.items.length)return;r||"append"===e.changeType||"prepend"===e.changeType?(e.cancel=!0,r&&n.reset(!0),n.load()):("update"===e.changeType?e.rowIndices.forEach(function(t,i){var n=e.changeTypes[i],r=e.items[i];"update"===n?o[t]=r:"insert"===n?o.splice(t,0,r):"remove"===n&&o.splice(t,1)}):(o.forEach(function(e,n){o[n]=t._items[n+i]||o[n]}),e.items=o),o.forEach(function(e,t){e.rowIndex=t}))}},_applyChange:function(e){var t=this,i=e.items,n=e.changeType,o=e.removeCount;if(o){var r="prepend"===n;o=E(t._items,o,r,function(e,i){return"data"===e.rowType&&!e.isNewRow||"group"===e.rowType&&(t._dataSource.isGroupItemCountable(e.data)||i)}),e.removeCount=o}switch(n){case"prepend":t._items.unshift.apply(t._items,i),o&&t._items.splice(-o);break;case"append":t._items.push.apply(t._items,i),o&&t._items.splice(0,o);break;default:t.callBase(e)}},items:function(e){return e?this._items:this._visibleItems||this._items},getRowIndexDelta:function(){var e=this._visibleItems,t=0;return e&&e[0]&&(t=this._items.indexOf(e[0])),t<0?0:t},getRowIndexOffset:function(){var e=0,t=this.dataSource(),i=this._rowsScrollController;return i?e=i.beginPageIndex()*i._dataSource.pageSize():"virtual"===this.option("scrolling.mode")&&t&&(e=t.beginPageIndex()*t.pageSize()),e},viewportSize:function(){var e=this._rowsScrollController;e&&e.viewportSize.apply(e,arguments);var t=this._dataSource;return t&&t.viewportSize.apply(t,arguments)},viewportItemSize:function(){var e=this._rowsScrollController;e&&e.viewportItemSize.apply(e,arguments);var t=this._dataSource;return t&&t.viewportItemSize.apply(t,arguments)},setViewportPosition:function(){var e=this._rowsScrollController,t=this._dataSource;e?e.setViewportPosition.apply(e,arguments).done(function(){t&&t.setViewportItemIndex(e.getViewportItemIndex())}):t&&t.setViewportPosition.apply(t,arguments)},setContentSize:function(e){var t=this._rowsScrollController;t&&t.setContentSize(e);var i=this._dataSource;return i&&i.setContentSize(e)},loadIfNeed:function(){var e=this._rowsScrollController;e&&e.loadIfNeed();var t=this._dataSource;return t&&t.loadIfNeed()},getItemSize:function(){var e=this._rowsScrollController;if(e)return e.getItemSize.apply(e,arguments);var t=this._dataSource;return t&&t.getItemSize.apply(t,arguments)},getItemSizes:function(){var e=this._rowsScrollController;if(e)return e.getItemSizes.apply(e,arguments);var t=this._dataSource;return t&&t.getItemSizes.apply(t,arguments)},getContentOffset:function(){var e=this._rowsScrollController;if(e)return e.getContentOffset.apply(e,arguments);var t=this._dataSource;return t&&t.getContentOffset.apply(t,arguments)},dispose:function(){var e=this._rowsScrollController;e&&e.dispose(),this.callBase.apply(this,arguments)}};return l.default.proxyMethod(e,"virtualItemsCount"),l.default.proxyMethod(e,"getVirtualContentSize"),l.default.proxyMethod(e,"setViewportItemIndex"),e}(),resizing:{resize:function(){var e,t=this,i=t.callBase;if(t.option("legacyRendering")||!R(t)&&!b(t))e=i.apply(t);else{clearTimeout(t._resizeTimeout);var n=new Date-t._lastTime,o=t.option("scrolling.updateTimeout");t._lastTime&&n<o?(e=new d.Deferred,t._resizeTimeout=setTimeout(function(){i.apply(t).done(e.resolve).fail(e.reject),t._lastTime=new Date},o),t._lastTime=new Date):(e=i.apply(t),t._dataController.isLoaded()&&(t._lastTime=new Date))}return e},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._resizeTimeout)}}},views:{rowsView:D}}};
},{"../../core/renderer":"qxFQ","../../core/utils/window":"NXH3","../../core/utils/common":"GcQA","./ui.grid_core.virtual_scrolling_core":"wI3X","./ui.grid_core.utils":"kk68","../../core/utils/iterator":"FHcO","../../core/utils/deferred":"g5TB","../../animation/translator":"IRTp","../load_indicator":"ncdk"}],"UQkJ":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),t=n(e),r=require("./ui.tree_list.data_source_adapter"),a=n(r),d=require("../grid_core/ui.grid_core.virtual_scrolling"),l=n(d),u=require("../../core/utils/extend");function n(e){return e&&e.__esModule?e:{default:e}}var i=l.default.defaultOptions,o=l.default.extenders.controllers.data,s=l.default.extenders.dataSourceAdapter;l.default.extenders.controllers.data=(0,u.extend)({},o,{_loadOnOptionChange:function(){var e=this._dataSource&&this._dataSource._virtualScrollController;e&&e.reset(),this.callBase()}}),l.default.extenders.dataSourceAdapter=(0,u.extend)({},s,{changeRowExpand:function(){var e=this;return this.callBase.apply(this,arguments).done(function(){var t=e.getViewportItemIndex();t>=0&&e.setViewportItemIndex(t)})}}),t.default.registerModule("virtualScrolling",(0,u.extend)({},l.default,{defaultOptions:function(){return(0,u.extend)(!0,i(),{scrolling:{mode:"virtual"}})}})),a.default.extend(l.default.extenders.dataSourceAdapter);
},{"./ui.tree_list.core":"O4Kv","./ui.tree_list.data_source_adapter":"OZ2D","../grid_core/ui.grid_core.virtual_scrolling":"pJWY","../../core/utils/extend":"ac8T"}],"yZjR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getElementMaxHeightByWindow=void 0;var e=require("../../core/renderer"),t=o(e),r=require("../../core/utils/window");function o(e){return e&&e.__esModule?e:{default:e}}var i=.9,n=exports.getElementMaxHeightByWindow=function(e){var o=(0,r.getWindow)(),n=e.offset().top-(0,t.default)(o).scrollTop(),u=(0,t.default)(o).innerHeight()-n-e.outerHeight();return Math.max(n,u)*i};
},{"../../core/renderer":"qxFQ","../../core/utils/window":"NXH3"}],"bl33":[function(require,module,exports) {
"use strict";var t=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),e=function t(e,o,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,o);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,o,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0},o=require("../../core/renderer"),n=p(o),i=require("../../core/utils/common"),r=require("../../core/utils/dom"),a=require("../../animation/position"),u=require("../../core/utils/extend"),s=require("../context_menu"),l=p(s);function p(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f="dx-context-menu-content-delimiter",y="dx-submenu",d=function(o){function s(){return c(this,s),h(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _(s,l.default),t(s,[{key:"_getDefaultOptions",value:function(){return(0,u.extend)(e(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_getDefaultOptions",this).call(this),{orientation:"horizontal",tabIndex:null,onHoverStart:i.noop})}},{key:"_initDataAdapter",value:function(){this._dataAdapter=this.option("_dataAdapter"),this._dataAdapter||e(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_initDataAdapter",this).call(this)}},{key:"_renderContentImpl",value:function(){this._renderContextMenuOverlay(),e(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_renderContentImpl",this).call(this);var t=this._dataAdapter.getNodeByKey(this.option("_parentKey"));t&&this._renderItems(this._getChildNodes(t)),this._renderDelimiter()}},{key:"_renderDelimiter",value:function(){this.$contentDelimiter=(0,n.default)("<div>").appendTo(this._itemContainer()).addClass(f)}},{key:"_getOverlayOptions",value:function(){return(0,u.extend)(e(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_getOverlayOptions",this).call(this),{onPositioned:this._overlayPositionedActionHandler.bind(this)})}},{key:"_overlayPositionedActionHandler",value:function(t){this._showDelimiter(t)}},{key:"_hoverEndHandler",value:function(t){e(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_hoverEndHandler",this).call(this,t),this._toggleFocusClass(!1,t.currentTarget)}},{key:"_isMenuHorizontal",value:function(){return"horizontal"===this.option("orientation")}},{key:"_hoverStartHandler",value:function(t){this.option("onHoverStart")(t),e(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_hoverStartHandler",this).call(this,t),this._toggleFocusClass(!0,t.currentTarget)}},{key:"_drawSubmenu",value:function(t){this._actions.onShowing({rootItem:(0,r.getPublicElement)(t),submenu:this}),e(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_drawSubmenu",this).call(this,t),this._actions.onShown({rootItem:(0,r.getPublicElement)(t),submenu:this})}},{key:"_hideSubmenu",value:function(t){this._actions.onHiding({cancel:!0,rootItem:(0,r.getPublicElement)(t),submenu:this}),e(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_hideSubmenu",this).call(this,t),this._actions.onHidden({rootItem:(0,r.getPublicElement)(t),submenu:this})}},{key:"_showDelimiter",value:function(t){if(this.$contentDelimiter){var e=this._itemContainer().children("."+y).eq(0),o=this.option("position").of,n={of:e},i=t.position,r=i.v.location,u=i.h.location,s=o.offset(),l=Math.round(s.left),p=Math.round(s.top),c=o.width(),h=o.height(),_=e.width(),f=e.height();this.$contentDelimiter.css("display","block"),this.$contentDelimiter.width(this._isMenuHorizontal()?c<_?c-2:_:2),this.$contentDelimiter.height(this._isMenuHorizontal()?2:h<f?h-2:f),this._isMenuHorizontal()?r>p?Math.round(u)===l?(n.offset="1 -1",n.at=n.my="left top"):(n.offset="-1 -1",n.at=n.my="right top"):(this.$contentDelimiter.height(5),Math.round(u)===l?(n.offset="1 4",n.at=n.my="left bottom"):(n.offset="-1 2",n.at=n.my="right bottom")):u>l?Math.round(r)===p?(n.offset="-1 1",n.at=n.my="left top"):(n.offset="-1 -1",n.at=n.my="left bottom"):Math.round(r)===p?(n.offset="1 1",n.at=n.my="right top"):(n.offset="1 -1",n.at=n.my="right bottom"),(0,a.setup)(this.$contentDelimiter,n)}}},{key:"_getContextMenuPosition",value:function(){return this.option("position")}},{key:"isOverlayVisible",value:function(){return this._overlay.option("visible")}},{key:"getOverlayContent",value:function(){return this._overlay.$content()}}]),s}();module.exports=d;
},{"../../core/renderer":"qxFQ","../../core/utils/common":"GcQA","../../core/utils/dom":"vDwZ","../../animation/position":"cuhc","../../core/utils/extend":"ac8T","../context_menu":"Vt7L"}],"fZdI":[function(require,module,exports) {
"use strict";var e=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),t=function e(t,i,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,i);if(void 0===o){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=require("../../core/renderer"),n=M(i),o=require("../../events/core/events_engine"),s=M(o),a=require("../../core/component_registrator"),u=M(a),r=require("../../core/utils/common"),l=require("../../core/utils/dom"),h=require("../../core/utils/iterator"),d=require("../../core/utils/type"),m=require("../../core/utils/extend"),c=require("../overlay/utils"),_=require("../../events/utils"),p=require("../../events/pointer"),b=M(p),v=require("../../events/hover"),f=M(v),y=require("../context_menu/ui.menu_base"),g=M(y),S=require("../overlay"),k=M(S),O=require("./ui.submenu"),C=M(O),E=require("../button"),w=M(E),I=require("../tree_view"),H=M(I);function M(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P="dx-menu",D=P+"-vertical",j=P+"-horizontal",B=P+"-item",$=P+"-items-container",V=B+"-expanded",q="dx-context-menu",F=q+"-container-border",N="dx-context-menu-content-delimiter",R="dx-submenu",L="dx-state-disabled",z="dx-state-hover",W="dx-state-active",K=P+"-adaptive-mode",G=P+"-hamburger-button",J=K+"-overlay-wrapper",Q="up",U="down",X="left",Y="right",Z="showSubmenu",ee="nextItem",te="prevItem",ie={show:50,hide:300},ne=["onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","onItemContextMenu","onItemClick","onSelectionChanged"],oe=function(i){function o(){return A(this,o),x(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return T(o,g.default),e(o,[{key:"_getDefaultOptions",value:function(){return(0,m.extend)(t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_getDefaultOptions",this).call(this),{orientation:"horizontal",submenuDirection:"auto",showFirstSubmenuMode:{name:"onClick",delay:{show:50,hide:300}},hideSubmenuOnMouseLeave:!1,onSubmenuShowing:null,onSubmenuShown:null,onSubmenuHiding:null,onSubmenuHidden:null,adaptivityEnabled:!1})}},{key:"_setOptionsByReference",value:function(){t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_setOptionsByReference",this).call(this),(0,m.extend)(this._optionsByReference,{animation:!0,selectedItem:!0})}},{key:"_itemElements",value:function(){var e=t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_itemElements",this).call(this),i=this._submenuItemElements();return e.add(i)}},{key:"_submenuItemElements",value:function(){var e=[],t="."+B,i=this._submenus.length&&this._submenus[0];return i&&i.itemsContainer()&&(e=i.itemsContainer().find(t)),e}},{key:"_focusTarget",value:function(){return this.$element()}},{key:"_isMenuHorizontal",value:function(){return"horizontal"===this.option("orientation")}},{key:"_moveFocus",value:function(e){var i=this._getAvailableItems(),n=this._isMenuHorizontal(),s=this._getActiveItem(!0),a=void 0,u=void 0,r=void 0;switch(e){case Q:u=n?Z:this._getItemsNavigationOperation(te),a=n?s:i,r=this._getKeyboardNavigationAction(u,a)();break;case U:u=n?Z:this._getItemsNavigationOperation(ee),a=n?s:i,r=this._getKeyboardNavigationAction(u,a)();break;case Y:u=n?this._getItemsNavigationOperation(ee):Z,a=n?i:s,r=this._getKeyboardNavigationAction(u,a)();break;case X:u=n?this._getItemsNavigationOperation(te):Z,a=n?i:s,r=this._getKeyboardNavigationAction(u,a)();break;default:return t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_moveFocus",this).call(this,e)}r&&0!==r.length&&this.option("focusedElement",(0,l.getPublicElement)(r))}},{key:"_getItemsNavigationOperation",value:function(e){var t=e;return this.option("rtlEnabled")&&(t=e===te?ee:te),t}},{key:"_getKeyboardNavigationAction",value:function(e,t){var i=r.noop;switch(e){case Z:t.hasClass(L)||(i=this._showSubmenu.bind(this,t));break;case ee:i=this._nextItem.bind(this,t);break;case te:i=this._prevItem.bind(this,t)}return i}},{key:"_clean",value:function(){t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_clean",this).call(this),this.option("templatesRenderAsynchronously")&&clearTimeout(this._resizeEventTimer)}},{key:"_visibilityChanged",value:function(e){e&&(this._menuItemsWidth||this._updateItemsWidthCache(),this._dimensionChanged())}},{key:"_isAdaptivityEnabled",value:function(){return this.option("adaptivityEnabled")&&"horizontal"===this.option("orientation")}},{key:"_updateItemsWidthCache",value:function(){var e=this.$element().find("ul").first().children("li").children("."+B);this._menuItemsWidth=this._getSummaryItemsWidth(e,!0)}},{key:"_dimensionChanged",value:function(){if(this._isAdaptivityEnabled()){var e=this.$element().outerWidth();this._toggleAdaptiveMode(this._menuItemsWidth>e)}}},{key:"_init",value:function(){t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_init",this).call(this),this._submenus=[]}},{key:"_initActions",value:function(){var e=this;this._actions={},(0,h.each)(ne,function(t,i){e._actions[i]=e._createActionByOption(i)})}},{key:"_initMarkup",value:function(){this._visibleSubmenu=null,this.$element().addClass(P),t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_initMarkup",this).call(this),this.setAria("role","menubar")}},{key:"_render",value:function(){t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_render",this).call(this),this._initAdaptivity()}},{key:"_renderHamburgerButton",value:function(){return this._hamburger=new w.default((0,n.default)("<div>").addClass(G),{icon:"menu",activeStateEnabled:!1,onClick:this._toggleTreeView.bind(this)}),this._hamburger.$element()}},{key:"_toggleTreeView",value:function(e){(0,d.isPlainObject)(e)&&(e=!this._overlay.option("visible")),this._overlay.option("visible",e),this._toggleHamburgerActiveState(e)}},{key:"_toggleHamburgerActiveState",value:function(e){this._hamburger&&this._hamburger.$element().toggleClass(W,e)}},{key:"_toggleAdaptiveMode",value:function(e){var t=this.$element().find("."+j),i=this.$element().find("."+K);e?this._hideVisibleSubmenu():(this._treeView&&this._treeView.collapseAll(),this._overlay&&this._toggleTreeView(e)),t.toggle(!e),i.toggle(e)}},{key:"_removeAdaptivity",value:function(){this._$adaptiveContainer&&(this._toggleAdaptiveMode(!1),this._$adaptiveContainer.remove(),this._$adaptiveContainer=null,this._treeView=null,this._hamburger=null,this._overlay=null)}},{key:"_treeviewItemClickHandler",value:function(e){this._actions.onItemClick(e),e.node.children.length||this._toggleTreeView(!1)}},{key:"_getAdaptiveOverlayOptions",value:function(){var e=this,t=this.option("rtlEnabled")?"right":"left";return{maxHeight:function(){return(0,c.getElementMaxHeightByWindow)(e.$element())},deferRendering:!1,shading:!1,animation:!1,closeOnTargetScroll:!0,onHidden:function(){e._toggleHamburgerActiveState(!1)},height:"auto",closeOnOutsideClick:function(e){return!(0,n.default)(e.target).closest("."+G).length},position:{collision:"flipfit",at:"bottom "+t,my:"top "+t,of:this._hamburger.$element()}}}},{key:"_getTreeViewOptions",value:function(){var e=this,t={};return(0,h.each)(["rtlEnabled","width","accessKey","activeStateEnabled","animation","dataSource","disabled","displayExpr","displayExpr","focusStateEnabled","hint","hoverStateEnabled","itemsExpr","items","itemTemplate","selectedExpr","selectionMode","tabIndex","visible"],function(i,n){t[n]=e.option(n)}),(0,h.each)(["onItemContextMenu","onSelectionChanged"],function(i,n){t[n]=function(t){e._actions[n](t)}}),(0,m.extend)(t,{dataSource:this.getDataSource(),animationEnabled:!!this.option("animation"),onItemClick:this._treeviewItemClickHandler.bind(this),onItemExpanded:function(t){e._overlay.repaint(),e._actions.onSubmenuShown(t)},onItemCollapsed:function(t){e._overlay.repaint(),e._actions.onSubmenuHidden(t)},selectNodesRecursive:!1,selectByClick:this.option("selectByClick"),expandEvent:"click"})}},{key:"_initAdaptivity",value:function(){if(this._isAdaptivityEnabled()){this._$adaptiveContainer=(0,n.default)("<div>").addClass(K);var e=this._renderHamburgerButton();this._treeView=this._createComponent((0,n.default)("<div>"),H.default,this._getTreeViewOptions()),this._overlay=this._createComponent((0,n.default)("<div>"),k.default,this._getAdaptiveOverlayOptions()),this._overlay.$content().append(this._treeView.$element()).addClass(K).addClass(this.option("cssClass")),this._overlay._wrapper().addClass(J),this._$adaptiveContainer.append(e),this._$adaptiveContainer.append(this._overlay.$element()),this.$element().append(this._$adaptiveContainer),this._updateItemsWidthCache(),this._dimensionChanged()}}},{key:"_getDelay",value:function(e){var t=this.option("showFirstSubmenuMode").delay;return(0,d.isDefined)(t)?(0,d.isObject)(t)?t[e]:t:ie[e]}},{key:"_keyboardHandler",value:function(e){return!!this._visibleSubmenu||t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_keyboardHandler",this).call(this,e)}},{key:"_renderContainer",value:function(){var e=(0,n.default)("<div>");return e.appendTo(this.$element()).addClass(this._isMenuHorizontal()?j:D),t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_renderContainer",this).call(this,e)}},{key:"_renderSubmenuItems",value:function(e,t){var i=this._createSubmenu(e,t);return this._submenus.push(i),this._renderBorderElement(t),i}},{key:"_createSubmenu",value:function(e,t){var i=(0,n.default)("<div>").addClass(q).appendTo(t),o=this._keyboardProcessor&&this._keyboardProcessor.attachChildProcessor(),s=this._getChildNodes(e),a=this._createComponent(i,C.default,(0,m.extend)(this._getSubmenuOptions(),{_keyboardProcessor:o,_dataAdapter:this._dataAdapter,_parentKey:e.internalFields.key,items:s,onHoverStart:this._clearTimeouts.bind(this),position:this.getSubmenuPosition(t)}));return this._attachSubmenuHandlers(t,a),a}},{key:"_getSubmenuOptions",value:function(){var e=this,t=(0,n.default)("<div>"),i=this._isMenuHorizontal();return{itemTemplate:this.option("itemTemplate"),target:t,orientation:this.option("orientation"),selectionMode:this.option("selectionMode"),cssClass:this.option("cssClass"),selectByClick:this.option("selectByClick"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),showSubmenuMode:this.option("showSubmenuMode"),displayExpr:this.option("displayExpr"),disabledExpr:this.option("disabledExpr"),selectedExpr:this.option("selectedExpr"),itemsExpr:this.option("itemsExpr"),onFocusedItemChanged:function(t){t.component.option("visible")&&e.option("focusedElement",t.component.option("focusedElement"))},onSelectionChanged:this._nestedItemOnSelectionChangedHandler.bind(this),onItemClick:this._nestedItemOnItemClickHandler.bind(this),onItemRendered:this.option("onItemRendered"),onLeftFirstItem:i?null:this._moveMainMenuFocus.bind(this,te),onLeftLastItem:i?null:this._moveMainMenuFocus.bind(this,ee),onCloseRootSubmenu:this._moveMainMenuFocus.bind(this,i?te:null),onExpandLastSubmenu:i?this._moveMainMenuFocus.bind(this,ee):null}}},{key:"_getShowFirstSubmenuMode",value:function(){if(!this._isDesktopDevice())return"onClick";var e=this.option("showFirstSubmenuMode");return(0,d.isObject)(e)?e.name:e}},{key:"_moveMainMenuFocus",value:function(e){var t=this._getAvailableItems(),i=t.length,n=t.filter("."+V).eq(0),o=t.index(n);this._hideSubmenu(this._visibleSubmenu),(o+=e===te?-1:1)>=i?o=0:o<0&&(o=i-1);var s=t.eq(o);this.option("focusedElement",(0,l.getPublicElement)(s))}},{key:"_nestedItemOnSelectionChangedHandler",value:function(e){var t=e.addedItems.length&&e.addedItems[0],i=C.default.getInstance(e.element);(0,this._actions.onSelectionChanged)(e),t&&this._clearSelectionInSubmenus(t[0],i),this._clearRootSelection(),this._setOptionSilent("selectedItem",t)}},{key:"_clearSelectionInSubmenus",value:function(e,t){var i=this,n=!arguments.length;(0,h.each)(this._submenus,function(e,o){var s=o._itemContainer(),a=!s.is(t&&t._itemContainer()),u=s.find("."+i._selectedItemClass());if(a&&u.length||n){u.removeClass(i._selectedItemClass());var r=i._getItemData(u);r&&(r.selected=!1),o._clearSelectedItems()}})}},{key:"_clearRootSelection",value:function(){var e=this.$element().find("."+$).first().children().children().filter("."+this._selectedItemClass());if(e.length){this._getItemData(e).selected=!1,e.removeClass(this._selectedItemClass())}}},{key:"_nestedItemOnItemClickHandler",value:function(e){this._actions.onItemClick(e)}},{key:"_attachSubmenuHandlers",value:function(e,t){var i=this,n=t.getOverlayContent().find("."+R),o=(0,_.addNamespace)(f.default.end,this.NAME+"_submenu");t.option({onShowing:this._submenuOnShowingHandler.bind(this,e,t),onShown:this._submenuOnShownHandler.bind(this,e,t),onHiding:this._submenuOnHidingHandler.bind(this,e,t),onHidden:this._submenuOnHiddenHandler.bind(this,e,t)}),(0,h.each)(n,function(t,n){s.default.off(n,o),s.default.on(n,o,null,i._submenuMouseLeaveHandler.bind(i,e))})}},{key:"_submenuOnShowingHandler",value:function(e,t){var i=e.children("."+F);this._actions.onSubmenuShowing({rootItem:(0,l.getPublicElement)(e),submenu:t}),i.show(),e.addClass(V)}},{key:"_submenuOnShownHandler",value:function(e,t){this._actions.onSubmenuShown({rootItem:(0,l.getPublicElement)(e),submenu:t})}},{key:"_submenuOnHidingHandler",value:function(e,t,i){var n=e.children("."+F),o=i;o.rootItem=(0,l.getPublicElement)(e),o.submenu=t,this._actions.onSubmenuHiding(o),(i=o).cancel||(this._visibleSubmenu===t&&(this._visibleSubmenu=null),n.hide(),e.removeClass(V))}},{key:"_submenuOnHiddenHandler",value:function(e,t){this._actions.onSubmenuHidden({rootItem:(0,l.getPublicElement)(e),submenu:t})}},{key:"_submenuMouseLeaveHandler",value:function(e,t){var i=(0,n.default)(t.relatedTarget).parents("."+q)[0],o=this._getSubmenuByRootElement(e).getOverlayContent()[0];this.option("hideSubmenuOnMouseLeave")&&i!==o&&(this._clearTimeouts(),setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide")))}},{key:"_hideSubmenuAfterTimeout",value:function(){if(this._visibleSubmenu){var e=(0,n.default)(this._visibleSubmenu.$element().context).hasClass(z),t=this._visibleSubmenu.getOverlayContent().find("."+z).length;this._visibleSubmenu.getOverlayContent().get(0).querySelector(":hover")||t||e||this._visibleSubmenu.hide()}}},{key:"_getSubmenuByRootElement",value:function(e){if(!e)return!1;var t=e.children("."+q);return t.length&&C.default.getInstance(t)}},{key:"getSubmenuPosition",value:function(e){var t=this._isMenuHorizontal(),i=this.option("submenuDirection").toLowerCase(),n=this.option("rtlEnabled"),o={collision:"flip",of:e};switch(i){case"leftortop":o.at="left top",o.my=t?"left bottom":"right top";break;case"rightorbottom":o.at=t?"left bottom":"right top",o.my="left top";break;default:t?(o.at=n?"right bottom":"left bottom",o.my=n?"right top":"left top"):(o.at=n?"left top":"right top",o.my=n?"right top":"left top")}return o}},{key:"_renderBorderElement",value:function(e){(0,n.default)("<div>").appendTo(e).addClass(F).hide()}},{key:"_itemPointerDownHandler",value:function(e){(0,n.default)(e.target).closest(this._itemElements()).hasClass("dx-menu-item-has-submenu")?this.option("focusedElement",null):t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_itemPointerDownHandler",this).call(this,e)}},{key:"_hoverStartHandler",value:function(e){var t=(0,_.addNamespace)(b.default.move,this.NAME),i=this._getItemElementByEventArgs(e),n=this._dataAdapter.getNodeByItem(this._getItemData(i)),o=(0,d.isDefined)(e.buttons)&&1===e.buttons||!(0,d.isDefined)(e.buttons)&&1===e.which;if(!this._isItemDisabled(i))if(s.default.off(i,t),this._hasChildren(n)){if("onHover"===this._getShowFirstSubmenuMode()&&!o){var a=this._getSubmenuByElement(i);this._clearTimeouts(),a.isOverlayVisible()||(s.default.on(i,t,this._itemMouseMoveHandler.bind(this)),this._showSubmenuTimer=this._getDelay("hide"))}}else this._showSubmenuTimer=setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide"))}},{key:"_hoverEndHandler",value:function(e){var i=this,s=this._getItemElementByEventArgs(e),a=(0,n.default)(e.relatedTarget);t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_hoverEndHandler",this).call(this,e),this._clearTimeouts(),this._isItemDisabled(s)||a.hasClass(N)||this.option("hideSubmenuOnMouseLeave")&&!a.hasClass($)&&(this._hideSubmenuTimer=setTimeout(function(){i._hideSubmenuAfterTimeout()},this._getDelay("hide")))}},{key:"_hideVisibleSubmenu",value:function(){return!!this._visibleSubmenu&&(this._hideSubmenu(this._visibleSubmenu),!0)}},{key:"_showSubmenu",value:function(e){var t=this._getSubmenuByElement(e);this._visibleSubmenu!==t&&this._hideVisibleSubmenu(),t&&(t.show(),this.option("focusedElement",t.option("focusedElement"))),this._visibleSubmenu=t,this._hoveredRootItem=e}},{key:"_hideSubmenu",value:function(e){e&&e.hide(),this._visibleSubmenu===e&&(this._visibleSubmenu=null),this._hoveredRootItem=null}},{key:"_itemMouseMoveHandler",value:function(e){var t=this;if(!e.pointers||!e.pointers.length){var i=(0,n.default)(e.currentTarget);(0,d.isDefined)(this._showSubmenuTimer)&&(this._clearTimeouts(),this._showSubmenuTimer=setTimeout(function(){var e=t._getSubmenuByElement(i);e&&!e.isOverlayVisible()&&t._showSubmenu(i)},this._getDelay("show")))}}},{key:"_clearTimeouts",value:function(){clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer)}},{key:"_getSubmenuByElement",value:function(e,t){var i=this._getSubmenuByRootElement(e);if(i)return i;t=t||this._getItemData(e);var n=this._dataAdapter.getNodeByItem(t);return this._hasChildren(n)&&this._renderSubmenuItems(n,e)}},{key:"_updateSubmenuVisibilityOnClick",value:function(e){var t=e.args.length&&e.args[0];if(t&&!this._disabledGetter(t.itemData)){var i=(0,n.default)(t.itemElement),o=this._getSubmenuByElement(i,t.itemData);if(this._updateSelectedItemOnClick(e),this._visibleSubmenu){if(this._visibleSubmenu===o)return void("onClick"===this.option("showFirstSubmenuMode")&&this._hideSubmenu(this._visibleSubmenu));this._hideSubmenu(this._visibleSubmenu)}o&&(o.isOverlayVisible()||this._showSubmenu(i))}}},{key:"_optionChanged",value:function(e){switch(e.name){case"orientation":case"submenuDirection":this._invalidate();break;case"showFirstSubmenuMode":case"hideSubmenuOnMouseLeave":break;case"showSubmenuMode":this._changeSubmenusOption(e.name,e.value);break;case"onSubmenuShowing":case"onSubmenuShown":case"onSubmenuHiding":case"onSubmenuHidden":this._initActions();break;case"adaptivityEnabled":e.value?this._initAdaptivity():this._removeAdaptivity();break;case"width":this._isAdaptivityEnabled()&&(this._treeView.option(e.name,e.value),this._overlay.option(e.name,e.value)),t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_optionChanged",this).call(this,e),this._dimensionChanged();break;case"animation":this._isAdaptivityEnabled()&&this._treeView.option("animationEnabled",!!e.value),t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_optionChanged",this).call(this,e);break;default:this._isAdaptivityEnabled()&&this._treeView.option(e.name,e.value),t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_optionChanged",this).call(this,e)}}},{key:"_changeSubmenusOption",value:function(e,t){(0,h.each)(this._submenus,function(i,n){n.option(e,t)})}},{key:"selectItem",value:function(e){this._hideSubmenu(this._visibleSubmenu),t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"selectItem",this).call(this,e)}},{key:"unselectItem",value:function(e){this._hideSubmenu(this._visibleSubmenu),t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"selectItem",this).call(this,e)}}]),o}();(0,u.default)("dxMenu",oe),module.exports=oe;
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/component_registrator":"g3fO","../../core/utils/common":"GcQA","../../core/utils/dom":"vDwZ","../../core/utils/iterator":"FHcO","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","../overlay/utils":"yZjR","../../events/utils":"cNvJ","../../events/pointer":"HDhW","../../events/hover":"bLXJ","../context_menu/ui.menu_base":"Vj3f","../overlay":"byva","./ui.submenu":"bl33","../button":"kKaI","../tree_view":"Fosu"}],"YDpl":[function(require,module,exports) {
"use strict";var e=require("./menu/ui.menu"),u=t(e);function t(e){return e&&e.__esModule?e:{default:e}}module.exports=u.default,module.exports.default=module.exports;
},{"./menu/ui.menu":"fZdI"}],"mwL4":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=O(e),i=require("../../events/core/events_engine"),n=O(i),r=require("../../core/utils/type"),a=require("../../core/utils/extend"),l=require("../../events/utils"),o=require("../../core/utils/iterator"),s=O(o),d=require("./ui.grid_core.modules"),u=O(d),f=require("./ui.grid_core.utils"),c=O(f),p=require("../../localization/message"),h=O(p),g=require("../editor/editor"),m=O(g),v=require("../overlay"),w=O(v),_=require("../menu"),F=O(_),x=require("../shared/accessibility");function O(e){return e&&e.__esModule?e:{default:e}}var C={"=":"filter-operation-equals","<>":"filter-operation-not-equals","<":"filter-operation-less","<=":"filter-operation-less-equal",">":"filter-operation-greater",">=":"filter-operation-greater-equal",default:"filter-operation-default",notcontains:"filter-operation-not-contains",contains:"filter-operation-contains",startswith:"filter-operation-starts-with",endswith:"filter-operation-ends-with",between:"filter-operation-between"},b={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",between:"between"},y=700,R=1,V="filter-row",E="filter-range-overlay",T="filter-range-start",B="filter-range-end",I="dx-menu",D="dx-editor-with-menu",A="dx-editor-container",q="dx-editor-cell",S="dx-filter-menu",P="dx-apply-button",W="dx-highlight-outline",G="dx-focused",H="dx-cell-focus-disabled",k="dx-filter-range-content",z="dx-filter-modified",L="input:not([type='hidden'])",M=["date","datetime","number"];function N(e){return"onClick"===e.option("filterRow.applyFilter")}var $=function(){var e=function(e){var t=e&&e.children(),i=t&&t.data("dxComponents"),n=i&&i.length&&t.data(i[0]);if(n instanceof m.default)return n},i=function(e,t){var i="",n="",a=o(e,t),l=c.default.getFormatOptionsByColumn(t,"filterRow");return Array.isArray(a)?(i=c.default.formatValue(a[0],l),""!==(n=c.default.formatValue(a[1],l))&&(i+=" - "+n)):(0,r.isDefined)(a)&&(i=c.default.formatValue(a,l)),i},o=function(e,t){if(t)return N(e)&&void 0!==t.bufferedFilterValue?t.bufferedFilterValue:t.filterValue},d=function(e,t){if(t)return N(e)&&void 0!==t.bufferedSelectedFilterOperation?t.bufferedSelectedFilterOperation:t.selectedFilterOperation},u=function(e,t,i){var n=e._columnsController.columnOption(t),r=o(e,n),a=i.closest("."+e.addWidgetPrefix(E)).length,l=i.hasClass(e.addWidgetPrefix(T));return r&&Array.isArray(r)&&"between"===d(e,n)?l?r[0]:r[1]:!a&&function(e,t){return!(t&&M.indexOf(t.dataType)>=0&&Array.isArray(e))&&void 0!==e}(r,n)?r:null},f=function(e,t){var i=""===t.value?null:t.value,n=t.container,a=e._columnsController.columnOption(t.column.index),l=u(e,a.index,n);((0,r.isDefined)(l)||(0,r.isDefined)(i))&&(e._applyFilterViewController.setHighLight(n,l!==i),e._columnsController.columnOption(a.index,N(e)?"bufferedFilterValue":"filterValue",function(e,t,i,n){if("between"===d(e,i)){var r=o(e,i);return n.hasClass(e.addWidgetPrefix(T))?[t,Array.isArray(r)?r[1]:void 0]:[Array.isArray(r)?r[0]:r,t]}return t}(e,i,a,n),t.notFireEvent))};return{_updateEditorValue:function(t,i){var n=e(i);n&&n.option("value",u(this,t.index,i))},_columnOptionChanged:function(e){var n,r,a,l,o,s,u,f=e.optionNames;if(c.default.checkChanges(f,["filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation"])&&void 0!==e.columnIndex)return r=this._columnsController.getVisibleIndex(e.columnIndex),a=this._columnsController.columnOption(e.columnIndex),o=(l=this._getCellElement(this.element().find("."+this.addWidgetPrefix(V)).index(),r)||(0,t.default)()).find("."+A).first(),(f.filterValue||f.bufferedFilterValue)&&(this._updateEditorValue(a,o),(n=l.find("."+this.addWidgetPrefix(E)).data("dxOverlay"))&&(s=n.$content().find("."+A),this._updateEditorValue(a,s.first()),this._updateEditorValue(a,s.last())),n&&n.option("visible")||this._updateFilterRangeContent(l,i(this,a))),void((f.selectedFilterOperation||f.bufferedSelectedFilterOperation)&&r>=0&&a&&(u=l.find("."+I)).length&&(this._updateFilterOperationChooser(u,a,o),"between"===d(this,a)?this._renderFilterRangeContent(l,a):o.find("."+k).length&&(this._renderEditor(o,this._getEditorOptions(o,a)),this._hideFilterRange())));this.callBase(e)},_renderCore:function(){this._filterRangeOverlayInstance=null,this.callBase.apply(this,arguments)},_resizeCore:function(){this.callBase.apply(this,arguments),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.repaint()},isFilterRowVisible:function(){return this._isElementVisible(this.option("filterRow"))},isVisible:function(){return this.callBase()||this.isFilterRowVisible()},init:function(){this.callBase(),this._applyFilterViewController=this.getController("applyFilter")},_initFilterRangeOverlay:function(e,r){var a=this,o={},s=e.find(".dx-editor-container"),u=(0,t.default)("<div>").addClass(a.addWidgetPrefix(E)).appendTo(e);return a._createComponent(u,w.default,{height:"auto",shading:!1,showTitle:!1,focusStateEnabled:!1,closeOnTargetScroll:!1,closeOnOutsideClick:!0,animation:!1,position:{my:"top",at:"top",of:s.length&&s||e,offset:"0 -1"},contentTemplate:function(i){var s,d=(0,t.default)("<div>").addClass(A+" "+a.addWidgetPrefix(T)).appendTo(i);return r=a._columnsController.columnOption(r.index),(s=a._getEditorOptions(d,r)).sharedData=o,a._renderEditor(d,s),n.default.on(d.find(L),"keydown",function(t){var i=e.find("[tabindex]").not(t.target).first();"tab"===(0,l.normalizeKeyName)(t)&&t.shiftKey&&(t.preventDefault(),a._hideFilterRange(),i.length||(i=e.prev().find("[tabindex]").last()),n.default.trigger(i,"focus"))}),d=(0,t.default)("<div>").addClass(A+" "+a.addWidgetPrefix(B)).appendTo(i),(s=a._getEditorOptions(d,r)).sharedData=o,a._renderEditor(d,s),n.default.on(d.find(L),"keydown",function(t){"tab"!==(0,l.normalizeKeyName)(t)||t.shiftKey||(t.preventDefault(),a._hideFilterRange(),n.default.trigger(e.next().find("[tabindex]").first(),"focus"))}),(0,t.default)(i).addClass(a.getWidgetContainerClass())},onShown:function(e){var t=e.component.$content().find("."+A).first();n.default.trigger(t.find(L),"focus")},onHidden:function(){r=a._columnsController.columnOption(r.index),e.find("."+I).parent().addClass(D),"between"===d(a,r)&&(a._updateFilterRangeContent(e,i(a,r)),a.component.updateDimensions())}})},_updateFilterRangeOverlay:function(e){var t=this._filterRangeOverlayInstance;t&&t.option(e)},_showFilterRange:function(e,t){var i=e.children("."+this.addWidgetPrefix(E)),n=i.length&&i.data("dxOverlay");!n&&t&&(n=this._initFilterRangeOverlay(e,t)),n.option("visible")||(this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.hide(),this._filterRangeOverlayInstance=n,this._updateFilterRangeOverlay({width:e.outerWidth(!0)+R}),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.show())},_hideFilterRange:function(){var e=this._filterRangeOverlayInstance;e&&e.hide()},getFilterRangeOverlayInstance:function(){return this._filterRangeOverlayInstance},_createRow:function(e){var t=this,i=this.callBase(e);return"filter"===e.rowType&&(i.addClass(this.addWidgetPrefix(V)),this.option("useLegacyKeyboardNavigation")||n.default.on(i,"keydown",function(e){return(0,x.selectView)("filterRow",t,e)})),i},_getRows:function(){var e=this.callBase();return this.isFilterRowVisible()&&e.push({rowType:"filter"}),e},_renderFilterCell:function(e,i){var n,r,a=i.column,l=(0,t.default)(e);if(this.component.option("showColumnHeaders")&&this.setAria("describedby",a.headerId,l),this.setAria("label",h.default.format("dxDataGrid-ariaFilterCell"),l),l.addClass(q),n=(0,t.default)("<div>").appendTo(l),r=(0,t.default)("<div>").addClass(A).appendTo(n),"between"===d(this,a))this._renderFilterRangeContent(l,a);else{var o=this._getEditorOptions(r,a);this._renderEditor(r,o)}a.alignment&&l.find(L).first().css("textAlign",a.alignment),a.filterOperations&&a.filterOperations.length&&this._renderFilterOperationChooser(n,a,r)},_renderCellContent:function(e,t){var i=t.column;if("filter"===t.rowType)if(i.command)e.html("&nbsp;");else if(i.allowFiltering)return void this.renderTemplate(e,this._renderFilterCell.bind(this),t);this.callBase(e,t)},_getEditorOptions:function(e,t){var i=this,n={editorOptions:{inputAttr:i._getFilterInputAccessibilityAttributes(t)}},r=(0,a.extend)(n,t,{value:u(i,t.index,e),parentType:"filterRow",showAllText:i.option("filterRow.showAllText"),updateValueTimeout:"onClick"===i.option("filterRow.applyFilter")?0:y,width:null,setValue:function(n,r){f(i,{column:t,value:n,container:e,notFireEvent:r})}});return"between"===d(i,t)&&(e.hasClass(i.addWidgetPrefix(T))?r.placeholder=i.option("filterRow.betweenStartText"):r.placeholder=i.option("filterRow.betweenEndText")),r},_getFilterInputAccessibilityAttributes:function(e){var t=h.default.format("dxDataGrid-ariaFilterCell");return this.component.option("showColumnHeaders")?{"aria-label":t,"aria-describedby":e.headerId}:{"aria-label":t}},_renderEditor:function(e,i){return e.empty(),this.getController("editorFactory").createEditor((0,t.default)("<div>").appendTo(e),i)},_renderFilterRangeContent:function(e,r){var a=this,l=e.find("."+A).first();l.empty();var o=(0,t.default)("<div>").addClass(k).attr("tabindex",this.option("tabIndex"));n.default.on(o,"focusin",function(){a._showFilterRange(e,r)}),o.appendTo(l),a._updateFilterRangeContent(e,i(a,r))},_updateFilterRangeContent:function(e,t){var i=e.find("."+k);i.length&&(""===t?i.html("&nbsp;"):i.text(t))},_updateFilterOperationChooser:function(t,i,r){var a,l=this,o=function(){var e=F.default.getInstance(t);e&&e.option("focusedElement",null),a&&l._focusEditor(r)};l._createComponent(t,F.default,{integrationOptions:{},activeStateEnabled:!1,selectionMode:"single",cssClass:l.getWidgetContainerClass()+" "+H+" "+S,showFirstSubmenuMode:"onHover",hideSubmenuOnMouseLeave:!0,items:[{disabled:!i.filterOperations||!i.filterOperations.length,icon:C[d(l,i)||"default"],selectable:!1,items:l._getFilterOperationMenuItems(i)}],onItemClick:function(t){var n=t.itemData.name,a=d(l,i),o=!1,s=N(l),u={};if(!(t.itemData.items||n&&n===a)){if(n?(u[s?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=n,"between"!==n&&"between"!==a||(o="between"===n,u[s?"bufferedFilterValue":"filterValue"]=null)):(u[s?"bufferedFilterValue":"filterValue"]=null,u[s?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=i.defaultSelectedFilterOperation||null),l._columnsController.columnOption(i.index,u),l._applyFilterViewController.setHighLight(r,!0),!n){var f=e(r);f&&"dxDateBox"===f.NAME&&!f.option("isValid")&&(f.reset(),f.option("isValid",!0))}o?l._showFilterRange(r.closest("."+q),i):l._focusEditor(r)}},onSubmenuShown:function(){a=l._isEditorFocused(r),l.getController("editorFactory").loseFocus()},onSubmenuHiding:function(){n.default.trigger(t,"blur"),o()},onContentReady:function(e){n.default.on(t,"blur",function(){var t=e.component;t._hideSubmenu(t._visibleSubmenu),o()})},rtlEnabled:l.option("rtlEnabled")})},_isEditorFocused:function(e){return e.hasClass(G)||e.parents("."+G).length},_focusEditor:function(e){this.getController("editorFactory").focus(e),n.default.trigger(e.find(L),"focus")},_renderFilterOperationChooser:function(e,i,n){var r;this.option("filterRow.showOperationChooser")&&(e.addClass(D),r=(0,t.default)("<div>").prependTo(e),this._updateFilterOperationChooser(r,i,n))},_getFilterOperationMenuItems:function(e){var t=this,i=[{}],n=t.option("filterRow"),a=n&&n.operationDescriptions||{};if(e.filterOperations&&e.filterOperations.length){var l=e.filterOperations.filter(function(e){return(0,r.isDefined)(b[e])});(i=s.default.map(l,function(i){var n=b[i];return{name:i,selected:(d(t,e)||e.defaultFilterOperation)===i,text:a[n],icon:C[i]}})).push({name:null,text:n&&n.resetOperationText,icon:C.default})}return i},optionChanged:function(e){switch(e.name){case"filterRow":case"showColumnLines":this._invalidate(!0,!0),e.handled=!0;break;default:this.callBase(e)}}}}(),K={skipCalculateColumnFilters:function(){return!1},_calculateAdditionalFilter:function(){if(this.skipCalculateColumnFilters())return this.callBase();var e=[this.callBase()],t=this._columnsController.getVisibleColumns(null,!0);return s.default.each(t,function(){var t;this.allowFiltering&&this.calculateFilterExpression&&(0,r.isDefined)(this.filterValue)&&(t=this.createFilterExpression(this.filterValue,this.selectedFilterOperation||this.defaultFilterOperation,"filterRow"),e.push(t))}),c.default.combineFilters(e)}};exports.ApplyFilterViewController=u.default.ViewController.inherit({_getHeaderPanel:function(){return this._headerPanel||(this._headerPanel=this.getView("headerPanel")),this._headerPanel},setHighLight:function(e,t){N(this)&&(e&&e.toggleClass(W,t)&&e.closest("."+q).toggleClass(z,t),this._getHeaderPanel().enableApplyButton(t))},applyFilter:function(){var e=this.getController("columns"),t=e.getColumns();e.beginUpdate();for(var i=0;i<t.length;i++){var n=t[i];void 0!==n.bufferedFilterValue&&(e.columnOption(i,"filterValue",n.bufferedFilterValue),n.bufferedFilterValue=void 0),void 0!==n.bufferedSelectedFilterOperation&&(e.columnOption(i,"selectedFilterOperation",n.bufferedSelectedFilterOperation),n.bufferedSelectedFilterOperation=void 0)}e.endUpdate(),this.removeHighLights()},removeHighLights:function(){if(N(this)){var e=this.getView("columnHeadersView").element();e.find("."+this.addWidgetPrefix(V)+" ."+W).removeClass(W),e.find("."+this.addWidgetPrefix(V)+" ."+z).removeClass(z),this._getHeaderPanel().enableApplyButton(!1)}}}),module.exports={defaultOptions:function(){return{filterRow:{visible:!1,showOperationChooser:!0,showAllText:h.default.format("dxDataGrid-filterRowShowAllText"),resetOperationText:h.default.format("dxDataGrid-filterRowResetOperationText"),applyFilter:"auto",applyFilterText:h.default.format("dxDataGrid-applyFilterText"),operationDescriptions:{equal:h.default.format("dxDataGrid-filterRowOperationEquals"),notEqual:h.default.format("dxDataGrid-filterRowOperationNotEquals"),lessThan:h.default.format("dxDataGrid-filterRowOperationLess"),lessThanOrEqual:h.default.format("dxDataGrid-filterRowOperationLessOrEquals"),greaterThan:h.default.format("dxDataGrid-filterRowOperationGreater"),greaterThanOrEqual:h.default.format("dxDataGrid-filterRowOperationGreaterOrEquals"),startsWith:h.default.format("dxDataGrid-filterRowOperationStartsWith"),contains:h.default.format("dxDataGrid-filterRowOperationContains"),notContains:h.default.format("dxDataGrid-filterRowOperationNotContains"),endsWith:h.default.format("dxDataGrid-filterRowOperationEndsWith"),between:h.default.format("dxDataGrid-filterRowOperationBetween"),isBlank:h.default.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:h.default.format("dxFilterBuilder-filterOperationIsNotBlank")},betweenStartText:h.default.format("dxDataGrid-filterRowOperationBetweenStartText"),betweenEndText:h.default.format("dxDataGrid-filterRowOperationBetweenEndText")}}},controllers:{applyFilter:exports.ApplyFilterViewController},extenders:{controllers:{data:K,columnsResizer:{_startResizing:function(){var e,t;this.callBase.apply(this,arguments),this.isResizing()&&(t=this._columnHeadersView.getFilterRangeOverlayInstance())&&((e=t.$element().closest("td").index())!==this._targetPoint.columnIndex&&e!==this._targetPoint.columnIndex+1||t.$content().hide())},_endResizing:function(){var e,t;this.isResizing()&&(t=this._columnHeadersView.getFilterRangeOverlayInstance())&&(e=t.$element().closest("td"),this._columnHeadersView._updateFilterRangeOverlay({width:e.outerWidth(!0)+R}),t.$content().show()),this.callBase.apply(this,arguments)}}},views:{columnHeadersView:$,headerPanel:{_getToolbarItems:function(){var e=this.callBase();return this._prepareFilterItem(e).concat(e)},_prepareFilterItem:function(){var e=this,i=[];if(e._isShowApplyFilterButton()){var n=e.option("filterRow.applyFilterText"),r={widget:"dxButton",options:{icon:"apply-filter",disabled:!e._columnsController.getColumns().filter(function(e){return void 0!==e.bufferedFilterValue}).length,onClick:function(){e._applyFilterViewController.applyFilter()},hint:n,text:n,onInitialized:function(i){(0,t.default)(i.element).addClass(e._getToolbarButtonClass(P))}},showText:"inMenu",name:"applyFilterButton",location:"after",locateInMenu:"auto",sortIndex:10};i.push(r)}return i},_isShowApplyFilterButton:function(){var e=this.option("filterRow");return e&&e.visible&&"onClick"===e.applyFilter},init:function(){this.callBase(),this._dataController=this.getController("data"),this._applyFilterViewController=this.getController("applyFilter")},enableApplyButton:function(e){this.setToolbarItemDisabled("applyFilterButton",!e)},isVisible:function(){return this.callBase()||this._isShowApplyFilterButton()},optionChanged:function(e){"filterRow"===e.name?(this._invalidate(),e.handled=!0):this.callBase(e)}}}}};
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","../../events/utils":"cNvJ","../../core/utils/iterator":"FHcO","./ui.grid_core.modules":"vXU0","./ui.grid_core.utils":"kk68","../../localization/message":"Njcj","../editor/editor":"IJZF","../overlay":"byva","../menu":"YDpl","../shared/accessibility":"sH3F"}],"CUs7":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),r=u(e),i=require("../grid_core/ui.grid_core.filter_row"),t=u(i);function u(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("filterRow",t.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.filter_row":"mwL4"}],"xumL":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=m(e),i=require("./ui.grid_core.modules"),n=m(i),r=require("./ui.grid_core.utils"),o=m(r),l=require("../../core/utils/type"),a=require("../../core/utils/iterator"),s=require("../../core/utils/extend"),d=require("../popup"),u=m(d),c=require("../tree_view"),p=m(c),h=require("../list"),f=m(h);function m(e){return e&&e.__esModule?e:{default:e}}var g="dx-header-filter",C="dx-header-filter-menu",x="text";function v(e){e=e||[];for(var t=0;t<e.length;t++)e[t].selected=!1,v(e[t].items)}function F(e,i){if(!e.component.option("searchValue")){var n=(0,t.default)(e.element).find(".dx-list-select-all-checkbox").data("dxCheckBox");n&&i&&i.length&&n.option("value",void 0)}}function _(e,t){var i=t.headerFilter;return i&&(0,l.isDefined)(i.allowSearch)?i.allowSearch:e.option("headerFilter.allowSearch")}exports.updateHeaderFilterItemSelectionState=function(e,t,i){if(t^i){if(e.selected=!0,i&&e.items)for(var n=0;n<e.items.length;n++)if(!e.items[n].selected){e.selected=void 0;break}}else(i||e.selected)&&(e.selected=!1,v(e.items))},exports.HeaderFilterView=n.default.View.inherit({getPopupContainer:function(){return this._popupContainer},getListContainer:function(){return this._listContainer},applyHeaderFilter:function(e){var t=this.getListContainer(),i=[];!t.option("searchValue")&&!e.isFilterBuilder&&t.$element().find(".dx-checkbox").eq(0).hasClass("dx-checkbox-checked")?Array.isArray(e.filterValues)&&(e.filterValues=[]):"tree"===e.type&&(!function e(i,n,r){(0,a.each)(n,function(n,o){if(void 0!==o.selected&&!!o.selected^r){var l=o.items&&o.items.some(function(e){return void 0!==e.selected});if(!t.option("searchValue")||!l)return void i.push(o.value)}o.items&&o.items.length&&e(i,o.items,r)})}(i,t.option("items"),"exclude"===e.filterType),e.filterValues=i),e.filterValues&&!e.filterValues.length&&(e.filterValues=null),e.apply(),this.hideHeaderFilterMenu()},showHeaderFilterMenu:function(e,t){var i;t&&(this._initializePopupContainer(t),i=this.getPopupContainer(),this.hideHeaderFilterMenu(),this.updatePopup(e,t),i.show())},hideHeaderFilterMenu:function(){var e=this.getPopupContainer();e&&e.hide()},updatePopup:function(e,t){var i="right"===t.alignment?"left":"right";this._popupContainer&&(this._cleanPopupContent(),this._popupContainer.option("position",{my:i+" top",at:i+" bottom",of:e,collision:"flip fit"}))},_getSearchExpr:function(e){var t=e.lookup,i=e.useDefaultSearchExpr,n=e.headerFilter&&e.headerFilter.dataSource;if(i||(0,l.isDefined)(n)&&!(0,l.isFunction)(n))return x;if(t)return t.displayExpr||"this";if(e.dataSource){var r=e.dataSource.group;if(Array.isArray(r)&&r.length>0)return r[0].selector;if((0,l.isFunction)(r)&&!e.remoteFiltering)return r}return e.dataField||e.selector},_cleanPopupContent:function(){this._popupContainer&&this._popupContainer.$content().empty()},_initializePopupContainer:function(e){var t=this,i=t.element(),n=t.option("headerFilter"),r={width:e.headerFilter&&e.headerFilter.width||n&&n.width,height:e.headerFilter&&e.headerFilter.height||n&&n.height,visible:!1,shading:!1,showTitle:!1,showCloseButton:!1,closeOnTargetScroll:!1,dragEnabled:!1,closeOnOutsideClick:!0,focusStateEnabled:!1,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:n.texts.ok,onClick:function(){t.applyHeaderFilter(e)}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:n.texts.cancel,onClick:function(){t.hideHeaderFilterMenu()}}}],resizeEnabled:!0,onShowing:function(i){i.component.$content().parent().addClass("dx-dropdowneditor-overlay"),t._initializeListContainer(e),e.onShowing&&e.onShowing(i)},onShown:function(){t.getListContainer().focus()},onHidden:e.onHidden,onInitialized:function(e){var t=e.component;t.option("animation",t._getDefaultOptions().animation)}};(0,l.isDefined)(t._popupContainer)?t._popupContainer.option(r):t._popupContainer=t._createComponent(i,u.default,r)},_initializeListContainer:function(e){var i=this,n=i._popupContainer.$content(),r={searchEnabled:_(i,e),searchTimeout:i.option("headerFilter.searchTimeout"),searchMode:e.headerFilter&&e.headerFilter.searchMode||"",dataSource:e.dataSource,onContentReady:function(){i.renderCompleted.fire()},itemTemplate:function(i,n,r){var o=(0,t.default)(r);return e.encodeHtml?o.text(i.text):o.html(i.text)}};"tree"===e.type?i._listContainer=i._createComponent((0,t.default)("<div>").appendTo(n),p.default,(0,s.extend)(r,{showCheckBoxesMode:e.isFilterBuilder?"normal":"selectAll",keyExpr:"id"})):i._listContainer=i._createComponent((0,t.default)("<div>").appendTo(n),f.default,(0,s.extend)(r,{searchExpr:i._getSearchExpr(e),pageLoadMode:"scrollBottom",showSelectionControls:!0,selectionMode:e.isFilterBuilder?"multiple":"all",onSelectionChanged:function(t){var i=t.component.option("items"),n=t.component.option("selectedItems");t.component._selectedItemsUpdating||t.component.option("searchValue")||e.isFilterBuilder||(0===n.length&&i.length&&(!e.filterValues||e.filterValues.length<=1)?(e.filterType="include",e.filterValues=[]):n.length===i.length&&(e.filterType="exclude",e.filterValues=[])),(0,a.each)(i,function(t,i){var r,l=o.default.getIndexByKey(i,n,null)>=0;!!i.selected!==l&&(i.selected=l,e.filterValues=e.filterValues||[],(r=o.default.getIndexByKey(i.value,e.filterValues,null))>=0&&e.filterValues.splice(r,1),l^"exclude"===e.filterType&&e.filterValues.push(i.value))}),F(t,e.filterValues)},onContentReady:function(t){var i=t.component,n=i.option("items"),r=[];(0,a.each)(n,function(){this.selected&&r.push(this)}),i._selectedItemsUpdating=!0,i.option("selectedItems",r),i._selectedItemsUpdating=!1,F(t,e.filterValues)}}))},_renderCore:function(){this.element().addClass(C)}});var y=exports.allowHeaderFiltering=function(e){return(0,l.isDefined)(e.allowHeaderFiltering)?e.allowHeaderFiltering:e.allowFiltering};exports.headerFilterMixin={_applyColumnState:function(e){var t,i=e.rootElement,n=e.column;return"headerFilter"===e.name?(i.find("."+g).remove(),y(n)&&(t=this.callBase(e).toggleClass("dx-header-filter-empty",this._isHeaderFilterEmpty(n)),this.option("useLegacyKeyboardNavigation")||t.attr("tabindex",this.option("tabindex")||0)),t):this.callBase(e)},_isHeaderFilterEmpty:function(e){return!e.filterValues||!e.filterValues.length},_getIndicatorClassName:function(e){return"headerFilter"===e?g:this.callBase(e)},_renderIndicator:function(e){var t,i=e.container,n=e.indicator;"headerFilter"===e.name&&(t=this.option("rtlEnabled"),i.children().length&&(!t&&"right"===e.columnAlignment||t&&"left"===e.columnAlignment))?i.prepend(n):this.callBase(e)},optionChanged:function(e){if("headerFilter"===e.name){var t="columnHeadersView"===this.name;this._invalidate(t,t),e.handled=!0}else this.callBase(e)}};
},{"../../core/renderer":"qxFQ","./ui.grid_core.modules":"vXU0","./ui.grid_core.utils":"kk68","../../core/utils/type":"Mw4w","../../core/utils/iterator":"FHcO","../../core/utils/extend":"ac8T","../popup":"DU0r","../tree_view":"Fosu","../list":"fgGv"}],"H5VM":[function(require,module,exports) {
"use strict";var e=require("../../events/core/events_engine"),t=S(e),r=require("./ui.grid_core.modules"),i=S(r),a=require("../shared/filtering"),l=S(a),n=require("./ui.grid_core.utils"),o=S(n),u=require("./ui.grid_core.header_filter_core"),s=require("../../localization/message"),d=S(s),c=require("../../events/click"),h=S(c),p=require("../../core/utils/data"),m=require("../../core/utils/iterator"),f=require("../../core/utils/type"),F=require("../../core/utils/position"),g=require("../../core/utils/extend"),v=require("../../data/data_source/data_source"),_=require("../../localization/date"),C=S(_),y=require("../../core/utils/variable_wrapper"),w=require("../../core/utils/deferred"),x=require("../shared/accessibility");function S(e){return e&&e.__esModule?e:{default:e}}var V={month:function(e){return C.default.getMonthNames()[e-1]},quarter:function(e){return C.default.format(new Date(2e3,3*e-1),"quarter")}},I=i.default.ViewController.inherit({init:function(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._headerFilterView=this.getView("headerFilterView")},_updateSelectedState:function(e,t){for(var r=e.length,i="exclude"===t.filterType;r--;){var a=e[r];"items"in e[r]&&this._updateSelectedState(e[r].items,t),(0,u.updateHeaderFilterItemSelectionState)(a,o.default.getIndexByKey(e[r].value,t.filterValues,null)>-1,i)}},_normalizeGroupItem:function(e,t,r){var i,a,l=r.path,n=r.valueSelector,o=r.displaySelector,u=r.column;return n&&o?(i=n(e),a=o(e)):a=i=e.key,e=(0,f.isObject)(e)?(0,g.extend)({},e):{},l.push(i),1===l.length?e.value=l[0]:e.value=l.join("/"),e.text=this.getHeaderItemText(a,u,t,r.headerFilterOptions),e},getHeaderItemText:function(e,t,r,i){var a=o.default.formatValue(e,function(e,t,r){var i=l.default.getGroupInterval(t),a=o.default.getFormatOptionsByColumn(t,"headerFilter");return i&&(a.groupInterval=i[r],o.default.isDateType(t.dataType)?a.format=V[i[r]]:"number"===t.dataType&&(a.getDisplayFormat=function(){var a={format:t.format,target:"headerFilter"},l=o.default.formatValue(e,a),n=e+i[r],u=o.default.formatValue(n,a);return l&&u?l+" - "+u:""})),a}(e,t,r));return a||(a=i.texts.emptyValue),a},_processGroupItems:function(e,t,r,i){var a,l,n=i.column.lookup,o=i.level;r=r||[],t=t||0,n&&(a=(0,p.compileGetter)(n.displayExpr),l=(0,p.compileGetter)(n.valueExpr));for(var u=0;u<e.length;u++)e[u]=this._normalizeGroupItem(e[u],t,{column:i.column,headerFilterOptions:i.headerFilterOptions,displaySelector:a,valueSelector:l,path:r}),"items"in e[u]&&(t!==o&&(0,f.isDefined)(e[u].value)?this._processGroupItems(e[u].items,t+1,r,i):delete e[u].items),r.pop()},getDataSource:function(e){var t,r,i,a=this,l=a._dataController.dataSource(),n=o.default.getHeaderFilterGroupParameters(e,l&&l.remoteOperations().grouping),u=e.headerFilter&&e.headerFilter.dataSource,s=a.option("headerFilter"),d=!1,c={component:a.component};if(l)return(0,f.isDefined)(u)&&!(0,f.isFunction)(u)?c.dataSource=(0,v.normalizeDataSourceOptions)(u):e.lookup?(d=!0,l=e.lookup.dataSource,(0,f.isFunction)(l)&&!(0,y.isWrapped)(l)&&(l=l({})),l=(0,v.normalizeDataSourceOptions)(l),c.dataSource=l):(r=Array.isArray(n)?n.length-1:0,a._currentColumn=e,t=a._dataController.getCombinedFilter(),a._currentColumn=null,c.dataSource={filter:t,group:n,useDefaultSearch:!0,load:function(t){var i=new w.Deferred;return t.dataField=e.dataField||e.name,l.load(t).done(function(t){a._processGroupItems(t,null,null,{level:r,column:e,headerFilterOptions:s}),i.resolve(t)}).fail(i.reject),i}}),(0,f.isFunction)(u)&&u.call(e,c),i=c.dataSource.postProcess,c.dataSource.postProcess=function(t){var r=t;return d&&(0!==this.pageIndex()||this.searchValue()||(r=r.slice(0)).unshift(null),a._processGroupItems(r,null,null,{level:0,column:e,headerFilterOptions:s})),r=i&&i.call(this,r)||r,a._updateSelectedState(r,e),r},c.dataSource},getCurrentColumn:function(){return this._currentColumn},showHeaderFilterMenu:function(e,t){var r=this._columnsController,i=(0,g.extend)(!0,{},this._columnsController.getColumns()[e]);if(i){var a=r.getVisibleIndex(e),l=t?this.getView("headerPanel"):this.getView("columnHeadersView"),n=n||l.getColumnElements().eq(t?i.groupIndex:a);this.showHeaderFilterMenuBase({columnElement:n,column:i,applyFilter:!0,apply:function(){r.columnOption(e,{filterValues:this.filterValues,filterType:this.filterType})}})}},showHeaderFilterMenuBase:function(e){var t=this,r=this,i=e.column;if(i){var a=l.default.getGroupInterval(i),n=r._dataController.dataSource(),o=n&&n.remoteOperations().filtering;(0,g.extend)(e,i,{type:a&&a.length>1?"tree":"list",remoteFiltering:o,onShowing:function(t){var i=t.component.overlayContent().dxResizable("instance");i&&i.option("onResizeEnd",function(t){var i=r.getController("columns"),a=i.columnOption(e.dataField,"headerFilter");(a=a||{}).width=t.width,a.height=t.height,i.columnOption(e.dataField,"headerFilter",a,!0)})},onHidden:function(){return(0,x.restoreFocus)(t)}}),e.dataSource=r.getDataSource(e),e.isFilterBuilder&&(e.dataSource.filter=null,e.alignment="right"),r._headerFilterView.showHeaderFilterMenu(e.columnElement,e)}},hideHeaderFilterMenu:function(){this._headerFilterView.hideHeaderFilterMenu()}}),b=(0,g.extend)({},u.headerFilterMixin,{_renderCellContent:function(e,t){var r,i=t.column;!i.command&&(0,u.allowHeaderFiltering)(i)&&this.option("headerFilter.visible")&&"header"===t.rowType&&(r=this._applyColumnState({name:"headerFilter",rootElement:e,column:i,showColumnLines:this.option("showColumnLines")}))&&this._subscribeToIndicatorEvent(r,i,"headerFilter"),this.callBase(e,t)},_subscribeToIndicatorEvent:function(e,r,i){var a=this;"headerFilter"===i&&t.default.on(e,h.default.name,a.createAction(function(e){e.event.stopPropagation(),a.getController("headerFilter").showHeaderFilterMenu(r.index,!1)}))},_updateIndicator:function(e,t,r){var i=this.callBase(e,t,r);i&&this._subscribeToIndicatorEvent(i,t,r)},_updateHeaderFilterIndicators:function(){this.option("headerFilter.visible")&&this._updateIndicators("headerFilter")},_needUpdateFilterIndicators:function(){return!0},_columnOptionChanged:function(e){var t=e.optionNames;o.default.checkChanges(t,["filterValues","filterType"])?this._needUpdateFilterIndicators()&&this._updateHeaderFilterIndicators():this.callBase(e)}}),H=(0,g.extend)({},u.headerFilterMixin,{_createGroupPanelItem:function(e,r){var i,a=this,l=a.callBase.apply(a,arguments);return!r.command&&(0,u.allowHeaderFiltering)(r)&&a.option("headerFilter.visible")&&(i=a._applyColumnState({name:"headerFilter",rootElement:l,column:{alignment:(0,F.getDefaultAlignment)(a.option("rtlEnabled")),filterValues:r.filterValues,allowHeaderFiltering:!0},showColumnLines:!0}))&&t.default.on(i,h.default.name,a.createAction(function(e){e.event.stopPropagation(),a.getController("headerFilter").showHeaderFilterMenu(r.index,!0)})),l}});function q(e){return["!",e]}var T={skipCalculateColumnFilters:function(){return!1},_calculateAdditionalFilter:function(){if(this.skipCalculateColumnFilters())return this.callBase();var e=[this.callBase()],t=this._columnsController.getVisibleColumns(null,!0),r=this.getController("headerFilter").getCurrentColumn();return(0,m.each)(t,function(t,i){var a;if((!r||r.index!==i.index)&&(0,u.allowHeaderFiltering)(i)&&i.calculateFilterExpression&&Array.isArray(i.filterValues)&&i.filterValues.length){var l=[];(0,m.each)(i.filterValues,function(e,t){Array.isArray(t)?a=t:(i.deserializeValue&&!o.default.isDateType(i.dataType)&&"number"!==i.dataType&&(t=i.deserializeValue(t)),a=i.createFilterExpression(t,"=","headerFilter")),a&&(a.columnIndex=i.index),l.push(a)}),l=o.default.combineFilters(l,"or"),e.push("exclude"===i.filterType?["!",l]:l)}}),o.default.combineFilters(e)}};module.exports={invertFilterExpression:q,defaultOptions:function(){return{headerFilter:{visible:!1,width:252,height:325,allowSearch:!1,searchTimeout:500,texts:{emptyValue:d.default.format("dxDataGrid-headerFilterEmptyValue"),ok:d.default.format("dxDataGrid-headerFilterOK"),cancel:d.default.format("dxDataGrid-headerFilterCancel")}}}},controllers:{headerFilter:I},views:{headerFilterView:u.HeaderFilterView},extenders:{controllers:{data:T},views:{columnHeadersView:b,headerPanel:H}}};
},{"../../events/core/events_engine":"oNrb","./ui.grid_core.modules":"vXU0","../shared/filtering":"gV8h","./ui.grid_core.utils":"kk68","./ui.grid_core.header_filter_core":"xumL","../../localization/message":"Njcj","../../events/click":"RTmy","../../core/utils/data":"YLhW","../../core/utils/iterator":"FHcO","../../core/utils/type":"Mw4w","../../core/utils/position":"Zh3q","../../core/utils/extend":"ac8T","../../data/data_source/data_source":"SIr7","../../localization/date":"F0Sb","../../core/utils/variable_wrapper":"SPUa","../../core/utils/deferred":"g5TB","../shared/accessibility":"sH3F"}],"SzSb":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),r=u(e),i=require("../grid_core/ui.grid_core.header_filter"),t=u(i);function u(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("headerFilter",t.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.header_filter":"H5VM"}],"chvs":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=require("../../core/utils/extend").extend,a="dx-filterbuilder-range",r=a+"-start",n=a+"-end",i=a+"-separator",l="";function d(d,u){var s=e("<div>").addClass(r),o=e("<div>").addClass(n),c=d.value||[],p=function(e){return e&&e.length>0?e[0]:null},f=function(e){return e&&2===e.length?e[1]:null};u.append(s),u.append(e("<span>").addClass(i).text(l)),u.append(o),u.addClass(a),this._editorFactory.createEditor.call(this,s,t({},d.field,d,{value:p(c),parentType:"filterBuilder",setValue:function(e){c=[e,f(c)],d.setValue(c)}})),this._editorFactory.createEditor.call(this,o,t({},d.field,d,{value:f(c),parentType:"filterBuilder",setValue:function(e){c=[p(c),e],d.setValue(c)}}))}function u(e){return{name:"between",caption:e,icon:"range",valueSeparator:l,dataTypes:["number","date","datetime"],editorTemplate:d}}exports.getConfig=u;
},{"../../core/renderer":"qxFQ","../../core/utils/extend":"ac8T"}],"Bonn":[function(require,module,exports) {
"use strict";var t={"=":"equal","<>":"notequal","<":"less","<=":"lessorequal",">":"greater",">=":"greaterorequal",notcontains:"doesnotcontain",contains:"contains",startswith:"startswith",endswith:"endswith",isblank:"isblank",isnotblank:"isnotblank"},n={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",isblank:"isBlank",isnotblank:"isNotBlank",between:"between"};module.exports={getIconByFilterOperation:function(n){return t[n]},getNameByFilterOperation:function(t){return n[t]}};
},{}],"IDcQ":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/deferred"),t=require("../../data/errors"),r=require("../../core/utils/type"),n=require("../../core/utils/data"),i=require("../widget/ui.errors"),a=F(i),u=require("../shared/filtering"),o=F(u),l=require("../../format_helper"),s=F(l),f=require("../../core/utils/extend"),p=require("../../core/utils/inflector"),c=F(p),d=require("./between"),h=F(d),x=require("../../localization/message"),g=F(x),v=require("../../data/data_source/data_source"),m=require("./ui.filter_operations_dictionary"),y=F(m);function F(e){return e&&e.__esModule?e:{default:e}}var b="string",O="icon-none",T="and",C="=",E="<>",k={number:["=","<>","<",">","<=",">=","isblank","isnotblank"],string:["contains","notcontains","startswith","endswith","=","<>","isblank","isnotblank"],date:["=","<>","<",">","<=",">=","isblank","isnotblank"],datetime:["=","<>","<",">","<=",">=","isblank","isnotblank"],boolean:["=","<>","isblank","isnotblank"],object:["isblank","isnotblank"]},A={date:"shortDate",datetime:"shortDateShortTime"},w=["=","<>","isblank","isnotblank"],I=["caption","customizeText","dataField","dataType","editorTemplate","falseText","editorOptions","filterOperations","format","lookup","trueText","calculateFilterExpression","name"];function q(e,t){var r=e.format||A[e.dataType];return s.default.format(t,r)}function z(e){return e&&e.length>1&&"!"===e[0]&&!ee(e)}function D(e){return z(e)?e[1]:e}function G(e,t){return z(e)?e[1]=t:e=t,e}function V(e,t){!function(e){return-1!==e.indexOf("!")}(t)?z(e)&&function(e){var t=D(e);e.length=0,[].push.apply(e,t)}(e):z(e)||function(e){var t=e.slice(0);e.length=0,e.push("!",t)}(e)}function L(e,t){V(e,t);var r;return function(e,t){for(r=0;r<e.length;r++)Array.isArray(e[r])||(e[r]=t)}(D(e),t=function(e){return-1===e.indexOf("!")?e:e.substring(1)}(t)),e}function _(e,t){var r=S(e);return t.filter(function(e){return e.value===r})[0]}function B(e){if(ee(e))return T;for(var r="",n=0;n<e.length;n++){var i=e[n];if(!Array.isArray(i)){if(r&&r!==i)throw new t.errors.Error("E4019");"!"!==i&&(r=i)}}return r}function S(e){var t=D(e),r=B(t);return r||(r=T),t!==e&&(r="!"+r),r}function M(e){return e.lookup&&w||k[e.dataType||b]}function N(e){return Array.isArray(e)&&e.length}function j(e){var t=N(e.filterOperations)?e.filterOperations:M(e);return(0,f.extend)([],t)}function H(e,t){var r=y.default.getNameByFilterOperation(e);return t&&t[r]?t[r]:r}function P(e,t){for(var r=0;r<t.length;r++)if(t[r].value===e)return t[r];throw new a.default.Error("E1048",e)}function W(e,t){var r=e.filter(function(e){return e.name===t});return r.length?r[0]:null}function J(e,t,r){var n=j(e);return r.forEach(function(t){if(!e.filterOperations&&-1===n.indexOf(t.name)){var r=t&&t.dataTypes;r&&r.indexOf(e.dataType||b)>=0&&n.push(t.name)}}),n.map(function(e){var n=W(r,e);return n?{icon:n.icon||O,text:n.caption||c.default.captionize(n.name),value:n.name,isCustom:!0}:{icon:y.default.getIconByFilterOperation(e)||O,text:H(e,t),value:e}})}function K(e){return e.defaultFilterOperation||j(e)[0]}function Q(e,t){var r=[e.dataField,"",""];return be(r,K(e),t),r}function R(e,t){var r=D(e),n=r.indexOf(t);return r.splice(n,1),1!==r.length&&r.splice(n,1),e}function U(e){return-1!==e.indexOf("not")?["!",[e.substring(3).toLowerCase()]]:[e]}function X(e){var t=D(e);return!ee(t)&&!t.some(function(e){return ee(e)})}function Y(e,t){var r=D(t),n=S(r);return 1===r.length?r.unshift(e):r.push(e,n),t}function Z(e,t){for(var r=0;r<t.length;r++){if(t[r].name===e)return t[r];if(t[r].dataField.toLowerCase()===e.toLowerCase())return t[r]}var n=ve(t,!0).filter(function(t){return t.dataField.toLowerCase()===e.toLowerCase()});if(n.length>0)return n[0];throw new a.default.Error("E1047",e)}function $(e){return!!Array.isArray(e)&&(e.length<2||Array.isArray(e[0])||Array.isArray(e[1]))}function ee(e){return!!Array.isArray(e)&&(e.length>1&&!Array.isArray(e[0])&&!Array.isArray(e[1]))}function te(e,t){for(var r=B(e).toLowerCase()||T,n=[],i=0;i<e.length;i++)$(e[i])?(n.push(ie(e[i],t)),n.push(r)):ee(e[i])&&(n.push(ne(e[i],t)),n.push(r));return 0===n.length&&n.push(r),n}function re(e,t){var r=W(t,e[1]);return r&&r.name===e[1]}function ne(e,t){return re(e,t)?e:(e.length<3&&(e[2]=e[1],e[1]=C),e)}function ie(e,t){return e?ee(e=(0,f.extend)(!0,[],e))?[ne(e,t),T]:z(e)?["!",ee(e[1])?[ne(e[1],t),T]:z(e[1])?[ie(e[1],t),T]:te(e[1],t)]:te(e,t):[T]}function ae(e){return e.reduce(function(e,t){if((0,r.isDefined)(t.dataField)){var n={};for(var i in t)t[i]&&I.indexOf(i)>-1&&(n[i]=t[i]);n.defaultCalculateFilterExpression=o.default.defaultCalculateFilterExpression,(0,r.isDefined)(n.dataType)||(n.dataType=b),e.push(n)}return e},[])}function ue(e,t,r,n){var i=Z(e[0],t),a=ne(e,r),u=r.length&&W(r,a[1]);return u&&u.calculateFilterExpression?u.calculateFilterExpression.apply(u,[a[2],i,n]):i.createFilterExpression?i.createFilterExpression.apply(i,[a[2],a[1],n]):i.calculateFilterExpression?i.calculateFilterExpression.apply(i,[a[2],a[1],n]):i.defaultCalculateFilterExpression.apply(i,[a[2],a[1],n])}function oe(e,t,n,i){if(!(0,r.isDefined)(e))return null;if(z(e))return["!",oe(e[1],t,n,i)];var a=D(e);if(ee(a))return ue(a,t,n,i)||null;for(var u=void 0,o=S(a),l=[],s=0;s<a.length;s++)$(a[s])?(u=oe(a[s],t,n,i))&&(s&&l.push(o),l.push(u)):ee(a[s])&&(u=ue(a[s],t,n,i))&&(s&&l.push(o),l.push(u));return l.length?l:null}function le(e){var t,r=D(e);if(0===r.length)return null;var n=[];for(t=0;t<r.length;t++)if($(r[t])){var i=le(r[t]);i?r[t]=i:n.push(r[t])}else ee(r[t])&&(Te(r[t])||n.push(r[t]));for(t=0;t<n.length;t++)R(r,n[t]);return 1===r.length?null:(r.splice(r.length-1,1),1===r.length&&(e=G(e,r[0])),0===e.length?null:e)}function se(e,t,r){if(""!==t){var i=e.lookup;if(i.items)r(i.calculateCellValue(t)||"");else new v.DataSource(i.dataSource).loadSingle(i.valueExpr,t).done(function(e){r(e?i.displayExpr?(0,n.compileGetter)(i.displayExpr)(e):e:"")}).fail(function(){r("")})}else r("")}function fe(e,t,r,n){var i;return i=!0===t?e.trueText||g.default.format("dxDataGrid-trueText"):!1===t?e.falseText||g.default.format("dxDataGrid-falseText"):q(e,t),e.customizeText&&(i=e.customizeText.call(e,{value:t,valueText:i,target:n})),r&&r.customizeText&&(i=r.customizeText.call(r,{value:t,valueText:i,field:e,target:n})),i}function pe(e,t,r,n){return t.map(function(t){return fe(e,t,r,n)})}function ce(e){return""===e||null===e}function de(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"filterBuilder";if(ce(r))return"";if(Array.isArray(r)){var a=new e.Deferred;return e.when.apply(this,pe(t,r,n,i)).done(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.some(function(e){return!ce(e)})?t.map(function(e){return ce(e)?"?":e}):"";a.resolve(n)}),a}return fe(t,r,n,i)}function he(e,t){return e.some(function(e){return e.dataField===t})}function xe(e,t,r){var n=r.dataField;me(n)&&(r.parentId=ye(n),he(t,r.parentId)||he(e,r.parentId)||xe(e,t,{id:r.parentId,dataType:"object",dataField:r.parentId,caption:ge(r.parentId,!0),filterOperations:["isblank","isnotblank"]})),t.push(r)}function ge(e,t){var r="";if(t)e=e.substring(e.lastIndexOf(".")+1);else if(me(e))return e.split(".").forEach(function(e,t,n){r+=c.default.captionize(e),t!==n.length-1&&(r+=".")}),r;return c.default.captionize(e)}function ve(e,t){for(var r=[],n=0;n<e.length;n++){var i=(0,f.extend)(!0,{caption:ge(e[n].dataField,t)},e[n]);i.id=i.name||i.dataField,t?xe(e,r,i):r.push(i)}return r}function me(e){return-1!==e.lastIndexOf(".")}function ye(e){return e.substring(0,e.lastIndexOf("."))}function Fe(e,t){if(me(e.dataField))for(var r=ye(e.dataField),n=0;n<t.length;n++)if(t[n].dataField===r)return Fe(t[n],t)+"."+e.caption;return e.caption}function be(e,t,r){var n=W(r,t);return n?(!1===n.hasValue?(e[1]=t,e.length=2):(e[1]=t,e[2]=""),e):("isblank"===t?(e[1]=C,e[2]=null):"isnotblank"===t?(e[1]=E,e[2]=null):(((n=W(r,e[1]))||2===e.length||null===e[2])&&(e[2]=""),e[1]=t),e)}function Oe(e){return null===e[2]?e[1]===C?"isblank":"isnotblank":e[1]}function Te(e){return""!==e[2]}function Ce(e,t){var r=(0,f.extend)(!0,[],e),n=-1;return r.some(function(e,t){if("between"===e.name)return n=t,!0}),-1!==n?r[n]=(0,f.extend)(h.default.getConfig(t),r[n]):r.unshift(h.default.getConfig(t)),r}function Ee(e,t){return e[0]===t}function ke(e,t){return e&&0!==e.length?ee(e)?Ee(e,t)?null:e:Ae(e,[t],!1):null}function Ae(e,t,r){var n=[];return e.forEach(function(e){ee(e)?Ee(e,t[0])?r?(n.push(t),r=!1):n.splice(n.length-1,1):n.push(e):(n.length||$(e))&&n.push(e)}),0===n.length?null:(r&&(n.push(T),n.push(t)),1===n.length?n[0]:n)}function we(e,t){return null===e||0===e.length?t:ee(e)?Ee(e,t[0])?t:[e,T,t]:S(e)!==T?[t,"and",e]:Ae(e,t,!0)}function Ie(e,t){return null===e||0===e.length?[]:ee(e)?Ee(e,t)?[e]:[]:S(e)!==T?[]:e.filter(function(e){return ee(e)&&Ee(e,t)})}function qe(e,t){return null!==e&&0!==e.length&&(ee(e)?e[0]===t:e.some(function(e){return(ee(e)||$(e))&&qe(e,t)}))}exports.isValidCondition=Te,exports.isEmptyGroup=X,exports.getOperationFromAvailable=P,exports.updateConditionByOperation=be,exports.getCaptionWithParents=Fe,exports.getItems=ve,exports.setGroupValue=L,exports.getGroupMenuItem=_,exports.getGroupValue=S,exports.getAvailableOperations=J,exports.removeItem=R,exports.createCondition=Q,exports.createEmptyGroup=U,exports.addItem=Y,exports.getField=Z,exports.isGroup=$,exports.isCondition=ee,exports.getNormalizedFields=ae,exports.getNormalizedFilter=le,exports.getGroupCriteria=D,exports.convertToInnerStructure=ie,exports.getDefaultOperation=K,exports.getCurrentValueText=de,exports.getCurrentLookupValueText=se,exports.getFilterOperations=j,exports.getCaptionByOperation=H,exports.getOperationValue=Oe,exports.getFilterExpression=oe,exports.getCustomOperation=W,exports.getMergedOperations=Ce,exports.syncFilters=we,exports.getMatchedConditions=Ie,exports.filterHasField=qe,exports.removeFieldConditionsFromFilter=ke;
},{"../../core/utils/deferred":"g5TB","../../data/errors":"C20h","../../core/utils/type":"Mw4w","../../core/utils/data":"YLhW","../widget/ui.errors":"RFsS","../shared/filtering":"gV8h","../../format_helper":"icNs","../../core/utils/extend":"ac8T","../../core/utils/inflector":"i2nR","./between":"chvs","../../localization/message":"Njcj","../../data/data_source/data_source":"SIr7","./ui.filter_operations_dictionary":"Bonn"}],"VUHQ":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=k(e),i=require("../../core/dom_adapter"),n=k(i),a=require("../../core/class"),o=k(a),r=require("../../events/core/events_engine"),l=k(r),u=require("../widget/ui.widget"),d=k(u),s=require("../../core/component_registrator"),c=k(s),p=require("../../core/utils/extend"),f=require("../../localization/message"),m=k(f),h=require("./utils"),_=k(h),v=require("../../core/utils/deferred"),g=k(v),C=require("../../core/utils/type"),x=require("../tree_view"),O=k(x),y=require("../popup"),B=k(y),E=require("../overlay/utils"),F=require("../shared/ui.editor_factory_mixin"),b=k(F),V=require("../../events/utils");function k(e){return e&&e.__esModule?e:{default:e}}var T="dx-filterbuilder",w=T+"-group",D=w+"-item",I=w+"-content",A=w+"-operations",q=w+"-operation",G=T+"-action",M=G+"-icon",W="dx-icon-plus",H="dx-icon-remove",N=T+"-text",P=N+"-part",S=N+"-separator",K=S+"-empty",z=T+"-item-field",R=T+"-item-operation",L=T+"-item-value",$=T+"-item-value-text",U=T+"-overlay",J=T+"-operations",j=T+"-fields",Q=T+"-add-condition",X="dx-state-active",Y=T+"-menu-custom-operation",Z="filterBuilder",ee="dx-state-disabled",te="tab",ie="enter",ne="escape",ae=[{name:"onEditorPreparing",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onEditorPrepared",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onValueChanged",config:{excludeValidators:["disabled","readOnly"]}}],oe={and:"and",or:"or",notAnd:"!and",notOr:"!or"},re=o.default.inherit(b.default),le=function(e,i,n){if(Array.isArray(i)){var a=i.length-1;e.empty(),i.forEach(function(i,o){(0,t.default)("<span>").addClass(P).text(i).appendTo(e),o!==a&&(0,t.default)("<span>").addClass(S).text(n&&n.valueSeparator?n.valueSeparator:"|").addClass(K).appendTo(e)})}else i?e.text(i):e.text(m.default.format("dxFilterBuilder-enterValueText"))},ue=d.default.inherit({_getDefaultOptions:function(){return(0,p.extend)(this.callBase(),{onEditorPreparing:null,onEditorPrepared:null,onValueChanged:null,fields:[],defaultGroupOperation:"and",groupOperations:["and","or","notAnd","notOr"],maxGroupLevel:void 0,value:null,allowHierarchicalFields:!1,groupOperationDescriptions:{and:m.default.format("dxFilterBuilder-and"),or:m.default.format("dxFilterBuilder-or"),notAnd:m.default.format("dxFilterBuilder-notAnd"),notOr:m.default.format("dxFilterBuilder-notOr")},customOperations:[],closePopupOnTargetScroll:!0,filterOperationDescriptions:{between:m.default.format("dxFilterBuilder-filterOperationBetween"),equal:m.default.format("dxFilterBuilder-filterOperationEquals"),notEqual:m.default.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:m.default.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:m.default.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:m.default.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:m.default.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:m.default.format("dxFilterBuilder-filterOperationStartsWith"),contains:m.default.format("dxFilterBuilder-filterOperationContains"),notContains:m.default.format("dxFilterBuilder-filterOperationNotContains"),endsWith:m.default.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:m.default.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:m.default.format("dxFilterBuilder-filterOperationIsNotBlank")}})},_optionChanged:function(e){switch(e.name){case"closePopupOnTargetScroll":break;case"onEditorPreparing":case"onEditorPrepared":case"onValueChanged":this._initActions();break;case"customOperations":this._initCustomOperations(),this._invalidate();break;case"fields":case"defaultGroupOperation":case"maxGroupLevel":case"groupOperations":case"allowHierarchicalFields":case"groupOperationDescriptions":case"filterOperationDescriptions":this._invalidate();break;case"value":if(e.value!==e.previousValue){var t=this._disableInvalidateForValue;t||(this._initModel(),this._invalidate()),this._disableInvalidateForValue=!1,this.executeAction("onValueChanged",{value:e.value,previousValue:e.previousValue}),this._disableInvalidateForValue=t}break;default:this.callBase(e)}},getFilterExpression:function(){var e=this._getNormalizedFields(),t=(0,p.extend)(!0,[],this._model);return _.default.getFilterExpression(_.default.getNormalizedFilter(t),e,this._customOperations,Z)},_getNormalizedFields:function(){return _.default.getNormalizedFields(this.option("fields"))},_updateFilter:function(){this._disableInvalidateForValue=!0;var e=(0,p.extend)(!0,[],this._model),t=_.default.getNormalizedFilter(e),i=_.default.getNormalizedFilter(this._getModel(this.option("value")));JSON.stringify(i)!==JSON.stringify(t)&&this.option("value",t),this._disableInvalidateForValue=!1,this._fireContentReadyAction()},_init:function(){this._initCustomOperations(),this._initModel(),this._initEditorFactory(),this._initActions(),this.callBase()},_initEditorFactory:function(){this._editorFactory=new re},_initCustomOperations:function(){this._customOperations=_.default.getMergedOperations(this.option("customOperations"),this.option("filterOperationDescriptions.between"))},_getModel:function(e){return _.default.convertToInnerStructure(e,this._customOperations)},_initModel:function(){this._model=this._getModel(this.option("value"))},_initActions:function(){var e=this;e._actions={},ae.forEach(function(t){e._actions[t.name]=e._createActionByOption(t.name,t.config)})},executeAction:function(e,t){var i=this._actions[e];return i&&i(t)},_initMarkup:function(){this.$element().addClass(T),this.callBase(),this._createGroupElementByCriteria(this._model).appendTo(this.$element())},_createConditionElement:function(e,i){return(0,t.default)("<div>").addClass(w).append(this._createConditionItem(e,i))},_createGroupElementByCriteria:function(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this._createGroupElement(e,t,i),a=n.find("."+I),o=_.default.getGroupCriteria(e),r=0;r<o.length;r++){var l=o[r];_.default.isGroup(l)?this._createGroupElementByCriteria(l,o,i+1).appendTo(a):_.default.isCondition(l)&&this._createConditionElement(l,o).appendTo(a)}return n},_createGroupElement:function(e,i,n){var a=this,o=(0,t.default)("<div>").addClass(D),r=(0,t.default)("<div>").addClass(I),l=(0,t.default)("<div>").addClass(w).append(o).append(r);return null!=i&&this._createRemoveButton(function(){_.default.removeItem(i,e),l.remove(),a._updateFilter()}).appendTo(o),this._createGroupOperationButton(e).appendTo(o),this._createAddButton(function(){var t=_.default.createEmptyGroup(a.option("defaultGroupOperation"));_.default.addItem(t,e),a._createGroupElement(t,e,n+1).appendTo(r),a._updateFilter()},function(){var t=a.option("fields")[0],i=_.default.createCondition(t,a._customOperations);_.default.addItem(i,e),a._createConditionElement(i,e).appendTo(r),a._updateFilter()},n).appendTo(o),l},_createButton:function(e){return(0,t.default)("<div>").text(e)},_createGroupOperationButton:function(e){var t=this,i=this._getGroupOperations(e),n=_.default.getGroupMenuItem(e,i),a=n.text,o=i&&i.length<2?this._createButton(a).addClass(ee):this._createButtonWithMenu({caption:a,menu:{items:i,displayExpr:"text",keyExpr:"value",onItemClick:function(i){n!==i.itemData&&(_.default.setGroupValue(e,i.itemData.value),o.html(i.itemData.text),n=i.itemData,t._updateFilter())},onContentReady:function(e){e.component.selectItem(n)},cssClass:A}});return o.addClass(N).addClass(q).attr("tabindex",0)},_createButtonWithMenu:function(e){var i,n=this,a=function(){n.$element().find("."+X).removeClass(X),n.$element().find(".dx-overlay .dx-treeview").remove(),n.$element().find(".dx-overlay").remove()},o=this.option("rtlEnabled"),r=o?"right":"left",u=this._createButton(e.caption);return(0,p.extend)(e.menu,{focusStateEnabled:!0,selectionMode:"single",onItemClick:(i=e.menu.onItemClick,function(e){i(e),"dxclick"===e.event.type&&a()}),onHiding:function(e){u.removeClass(X)},position:{my:r+" top",at:r+" bottom",offset:"0 1",of:u,collision:"flip"},animation:null,onHidden:function(){a()},cssClass:U+" "+e.menu.cssClass,rtlEnabled:o}),e.popup={onShown:function(i){var n=(0,t.default)(i.component.content()).find(".dx-treeview"),a=n.dxTreeView("instance");l.default.on(n,"keyup keydown",function(t){var n=(0,V.normalizeKeyName)(t);("keydown"===t.type&&n===te||"keyup"===t.type&&(n===ne||n===ie))&&(i.component.hide(),l.default.trigger(e.menu.position.of,"focus"))}),a.focus(),a.option("focusedElement",null)}},this._subscribeOnClickAndEnterKey(u,function(){a(),n._createPopupWithTreeView(e,n.$element()),u.addClass(X)}),u},_hasValueButton:function(e){var t=_.default.getCustomOperation(this._customOperations,e[1]);return t?!1!==t.hasValue:null!==e[2]},_createOperationButtonWithMenu:function(e,i){var n=this,a=this,o=_.default.getAvailableOperations(i,this.option("filterOperationDescriptions"),this._customOperations),r=_.default.getOperationFromAvailable(_.default.getOperationValue(e),o),l=this._createButtonWithMenu({caption:r.text,menu:{items:o,displayExpr:"text",onItemRendered:function(e){e.itemData.isCustom&&(0,t.default)(e.itemElement).addClass(Y)},onContentReady:function(e){e.component.selectItem(r)},onItemClick:function(t){if(r!==t.itemData){r=t.itemData,_.default.updateConditionByOperation(e,r.value,a._customOperations);var o=l.siblings().filter("."+L);a._hasValueButton(e)?(0!==o.length&&o.remove(),a._createValueButton(e,i).appendTo(l.parent())):o.remove(),l.html(r.text),n._updateFilter()}},cssClass:J}}).addClass(N).addClass(R).attr("tabindex",0);return l},_createOperationAndValueButtons:function(e,t,i){this._createOperationButtonWithMenu(e,t).appendTo(i),this._hasValueButton(e)&&this._createValueButton(e,t).appendTo(i)},_createFieldButtonWithMenu:function(e,t,i){var n=this,a=this,o=this.option("allowHierarchicalFields"),r=_.default.getItems(e,o),l=_.default.getField(i.name||i.dataField,r),u=function(e,t){return o?_.default.getCaptionWithParents(e,t):e.caption},d=this._createButtonWithMenu({caption:u(l,r),menu:{items:r,dataStructure:"plain",keyExpr:"id",parentId:"parentId",displayExpr:"caption",onItemClick:function(e){if(l!==e.itemData){l=e.itemData,t[0]=l.name||l.dataField,t[2]="object"===l.dataType?null:"",_.default.updateConditionByOperation(t,_.default.getDefaultOperation(l),a._customOperations),d.siblings().filter("."+N).remove(),a._createOperationAndValueButtons(t,l,d.parent());var i=u(l,e.component.option("items"));d.html(i),n._updateFilter()}},onContentReady:function(e){e.component.selectItem(l)},cssClass:j}}).addClass(N).addClass(z).attr("tabindex",0);return d},_createConditionItem:function(e,i){var n=this,a=(0,t.default)("<div>").addClass(D),o=this._getNormalizedFields(),r=_.default.getField(e[0],o);return this._createRemoveButton(function(){_.default.removeItem(i,e),a.remove(),n._updateFilter()}).appendTo(a),this._createFieldButtonWithMenu(o,e,r).appendTo(a),this._createOperationAndValueButtons(e,r,a),a},_getGroupOperations:function(e){var t=this.option("groupOperations"),i=this.option("groupOperationDescriptions");return t&&t.length||(t=[_.default.getGroupValue(e).replace("!","not")]),t.map(function(e){return{text:i[e],value:oe[e]}})},_createRemoveButton:function(e){var i=(0,t.default)("<div>").addClass(M).addClass(H).addClass(G).attr("tabindex",0);return this._subscribeOnClickAndEnterKey(i,e),i},_createAddButton:function(e,t,i){var n=void 0,a=this.option("maxGroupLevel");return(0,C.isDefined)(a)&&i>=a?(n=this._createButton(),this._subscribeOnClickAndEnterKey(n,t)):n=this._createButtonWithMenu({menu:{items:[{caption:m.default.format("dxFilterBuilder-addCondition"),click:t},{caption:m.default.format("dxFilterBuilder-addGroup"),click:e}],displayExpr:"caption",onItemClick:function(e){e.itemData.click()},cssClass:Q}}),n.addClass(M).addClass(W).addClass(G).attr("tabindex",0)},_createValueText:function(e,i,n){var a=this,o=(0,t.default)("<div>").html("&nbsp;").addClass($).attr("tabindex",0).appendTo(n),r=e[2],l=_.default.getCustomOperation(a._customOperations,e[1]);return!l&&i.lookup?_.default.getCurrentLookupValueText(i,r,function(e){le(o,e)}):g.default.when(_.default.getCurrentValueText(i,r,l)).done(function(e){le(o,e,l)}),a._subscribeOnClickAndEnterKey(o,function(t){"keyup"===t.type&&t.stopPropagation(),a._createValueEditorWithEvents(e,i,n)}),o},_updateConditionValue:function(e,t,i){e[2]!==t&&(e[2]=t),i(),this._updateFilter()},_addDocumentKeyUp:function(e,t){var i=n.default.getDocument(),a=function(e){o||r?r=!1:t(e)};l.default.on(i,"keyup",a);var o=!1,r=!1,u=e.find("input");l.default.on(u,"compositionstart",function(){o=!0}),l.default.on(u,"compositionend",function(){o=!1,r=!0}),l.default.on(u,"keydown",function(e){229!==e.which&&(r=!1)}),this._documentKeyUpHandler=a},_addDocumentClick:function(e,t){var i=this,a=n.default.getDocument(),o=function(n){i._isFocusOnEditorParts(e,n.target)||(l.default.trigger(e.find("input"),"change"),t())};l.default.on(a,"dxpointerdown",o),this._documentClickHandler=o},_isFocusOnEditorParts:function(e,i){var a=i||n.default.getActiveElement();return(0,t.default)(a).closest(e.children()).length||(0,t.default)(a).closest(".dx-dropdowneditor-overlay").length},_removeEvents:function(){var e=n.default.getDocument();(0,C.isDefined)(this._documentKeyUpHandler)&&l.default.off(e,"keyup",this._documentKeyUpHandler),(0,C.isDefined)(this._documentClickHandler)&&l.default.off(e,"dxpointerdown",this._documentClickHandler)},_dispose:function(){this._removeEvents(),this.callBase()},_createValueEditorWithEvents:function(e,t,i){var n=this,a=e[2],o=function(){return i.empty(),n._removeEvents(),n._createValueText(e,t,i)},r=function(){n._updateConditionValue(e,a,function(){o()})},u={value:""===a?null:a,filterOperation:_.default.getOperationValue(e),setValue:function(e){a=null===e?"":e},closeEditor:r,text:i.text()};i.empty();var d=this._createValueEditor(i,t,u);l.default.trigger(d.find("input").not(":hidden").eq(0),"focus"),this._removeEvents(),this._addDocumentClick(d,r),this._addDocumentKeyUp(d,function(t){var r=(0,V.normalizeKeyName)(t);if(r===te){if(n._isFocusOnEditorParts(d))return;n._updateConditionValue(e,a,function(){o(),t.shiftKey&&l.default.trigger(i.prev(),"focus")})}r===ne&&l.default.trigger(o(),"focus"),r===ie&&n._updateConditionValue(e,a,function(){l.default.trigger(o(),"focus")})}),this._fireContentReadyAction()},_createValueButton:function(e,i){var n=(0,t.default)("<div>").addClass(N).addClass(L);return this._createValueText(e,i,n),n},_createValueEditor:function(e,i,n){var a=(0,t.default)("<div>").attr("tabindex",0).appendTo(e),o=_.default.getCustomOperation(this._customOperations,n.filterOperation),r=o&&o.editorTemplate?o.editorTemplate:i.editorTemplate;r?this._getTemplate(r).render({model:(0,p.extend)({field:i},n),container:a}):this._editorFactory.createEditor.call(this,a,(0,p.extend)({},i,n,{parentType:Z}));return a},_createPopupWithTreeView:function(e,i){var n=this,a=(0,t.default)("<div>").addClass(e.menu.cssClass).appendTo(i);this._createComponent(a,B.default,{onHiding:e.menu.onHiding,onHidden:e.menu.onHidden,rtlEnabled:e.menu.rtlEnabled,position:e.menu.position,animation:e.menu.animation,contentTemplate:function(i){var a=(0,t.default)("<div>");return n._createComponent(a,O.default,e.menu),a},maxHeight:function(){return(0,E.getElementMaxHeightByWindow)(e.menu.position.of)},visible:!0,focusStateEnabled:!1,closeOnTargetScroll:this.option("closePopupOnTargetScroll"),closeOnOutsideClick:!0,onShown:e.popup.onShown,shading:!1,width:"auto",height:"auto",showTitle:!1})},_subscribeOnClickAndEnterKey:function(e,t){l.default.on(e,"dxclick",t),l.default.on(e,"keyup",function(e){(0,V.normalizeKeyName)(e)===ie&&t(e)})}});(0,c.default)("dxFilterBuilder",ue),module.exports=ue,module.exports.renderValueText=le;
},{"../../core/renderer":"qxFQ","../../core/dom_adapter":"RRDy","../../core/class":"YpjV","../../events/core/events_engine":"oNrb","../widget/ui.widget":"gtOK","../../core/component_registrator":"g3fO","../../core/utils/extend":"ac8T","../../localization/message":"Njcj","./utils":"IDcQ","../../core/utils/deferred":"g5TB","../../core/utils/type":"Mw4w","../tree_view":"Fosu","../popup":"DU0r","../overlay/utils":"yZjR","../shared/ui.editor_factory_mixin":"wkC1","../../events/utils":"cNvJ"}],"D9VB":[function(require,module,exports) {
"use strict";var e=require("../filter_builder/filter_builder"),t=require("../../core/renderer"),r=require("../../localization/message"),i=require("../../core/utils/extend").extend,n=require("../../data/data_source/data_source"),l=require("../../core/utils/deferred"),a=require("../filter_builder/utils");function o(r){var o=function(e,t){return t?t+"/"+e:e},u=r&&r.getController("headerFilter");return{dataTypes:["string","date","datetime","number","boolean","object"],calculateFilterExpression:function(e,t){var r=[],i=e.length-1;return e&&e.forEach(function(e,n){if(a.isCondition(e)||a.isGroup(e)){var l=a.getFilterExpression(e,[t],[],"headerFilter");r.push(l)}else r.push(a.getFilterExpression([t.dataField,"=",e],[t],[],"headerFilter"));n!==i&&r.push("or")}),1===r.length&&(r=r[0]),r},editorTemplate:function(n,l){var a=t("<div>").addClass("dx-filterbuilder-item-value-text").appendTo(l),o=i(!0,{},r.columnOption(n.field.dataField));(0,e.renderValueText)(a,n.text&&n.text.split("|"));return o.filterType="include",o.filterValues=n.value?n.value.slice():[],u.showHeaderFilterMenuBase({columnElement:a,column:o,apply:function(){var e;e=this.filterValues,n.setValue(e),u.hideHeaderFilterMenu(),n.closeEditor()},onHidden:function(){n.closeEditor()},isFilterBuilder:!0}),l},customizeText:function(e){var t=e.value,a=r.columnOption(e.field.dataField),d=a&&a.headerFilter,c=a&&a.lookup;if(d&&d.dataSource||c&&c.dataSource){a=i({},a,{filterType:"include",filterValues:[t]});var s=u.getDataSource(a);s.paginate=!1,(!d||!d.dataSource)&&c.items&&(s.store=c.items);var f=new n.DataSource(s),p=new l.Deferred;return f.load().done(function(e){p.resolve(function e(t,r){var i=[];return t.forEach(function(t){if(t.items){var n=e(t.items,o(t.text,r));i=i.concat(n)}t.selected&&i.push(o(t.text,r))}),i}(e)[0])}),p}return u.getHeaderItemText(t,a,0,r.option("headerFilter"))}}}function u(e){return i(o(e),{name:"anyof",icon:"selectall",caption:r.format("dxFilterBuilder-filterOperationAnyOf")})}function d(e){var t=o(e);return i({},t,{calculateFilterExpression:function(e,r){var i=t.calculateFilterExpression(e,r);return i&&0!==i.length?"!"===i[0]?i:["!",i]:null},name:"noneof",icon:"unselectall",caption:r.format("dxFilterBuilder-filterOperationNoneOf")})}exports.anyOf=u,exports.noneOf=d;
},{"../filter_builder/filter_builder":"VUHQ","../../core/renderer":"qxFQ","../../localization/message":"Njcj","../../core/utils/extend":"ac8T","../../data/data_source/data_source":"SIr7","../../core/utils/deferred":"g5TB","../filter_builder/utils":"IDcQ"}],"q75Z":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/type"),t=require("./ui.grid_core.modules"),i=h(t),r=require("../filter_builder/utils"),n=h(r),l=require("../widget/ui.errors"),o=h(l),a=require("./ui.grid_core.utils"),u=h(a),s=require("../shared/filtering"),c=h(s),f=require("./ui.grid_core.filter_custom_operations"),d=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var p=["=","<>","<","<=",">",">=","notcontains","contains","startswith","endswith","between"],F="include",m="exclude";function y(e){return e.dataField||e.name}function g(t){t.forEach(function(t){var i=y(t);if(!(0,e.isDefined)(i)&&t.allowFiltering)throw new o.default.Error("E1049",t.caption)})}var v=i.default.Controller.inherit(function(){var t=function(){return{filterType:F,filterValues:void 0}},i=function(e){return!(c.default.getGroupInterval(e)||e.headerFilter&&e.headerFilter.dataSource)},r=function(t){var i=t.filterValue;if((0,e.isDefined)(i)){var r=t.selectedFilterOperation||t.defaultFilterOperation||n.default.getDefaultOperation(t);return[y(t),r,t.filterValue]}return null},l=function(e){var t,r,n=e.filterValues;return n?(i(e)&&1===e.filterValues.length&&!Array.isArray(n[0])?(t=e.filterType===m?"<>":"=",r=n[0]):(t=e.filterType===m?"noneof":"anyof",r=n),[y(e),t,r]):null},o=function(e,r,n){var l=function(e,r){if(!e)return t();var n,l=e[1],o=e[2],a=Array.isArray(o);if(!a&&!i(r))return t();switch(l){case"anyof":case"=":n=F;break;case"noneof":case"<>":n=m;break;default:return t()}return{filterType:n,filterValues:a?o:[o]}}(n,r);e.columnOption(y(r),l)},a=function(t,i,r){var n,l=r&&r[1],o=i.filterOperations||i.defaultFilterOperations;(!o||o.indexOf(l)>=0||l===i.defaultFilterOperation)&&p.indexOf(l)>=0?(l!==i.defaultFilterOperation||(0,e.isDefined)(i.selectedFilterOperation)||(l=i.selectedFilterOperation),n={filterValue:r[2],selectedFilterOperation:l}):n={filterValue:void 0,selectedFilterOperation:void 0},t.columnOption(y(i),n)};return{syncFilterValue:function(){var t=this,i=t.getController("columns"),r=i.getFilteringColumns();this._skipSyncColumnOptions=!0,r.forEach(function(r){var l=n.default.getMatchedConditions(t.option("filterValue"),y(r));if(1===l.length){var u=l[0];o(i,r,u),a(i,r,u)}else(0,e.isDefined)(r.filterValues)&&o(i,r),(0,e.isDefined)(r.filterValue)&&a(i,r)}),this._skipSyncColumnOptions=!1},_initSync:function(){var e=this.getController("columns").getColumns(),t=this.getController("data"),i=t.pageIndex();if(g(e),!this.option("filterValue")){var r=this.getController("columns").getFilteringColumns(),n=this.getFilterValueFromColumns(r);this.option("filterValue",n)}this.syncFilterValue(),t.pageIndex(i)},init:function(){var e=this,t=this.getController("data");t.isFilterSyncActive()&&(this.getController("columns").isAllDataTypesDefined()?this._initSync():t.dataSourceChanged.add(function(){return e._initSync()}))},_getSyncFilterRow:function(t,i){var l=r(i);return(0,e.isDefined)(l)?n.default.syncFilters(t,l):n.default.removeFieldConditionsFromFilter(t,y(i))},_getSyncHeaderFilter:function(e,t){var i=l(t);return i?n.default.syncFilters(e,i):n.default.removeFieldConditionsFromFilter(e,y(t))},getFilterValueFromColumns:function(e){if(!this.getController("data").isFilterSyncActive())return null;var t=["and"];return e&&e.forEach(function(e){var i=l(e),o=r(e);i&&n.default.addItem(i,t),o&&n.default.addItem(o,t)}),n.default.getNormalizedFilter(t)},syncFilterRow:function(e,t){this.option("filterValue",this._getSyncFilterRow(this.option("filterValue"),e))},syncHeaderFilter:function(e){this.option("filterValue",this._getSyncHeaderFilter(this.option("filterValue"),e))},getCustomFilterOperations:function(){var e=this.option("filterBuilder.customOperations")||[];return[d.default.anyOf(this.component),d.default.noneOf(this.component)].concat(e)},publicMethods:function(){return["getCustomFilterOperations"]}}}()),C={isFilterSyncActive:function(){var e=this.option("filterSyncEnabled");return"auto"===e?this.option("filterPanel.visible"):e},skipCalculateColumnFilters:function(){return(0,e.isDefined)(this.option("filterValue"))&&this.isFilterSyncActive()},_calculateAdditionalFilter:function(){if(!1===this.option("filterPanel.filterEnabled"))return this.callBase();var e=[this.callBase()],t=this.getController("columns").getFilteringColumns(),i=this.option("filterValue");if(this.isFilterSyncActive()){var r=this.getController("headerFilter").getCurrentColumn();r&&i&&(i=n.default.removeFieldConditionsFromFilter(i,y(r)))}var l=this.getController("filterSync").getCustomFilterOperations(),o=n.default.getFilterExpression(i,t,l,"filterBuilder");return o&&e.push(o),u.default.combineFilters(e)},_parseColumnPropertyName:function(e){return e.match(/.*\.(.*)/)[1]},clearFilter:function(e){this.component.beginUpdate(),arguments.length>0?("filterValue"===e&&this.option("filterValue",null),this.callBase(e)):(this.option("filterValue",null),this.callBase()),this.component.endUpdate()},optionChanged:function(e){switch(e.name){case"filterValue":this._applyFilter(),this.isFilterSyncActive()&&this.getController("filterSync").syncFilterValue(),e.handled=!0;break;case"filterSyncEnabled":e.handled=!0;break;case"columns":if(this.isFilterSyncActive()){var t=this.getController("columns").getColumnByPath(e.fullName),i=this.getController("filterSync");if(t&&!i._skipSyncColumnOptions){var r=this._parseColumnPropertyName(e.fullName);i._skipSyncColumnOptions=!0,"filterType"===r?m!==e.value&&m!==e.previousValue||i.syncHeaderFilter(t):"filterValues"===r?i.syncHeaderFilter(t):["filterValue","selectedFilterOperation"].indexOf(r)>-1&&i.syncFilterRow(t,t.filterValue),i._skipSyncColumnOptions=!1}}this.callBase(e);break;default:this.callBase(e)}}},V={_isHeaderFilterEmpty:function(e){return this.getController("data").isFilterSyncActive()?!n.default.filterHasField(this.option("filterValue"),y(e)):this.callBase(e)},_needUpdateFilterIndicators:function(){return!this.getController("data").isFilterSyncActive()},optionChanged:function(e){"filterValue"===e.name?this._updateHeaderFilterIndicators():this.callBase(e)}};module.exports={defaultOptions:function(){return{filterValue:null,filterSyncEnabled:"auto"}},controllers:{filterSync:v},extenders:{controllers:{data:C},views:{columnHeadersView:V}}};
},{"../../core/utils/type":"Mw4w","./ui.grid_core.modules":"vXU0","../filter_builder/utils":"IDcQ","../widget/ui.errors":"RFsS","./ui.grid_core.utils":"kk68","../shared/filtering":"gV8h","./ui.grid_core.filter_custom_operations":"D9VB"}],"e4vO":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),r=u(e),i=require("../grid_core/ui.grid_core.filter_sync"),t=u(i);function u(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("filterSync",t.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.filter_sync":"q75Z"}],"dsob":[function(require,module,exports) {
"use strict";module.exports=require("./filter_builder/filter_builder"),module.exports.default=module.exports;
},{"./filter_builder/filter_builder":"VUHQ"}],"nsbB":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=c(e),i=require("./ui.grid_core.modules"),r=c(i),l=require("../../core/utils/extend"),o=require("./../filter_builder"),u=c(o),a=require("../../localization/message"),n=c(a),d=require("./../scroll_view"),f=c(d),p=require("./../popup"),s=c(p),B=require("../shared/accessibility");function c(e){return e&&e.__esModule?e:{default:e}}var m=r.default.View.inherit({_renderCore:function(){this._updatePopupOptions()},_updatePopupOptions:function(){this.option("filterBuilderPopup.visible")?this._initPopup():this._filterBuilderPopup&&this._filterBuilderPopup.hide()},_disposePopup:function(){this._filterBuilderPopup&&(this._filterBuilderPopup.dispose(),this._filterBuilderPopup=void 0),this._filterBuilder&&(this._filterBuilder.dispose(),this._filterBuilder=void 0)},_initPopup:function(){var e=this;e._disposePopup(),e._filterBuilderPopup=e._createComponent(e.element(),s.default,(0,l.extend)({title:n.default.format("dxDataGrid-filterBuilderPopupTitle"),contentTemplate:function(t){return e._getPopupContentTemplate(t)},onOptionChanged:function(t){"visible"===t.name&&e.option("filterBuilderPopup.visible",t.value)},toolbarItems:e._getPopupToolbarItems()},e.option("filterBuilderPopup"),{onHidden:function(t){(0,B.restoreFocus)(e),e._disposePopup()}}))},_getPopupContentTemplate:function(e){var i=(0,t.default)(e),r=(0,t.default)("<div>").appendTo((0,t.default)(e));this._filterBuilder=this._createComponent(r,u.default,(0,l.extend)({value:this.option("filterValue"),fields:this.getController("columns").getFilteringColumns()},this.option("filterBuilder"),{customOperations:this.getController("filterSync").getCustomFilterOperations()})),this._createComponent(i,f.default,{direction:"both"})},_getPopupToolbarItems:function(){var e=this;return[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:n.default.format("OK"),onClick:function(t){var i=e._filterBuilder.option("value");e.option("filterValue",i),e._filterBuilderPopup.hide()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:n.default.format("Cancel"),onClick:function(t){e._filterBuilderPopup.hide()}}}]},optionChanged:function(e){switch(e.name){case"filterBuilder":case"filterBuilderPopup":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}}});module.exports={defaultOptions:function(){return{filterBuilder:{groupOperationDescriptions:{and:n.default.format("dxFilterBuilder-and"),or:n.default.format("dxFilterBuilder-or"),notAnd:n.default.format("dxFilterBuilder-notAnd"),notOr:n.default.format("dxFilterBuilder-notOr")},filterOperationDescriptions:{between:n.default.format("dxFilterBuilder-filterOperationBetween"),equal:n.default.format("dxFilterBuilder-filterOperationEquals"),notEqual:n.default.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:n.default.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:n.default.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:n.default.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:n.default.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:n.default.format("dxFilterBuilder-filterOperationStartsWith"),contains:n.default.format("dxFilterBuilder-filterOperationContains"),notContains:n.default.format("dxFilterBuilder-filterOperationNotContains"),endsWith:n.default.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:n.default.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:n.default.format("dxFilterBuilder-filterOperationIsNotBlank")}},filterBuilderPopup:{}}},views:{filterBuilderView:m}};
},{"../../core/renderer":"qxFQ","./ui.grid_core.modules":"vXU0","../../core/utils/extend":"ac8T","./../filter_builder":"dsob","../../localization/message":"Njcj","./../scroll_view":"uBrF","./../popup":"DU0r","../shared/accessibility":"sH3F"}],"qVZ7":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),r=t(e),i=require("../grid_core/ui.grid_core.filter_builder"),u=t(i);function t(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("filterBuilder",u.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.filter_builder":"nsbB"}],"EkZR":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=_(e),i=require("../../core/utils/type"),r=require("./ui.grid_core.modules"),n=_(r),l=require("./ui.grid_core.utils"),a=_(l),o=require("../../events/core/events_engine"),u=_(o),d=require("../../localization/message"),s=_(d),f=require("../check_box"),c=_(f),p=require("../filter_builder/utils"),g=_(p),h=require("../../core/utils/deferred"),x=require("../../core/utils/inflector"),v=_(x),m=require("./ui.grid_core.accessibility");function _(e){return e&&e.__esModule?e:{default:e}}var C="filter-panel",b=C+"-text",T=C+"-checkbox",P=C+"-clear-filter",E=C+"-left",F="filterPanel",y=n.default.View.inherit({isVisible:function(){return this.option("filterPanel.visible")&&this.getController("data").dataSource()},init:function(){var e=this;this.getController("data").dataSourceChanged.add(function(){return e.render()})},_renderCore:function(){var e,i=this.element();i.empty().addClass(this.addWidgetPrefix(C)),e=(0,t.default)("<div>").addClass(this.addWidgetPrefix(E)).appendTo(i),this.option("filterValue")||this._filterValueBuffer?(e.append(this._getCheckElement()).append(this._getFilterElement()).append(this._getTextElement()),i.append(this._getRemoveButtonElement())):e.append(this._getFilterElement()).append(this._getTextElement())},_getCheckElement:function(){var e=this,i=(0,t.default)("<div>").addClass(this.addWidgetPrefix(T));return e._createComponent(i,c.default,{value:e.option("filterPanel.filterEnabled"),onValueChanged:function(t){e.option("filterPanel.filterEnabled",t.value)}}),i.attr("title",this.option("filterPanel.texts.filterEnabledHint")),i},_getFilterElement:function(){var e=this,i=(0,t.default)("<div>").addClass("dx-icon-filter");return u.default.on(i,"click",function(){return e._showFilterBuilder()}),(0,m.registerKeyboardAction)("filterPanel",e,i,void 0,function(){return e._showFilterBuilder()}),e._addTabIndexToElement(i),i},_getTextElement:function(){var e,i=this,r=(0,t.default)("<div>").addClass(i.addWidgetPrefix(b)),n=i.option("filterValue");return n?(0,h.when)(i.getFilterText(n,i.getController("filterSync").getCustomFilterOperations())).done(function(e){var t=i.option("filterPanel.customizeText");if(t){var l=t({component:i.component,filterValue:n,text:e});"string"==typeof l&&(e=l)}r.text(e)}):(e=i.option("filterPanel.texts.createFilter"),r.text(e)),u.default.on(r,"click",function(){return i._showFilterBuilder()}),(0,m.registerKeyboardAction)("filterPanel",i,r,void 0,function(){return i._showFilterBuilder()}),i._addTabIndexToElement(r),r},_showFilterBuilder:function(){this.option("filterBuilderPopup.visible",!0)},_getRemoveButtonElement:function(){var e=this,i=function(){return e.option("filterValue",null)},r=(0,t.default)("<div>").addClass(e.addWidgetPrefix(P)).text(e.option("filterPanel.texts.clearFilter"));return u.default.on(r,"click",i),(0,m.registerKeyboardAction)("filterPanel",this,r,void 0,i),e._addTabIndexToElement(r),r},_addTabIndexToElement:function(e){if(!this.option("useLegacyKeyboardNavigation")){var t=this.option("tabindex")||0;e.attr("tabindex",t)}},optionChanged:function(e){switch(e.name){case"filterValue":this._invalidate(),this.option("filterPanel.filterEnabled",!0),e.handled=!0;break;case"filterPanel":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}},_getConditionText:function(e,t,r){var n="["+e+"] "+t;return(0,i.isDefined)(r)&&(n+=r),n},_getValueMaskedText:function(e){return Array.isArray(e)?"('"+e.join("', '")+"')":" '"+e+"'"},_getValueText:function(e,t,r){var n=this,l=new h.Deferred,o=t&&t.customizeText;if((0,i.isDefined)(r)||o)if(!o&&e.lookup)g.default.getCurrentLookupValueText(e,r,function(e){l.resolve(n._getValueMaskedText(e))});else{var u=Array.isArray(r)?r:a.default.getDisplayValue(e,r);(0,h.when)(g.default.getCurrentValueText(e,u,t,F)).done(function(e){l.resolve(n._getValueMaskedText(e))})}else l.resolve("");return l.promise()},getConditionText:function(e,t){var i,r=this,n=e[1],l=new h.Deferred,a=g.default.getCustomOperation(t.customOperations,n),o=g.default.getField(e[0],t.columns),u=o.caption||"",d=e[2];return i=a?a.caption||v.default.captionize(a.name):null===d?g.default.getCaptionByOperation("="===n?"isblank":"isnotblank",t.filterOperationDescriptions):g.default.getCaptionByOperation(n,t.filterOperationDescriptions),this._getValueText(o,a,d).done(function(e){l.resolve(r._getConditionText(u,i,e))}),l},getGroupText:function(e,t,i){var r=this,n=new h.Deferred,l=[],a=g.default.getGroupValue(e);return e.forEach(function(e){g.default.isCondition(e)?l.push(r.getConditionText(e,t)):g.default.isGroup(e)&&l.push(r.getGroupText(e,t,!0))}),h.when.apply(this,l).done(function(){for(var e=arguments.length,r=Array(e),l=0;l<e;l++)r[l]=arguments[l];var o=void 0;"!"===a[0]?o=t.groupOperationDescriptions["not"+a.substring(1,2).toUpperCase()+a.substring(2)].split(" ")[0]+" "+r[0]:o=r.join(" "+t.groupOperationDescriptions[a]+" ");i&&(o="("+o+")"),n.resolve(o)}),n},getFilterText:function(e,t){var i={customOperations:t,columns:this.getController("columns").getFilteringColumns(),filterOperationDescriptions:this.option("filterBuilder.filterOperationDescriptions"),groupOperationDescriptions:this.option("filterBuilder.groupOperationDescriptions")};return g.default.isCondition(e)?this.getConditionText(e,i):this.getGroupText(e,i)}});module.exports={defaultOptions:function(){return{filterPanel:{visible:!1,filterEnabled:!0,texts:{createFilter:s.default.format("dxDataGrid-filterPanelCreateFilter"),clearFilter:s.default.format("dxDataGrid-filterPanelClearFilter"),filterEnabledHint:s.default.format("dxDataGrid-filterPanelFilterEnabledHint")}}}},views:{filterPanelView:y},extenders:{controllers:{data:{optionChanged:function(e){switch(e.name){case"filterPanel":this._applyFilter(),e.handled=!0;break;default:this.callBase(e)}}}}}};
},{"../../core/renderer":"qxFQ","../../core/utils/type":"Mw4w","./ui.grid_core.modules":"vXU0","./ui.grid_core.utils":"kk68","../../events/core/events_engine":"oNrb","../../localization/message":"Njcj","../check_box":"LByi","../filter_builder/utils":"IDcQ","../../core/utils/deferred":"g5TB","../../core/utils/inflector":"i2nR","./ui.grid_core.accessibility":"pZep"}],"MRfX":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),r=u(e),i=require("../grid_core/ui.grid_core.filter_panel"),t=u(i);function u(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("filterPanel",t.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.filter_panel":"EkZR"}],"X1dH":[function(require,module,exports) {
"use strict";var e=require("../core/renderer"),t=require("../events/core/events_engine"),i=require("../core/class"),a=require("../core/utils/string"),s=require("../core/component_registrator"),n=require("../core/utils/common"),o=require("../core/utils/iterator").each,d=require("../core/utils/type"),r=require("../core/utils/extend").extend,h=require("../events/click"),p=require("../events/pointer"),g=require("../localization/message"),l=require("./widget/ui.widget"),u=require("./select_box"),_=require("./number_box"),c=require("../events/utils"),f=require("./shared/accessibility"),v=4,x="dx-pager",C="dx-page",P="."+C,b="dx-pages",m="dx-light-mode",S="dx-light-pages",$="dx-page-index",z="dx-pages-count",I="dx-selection",w="dx-separator",W="dx-page-sizes",N="dx-page-size",T="."+N,E="dx-navigate-button",M="dx-prev-button",y="dx-next-button",q="dx-info",L="dx-info-text",A="dx-button-disable",B=i.inherit({ctor:function(t,i){this.index=i,this._$page=e("<div>").text(t).addClass(C)},value:function(e){if(!d.isDefined(e)){var t=this._$page.text();return d.isNumeric(t)?parseInt(t):t}this._$page.text(e)},element:function(){return this._$page},select:function(e){this._$page.toggleClass(I,e)},render:function(e,t){t?this._$page.prependTo(e):this._$page.appendTo(e)}}),H=l.inherit({_getDefaultOptions:function(){return r(this.callBase(),{visible:!0,pagesNavigatorVisible:"auto",pageIndex:1,maxPagesCount:10,pageCount:10,totalCount:0,pageSize:5,showPageSizes:!0,pageSizes:[5,10],hasKnownLastPage:!0,showNavigationButtons:!1,showInfo:!1,infoText:g.getFormatter("dxPager-infoText"),pagesCountText:g.getFormatter("dxPager-pagesCountText"),rtlEnabled:!1,lightModeEnabled:!1,pageIndexChanged:n.noop,pageSizeChanged:n.noop})},_toggleVisibility:function(e){var t=this.$element();t&&t.css("display",e?"":"none")},_getPages:function(e,t){var i,a,s=[],n=!this.option("hasKnownLastPage");if(t>0||n)if(t<=this.option("maxPagesCount")){for(a=1;a<=t;a++)s.push(new B(a,a-1));n&&s.push(new B(">",a-1))}else{for(s.push(new B(1,0)),i=e?e.value()-e.index:1,a=1;a<=v;a++)s.push(new B(i+a,a));s.push(new B(t,v+1)),n&&s.push(new B(">",v+1))}return s},_getPageByValue:function(e){var t,i;for(i=0;i<this._pages.length;i++)if((t=this._pages[i]).value()===e)return t},_processSelectedPage:function(e,t,i){var a,s=!1;this._pages&&(o(this._pages,function(e,i){t===i.value()&&(s=!0)}),s||(this.selectedPage=null)),d.isDefined(this.selectedPage)?t===i&&i>e&&this.selectedPage.index!==v+1&&(this.selectedPage.index=v+1):t>v&&t<i&&(a=i-v<t?v-(i-t)+1:2,this.selectedPage=new B(t,a))},_selectPageByValue:function(e){var t,i,a,s,n=this._getPageByValue(e),o=this._pages,r=o.length;if(d.isDefined(n)){if(i=this._pages[n.index-1],(a=this._pages[n.index+1])&&">"===a.value()&&(s=a,a=void 0,r--,o.pop()),this.selectedPage&&this.selectedPage.select(!1),n.select(!0),this.selectedPage=n,a&&a.value()-e>1)if(0!==n.index)for(i.value(e+1),this._pages.splice(n.index,1),this._pages.splice(n.index-1,0,n),this._pages[n.index].index=n.index,n.index=n.index-1,t=n.index-1;t>0;t--)this._pages[t].value(this._pages[t+1].value()-1);else for(t=0;t<r-1;t++)this._pages[t].value(t+1);if(i&&e-i.value()>1)if(n.index!==r-1)for(a.value(e-1),this._pages.splice(n.index,1),this._pages.splice(n.index+1,0,n),this._pages[n.index].index=n.index,n.index=n.index+1,t=n.index+1;t<r-1;t++)this._pages[t].value(this._pages[t-1].value()+1);else for(t=1;t<=r-2;t++)this._pages[r-1-t].value(this._pages[r-1].value()-t);s&&o.push(s)}},_updatePagesTabIndices:function(){var i=this,a=this.selectedPage._$page;t.on(a,"focus",function s(){var n=e(i.element()).find("[role=button]:not(.dx-button-disable)");o(n,function(t,i){return e(i).attr("tabindex",0)}),t.off(a,"focus",s)})},_nextPage:function(e){var t=this.option("pageIndex"),i=this.option("pageCount");d.isDefined(t)&&(t="next"===e?++t:--t)>0&&t<=i&&this.option("pageIndex",t)},_wrapClickAction:function(e){var t=this;return function(i){if("dxpointerup"===i.type)t._pointerUpHappened=!0;else if(t._pointerUpHappened)return void(t._pointerUpHappened=!1);e({event:i})}},_renderPages:function(i){var a,s,n=this,o=i.length,d=n._createAction(function(t){var i=t.event,a=e(i.target).text(),s=">"===a?n.option("pageCount")+1:Number(a);n.option("pageIndex",s)});o>1&&(n._pageClickHandler=this._wrapClickAction(d),t.on(n._$pagesChooser,c.addNamespace([p.up,h.name],n.Name+"Pages"),P,n._pageClickHandler),f.registerKeyboardAction("pager",n,n._$pagesChooser,P,d));for(var r=0;r<o;r++)(s=i[r]).render(n._$pagesChooser,n.option("rtlEnabled")),n.setAria({role:"button",label:"Page "+s.value()},s.element()),f.setTabIndex(n,s.element()),i[r+1]&&i[r+1].value()-s.value()>1&&(a=e("<div>").text(". . .").addClass(w),n.option("rtlEnabled")?a.prependTo(n._$pagesChooser):a.appendTo(n._$pagesChooser))},_calculateLightPagesWidth:function(e,t){return Number(e.css("minWidth").replace("px",""))+10*t.toString().length},_renderLightPages:function(){var i,a,s=this,n=this.option("pageCount"),o=this.option("pageIndex"),d=s._createAction(function(){s.option("pageIndex",n)}),r=this.option("pagesCountText"),p=e("<div>").addClass(S).appendTo(this._$pagesChooser);a=e("<div>").addClass($).appendTo(p),s._pageIndexEditor=s._createComponent(a,_,{value:o,min:1,max:n,width:s._calculateLightPagesWidth(a,n),onValueChanged:function(e){s.option("pageIndex",e.value)}}),e("<span>").text(r).addClass(L+" "+q).appendTo(p),i=e("<span>").addClass(z).text(n),t.on(i,c.addNamespace(h.name,s.Name+"PagesCount"),function(e){d({event:e})}),f.registerKeyboardAction("pager",s,i,void 0,d),i.appendTo(p),s.setAria({role:"button",label:"Navigates to the last page"},i)},_renderPagesChooser:function(){var t=this.option("lightModeEnabled"),i=this.option("pagesNavigatorVisible"),a=this.$element();this._$pagesChooser&&this._$pagesChooser.remove(),i&&(this._pages&&0===this._pages.length?this.selectedPage=null:(this._$pagesChooser=e("<div>").addClass(b).appendTo(a),"auto"===i&&this._$pagesChooser.css("visibility",1===this.option("pageCount")?"hidden":""),t||this._renderInfo(),this._renderNavigateButton("prev"),t?this._renderLightPages():this._renderPages(this._pages),this._renderNavigateButton("next"),this._updatePagesChooserWidth()))},_renderPageSizes:function(){var i,a,s,n=this,o=n.option("pageSizes"),d=o&&o.length,r=n.option("pageSize"),p=n._createAction(function(t){var i=t.event;a=parseInt(e(i.target).text()),n.option("pageSize",a)});for(t.on(n._$pagesSizeChooser,c.addNamespace(h.name,n.Name+"PageSize"),T,function(e){p({event:e})}),f.registerKeyboardAction("pager",n,n._$pagesSizeChooser,T,p),i=0;i<d;i++)s=e("<div>").text(o[i]).addClass(N),n.setAria({role:"button",label:"Display "+o[i]+" items on page"},s),f.setTabIndex(n,s),r===o[i]&&s.addClass(I),n._$pagesSizeChooser.append(s)},_calculateLightPageSizesWidth:function(e){return Number(this._$pagesSizeChooser.css("minWidth").replace("px",""))+10*Math.max.apply(Math,e).toString().length},_renderLightPageSizes:function(){var t,i=this,a=i.option("pageSizes");t=e("<div>").appendTo(i._$pagesSizeChooser),i._pageSizeEditor=i._createComponent(t,u,{dataSource:a,value:i.option("pageSize"),onSelectionChanged:function(e){i.option("pageSize",e.selectedItem)},width:i._calculateLightPageSizesWidth(a)})},_renderPagesSizeChooser:function(){var t=this.option("pageSizes"),i=this.option("showPageSizes"),a=t&&t.length,s=this.$element();this._$pagesSizeChooser&&this._$pagesSizeChooser.remove(),i&&a&&(this._$pagesSizeChooser=e("<div>").addClass(W).appendTo(s),this.option("lightModeEnabled")?this._renderLightPageSizes():this._renderPageSizes(),this._pagesSizeChooserWidth=this._$pagesSizeChooser.width())},_renderInfo:function(){var t=this.option("infoText");this.option("showInfo")&&d.isDefined(t)&&(this._$info=e("<div>").css("display",this._isInfoHide?"none":"").addClass(q).text(a.format(t,this.selectedPage&&this.selectedPage.value(),this.option("pageCount"),this.option("totalCount"))).appendTo(this._$pagesChooser),this._isInfoHide||(this._infoWidth=this._$info.outerWidth(!0)))},_renderNavigateButton:function(i){var a,s=this,n=s._createAction(function(){s._nextPage(i)});(s.option("showNavigationButtons")||s.option("lightModeEnabled"))&&(a=e("<div>").addClass(E),t.on(a,c.addNamespace([p.up,h.name],s.Name+"Pages"),s._wrapClickAction(n)),f.registerKeyboardAction("pager",s,a,void 0,n),s.setAria({role:"button",label:"prev"===i?"Previous page":" Next page"},a),f.setTabIndex(s,a),s.option("rtlEnabled")?(a.addClass("prev"===i?y:M),a.prependTo(this._$pagesChooser)):(a.addClass("prev"===i?M:y),a.appendTo(this._$pagesChooser)))},_renderContentImpl:function(){this.$element().toggleClass(m,this.option("lightModeEnabled")),this._toggleVisibility(this.option("visible")),this._updatePageSizes(!0),this._updatePages(!0),f.restoreFocus(this)},_initMarkup:function(){var t=this.$element();t.addClass(x);var i=e("<div>").addClass(C);this._$pagesChooser=e("<div>").addClass(b).append(i).appendTo(t)},_render:function(){this.option().lightModeEnabled=!1,this.callBase(),this._updateLightMode()},_updatePageSizes:function(e){var t=this.option("lightModeEnabled"),i=this.option("pageSize"),a=this.option("pageSizes");t&&this._pageSizeEditor&&this._pageSizeEditor.option({value:i,dataSource:a,width:this._calculateLightPageSizesWidth(a)}),t&&!e||this._renderPagesSizeChooser()},_updatePages:function(e){var t=this.option("pageCount"),i=this.option("pageIndex"),a=this.option("lightModeEnabled");a?this._pageIndexEditor&&this._pageIndexEditor.option({value:i,width:this._calculateLightPagesWidth(this._pageIndexEditor.$element(),t)}):(this._processSelectedPage(this.option("maxPagesCount"),i,t),this._pages=this._getPages(this.selectedPage,t),this._selectPageByValue(i)),a&&!e||this._renderPagesChooser(),this._updateButtonsState(i)},_isPageIndexInvalid:function(e,t){var i="next"===e,a=this.option("rtlEnabled");return a&&i||!a&&!i?t<=1:t>=this.option("pageCount")},_updateButtonsState:function(e){var t=this.$element().find("."+y),i=this.$element().find("."+M);t.toggleClass(A,this._isPageIndexInvalid("next",e)),i.toggleClass(A,this._isPageIndexInvalid("prev",e))},_optionChanged:function(e){switch(e.name){case"visible":this._toggleVisibility(e.value);break;case"pageIndex":var t=this.option("pageIndexChanged");t&&t(e.value),this._updatePages();break;case"maxPagesCount":case"pageCount":case"totalCount":case"hasKnownLastPage":case"pagesNavigatorVisible":case"showNavigationButtons":this._updatePages();break;case"pageSize":var i=this.option("pageSizeChanged");i&&i(e.value),this._updatePageSizes();break;case"pageSizes":this._updatePageSizes();break;case"lightModeEnabled":this._renderContentImpl(),!e.value&&this._updateLightMode();break;default:this._invalidate()}},_clean:function(){this._$pagesChooser&&(t.off(this._$pagesChooser,c.addNamespace([p.up,h.name],this.Name+"Pages"),P,this._pageClickHandler),f.registerKeyboardAction("pager",this,this._$pagesChooser,P,this._pageKeyDownHandler)),this.callBase()},_getMinPagerWidth:function(){return(d.isDefined(this._pagesChooserWidth)?this._pagesChooserWidth:0)+(d.isDefined(this._pagesSizeChooserWidth)?this._pagesSizeChooserWidth:0)},_updatePagesChooserWidth:n.deferUpdater(function(){var e=this._pages&&this._pages.length>0?this._pages[this._pages.length-1]._$page.width():0;this._pagesChooserWidth=this._$pagesChooser.width()+e}),_updateLightMode:n.deferUpdater(function(){var e=this,t=this.$element().width(),i=d.isDefined(this._infoWidth)?this._infoWidth:0;n.deferRender(function(){e._isInfoHide&&t>e._getMinPagerWidth()+i&&(e._$info.show(),e._updatePagesChooserWidth(),e._isInfoHide=!1),!e._isInfoHide&&t>e._getMinPagerWidth()-i&&t<e._getMinPagerWidth()&&(e._$info.hide(),e._updatePagesChooserWidth(),e._isInfoHide=!0),n.deferUpdate(function(){n.deferRender(function(){e.option("lightModeEnabled")&&t>e._previousWidth?e.option("lightModeEnabled",!1):t<e._getMinPagerWidth()&&e.option("lightModeEnabled",!0),e._previousWidth=t})})})}),_dimensionChanged:function(){this._updateLightMode()},getHeight:function(){return this.option("visible")?this.$element().outerHeight():0}});module.exports=H,s("dxPager",H);
},{"../core/renderer":"qxFQ","../events/core/events_engine":"oNrb","../core/class":"YpjV","../core/utils/string":"X4J5","../core/component_registrator":"g3fO","../core/utils/common":"GcQA","../core/utils/iterator":"FHcO","../core/utils/type":"Mw4w","../core/utils/extend":"ac8T","../events/click":"RTmy","../events/pointer":"HDhW","../localization/message":"Njcj","./widget/ui.widget":"gtOK","./select_box":"hndn","./number_box":"n0cg","../events/utils":"cNvJ","./shared/accessibility":"sH3F"}],"aJnU":[function(require,module,exports) {
"use strict";var e=require("./ui.grid_core.modules"),t=r(e),i=require("../pager"),a=r(i),n=require("../../core/utils/array"),o=require("../../core/utils/type"),s=require("../../core/utils/window");function r(e){return e&&e.__esModule?e:{default:e}}var g="pager",u=10,l=t.default.View.inherit({init:function(){var e=this,t=e.getController("data");e._isVisible=!1,t.changed.add(function(i){if(i&&i.repaintChangesOnly){var a=e._getPager();a?a.option({pageCount:t.pageCount(),totalCount:t.totalCount(),hasKnownLastPage:t.hasKnownLastPage()}):e.render()}else(!i||"update"!==i.changeType&&"updateSelection"!==i.changeType)&&e.render()})},_getPager:function(){var e=this.element();return e&&e.data("dxPager")},_renderCore:function(){var e=this.element().addClass(this.addWidgetPrefix(g)),t=this.option("pager")||{},i=this.getController("data"),n=this.getController("keyboardNavigation"),s={maxPagesCount:u,pageIndex:1+(parseInt(i.pageIndex())||0),pageCount:i.pageCount(),pageSize:i.pageSize(),showPageSizes:t.showPageSizeSelector,showInfo:t.showInfo,pagesNavigatorVisible:t.visible,showNavigationButtons:t.showNavigationButtons,pageSizes:this.getPageSizes(),totalCount:i.totalCount(),hasKnownLastPage:i.hasKnownLastPage(),pageIndexChanged:function(e){i.pageIndex()!==e-1&&setTimeout(function(){i.pageIndex(e-1)})},pageSizeChanged:function(e){setTimeout(function(){i.pageSize(e)})},onKeyDown:function(e){return n&&n.executeAction("onKeyDown",e)},useLegacyKeyboardNavigation:this.option("useLegacyKeyboardNavigation"),useKeyboard:this.option("keyboardNavigation.enabled")};(0,o.isDefined)(t.infoText)&&(s.infoText=t.infoText),this._createComponent(e,a.default,s)},getPageSizes:function(){var e=this.getController("data"),t=this.option("pager"),i=t&&t.allowedPageSizes,a=e.pageSize();return(0,o.isDefined)(this._pageSizes)&&-1!==(0,n.inArray)(a,this._pageSizes)||(this._pageSizes=[],t&&(Array.isArray(i)?this._pageSizes=i:i&&a>1&&(this._pageSizes=[Math.floor(a/2),a,2*a]))),this._pageSizes},isVisible:function(){var e=this.getController("data"),t=this.option("pager"),i=t&&t.visible,a=this.option("scrolling");return!!this._isVisible||("auto"===i&&(i=(!a||"virtual"!==a.mode&&"infinite"!==a.mode)&&(e.pageCount()>1||e.isLoaded()&&!e.hasKnownLastPage())),this._isVisible=i,i)},getHeight:function(){return this.getElementHeight()},optionChanged:function(e){var t=e.name,i="pager"===t,a="paging"===t,n="dataSource"===t,o="scrolling"===t,r=this.getController("data");if(i||a||o||n){if(e.handled=!0,r.skipProcessingPagingChange(e.fullName))return;(i||a)&&(this._pageSizes=null),(i||a||o)&&(this._isVisible=!1),n||(this._invalidate(),(0,s.hasWindow)()&&i&&this.component&&this.component.resize())}}});module.exports={defaultOptions:function(){return{pager:{visible:"auto",showPageSizeSelector:!1,allowedPageSizes:"auto"}}},views:{pagerView:l}};
},{"./ui.grid_core.modules":"vXU0","../pager":"X1dH","../../core/utils/array":"uivT","../../core/utils/type":"Mw4w","../../core/utils/window":"NXH3"}],"bZlc":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),r=t(e),u=require("../grid_core/ui.grid_core.pager"),i=t(u);function t(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("pager",i.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.pager":"aJnU"}],"hMXi":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=R(e),i=require("../../core/dom_adapter"),n=R(i),o=require("../../events/core/events_engine"),s=R(o),r=require("../../core/utils/callbacks"),a=R(r),l=require("../../core/utils/type"),d=R(l),u=require("../../core/utils/iterator"),c=require("../../core/utils/extend"),h=require("../../events/utils"),g=require("../../events/pointer"),m=R(g),f=require("../../events/drag"),_=R(f),p=require("./ui.grid_core.modules"),w=R(p),C=require("./ui.grid_core.utils"),b=R(C),v=require("../../animation/fx"),V=R(v),x=require("../widget/swatch_container");function R(e){return e&&e.__esModule?e:{default:e}}var H="columns-separator",P="columns-separator-transparent",S="drag-header",y="text-content",z="drag-action",I="tracker",B="drop-highlight",k="dx-block-separator",E="dx-header-row",T="dx-widget",D="dx-drag-command-cell",O="dxDataGridResizingReordering",W=10,N=5,L=.5,F=function(e){return e.option("allowColumnResizing")||e.getController("columns").isColumnOptionUsed("allowResizing")},q=function(e){return e.option("allowColumnReordering")||e.getController("columns").isColumnOptionUsed("allowReordering")},A=w.default.View.inherit({_renderCore:function(){this.callBase(),this.element().addClass(this.addWidgetPrefix(I)),this.hide()},_unsubscribeFromCallback:function(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)},_subscribeToCallback:function(){var e=this;e._positionChanged=function(t){var i=e.element();i&&i.hasClass(e.addWidgetPrefix(I))&&(i.css({top:t.top}),i.height(t.height))},this._tablePositionController.positionChanged.add(e._positionChanged)},optionChanged:function(e){"allowColumnResizing"===e.name&&(this._unsubscribeFromCallback(),e.value&&(this._subscribeToCallback(),this._invalidate())),this.callBase(e)},init:function(){this.callBase(),this._tablePositionController=this.getController("tablePosition"),this._subscribeToCallback()},isVisible:function(){return F(this)},show:function(){this.element().show()},hide:function(){this.element()&&this.element().hide()},setHeight:function(e){this.element().height(e)},dispose:function(){this._unsubscribeFromCallback(),this.callBase()}}),X=w.default.View.inherit({_renderSeparator:function(){},_renderCore:function(e){this.callBase(e),this._isShown=!0,this._renderSeparator(),this.hide()},show:function(){this._isShown=!0},hide:function(){this._isShown=!1},height:function(e){var t=this.element();if(t){if(!d.default.isDefined(e))return t.height();t.height(e)}},width:function(e){var t=this.element();if(t){if(!d.default.isDefined(e))return t.width();t.width(e)}}}),M=X.inherit({_renderSeparator:function(){this.callBase(),this.element().addClass(this.addWidgetPrefix(H))},_subscribeToCallback:function(){var e,t=this;t._positionChanged=function(i){(e=t.element())&&(e.css({top:i.top}),e.height(i.height))},t._tablePositionController.positionChanged.add(t._positionChanged)},_unsubscribeFromCallback:function(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)},_init:function(){this._isTransparent=F(this),this.isVisible()&&this._subscribeToCallback()},isVisible:function(){return this.option("showColumnHeaders")&&(q(this)||F(this))},optionChanged:function(e){"allowColumnResizing"===e.name&&(e.value?(this._init(),this._invalidate(),this.hide(!0)):(this._unsubscribeFromCallback(),this._isTransparent=F(this),this.hide(!0))),this.callBase(e)},init:function(){this.callBase(),this._tablePositionController=this.getController("tablePosition"),this._init()},show:function(){var e=this.element();e&&!this._isShown&&(this._isTransparent?e.removeClass(this.addWidgetPrefix(P)):e.show()),this.callBase()},hide:function(e){var t=this.element(),i=this.addWidgetPrefix(P);t&&(this._isShown||e)&&(this._isTransparent?(t.addClass(i),t.css("left",""),t.show()):(t.hasClass(i)&&t.removeClass(i),t.hide())),this.callBase()},moveByX:function(e){var t=this.element();t&&t.css("left",e-this._parentElement().offset().left)},changeCursor:function(e){e=d.default.isDefined(e)?e:"";var t=this.element();t&&t.css("cursor",e)},dispose:function(){this._unsubscribeFromCallback(),this.callBase()}}),Y=X.inherit({init:function(){var e=this;this.callBase(),this.getController("data").loadingChanged.add(function(t){t||e.hide()})},_renderSeparator:function(){this.callBase(),this.element().addClass(k).html("&nbsp;")},hide:function(){var e=this._parentElement(),t=this.element();t&&this._isShown&&t.css("display","none"),e&&!e.children("."+k).length&&e.prepend(this.element()),this.callBase()},isVisible:function(){var e=this.option("groupPanel"),t=this.option("columnChooser");return e&&e.visible||t&&t.enabled},show:function(e){var t=this.element(),i=function(e){V.default.stop(t,!0),V.default.animate(t,{type:"slide",from:{width:0,display:e.display},to:e,duration:300,easing:"swing"})};if(t&&!this._isShown)switch(e){case"group":i({width:"50px",display:"inline-block"});break;case"columnChooser":i({width:"100%",display:"block"});break;default:t.css("display","")}this.callBase()}}),$=w.default.View.inherit({_isDragging:!1,_getDraggingPanelByPos:function(e){var t;return(0,u.each)(this._dragOptions.draggingPanels,function(i,n){if(n){var o=n.getBoundingRect();if(o&&(void 0===o.bottom||e.y<o.bottom)&&(void 0===o.top||e.y>o.top)&&(void 0===o.left||e.x>o.left)&&(void 0===o.right||e.x<o.right))return t=n,!1}}),t},_renderCore:function(){this.element().addClass(this.addWidgetPrefix(S)+" "+this.addWidgetPrefix(y)+" "+T).hide()},_resetTargetColumnOptions:function(){var e=this._dropOptions;e.targetColumnIndex=-1,delete e.targetColumnElement,delete e.isLast,delete e.posX,delete e.posY},_getVisibleIndexObject:function(e,t){return d.default.isDefined(e)?{columnIndex:t,rowIndex:e}:t},dispose:function(){var e=this.element();this._dragOptions=null,e&&e.parent().find("."+this.addWidgetPrefix(S)).remove()},isVisible:function(){var e=this.getController("columns").getCommonSettings();return this.option("showColumnHeaders")&&(q(this)||e.allowGrouping||e.allowHiding)},init:function(){var e=this;this.callBase(),this._controller=this.getController("draggingHeader"),this._columnsResizerViewController=this.getController("columnsResizer"),this.getController("data").loadingChanged.add(function(t){var i=e.element();!t&&i&&i.hide()})},dragHeader:function(e){var t=e.columnElement,i=!!e.sourceColumn.type;this._isDragging=!0,this._dragOptions=e,this._dropOptions={sourceIndex:e.index,sourceColumnIndex:this._getVisibleIndexObject(e.rowIndex,e.columnIndex),sourceColumnElement:e.columnElement,sourceLocation:e.sourceLocation};var o=n.default.getDocument();this._onSelectStart=o.onselectstart,o.onselectstart=function(){return!1},this._controller.drag(this._dropOptions),this.element().css({textAlign:t&&t.css("textAlign"),height:t&&(i&&t.get(0).clientHeight||t.height()),width:t&&(i&&t.get(0).clientWidth||t.width()),whiteSpace:t&&t.css("whiteSpace")}).addClass(this.addWidgetPrefix(z)).toggleClass(D,i).text(i?"":e.sourceColumn.caption),this.element().appendTo((0,x.getSwatchContainer)(t))},moveHeader:function(e){var t,i,n,o,s=e.event,r=s.data.that,a=(0,h.eventData)(s),l=!!r._columnsResizerViewController&&r._columnsResizerViewController.isResizing(),d=r._dragOptions;if(r._isDragging&&!l){var u=r.element();n=Math.abs(a.x-d.columnElement.offset().left-d.deltaX),o=Math.abs(a.y-d.columnElement.offset().top-d.deltaY),(u.is(":visible")||n>N||o>N)&&(u.show(),t=a.x-d.deltaX,i=a.y-d.deltaY,u.css({left:t,top:i}),r.dockHeader(a)),s.preventDefault()}},dockHeader:function(e){var i,n,o=this._getDraggingPanelByPos(e),s=this._controller,r=this._dropOptions,a=this._dragOptions;if(o){var l=this.option("rtlEnabled"),d="columnChooser"===o.getName(),u=d?"y":"x",h=o.getName(),g="headers"===h?a.rowIndex:void 0,m=a.sourceColumn,f=o.getColumnElements(g,m&&m.ownerBand)||[],_=a.pointsByTarget=a.pointsByTarget||{},p="columnChooser"===h?[]:_[h]||s._generatePointsByColumns((0,c.extend)({},a,{targetDraggingPanel:o,columns:o.getColumns(g),columnElements:f,isVerticalOrientation:d,startColumnIndex:"headers"===h&&(0,t.default)(f[0]).index()}));if(_[h]=p,r.targetLocation=h,p.length>0){for(i=0;i<p.length;i++)if(void 0===(n=p[i+1]&&(p[i][u]+p[i+1][u])/2)||(l&&"x"===u?e[u]>n:e[u]<n)){r.targetColumnIndex=this._getVisibleIndexObject(g,p[i].columnIndex),f[i]?(r.targetColumnElement=f.eq(i),r.isLast=!1):(r.targetColumnElement=f.last(),r.isLast=!0),r.posX=p[i].x,r.posY=p[i].y,s.dock(r);break}}else this._resetTargetColumnOptions(),s.dock(r)}},dropHeader:function(e){var t=e.event.data.that,i=t._controller;t.element().hide(),i&&t._isDragging&&i.drop(t._dropOptions),t.element().appendTo(t._parentElement()),t._dragOptions=null,t._dropOptions=null,t._isDragging=!1,n.default.getDocument().onselectstart=t._onSelectStart||null}}),U=function(e){return"widget"!==e.option("columnResizingMode")},j=w.default.ViewController.inherit({_isHeadersRowArea:function(e){if(this._columnHeadersView){var t,i,n=this._columnHeadersView.element();if(n)return i=n.offset().top,t=this._columnHeadersView.getHeadersRowHeight(),e>=i&&e<=i+t}return!1},_pointCreated:function(e,t,i){var n,o,s=U(this),r=this.option("rtlEnabled"),a=!s&&r?0:1;return!(e.index>=a&&e.index<t+(s||r?0:1))||(e.columnIndex-=a,n=i[e.columnIndex]||{},o=i[e.columnIndex+1]||{},!(s?n.allowResizing&&o.allowResizing:n.allowResizing))},_getTargetPoint:function(e,t,i){if(e)for(var n=0;n<e.length;n++)if((e[n].x!==e[0].x||!e[n+1]||e[n].x!==e[n+1].x)&&e[n].x-i<=t&&t<=e[n].x+i)return e[n];return null},_moveSeparator:function(e){var t=e.event,i=t.data,n=i._columnsSeparatorView.width(),o=U(i),s=n/2,r=i._$parentContainer.offset(),a=r.left,l=(0,h.eventData)(t);if(i._isResizing&&i._resizingInfo){if(a<=l.x&&(!o||l.x<=a+i._$parentContainer.width())&&i._updateColumnsWidthIfNeeded(l.x)){var d=i._columnHeadersView.getColumnElements().eq(i._resizingInfo.currentColumnIndex);i._columnsSeparatorView.moveByX(d.offset().left+(o&&i.option("rtlEnabled")?0:d.outerWidth())),i._tablePositionController.update(i._targetPoint.y),t.preventDefault()}}else i._isHeadersRowArea(l.y)?(i._previousParentOffset&&(i._previousParentOffset.left===r.left&&i._previousParentOffset.top===r.top||i.pointsByColumns(null)),i._targetPoint=i._getTargetPoint(i.pointsByColumns(),l.x,n),i._previousParentOffset=r,i._isReadyResizing=!1,i._targetPoint?(i._columnsSeparatorView.changeCursor("col-resize"),i._columnsSeparatorView.moveByX(i._targetPoint.x-s),i._tablePositionController.update(i._targetPoint.y),i._isReadyResizing=!0,t.preventDefault()):i._columnsSeparatorView.changeCursor()):(i.pointsByColumns(null),i._isReadyResizing=!1,i._columnsSeparatorView.changeCursor())},_endResizing:function(e){var t=e.event.data;if(t._isResizing){if(t.pointsByColumns(null),t._resizingInfo=null,t._columnsSeparatorView.hide(),t._columnsSeparatorView.changeCursor(),t._trackerView.hide(),!U(t)){var i=t.component.pageIndex();if(t.component.updateDimensions(),t.option("wordWrapEnabled")&&"virtual"===t.option("scrolling.mode")){var n=t.component.getDataSource();n&&n.load().done(function(){t._rowsView.scrollToPage(i)})}}t._isReadyResizing=!1,t._isResizing=!1}},_getNextColumnIndex:function(e){return e+1},_setupResizingInfo:function(e){var t=this._targetPoint.columnIndex,i=this._getNextColumnIndex(t),n=this._columnHeadersView.getHeaderElement(t),o=this._columnHeadersView.getHeaderElement(i);this._resizingInfo={startPosX:e,currentColumnIndex:t,currentColumnWidth:n&&n.length>0?n[0].getBoundingClientRect().width:0,nextColumnIndex:i,nextColumnWidth:o&&o.length>0?o[0].getBoundingClientRect().width:0}},_startResizing:function(e){var t=e.event,i=t.data,n=(0,h.eventData)(t),o=i.getController("editing"),s=i.option("editing.mode"),r=o.isEditing()&&("batch"===s||"cell"===s);(0,h.isTouchEvent)(t)&&(i._isHeadersRowArea(n.y)?(i._targetPoint=i._getTargetPoint(i.pointsByColumns(),n.x,W),i._targetPoint&&(i._columnsSeparatorView.moveByX(i._targetPoint.x-i._columnsSeparatorView.width()/2),i._isReadyResizing=!0)):i._isReadyResizing=!1),i._isReadyResizing&&!r&&(i._setupResizingInfo(n.x),i._isResizing=!0,i._tablePositionController.update(i._targetPoint.y),i._columnsSeparatorView.show(),i._trackerView.show(),t.preventDefault(),t.stopPropagation())},_generatePointsByColumns:function(){var e=this,t=e._columnsController?e._columnsController.getVisibleColumns():[],i=e._columnHeadersView.getColumnElements(),n=[];i&&i.length>0&&(n=b.default.getPointsByColumns(i,function(n){return e._pointCreated(n,i.length,t)})),e._pointsByColumns=n},_unsubscribeFromEvents:function(){this._moveSeparatorHandler&&s.default.off(n.default.getDocument(),(0,h.addNamespace)(m.default.move,O),this._moveSeparatorHandler),this._startResizingHandler&&s.default.off(this._$parentContainer,(0,h.addNamespace)(m.default.down,O),this._startResizingHandler),this._endResizingHandler&&(s.default.off(this._columnsSeparatorView.element(),(0,h.addNamespace)(m.default.up,O),this._endResizingHandler),s.default.off(n.default.getDocument(),(0,h.addNamespace)(m.default.up,O),this._endResizingHandler))},_subscribeToEvents:function(){this._moveSeparatorHandler=this.createAction(this._moveSeparator),this._startResizingHandler=this.createAction(this._startResizing),this._endResizingHandler=this.createAction(this._endResizing),s.default.on(n.default.getDocument(),(0,h.addNamespace)(m.default.move,O),this,this._moveSeparatorHandler),s.default.on(this._$parentContainer,(0,h.addNamespace)(m.default.down,O),this,this._startResizingHandler),s.default.on(this._columnsSeparatorView.element(),(0,h.addNamespace)(m.default.up,O),this,this._endResizingHandler),s.default.on(n.default.getDocument(),(0,h.addNamespace)(m.default.up,O),this,this._endResizingHandler)},_updateColumnsWidthIfNeeded:function(e){var t,i,n,o,s,r,a=!1,l=this._resizingInfo,u=this._columnsController,c=u.getVisibleColumns(),h=this._columnsSeparatorView.width(),g=this._rowsView.contentWidth(),m=U(this),f=m&&this.option("adaptColumnWidthByRatio")&&!this.option("columnAutoWidth");function _(e){return d.default.isString(e)&&"%"===e.slice(-1)}function p(e,t,i,n){if(e){var o=e.width;o&&(n=_(o)),n?(e&&u.columnOption(e.index,"visibleWidth",t),e&&u.columnOption(e.index,"width",(t/i*100).toFixed(3)+"%")):(e&&u.columnOption(e.index,"visibleWidth",null),e&&u.columnOption(e.index,"width",t))}}if(t=e-l.startPosX,m&&this.option("rtlEnabled")&&(t=-t),a=(r=l.currentColumnWidth+t)>=(o=(n=c[l.currentColumnIndex])&&n.minWidth||h),m&&(i=l.nextColumnWidth-t,o=(s=c[l.nextColumnIndex])&&s.minWidth||h,a=a&&i>=o),a){if(u.beginUpdate(),p(n,r=Math.floor(r),g=function(e,t){var i;return t.every(function(e){return e.width})&&(i=t.reduce(function(e,t){return _(t.width)&&(e+=parseFloat(t.width)),e},0))>100&&(e=e/i*100),e}(g,c),f),m)p(s,i=Math.floor(i),g,f);else{var w=this._columnHeadersView.getColumnWidths();if(w[l.currentColumnIndex]=r,!(w.reduce(function(e,t){return e+t},0)>this._rowsView.contentWidth())){var C=b.default.getLastResizableColumnIndex(c);C>=0&&u.columnOption(c[C].index,"visibleWidth","auto")}for(var v=0;v<w.length;v++)c[v]&&c[v]!==n&&void 0===c[v].width&&u.columnOption(c[v].index,"width",w[v])}u.endUpdate()}return a},_subscribeToCallback:function(e,t){e.add(t),this._subscribesToCallbacks.push({callback:e,handler:t})},_unsubscribeFromCallbacks:function(){var e,t;for(e=0;e<this._subscribesToCallbacks.length;e++)(t=this._subscribesToCallbacks[e]).callback.remove(t.handler);this._subscribesToCallbacks=[]},_unsubscribes:function(){this._unsubscribeFromEvents(),this._unsubscribeFromCallbacks()},_init:function(){var e=this,t=function(){e._isResizing||e.pointsByColumns(null)},i=function(t){e._scrollLeft!==t.left&&(e._scrollLeft=t.left,e.pointsByColumns(null))};e._columnsSeparatorView=e.getView("columnsSeparatorView"),e._columnHeadersView=e.getView("columnHeadersView"),e._trackerView=e.getView("trackerView"),e._rowsView=e.getView("rowsView"),e._columnsController=e.getController("columns"),e._tablePositionController=e.getController("tablePosition"),e._$parentContainer=e._columnsSeparatorView.component.$element(),e._subscribeToCallback(e._columnHeadersView.renderCompleted,t),e._subscribeToCallback(e._columnHeadersView.resizeCompleted,t),e._subscribeToCallback(e._columnsSeparatorView.renderCompleted,function(){e._unsubscribeFromEvents(),e._subscribeToEvents()}),e._subscribeToCallback(e._rowsView.renderCompleted,function(){e._rowsView.scrollChanged.remove(i),e._rowsView.scrollChanged.add(i)});var n=0!==e._rowsView.getScrollbarWidth(),o=0;e._subscribeToCallback(e.getController("tablePosition").positionChanged,function(t){if(e._isResizing&&!e._rowsView.isResizing){var i=0!==e._rowsView.getScrollbarWidth();n!==i||o&&o!==t.height?(n=i,o=t.height,e.component.updateDimensions()):e._rowsView.updateFreeSpaceRowHeight()}o=t.height})},optionChanged:function(e){this.callBase(e),"allowColumnResizing"===e.name&&(e.value?(this._init(),this._subscribeToEvents()):this._unsubscribes())},isResizing:function(){return this._isResizing},init:function(){this._subscribesToCallbacks=[],F(this)&&this._init()},pointsByColumns:function(e){if(void 0===e)return this._pointsByColumns||this._generatePointsByColumns(),this._pointsByColumns;this._pointsByColumns=e},dispose:function(){this._unsubscribes(),this.callBase()}}),G=w.default.ViewController.inherit({update:function(e){var t={},i=this._columnHeadersView.element(),n=i&&i.offset(),o=n&&n.top||0,s=d.default.isDefined(e)?Math.abs(e-o):0,r=this._columnHeadersView?this._columnHeadersView.getHeight():0,a=this._rowsView.getScrollbarWidth(!0),l=this._rowsView?this._rowsView.height()-a:0,u=this.component.getController("columnsResizer");t.height=r,!1!==u.isResizing()&&(t.height+=l-s),null!==e&&i&&i.length&&(t.top=i[0].offsetTop+s),this.positionChanged.fire(t)},init:function(){var e=this;e.callBase(),e._columnHeadersView=this.getView("columnHeadersView"),e._rowsView=this.getView("rowsView"),e._pagerView=this.getView("pagerView"),e._rowsView.resizeCompleted.add(function(){e.option("allowColumnResizing")&&e.update(null)})},ctor:function(e){this.callBase(e),this.positionChanged=(0,a.default)()}}),J=w.default.ViewController.inherit({_generatePointsByColumns:function(e){var t=this;return b.default.getPointsByColumns(e.columnElements,function(i){return t._pointCreated(i,e.columns,e.targetDraggingPanel.getName(),e.sourceColumn)},e.isVerticalOrientation,e.startColumnIndex)},_pointCreated:function(e,t,i,n){var o=t[e.columnIndex],s=t[e.columnIndex-1];switch(i){case"columnChooser":return!0;case"headers":return n&&!n.allowReordering||(!o||!o.allowReordering)&&(!s||!s.allowReordering);default:return 0===t.length}},_subscribeToEvents:function(e,i){var n=this;(0,u.each)(i,function(o,r){if(r){var a,l,d,c=r.getRowCount?r.getRowCount():1,g=r.getName(),m=function(o,a){if(a){var d=(0,t.default)(a),u=l[o];r.allowDragging(u,g,i)&&(d.addClass(n.addWidgetPrefix(z)),s.default.on(d,(0,h.addNamespace)(_.default.start,O),n.createAction(function(s){var r=s.event,a=(0,h.eventData)(r);e.dragHeader({deltaX:a.x-(0,t.default)(r.currentTarget).offset().left,deltaY:a.y-(0,t.default)(r.currentTarget).offset().top,sourceColumn:u,index:u.index,columnIndex:o,columnElement:d,sourceLocation:g,draggingPanels:i,rowIndex:n._columnsController.getRowIndex(u.index,!0)})})),s.default.on(d,(0,h.addNamespace)(_.default.move,O),{that:e},n.createAction(e.moveHeader)),s.default.on(d,(0,h.addNamespace)(_.default.end,O),{that:e},n.createAction(e.dropHeader)))}};for(a=0;a<c;a++)(d=r.getColumnElements(a)||[]).length&&(l=r.getColumns(a)||[],(0,u.each)(d,m))}})},_unsubscribeFromEvents:function(e,i){var n=this;(0,u.each)(i,function(e,i){if(i){var o=i.getColumnElements()||[];(0,u.each)(o,function(e,i){var o=(0,t.default)(i);s.default.off(o,(0,h.addNamespace)(_.default.start,O)),s.default.off(o,(0,h.addNamespace)(_.default.move,O)),s.default.off(o,(0,h.addNamespace)(_.default.end,O)),o.removeClass(n.addWidgetPrefix(z))})}})},_getSeparator:function(e){return"headers"===e?this._columnsSeparatorView:this._blockSeparatorView},hideSeparators:function(e){var t=this._blockSeparatorView,i=this._columnsSeparatorView;this._animationColumnIndex=null,t&&t.hide(),"block"!==e&&i&&i.hide()},init:function(){var e,t=this;t.callBase(),t._columnsController=t.getController("columns"),t._columnHeadersView=t.getView("columnHeadersView"),t._columnsSeparatorView=t.getView("columnsSeparatorView"),t._draggingHeaderView=t.getView("draggingHeaderView"),t._rowsView=t.getView("rowsView"),t._blockSeparatorView=t.getView("blockSeparatorView"),t._headerPanelView=t.getView("headerPanel"),t._columnChooserView=t.getView("columnChooserView"),e=function(){if(t._draggingHeaderView){var e=[t._columnChooserView,t._columnHeadersView,t._headerPanelView];t._unsubscribeFromEvents(t._draggingHeaderView,e),t._subscribeToEvents(t._draggingHeaderView,e)}},t._columnHeadersView.renderCompleted.add(e),t._headerPanelView&&t._headerPanelView.renderCompleted.add(e),t._columnChooserView&&t._columnChooserView.renderCompleted.add(e)},allowDrop:function(e){return this._columnsController.allowMoveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)},drag:function(e){var t=e.sourceIndex,i=e.sourceLocation,n=e.sourceColumnElement,o=this._columnHeadersView,s=this._rowsView;n&&(n.css({opacity:L}),"headers"===i&&(o&&o.setRowsOpacity(t,L),s&&s.setRowsOpacity(t,L)))},dock:function(e){var t=this,i=d.default.isObject(e.targetColumnIndex)?e.targetColumnIndex.columnIndex:e.targetColumnIndex,n=e.sourceLocation,o=e.targetLocation,s=t._getSeparator(o),r=i>=0;t._columnHeadersView.element().find("."+E).toggleClass(t.addWidgetPrefix(B),"headers"!==n&&"headers"===o&&!r),s&&(t.allowDrop(e)&&r?"group"===o||"columnChooser"===o?t._animationColumnIndex!==i&&(t.hideSeparators(),s.element()[e.isLast?"insertAfter":"insertBefore"](e.targetColumnElement),t._animationColumnIndex=i,s.show(o)):(t.hideSeparators("block"),t.getController("tablePosition").update(e.posY),s.moveByX(e.posX-s.width()),s.show()):t.hideSeparators())},drop:function(e){var t=e.sourceColumnElement;if(t&&(t.css({opacity:""}),this._columnHeadersView.setRowsOpacity(e.sourceIndex,""),this._rowsView.setRowsOpacity(e.sourceIndex,""),this._columnHeadersView.element().find("."+E).removeClass(this.addWidgetPrefix(B))),this.allowDrop(e)){var i=this._getSeparator(e.targetLocation);i&&i.hide(),this._columnsController.moveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)}},dispose:function(){this._draggingHeaderView&&this._unsubscribeFromEvents(this._draggingHeaderView,[this._columnChooserView,this._columnHeadersView,this._headerPanelView])}});module.exports={views:{columnsSeparatorView:M,blockSeparatorView:Y,draggingHeaderView:$,trackerView:A},controllers:{draggingHeader:J,tablePosition:G,columnsResizer:j},extenders:{views:{rowsView:{_needUpdateRowHeight:function(e){var t=this.option("wordWrapEnabled"),i=this.getController("columnsResizer").isResizing();return this.callBase.apply(this,arguments)||e>0&&t&&i}}}}};
},{"../../core/renderer":"qxFQ","../../core/dom_adapter":"RRDy","../../events/core/events_engine":"oNrb","../../core/utils/callbacks":"gtoU","../../core/utils/type":"Mw4w","../../core/utils/iterator":"FHcO","../../core/utils/extend":"ac8T","../../events/utils":"cNvJ","../../events/pointer":"HDhW","../../events/drag":"aHo5","./ui.grid_core.modules":"vXU0","./ui.grid_core.utils":"kk68","../../animation/fx":"qxJT","../widget/swatch_container":"vEFC"}],"XHvS":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),r=o(e),i=require("../grid_core/ui.grid_core.columns_resizing_reordering"),u=o(i);function o(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("columnsResizingReordering",u.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.columns_resizing_reordering":"hMXi"}],"J4ey":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=_(e),i=require("../../events/core/events_engine"),n=_(i),l=require("../../events/core/wheel"),s=_(l),o=require("../../localization/message"),a=_(o),r=require("../grid_core/ui.grid_core.utils"),d=_(r),c=require("../../core/utils/type"),u=require("../../core/utils/extend"),h=require("../../core/utils/iterator"),m=require("../../core/utils/browser"),f=_(m),g=require("../../animation/translator"),x=_(g);function _(e){return e&&e.__esModule?e:{default:e}}var C="content",p="content-fixed",b="dx-master-detail-cell",T="dx-first-cell",E="dx-last-cell",v="dx-state-hover",F="dx-col-fixed",B="dx-fixed-columns",w="dx-pointer-events-target",R="dx-pointer-events-none",y="transparent",P="dx-group-row",S=function(e){var t=-1;return(0,h.each)(e,function(e,i){if(i.command===y)return t=e,!1}),t},I=function(e,t,i){var n,l=0;if(e&&t&&i)for(n=0;n<e.length;n++)e[n].command===y?l+=e[n].colspan:(t[l]<i[n]&&(t[l]=i[n]),l++);return t},H={init:function(){this.callBase(),this._isFixedTableRendering=!1,this._isFixedColumns=!1},_createCol:function(e){return this.callBase(e).toggleClass(F,!(!this._isFixedTableRendering||!(e.fixed||e.command&&e.command!==y)))},_correctColumnIndicesForFixedColumns:function(e,t){var i=S(e),n=e[i].colspan,l=t&&t.columnIndices;l&&(t.columnIndices=l.map(function(e){if(e)return e.map(function(e){return e<i?e:e>=i+n?e-n+1:-1}).filter(function(e){return e>=0})}))},_renderTable:function(e){var t,i,n=this.getFixedColumns();if(this._isFixedColumns=!!n.length,i=this.callBase(e),this._isFixedColumns){this._isFixedTableRendering=!0;var l=e&&e.change,s=l&&l.columnIndices;this._correctColumnIndicesForFixedColumns(n,l),t=this._createTable(n),this._renderRows(t,(0,u.extend)({},e,{columns:n})),this._updateContent(t,l),s&&(l.columnIndices=s),this._isFixedTableRendering=!1}else this._fixedTableElement&&this._fixedTableElement.parent().remove(),this._fixedTableElement=null;return i},_renderRow:function(e,t){var i,n,l=t.row.cells;if(this.callBase.apply(this,arguments),this._isFixedTableRendering&&l&&l.length){n=0,i=t.row.cells||[],l=l.slice(),t.row.cells=l;for(var s=0;s<i.length;s++)i[s].column&&i[s].column.command===y?n=(i[s].column.colspan||1)-1:l[s+n]=i[s]}},_createCell:function(e){var t,i,n,l=e.column,s=l&&l.command,o=e.rowType,a=this.callBase.apply(this,arguments);return(this._isFixedTableRendering||"filter"===o)&&(i=(t=this.getFixedColumns())[(n=S(t))-1]),this._isFixedTableRendering?s===y&&(a.addClass(R).toggleClass(T,0===n||i&&"expand"===i.command).toggleClass(E,t.length&&n===t.length-1),"freeSpace"!==o&&d.default.setEmptyText(a)):"filter"===o&&a.toggleClass(T,e.columnIndex===n),a},_wrapTableInScrollContainer:function(){var e=this.callBase.apply(this,arguments);return this._isFixedTableRendering&&e.addClass(this.addWidgetPrefix(p)+" "+w),e},_renderCellContent:function(e,t){var i,n,l,s,o=t.column,a=this._isFixedTableRendering,r="group"===t.rowType&&(0,c.isDefined)(o.groupIndex);if(a&&r&&!o.command&&!o.groupCellTemplate&&e.css("pointerEvents","none"),!a&&this._isFixedColumns&&(n=o.fixed||o.command&&!1!==o.fixed,r&&(n=!1,t.row.summaryCells&&t.row.summaryCells.length&&(i=this._columnsController.getVisibleColumns(),(s=this._getAlignByColumnCellCount?this._getAlignByColumnCellCount(o.colspan,{columns:i,row:t.row,isFixed:!0}):0)>0&&(l=S(this._columnsController.getFixedColumns()),n=i.length-s<l))),n)){if(this.option("legacyRendering")||o.command&&"buttons"!==o.type||"group"===t.rowType)return void e.html("&nbsp;").addClass(o.cssClass);e.addClass("dx-hidden-cell")}o.command!==y&&this.callBase(e,t)},_getCellElementsCore:function(e){var t,i,n,l,s=this,o=s.callBase(e),a=o.parent().hasClass(P),r="columnHeadersView"===s.name?e:void 0;return s._fixedTableElement&&o&&(i=s.getFixedColumns(r),l=s._getRowElements(s._fixedTableElement).eq(e).children("td"),(0,h.each)(l,function(e,d){a?o[e]&&"hidden"!==d.style.visibility&&(o[e]=d):(t=i[e])&&(t.command===y?l.eq(e).hasClass(b)&&(o[e]=d||o[e]):(n=s._columnsController.getVisibleIndex(t.index,r),o[n]=d||o[n]))})),o},getColumnWidths:function(){var e,t=this.callBase(),i=this.getFixedColumns();return this._fixedTableElement&&t.length&&(e=this.callBase(this._fixedTableElement)),I(i,t,e)},_getTableElement:function(){return this._isFixedTableRendering?this._fixedTableElement:this.callBase()},_setTableElement:function(e){this._isFixedTableRendering?this._fixedTableElement=e.addClass(R):this.callBase(e)},getColumns:function(e,t){return t=t||this._getTableElement(),this._isFixedTableRendering||t&&t.closest("table").parent("."+this.addWidgetPrefix(p)).length?this.getFixedColumns(e):this.callBase(e,t)},getRowIndex:function(e){var t=this._fixedTableElement;return t&&t.find(e).length?this._getRowElements(t).index(e):this.callBase(e)},getTableElements:function(){var e=this.callBase.apply(this,arguments);return this._fixedTableElement&&(e=(0,t.default)([e.get(0),this._fixedTableElement.get(0)])),e},getFixedColumns:function(e){return this._columnsController.getFixedColumns(e)},getFixedColumnsOffset:function(){var e,t,i={left:0,right:0};return this._fixedTableElement&&(i={left:(t=(e=this.getTransparentColumnElement()).position()).left,right:this.element().outerWidth(!0)-(e.outerWidth(!0)+t.left)}),i},getTransparentColumnElement:function(){return this._fixedTableElement&&this._fixedTableElement.find("."+R).first()},getFixedTableElement:function(){return this._fixedTableElement},isFixedColumns:function(){return this._isFixedColumns},_resizeCore:function(){this.callBase(),this.synchronizeRows()},setColumnWidths:function(e){var t,i=this._columnsController.getVisibleColumns(),n=e.widths,l=n&&n.length&&(0,c.isDefined)(i[0].visibleWidth),s=e.optionNames,o=s&&s.width,a=!1;if(this.callBase.apply(this,arguments),this._fixedTableElement){if(this.option("legacyRendering"))a=n&&n.length&&!this.isScrollbarVisible(!0);else a=n&&n.some(function(e){return"auto"===e})&&(!l||!this.isScrollbarVisible(!0));a&&(t=i),this.callBase((0,u.extend)({},e,{$tableElement:this._fixedTableElement,columns:t,fixed:!0}))}(l||o&&this.option("wordWrapEnabled"))&&this.synchronizeRows()},_createColGroup:function(e){if(!this.option("legacyRendering")&&this._isFixedTableRendering&&!this.option("columnAutoWidth")){var t=this._columnsController.getVisibleColumns();t.filter(function(e){return!e.width}).length&&(e=t)}return this.callBase(e)},_getClientHeight:function(e){var t=e.getBoundingClientRect&&e.getBoundingClientRect();return t&&t.height?t.height:e.clientHeight},synchronizeRows:function(){var e,t,i,n,l,s,o,a,r=[],d=[];if(this._isFixedColumns&&this._tableElement&&this._fixedTableElement&&(n=this._getClientHeight(this._tableElement.get(0)),l=this._getClientHeight(this._fixedTableElement.get(0)),s=this._getRowElements(this._tableElement),o=this._getRowElements(this._fixedTableElement),a=this._findContentElement(),n!==l)){for(a&&a.css("height",n),s.css("height",""),o.css("height",""),i=0;i<s.length;i++)r.push(this._getClientHeight(s.get(i))),d.push(this._getClientHeight(o.get(i)));for(i=0;i<s.length;i++)(e=r[i])>(t=d[i])?o.eq(i).css("height",e):e<t&&s.eq(i).css("height",t);a&&a.css("height","")}}},V=(0,u.extend)({},H,{_getRowVisibleColumns:function(e){return this._isFixedTableRendering?this.getFixedColumns(e):this.callBase(e)},getContextMenuItems:function(e){var t,i=this,n=e.column,l=i.option("columnFixing"),s=i.callBase(e);return e.row&&"header"===e.row.rowType&&n&&n.allowFixing&&(t=function(e){switch(e.itemData.value){case"none":i._columnsController.columnOption(n.index,"fixed",!1);break;case"left":i._columnsController.columnOption(n.index,{fixed:!0,fixedPosition:"left"});break;case"right":i._columnsController.columnOption(n.index,{fixed:!0,fixedPosition:"right"})}},(s=s||[]).push({text:l.texts.fix,beginGroup:!0,items:[{text:l.texts.leftPosition,value:"left",disabled:n.fixed&&(!n.fixedPosition||"left"===n.fixedPosition),onItemClick:t},{text:l.texts.rightPosition,value:"right",disabled:n.fixed&&"right"===n.fixedPosition,onItemClick:t}]},{text:l.texts.unfix,value:"none",disabled:!n.fixed,onItemClick:t})),s},setScrollerSpacing:function(e){var t=this.option("rtlEnabled");this.callBase(e),this.element().children("."+this.addWidgetPrefix(p)).css(t?{paddingLeft:e}:{paddingRight:e})},getFixedColumnElements:function(e){var t,i,n;return(0,c.isDefined)(e)?this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(e).children():(t=this.getColumnElements(),n=this.getTransparentColumnElement(),t&&n&&n.length&&(i=S(this.getFixedColumns()),t.splice(i,n.get(0).colSpan,n.get(0))),t)},getColumnWidths:function(){var e,t=this.callBase(),i=this.getFixedColumnElements(),n=this.getFixedColumns();return this._fixedTableElement&&(e=i&&i.length?this._getWidths(i):this.callBase(this._fixedTableElement)),I(n,t,e)}}),W=(0,u.extend)({},H,{_detachHoverEvents:function(){this._fixedTableElement&&n.default.off(this._fixedTableElement,"mouseover mouseout",".dx-data-row"),this._tableElement&&n.default.off(this._tableElement,"mouseover mouseout",".dx-data-row")},_attachHoverEvents:function(){var e=this,i=function(i){n.default.on(i,"mouseover mouseout",".dx-data-row",e.createAction(function(i){var n=i.event,l=e.getRowIndex((0,t.default)(n.target).closest(".dx-row")),s="mouseover"===n.type;l>=0&&(e._tableElement&&e._getRowElements(e._tableElement).eq(l).toggleClass(v,s),e._fixedTableElement&&e._getRowElements(e._fixedTableElement).eq(l).toggleClass(v,s))}))};e._fixedTableElement&&e._tableElement&&(i(e._fixedTableElement),i(e._tableElement))},_findContentElement:function(){var e,i,l,o=this,a=o.addWidgetPrefix(C),r=o.element(),d=f.default.mozilla?60:0;return r&&o._isFixedTableRendering?(e=r.children("."+a),i=o.getScrollable(),!e.length&&i&&(e=(0,t.default)("<div>").addClass(a),n.default.on(e,"scroll",function(e){clearTimeout(o._fixedScrollTimeout),o._fixedScrollTimeout=setTimeout(function(){l=(0,t.default)(e.target).scrollTop(),i.scrollTo({y:l})},d)}),n.default.on(e,s.default.name,function(e){if(i&&(l=i.scrollTop(),i.scrollTo({y:l-e.delta}),i.scrollTop()>0&&i.scrollTop()+i.clientHeight()<i.scrollHeight()+o.getScrollbarWidth()))return!1}),e.appendTo(r)),e):o.callBase()},_updateScrollable:function(){this.callBase();var e=this.getScrollable(),t=e&&e.scrollOffset().top;this._updateFixedTablePosition(t)},_renderContent:function(e,t){return this._isFixedTableRendering?e.empty().addClass(this.addWidgetPrefix(C)+" "+this.addWidgetPrefix(p)+" "+w).append(t):this.callBase(e,t)},_getGroupCellOptions:function(e){return this._isFixedTableRendering?this.callBase((0,u.extend)({},e,{columns:this._columnsController.getVisibleColumns()})):this.callBase(e)},_renderGroupedCells:function(e,t){return this.callBase(e,(0,u.extend)({},t,{columns:this._columnsController.getVisibleColumns()}))},_renderGroupSummaryCells:function(e,t){this._isFixedTableRendering?this.callBase(e,(0,u.extend)({},t,{columns:this._columnsController.getVisibleColumns()})):this.callBase(e,t)},_hasAlignByColumnSummaryItems:function(e,t){var i=this.callBase.apply(this,arguments),n=t.columns[e];return t.isFixed?n.fixed&&(i||"right"===n.fixedPosition):i&&!n.fixed},_renderGroupSummaryCellsCore:function(e,t,i,n){var l,s,o;this._isFixedTableRendering&&(t.isFixed=!0,o=this._getAlignByColumnCellCount(i,t),t.isFixed=!1,l=t.columns.length-o,t=(0,u.extend)({},t,{columns:this.getFixedColumns()}),l<(s=S(t.columns))?(o-=t.columns[s].colspan-1||0,i-=t.columns[s].colspan-1||0):n>0&&e.css("visibility","hidden"),n=o),this.callBase(e,t,i,n)},_getSummaryCellIndex:function(e,t){var i;return this._isFixedTableRendering?(e>(i=S(t))&&(e+=t[i].colspan-1),e):this.callBase.apply(this,arguments)},_renderCore:function(e){this._detachHoverEvents(),this.callBase(e);var t=this._isFixedColumns;this.element().toggleClass(B,t),this.option("hoverStateEnabled")&&t&&this._attachHoverEvents()},setRowsOpacity:function(e,t){this.callBase(e,t);var i=this._getRowElements(this._fixedTableElement);this._setRowsOpacityCore(i,this.getFixedColumns(),e,t)},optionChanged:function(e){this.callBase(e),"hoverStateEnabled"===e.name&&this._isFixedColumns&&(e.value?this._attachHoverEvents():this._detachHoverEvents())},getCellIndex:function(e){var t,i=this._fixedTableElement,n=0;return i&&i.find(e).length?(t=this.getFixedColumns(),(0,h.each)(t,function(t,i){if(t===e[0].cellIndex)return!1;i.colspan?n+=i.colspan:n++}),n):this.callBase.apply(this,arguments)},_updateFixedTablePosition:function(e,t){if(this._fixedTableElement&&this._tableElement){var i,n=this.getController("editorFactory");this._fixedTableElement.parent().scrollTop(e),t&&(i=n.focus())&&n.focus(i)}},setScrollerSpacing:function(e,t){var i={marginBottom:0},n=this.element().children("."+this.addWidgetPrefix(p));n.length&&this._fixedTableElement&&(n.css(i),this._fixedTableElement.css(i),i[this.option("rtlEnabled")?"marginLeft":"marginRight"]=e,i.marginBottom=t,(this._scrollable&&this._scrollable.option("useNative")?n:this._fixedTableElement).css(i))},_getElasticScrollTop:function(e){var t=void 0,i=void 0,n=0,l=this.getScrollbarWidth(!0);return e.scrollOffset.top<0?n=-e.scrollOffset.top:e.reachedBottom&&(t=this._findContentElement(),i=e.component._container(),n=Math.max(t.height()+l-i.height(),0)-e.scrollOffset.top),n},_applyElasticScrolling:function(e){if(this._fixedTableElement){var t=this._getElasticScrollTop(e);0!==Math.ceil(t)?x.default.move(this._fixedTableElement,{top:t}):this._fixedTableElement.css("transform","")}},_handleScroll:function(e){this._updateFixedTablePosition(e.scrollOffset.top,!0),this._applyElasticScrolling(e),this.callBase(e)},_updateContentPosition:function(e){this.callBase.apply(this,arguments),e||this._updateFixedTablePosition(this._scrollTop)},_afterRowPrepared:function(e){this._isFixedTableRendering||this.callBase(e)},_scrollToElement:function(e){this.callBase(e,this.getFixedColumnsOffset())},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._fixedScrollTimeout)}}),q=H;module.exports={defaultOptions:function(){return{columnFixing:{enabled:!1,texts:{fix:a.default.format("dxDataGrid-columnFixingFix"),unfix:a.default.format("dxDataGrid-columnFixingUnfix"),leftPosition:a.default.format("dxDataGrid-columnFixingLeftPosition"),rightPosition:a.default.format("dxDataGrid-columnFixingRightPosition")}}}},extenders:{views:{columnHeadersView:V,rowsView:W,footerView:q},controllers:function(){var e=function(e,t,i){var n=S(t),l=e.length-t.length;return(0,h.each)(i,function(e,t){t.index>n&&(t.columnIndex+=l,t.index+=l)}),i};return{draggingHeader:{_generatePointsByColumns:function(t){var i,n=t.columns,l=t.targetDraggingPanel;return l&&"headers"===l.getName()&&l.isFixedColumns()&&t.sourceColumn.fixed?(t.rowIndex||(t.columnElements=l.getFixedColumnElements(0)),t.columns=l.getFixedColumns(t.rowIndex),i=this.callBase(t),e(n,t.columns,i),i):this.callBase(t)},_pointCreated:function(e,t,i,n){var l,s=this.callBase.apply(this,arguments),o=this._columnHeadersView.getTransparentColumnElement();return!s&&"headers"===i&&o&&o.length?(l=o.get(0).getBoundingClientRect(),n&&n.fixed?"right"===n.fixedPosition?e.x<l.right:e.x>l.left:e.x<l.left||e.x>l.right):s}},columnsResizer:{_generatePointsByColumns:function(){var t=this,i=t._columnsController,n=i&&t._columnsController.getVisibleColumns(),l=i&&t._columnsController.getFixedColumns(),s=t._columnHeadersView.getFixedColumnElements(),o=[];t.callBase(),s&&s.length>0&&(o=d.default.getPointsByColumns(s,function(e){return t._pointCreated(e,s.length,l)}),t._pointsByFixedColumns=e(n,l,o))},_pointCreated:function(e,t,i){var n,l,s="widget"===this.option("columnResizingMode");return e.index>0&&e.index<t&&(n=i[e.columnIndex-1]||{},l=i[e.columnIndex]||{},n.fixed||l.fixed)?(e.columnIndex-=1,!((n.allowResizing||n.command===y)&&(s||l.allowResizing||l.command===y))):this.callBase.apply(this,arguments)},_getTargetPoint:function(e,t,i){var n,l=this._columnHeadersView.getTransparentColumnElement();return l&&l.length&&(t<=(n=l.get(0).getBoundingClientRect()).left||t>=n.right)?this.callBase(this._pointsByFixedColumns,t,i):this.callBase(e,t,i)}}}}()}};
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../events/core/wheel":"hGY0","../../localization/message":"Njcj","../grid_core/ui.grid_core.utils":"kk68","../../core/utils/type":"Mw4w","../../core/utils/extend":"ac8T","../../core/utils/iterator":"FHcO","../../core/utils/browser":"nlvS","../../animation/translator":"IRTp"}],"D9UA":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),r=t(e),i=require("../grid_core/ui.grid_core.column_fixing"),u=t(i);function t(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("columnFixing",u.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.column_fixing":"J4ey"}],"YR6u":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=B(e),i=require("../../events/core/events_engine"),n=B(i),o=require("../../events/utils"),l=B(o),a=require("../../events/click"),d=B(a),s=require("../../core/utils/type"),r=B(s),u=require("../../core/utils/browser"),c=B(u),h=require("../../core/guid"),m=B(h),p=require("./ui.grid_core.modules"),C=B(p),f=require("../form"),_=B(f),v=require("./ui.grid_core.utils"),g=B(v),x=require("../themes"),w=B(x),E=require("../../core/utils/window"),y=require("../../core/utils/common"),I=require("../../core/utils/iterator"),b=require("../../core/utils/extend"),R=require("../../core/utils/deferred");function B(e){return e&&e.__esModule?e:{default:e}}var F="columnHeadersView",A="rowsView",D="footerView",V=[F,A,D],W="dxDataGridAdaptivity",T="adaptiveHidden",H="detailAdaptive",M="dx-field-item-content",K="dx-item-modified",P="hidden-column",q="adaptive-more",O="dx-command-adaptive",Q="dx-command-adaptive-hidden",k="dx-adaptive-detail-row",N="dx-adaptive-item-text",S="dx-master-detail-cell",z="dx-last-data-cell",$="adaptive",U="batch",j="row",G="form",L="popup",J="revert-tooltip";function X(e,t){return e._columnsController.getColumnId(t)}function Y(e){return e.find("td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])")}function Z(e,i){var o,a=(0,t.default)(e),s=i.component.getController("adaptiveColumns");"data"===i.rowType?(o=(0,t.default)("<span>").addClass(s.addWidgetPrefix(q)),n.default.on(o,l.default.addNamespace(d.default.name,W),s.createAction(function(){s.toggleExpandAdaptiveDetailRow(i.key)})),o.appendTo(a)):g.default.setEmptyText(a)}var ee=C.default.ViewController.inherit({_isRowEditMode:function(){return this._getEditMode()===j},_isItemModified:function(e,t){var i=this._columnsController.getVisibleIndex(e.column.index),n=this._dataController.getRowIndexByKey(t.key),o=this._dataController.items()[n+1];return o&&o.modifiedValues&&r.default.isDefined(o.modifiedValues[i])},_renderFormViewTemplate:function(e,t,i){var o,l=e.column,a=this.createAction(function(){n.default.trigger(i,d.default.name)}),s=l.calculateCellValue(t.data),u=g.default.getDisplayValue(l,s,t.data,t.rowType),c=g.default.formatValue(u,l),h=this._editingController.isCellOrBatchEditMode();if(l.allowEditing&&this.getController("keyboardNavigation").isKeyboardEnabled()&&(i.attr("tabIndex",this.option("tabIndex")),h&&(n.default.off(i,"focus",a),n.default.on(i,"focus",a))),l.cellTemplate){var m=(0,b.extend)({},t,{value:s,displayValue:u,text:c,column:l});this._rowsView.renderTemplate(i,l.cellTemplate,m,!!i.closest((0,E.getWindow)().document).length)}else o=i.get(0),l.encodeHtml?o.textContent=c:o.innerHTML=c,i.addClass(N),r.default.isDefined(c)&&""!==c||i.html("&nbsp;"),this._isRowEditMode()||this._isItemModified(e,t)&&i.addClass(K);this.getView("rowsView")._cellPrepared(i,t)},_getTemplate:function(e,i){var n=this,o=e.column,l=this.getController("editing");return function(a,d){var s=(0,t.default)(d),r=n._columnsController.getVisibleIndex(o.visibleIndex),u=(0,b.extend)({},i),c=function(){var t=n._isItemEdited(e);u.value=i.row.values[r],t||o.showEditorAlways?l.renderFormEditTemplate(u,e,a.component,s,!t):(u.column=o,u.columnIndex=r,n._renderFormViewTemplate(e,u,s))};c(),u.watch&&u.watch(function(){return{isItemEdited:n._isItemEdited(e),value:i.row.values[r]}},function(){s.contents().remove(),s.removeClass(N),c()})}},_isVisibleColumnsValid:function(e){return!(e<2)&&!(e.length-function(){var t,i=0;for(t=0;t<e.length;t++)e[t].command&&i++;return i}()<=1)},_calculatePercentWidths:function(e,t){var i=this,n=0;return t.forEach(function(t,o){e[o]!==T&&(n+=i._getItemPercentWidth(t))}),n},_isPercentWidth:function(e){return r.default.isString(e)&&"%"===e.slice(-1)},_isColumnHidden:function(e){return this._hiddenColumns.filter(function(t){return t.index===e.index}).length>0},_getAverageColumnsWidth:function(e,t,i){var n=this,o=0,l=0;return t.forEach(function(a){if(!n._isColumnHidden(a)){var d=a.width;r.default.isDefined(d)&&!isNaN(parseFloat(d))?o+=n._isPercentWidth(d)?n._calculatePercentWidth({visibleIndex:a.visibleIndex,columnsCount:t.length,columnsCanFit:i,bestFitWidth:a.bestFitWidth,columnWidth:d,containerWidth:e}):parseFloat(d):l++}}),(e-o)/l},_calculateColumnWidth:function(e,t,i,n){var o,l=X(this,e),a=this._columnsController.columnOption(l,"width"),d=this._columnsController.columnOption(l,"bestFitWidth"),s=i.length;if(a&&"auto"!==a){if(!this._isPercentWidth(a))return a;o=this._calculatePercentWidth({visibleIndex:e.visibleIndex,columnsCount:s,columnsCanFit:n,bestFitWidth:d,columnWidth:a,containerWidth:t})}else{o=this.option("columnAutoWidth")||e.command?d:this._getAverageColumnsWidth(t,i,n)}return o},_calculatePercentWidth:function(e){var t=e.visibleIndex<e.columnsCount-1&&e.columnsCanFit,i=e.containerWidth*parseFloat(e.columnWidth)/100,n=e.columnsCanFit&&i<e.bestFitWidth?e.bestFitWidth:i;return t?e.containerWidth*parseFloat(e.columnWidth)/100:n},_getNotTruncatedColumnWidth:function(e,t,i,n){var o,l=X(this,e),a=this._columnsController.columnOption(l,"width"),d=this._columnsController.columnOption(l,"bestFitWidth");return a&&"auto"!==a&&!this._isPercentWidth(a)?parseFloat(a):(o=this._calculateColumnWidth(e,t,i,n))<d?null:o},_getItemPercentWidth:function(e){var t=0;return e.width&&this._isPercentWidth(e.width)&&(t=parseFloat(e.width)),t},_getCommandColumnsWidth:function(){var e=this,t=e._columnsController.getVisibleColumns(),i=0;return(0,I.each)(t,function(t,n){(n.index<0||n.command)&&(i+=e._columnsController.columnOption(X(e,n),"bestFitWidth")||0)}),i},_isItemEdited:function(e){if(this.isFormEditMode())return!1;if(!this._isRowEditMode()){var t=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,i=this._columnsController.getVisibleIndex(e.column.index);return this._editingController.isEditCell(t,i)}var n=this._editingController.getEditRowKey();return!!(0,y.equalByValue)(n,this._dataController.adaptiveExpandedKey())||void 0},_getFormItemsByHiddenColumns:function(e){var t=[];return(0,I.each)(e,function(e,i){t.push({column:i,name:i.name,dataField:i.dataField,visibleIndex:i.visibleIndex})}),t},_getAdaptiveColumnVisibleIndex:function(e){var t;for(t=0;t<e.length;t++)if(e[t].command===$)return t},_hideAdaptiveColumn:function(e,t){var i=this._getAdaptiveColumnVisibleIndex(t);r.default.isDefined(i)&&(e[i]=T,this._addCssClassToColumn(Q,i))},_removeCssClassFromColumn:function(e){var t,i;for(t=0;t<V.length;t++)(i=this.getView(V[t]))&&i.isVisible()&&i.element()&&i.element().find("."+e).removeClass(e)},_removeCssClassesFromColumns:function(){this._removeCssClassFromColumn(Q),this._removeCssClassFromColumn(this.addWidgetPrefix(P))},_isCellValid:function(e){return e&&e.length&&!e.hasClass(S)},_addCssClassToColumn:function(e,t){var i=this;V.forEach(function(n){var o=i.getView(n);o&&i._addCssClassToViewColumn(o,e,t)})},_addCssClassToViewColumn:function(e,t,i){var n,o,l,a,d=e.name,s=this._columnsController.getVisibleColumns()[i],r=this._editingController&&this._editingController.getEditFormRowIndex();if(e&&e.isVisible()&&s){n=e.getRowsCount();var u=e._getRowElements();for(o=0;o<n;o++)o===r&&d===A||(a=d===F?this._columnsController.getVisibleIndex(s.index,o):i)>=0&&(l=u.eq(o).children().eq(a),this._isCellValid(l)&&l.addClass(t))}},_getEditMode:function(){return this._editingController.getEditMode()},isFormEditMode:function(){var e=this._getEditMode();return e===G||e===L},hideRedundantColumns:function(e,t,i){var n;if(this._hiddenColumns=[],this._isVisibleColumnsValid(t)&&i.length){var o,l,a,d,s,r=0,u=this.component.$element(),c=u.width()-this._getCommandColumnsWidth(),h=function(){var e=this;return t.filter(function(t){return!t.command&&0===e._hiddenColumns.filter(function(e){return e.dataField===t.dataField}).length})}.bind(this),m=h(),p=m.length;do{for(s=!1,r=0,l=(o=this._calculatePercentWidths(e,t))<100&&0!==o,a=0;a<t.length;a++){n=t[a];var C=this._getNotTruncatedColumnWidth(n,c,m,l),f=X(this,n),_=this._columnsController.columnOption(f,"width"),v=this._columnsController.columnOption(f,"minWidth"),g=this._columnsController.columnOption(f,"bestFitWidth");if(e[a]!==T){if(!C&&!n.command&&!n.fixed){s=!0;break}_&&"auto"!==_||(C=Math.max(g||0,v||0)),(n.command!==$||d)&&(r+=C)}else d=!0}if(s=s||r>u.width()){var x=i.pop(),w=this._columnsController.getVisibleIndex(x.index);c+=this._calculateColumnWidth(x,c,m,l),this._addCssClassToColumn(this.addWidgetPrefix(P),w),e[w]=T,this._hiddenColumns.push(x),m=h()}}while(s&&m.length>1&&i.length);p===m.length&&this._hideAdaptiveColumn(e,t)}else this._hideAdaptiveColumn(e,t)},getItemContentByColumnIndex:function(e){var t,i,n;for(i=0;i<this._$itemContents.length;i++)if((n=(t=this._$itemContents.eq(i)).data("dx-form-item"))&&n.column&&this._columnsController.getVisibleIndex(n.column.index)===e)return t},toggleExpandAdaptiveDetailRow:function(e,t){this.isFormEditMode()&&this._editingController.isEditing()||this.getController("data").toggleExpandAdaptiveDetailRow(e,t)},createFormByHiddenColumns:function(e,i){var n=this,o=(0,t.default)(e),l={items:n._getFormItemsByHiddenColumns(n._hiddenColumns),formID:"dx-"+new m.default},a=w.default.isMaterial()?{colCount:2}:{};this.executeAction("onAdaptiveDetailRowPreparing",{formOptions:l}),n._$itemContents=null,n._form=n._createComponent((0,t.default)("<div>").appendTo(o),_.default,(0,b.extend)(a,l,{customizeItem:function(e){var t=e.column||n._columnsController.columnOption(e.name||e.dataField);t&&(e.label=e.label||{},e.label.text=e.label.text||t.caption,e.column=t,e.template=n._getTemplate(e,i,n.updateForm.bind(n))),l.customizeItem&&l.customizeItem.call(this,e)},onContentReady:function(e){l.onContentReady&&l.onContentReady.call(this,e),n._$itemContents=o.find("."+M)}}))},hasAdaptiveDetailRowExpanded:function(){return r.default.isDefined(this._dataController.adaptiveExpandedKey())},updateForm:function(e){this.hasAdaptiveDetailRowExpanded()&&this._form&&r.default.isDefined(this._form._contentReadyAction)&&(e&&e.length?this._form.option("items",this._getFormItemsByHiddenColumns(e)):this._form.repaint())},updateHidingQueue:function(e){var t,i,n=e.filter(function(e){return e.visible&&!e.type&&!e.fixed&&!(r.default.isDefined(e.groupIndex)&&e.groupIndex>=0)});if(this._hidingColumnsQueue=[],this.option("allowColumnResizing")&&"widget"===this.option("columnResizingMode"))return this._hidingColumnsQueue;for(i=0;i<n.length;i++)r.default.isDefined(n[i].hidingPriority)&&n[i].hidingPriority>=0&&(t=!0,this._hidingColumnsQueue[n[i].hidingPriority]=n[i]);if(t)this._hidingColumnsQueue.reverse();else if(this.option("columnHidingEnabled"))for(i=0;i<n.length;i++){var o=this._columnsController.getVisibleIndex(n[i].index);this._hidingColumnsQueue[o]=n[i]}return this._hidingColumnsQueue=this._hidingColumnsQueue.filter(Object),this._hidingColumnsQueue},getHiddenColumns:function(){return this._hiddenColumns},hasHiddenColumns:function(){return this._hiddenColumns.length>0},getHidingColumnsQueue:function(){return this._hidingColumnsQueue},init:function(){var e=this;e._columnsController=e.getController("columns"),e._dataController=e.getController("data"),e._rowsView=e.getView("rowsView"),e._columnsController.addCommandColumn({type:$,command:$,visible:!0,adaptiveHidden:!0,cssClass:O,alignment:"center",width:"auto",cellTemplate:Z,fixedPosition:"right"}),e._columnsController.columnsChanged.add(function(){var t=!!e.updateHidingQueue(e._columnsController.getColumns()).length;e._columnsController.columnOption("command:adaptive","adaptiveHidden",!t,!0)}),e._editingController=e.getController("editing"),e._hidingColumnsQueue=[],e._hiddenColumns=[],e.createAction("onAdaptiveDetailRowPreparing"),e.callBase()},optionChanged:function(e){"columnHidingEnabled"===e.name&&this._columnsController.columnOption("command:adaptive","adaptiveHidden",!e.value),this.callBase(e)},publicMethods:function(){return["isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow"]},isAdaptiveDetailRowExpanded:function(e){return this._dataController.adaptiveExpandedKey()&&(0,y.equalByValue)(this._dataController.adaptiveExpandedKey(),e)},expandAdaptiveDetailRow:function(e){this.hasAdaptiveDetailRowExpanded()||this.toggleExpandAdaptiveDetailRow(e)},collapseAdaptiveDetailRow:function(){this.hasAdaptiveDetailRowExpanded()&&this.toggleExpandAdaptiveDetailRow()}});module.exports={defaultOptions:function(){return{columnHidingEnabled:!1,onAdaptiveDetailRowPreparing:null}},controllers:{adaptiveColumns:ee},extenders:{views:{rowsView:{_getCellTemplate:function(e){var i=this,n=e.column;return e.rowType===H&&"detail"===n.command?function(e,n){i._adaptiveColumnsController.createFormByHiddenColumns((0,t.default)(e),n)}:i.callBase(e)},_createRow:function(e){var t=this.callBase(e);return e&&e.rowType===H&&e.key===this._dataController.adaptiveExpandedKey()&&t.addClass(k),t},_renderCells:function(e,t){this.callBase(e,t);var i=this._adaptiveColumnsController.getHidingColumnsQueue().length,n=this._adaptiveColumnsController.getHiddenColumns().length;i&&!n&&Y(e).last().addClass(z)},_getColumnIndexByElementCore:function(e){var t=e.closest("."+M);if(t.length&&t.closest(this.component.$element()).length){var i=t.length?t.first().data("dx-form-item"):null;return i&&i.column&&this._columnsController.getVisibleIndex(i.column.index)}return this.callBase(e)},_cellPrepared:function(e,t){this.callBase.apply(this,arguments),t.row.rowType!==H&&t.column.visibleWidth===T&&e.addClass(this.addWidgetPrefix(P))},_getCellElement:function(e,t){var i=this._dataController.items()[e];return i&&i.rowType===H?this._adaptiveColumnsController.getItemContentByColumnIndex(t):this.callBase(e,t)},getContextMenuItems:function(e){if(e.row&&"detailAdaptive"===e.row.rowType){var i=this.component.getView("columnHeadersView"),n=(0,t.default)(e.targetElement).closest(".dx-field-item-label").next().data("dx-form-item");return e.column=n?n.column:e.column,i.getContextMenuItems&&i.getContextMenuItems(e)}return this.callBase&&this.callBase(e)},isClickableElement:function(e){return!!this.callBase&&this.callBase(e)||!!e.closest("."+O).length},init:function(){this.callBase(),this._adaptiveColumnsController=this.getController("adaptiveColumns")}}},controllers:{export:{_updateColumnWidth:function(e,t){this.callBase(e,e.visibleWidth===T?e.bestFitWidth:t)}},columnsResizer:{_pointCreated:function(e,t,i){var n=this.callBase(e,t,i),o=i[e.columnIndex]||{},l=this._getNextColumnIndex(e.columnIndex),a=i[l]||{},d=l!==e.columnIndex+1&&a.command,s=o.visibleWidth===T||d;return n||s},_getNextColumnIndex:function(e){for(var t=this._columnsController.getVisibleColumns(),i=this.callBase(e);t[i]&&t[i].visibleWidth===T;)i++;return i}},draggingHeader:{_pointCreated:function(e,t,i,n){var o=this.callBase(e,t,i,n),l=(t[e.columnIndex-1]||{}).visibleWidth===T;return o||l}},editing:{_isRowEditMode:function(){return this.getEditMode()===j},_getFormEditItemTemplate:function(e,t){return this.getEditMode()!==j&&"detailAdaptive"===e.rowType?(e.columnIndex=this._columnsController.getVisibleIndex(t.index),this.getColumnTemplate(e)):this.callBase(e,t)},_closeEditItem:function(e){var t=e.closest("."+M),i=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,n=t.length?t.first().data("dx-form-item"):null,o=n&&n.column&&this._columnsController.getVisibleIndex(n.column.index);this.isEditCell(i,o)||this.callBase(e)},_beforeUpdateItems:function(e,t){if(!this._adaptiveController.isFormEditMode()&&this._adaptiveController.hasHiddenColumns()){var i=this._dataController.items(),n=i[t],o=g.default.getIndexByKey(this._dataController.adaptiveExpandedKey(),i);this._isForceRowAdaptiveExpand=!this._adaptiveController.hasAdaptiveDetailRowExpanded(),o>=0&&t>o&&this._editRowIndex--,o>=0&&e.push(o+1),e.push(t+1),this._dataController.adaptiveExpandedKey(n.key)}},_afterInsertRow:function(e){this.callBase(e),this._adaptiveController.hasHiddenColumns()&&(this._adaptiveController.toggleExpandAdaptiveDetailRow(e.key,this.isRowEditMode()),this._isForceRowAdaptiveExpand=!0)},_collapseAdaptiveDetailRow:function(){this._isRowEditMode()&&this._isForceRowAdaptiveExpand&&(this._adaptiveController.collapseAdaptiveDetailRow(),this._isForceRowAdaptiveExpand=!1)},_cancelEditAdaptiveDetailRow:function(){this._adaptiveController.hasHiddenColumns()&&this._collapseAdaptiveDetailRow()},_afterSaveEditData:function(){var e=this;this.callBase();var t=new R.Deferred;return this._isRowEditMode()&&this._adaptiveController.hasHiddenColumns()?(0,R.when)(this.getController("validating").validate(!0)).done(function(i){i&&e._cancelEditAdaptiveDetailRow(),t.resolve()}):t.resolve(),t.promise()},_beforeCancelEditData:function(){this.callBase(),this._cancelEditAdaptiveDetailRow()},_getRowIndicesForCascadeUpdating:function(e){var t=this.callBase.apply(this,arguments);return this._adaptiveController.isAdaptiveDetailRowExpanded(e.key)&&t.push(e.rowType===H?e.rowIndex-1:e.rowIndex+1),t},_beforeCloseEditCellInBatchMode:function(e){var t,i=this._dataController._adaptiveExpandedKey;i&&(t=g.default.getIndexByKey(i,this._dataController.items()))>-1&&e.unshift(t)},editRow:function(e){this._adaptiveController.isFormEditMode()&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(e)},deleteRow:function(e){var t=this._dataController.getKeyByRowIndex(e);this.getEditMode()===U&&this._adaptiveController.isAdaptiveDetailRowExpanded(t)&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(e)},init:function(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}},resizing:{_needBestFit:function(){return this.callBase()||!!this._adaptiveColumnsController.getHidingColumnsQueue().length},_updateScrollableForIE:function(){var e=this;c.default.msie&&parseInt(c.default.version)<=11&&(this._updateScrollableTimeoutID=setTimeout(function(){e.getView("rowsView")._updateScrollable()}))},_correctColumnWidths:function(e,t){var i,n=this._adaptiveColumnsController,o=this.option("columnAutoWidth"),l=n.getHiddenColumns(),a=n.updateHidingQueue(this._columnsController.getColumns());return n.hideRedundantColumns(e,t,a),i=n.getHiddenColumns(),n.hasAdaptiveDetailRowExpanded()&&l.length!==i.length&&n.updateForm(i),!i.length&&n.collapseAdaptiveDetailRow(),o&&a.length&&!i.length&&this._updateScrollableForIE(),this.callBase.apply(this,arguments)},_toggleBestFitMode:function(e){e&&this._adaptiveColumnsController._removeCssClassesFromColumns(),this.callBase(e)},_needStretch:function(){var e=this._adaptiveColumnsController;return this.callBase.apply(this,arguments)||e.getHidingColumnsQueue().length||e.hasHiddenColumns()},init:function(){this._adaptiveColumnsController=this.getController("adaptiveColumns"),this.callBase()},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._updateScrollableTimeoutID)}},data:{_processItems:function(e,t){var i,n,o=t.changeType;return e=this.callBase.apply(this,arguments),"loadingAll"!==o&&r.default.isDefined(this._adaptiveExpandedKey)?((n=g.default.getIndexByKey(this._adaptiveExpandedKey,e))>=0?(i=e[n],e.splice(n+1,0,{visible:!0,rowType:H,key:i.key,data:i.data,modifiedValues:i.modifiedValues,isNewRow:i.isNewRow,values:i.values})):"refresh"===o&&(this._adaptiveExpandedKey=void 0),e):e},_getRowIndicesForExpand:function(e){var t,i=this.callBase.apply(this,arguments);return this.getController("adaptiveColumns").isAdaptiveDetailRowExpanded(e)&&(t=i[i.length-1],i.push(t+1)),i},adaptiveExpandedKey:function(e){if(!r.default.isDefined(e))return this._adaptiveExpandedKey;this._adaptiveExpandedKey=e},toggleExpandAdaptiveDetailRow:function(e,t){var i=g.default.getIndexByKey(this._adaptiveExpandedKey,this._items),n=g.default.getIndexByKey(e,this._items);i>=0&&i===n&&!t&&(e=void 0,n=-1),this._adaptiveExpandedKey=e,i>=0&&i++,n>=0&&n++;var o=this.getRowIndexDelta();this.updateItems({allowInvisibleRowIndices:!0,changeType:"update",rowIndices:[i-o,n-o]})},init:function(){this.callBase(),this._adaptiveExpandedKey=void 0}},editorFactory:{_getFocusCellSelector:function(){return this.callBase()+", .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content"},_getTooltipsSelector:function(){return this.callBase()+", .dx-field-item-content ."+this.addWidgetPrefix(J)}},columns:{_isColumnVisible:function(e){return this.callBase(e)&&!e.adaptiveHidden}},keyboardNavigation:{_isCellValid:function(e){return this.callBase.apply(this,arguments)&&!e.hasClass(this.addWidgetPrefix(P))},_processNextCellInMasterDetail:function(e){this.callBase(e);var t=this._editingController.isCellOrBatchEditMode();if(!this._isInsideEditForm(e)&&e&&t){n.default.on(e,"focus",function t(){n.default.off(e,"focus",t),n.default.trigger(e,"dxclick")})}},_handleTabKeyOnMasterDetailCell:function(e,t){var i=this.callBase(e,t),n=this._getFocusedCell(),o=n&&n.parent();if(!i&&o&&o.length){var l=Y(o),a="next"===t?l.last():l.first(),d=o.get(0).rowIndex,s=this._adaptiveController,r=this._dataController.getKeyByRowIndex("next"===t?d:d-1),u=n&&a&&n.get(0)===a.get(0);return s.isAdaptiveDetailRowExpanded(r)&&u}return i},init:function(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}}}}};
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../../events/utils":"cNvJ","../../events/click":"RTmy","../../core/utils/type":"Mw4w","../../core/utils/browser":"nlvS","../../core/guid":"tQQP","./ui.grid_core.modules":"vXU0","../form":"C6st","./ui.grid_core.utils":"kk68","../themes":"k2ha","../../core/utils/window":"NXH3","../../core/utils/common":"GcQA","../../core/utils/iterator":"FHcO","../../core/utils/extend":"ac8T","../../core/utils/deferred":"g5TB"}],"is7q":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),r=u(e),i=require("../grid_core/ui.grid_core.adaptivity"),t=u(i);function u(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("adaptivity",t.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.adaptivity":"YR6u"}],"lRtL":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=_(e),n=require("../../events/core/events_engine"),i=_(n),l=require("../data_grid/ui.data_grid.core"),o=_(l),s=require("./ui.grid_core.utils"),c=require("../../core/utils/type"),r=require("../../core/utils/iterator"),a=require("../../core/utils/extend"),d=require("../../core/utils/support"),h=_(d),u=require("../../events/click"),f=_(u),p=require("../../localization/message"),m=_(p),g=require("../../events/utils"),C=require("../../events/hold"),S=_(C),v=require("../selection/selection"),y=_(v),x=require("../../core/utils/deferred");function _(e){return e&&e.__esModule?e:{default:e}}var w="dx-editor-cell",k="dx-row",I="dx-selection",b="dx-select-checkbox",A="dx-select-checkboxes-hidden",R="dx-command-select",K="dx-selection-disabled",B="dx-data-row",D="selection.showCheckBoxesMode",T="selection.mode",W=function(e,n){var i=e.getController("selection"),l=e.getView("rowsView"),o=(0,t.default)(n.target).closest("."+B),s=l.getRowIndex(o);s<0||("onLongTap"===e.option(D)?i.isSelectionWithCheckboxes()?i.stopSelectionWithCheckboxes():i.startSelectionWithCheckboxes():("onClick"===e.option(D)&&i.startSelectionWithCheckboxes(),"always"!==e.option(D)&&i.changeItemSelection(s,{control:!0})))};exports.SelectionController=o.default.Controller.inherit(function(){var e=function(e,n){n.component.getView("rowsView").renderSelectCheckBoxContainer((0,t.default)(e),n)},n=function(e,n){var i=n.column,l=(0,t.default)(e),o=n.component.getView("columnHeadersView");l.addClass(w),o._renderSelectAllCheckBox(l,i),o._attachSelectAllCheckBoxClickEvent(l)};return{init:function(){this._dataController=this.getController("data"),this._selectionMode=this.option(T),this._isSelectionWithCheckboxes=!1,this._selection=this._createSelection(),this._updateSelectColumn(),this.createAction("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_getSelectionConfig:function(){var e=this._dataController,t=this.option("selection")||{};return{selectedKeys:this.option("selectedRowKeys"),mode:this._selectionMode,deferred:t.deferred,maxFilterLengthInRequest:t.maxFilterLengthInRequest,selectionFilter:this.option("selectionFilter"),key:function(){return e&&e.key()},keyOf:function(t){return e&&e.keyOf(t)},dataFields:function(){return e.dataSource()&&e.dataSource().select()},load:function(t){return e.dataSource()&&e.dataSource().load(t)||(new x.Deferred).resolve([])},plainItems:function(){return e.items(!0)},isItemSelected:function(e){return e.selected},isSelectableItem:function(e){return e&&"data"===e.rowType&&!e.isNewRow},getItemData:function(e){return e&&(e.oldData||e.data||e)},filter:function(){return e.getCombinedFilter()},totalCount:function(){return e.totalCount()},onSelectionChanged:this._updateSelectedItems.bind(this)}},_updateSelectColumn:function(){var t=this.getController("columns"),i=this.isSelectColumnVisible();t.addCommandColumn({type:"selection",command:"select",visible:i,visibleIndex:-1,dataType:"boolean",alignment:"center",cssClass:R,width:"auto",cellTemplate:e,headerCellTemplate:n}),t.columnOption("command:select","visible",i)},_createSelection:function(){var e=this._getSelectionConfig();return new y.default(e)},_fireSelectionChanged:function(e){e&&this.executeAction("onSelectionChanged",e);var t=this.option("selection.deferred")?{selectionFilter:this.option("selectionFilter")}:{selectedRowKeys:this.option("selectedRowKeys")};this.selectionChanged.fire(t)},_updateCheckboxesState:function(e){var t=e.isDeferredMode,n=e.selectionFilter,i=e.selectedItemKeys,l=e.removedItemKeys;"onClick"===this.option(D)&&((t?n&&function(e,t){var n=0,i=e._dataController.store(),l=i&&i.key(),o=Array.isArray(l);if(!t.length)return!1;if(o&&Array.isArray(t[0])&&"and"===t[1]){for(var s=0;s<t.length;s++)if(Array.isArray(t[s])){if(t[s][0]!==l[n]||"="!==t[s][1])return!0;n++}return!1}return l!==t[0]}(this,n):i.length>1)?this.startSelectionWithCheckboxes():(t?n&&!n.length:0===i.length&&l.length)&&this.stopSelectionWithCheckboxes())},_updateSelectedItems:function(e){var t,n=this.option("selection.deferred"),i=this._selection.selectionFilter(),l=this._dataController,o=l.items();if(o){var s=this.isSelectionWithCheckboxes(),c=this.getChangedItemIndexes(o);this._updateCheckboxesState({selectedItemKeys:e.selectedItemKeys,removedItemKeys:e.removedItemKeys,selectionFilter:i,isDeferredMode:n}),(c.length||s!==this.isSelectionWithCheckboxes())&&l.updateItems({changeType:"updateSelection",itemIndexes:c}),n?(this.option("selectionFilter",i),t={}):(e.addedItemKeys.length||e.removedItemKeys.length)&&(this._selectedItemsInternalChange=!0,this.option("selectedRowKeys",e.selectedItemKeys.slice(0)),this._selectedItemsInternalChange=!1,t={selectedRowsData:e.selectedItems.slice(0),selectedRowKeys:e.selectedItemKeys.slice(0),currentSelectedRowKeys:e.addedItemKeys.slice(0),currentDeselectedRowKeys:e.removedItemKeys.slice(0)}),this._fireSelectionChanged(t)}},getChangedItemIndexes:function(e){for(var t=[],n=this.option("selection.deferred"),i=0,l=e.length;i<l;i++){var o=e[i],s=this.isRowSelected(n?o.data:o.key);this._selection.isDataItem(o)&&o.isSelected!==s&&t.push(i)}return t},callbackNames:function(){return["selectionChanged"]},optionChanged:function(e){var t=this;switch(t.callBase(e),e.name){case"selection":var n=t._selectionMode;t.init();var i=t._selectionMode,l=t.option("selectedRowKeys");n!==i&&("single"===i?l.length>1&&(l=[l[0]]):"multiple"!==i&&(l=[])),t.selectRows(l).always(function(){t._fireSelectionChanged()}),t.getController("columns").updateColumns(),e.handled=!0;break;case"selectionFilter":this._selection.selectionFilter(e.value),e.handled=!0;break;case"selectedRowKeys":var o=e.value||[];!Array.isArray(o)||t._selectedItemsInternalChange||!t.component.getDataSource()&&o.length||t.selectRows(o),e.handled=!0}},publicMethods:function(){return["selectRows","deselectRows","selectRowsByIndexes","getSelectedRowKeys","getSelectedRowsData","clearSelection","selectAll","deselectAll","startSelectionWithCheckboxes","stopSelectionWithCheckboxes","isRowSelected"]},isRowSelected:function(e){return this._selection.isItemSelected(e)},isSelectColumnVisible:function(){return"multiple"===this.option(T)&&("always"===this.option(D)||"onClick"===this.option(D)||this._isSelectionWithCheckboxes)},_isOnePageSelectAll:function(){return"page"===this.option("selection.selectAllMode")},isSelectAll:function(){return this._selection.getSelectAllState(this._isOnePageSelectAll())},selectAll:function(){return"onClick"===this.option(D)&&this.startSelectionWithCheckboxes(),this._selection.selectAll(this._isOnePageSelectAll())},deselectAll:function(){return this._selection.deselectAll(this._isOnePageSelectAll())},clearSelection:function(){return this.selectedItemKeys([])},refresh:function(){var e=this.option("selectedRowKeys")||[];return!this.option("selection.deferred")&&e.length?this.selectedItemKeys(e):(new x.Deferred).resolve().promise()},selectedItemKeys:function(e,t,n,i){return this._selection.selectedItemKeys(e,t,n,i)},getSelectedRowKeys:function(){return this._selection.getSelectedItemKeys()},selectRows:function(e,t){return this.selectedItemKeys(e,t)},deselectRows:function(e){return this.selectedItemKeys(e,!0,!0)},selectRowsByIndexes:function(e){var t=this._dataController.items(),n=[];return Array.isArray(e)||(e=Array.prototype.slice.call(arguments,0)),(0,r.each)(e,function(){var e=t[this];e&&"data"===e.rowType&&n.push(e.key)}),this.selectRows(n)},getSelectedRowsData:function(){return this._selection.getSelectedItems()},changeItemSelection:function(e,t){return t=t||{},this.isSelectionWithCheckboxes()&&(t.control=!0),this._selection.changeItemSelection(this._dataController.getRowIndexDelta()+e,t)},focusedItemIndex:function(e){if(!(0,c.isDefined)(e))return this._selection._focusedItemIndex;this._selection._focusedItemIndex=e},isSelectionWithCheckboxes:function(){return"multiple"===this.option(T)&&("always"===this.option(D)||this._isSelectionWithCheckboxes)},startSelectionWithCheckboxes:function(){return"multiple"===this.option(T)&&!this.isSelectionWithCheckboxes()&&(this._isSelectionWithCheckboxes=!0,this._updateSelectColumn(),!0)},stopSelectionWithCheckboxes:function(){return!!this._isSelectionWithCheckboxes&&(this._isSelectionWithCheckboxes=!1,this._updateSelectColumn(),!0)}}}()),module.exports={defaultOptions:function(){return{selection:{mode:"none",showCheckBoxesMode:"onClick",allowSelectAll:!0,selectAllMode:"allPages",maxFilterLengthInRequest:1500,deferred:!1},selectionFilter:[],selectedRowKeys:[]}},controllers:{selection:exports.SelectionController},extenders:{controllers:{data:{init:function(){var e=this.getController("selection"),t=this.option("selection.deferred");this.callBase.apply(this,arguments),t&&e._updateCheckboxesState({isDeferredMode:!0,selectionFilter:this.option("selectionFilter")})},_loadDataSource:function(){var e=this;return e.callBase().done(function(){e.getController("selection").refresh()})},_processDataItem:function(e,t){var n=this.getController("selection"),i=n.isSelectColumnVisible(),l=t.isDeferredSelection=void 0===t.isDeferredSelection?this.option("selection.deferred"):t.isDeferredSelection,o=this.callBase.apply(this,arguments);if(o.isSelected=n.isRowSelected(l?o.data:o.key),i&&o.values)for(var s=0;s<t.visibleColumns.length;s++)if("select"===t.visibleColumns[s].command){o.values[s]=o.isSelected;break}return o},refresh:function(e){var t=this,n=new x.Deferred;return this.callBase.apply(this,arguments).done(function(){!e||e.selection?t.getController("selection").refresh().done(n.resolve).fail(n.reject):n.resolve()}).fail(n.reject),n.promise()},_handleDataChanged:function(e){this.callBase.apply(this,arguments),e&&"refresh"!==e.changeType||this._repaintChangesOnly||this.getController("selection").focusedItemIndex(-1)},_applyChange:function(e){var t=this;if(!e||"updateSelection"!==e.changeType)return this.callBase.apply(this,arguments);e.items.forEach(function(e,n){var i=t._items[n];i&&(i.isSelected=e.isSelected,i.values=e.values)})},_endUpdateCore:function(){var e=this._changes;if(e.length>1&&e.every(function(e){return"updateSelection"===e.changeType})){var t=e.map(function(e){return e.itemIndexes||[]}).reduce(function(e,t){return e.concat(t)});this._changes=[{changeType:"updateSelection",itemIndexes:t}]}this.callBase.apply(this,arguments)}},contextMenu:{_contextMenuPrepared:function(e){var t=e.event;t.originalEvent&&"dxhold"!==t.originalEvent.type||e.items&&e.items.length>0||W(this,t)}}},views:{columnHeadersView:{init:function(){this.callBase(),this.getController("selection").selectionChanged.add(this._updateSelectAllValue.bind(this))},_updateSelectAllValue:function(){var e=this.element(),t=e&&e.find("."+b);e&&t.length&&"multiple"===this.option("selection.mode")&&t.dxCheckBox("instance").option("value",this.getController("selection").isSelectAll())},_handleDataChanged:function(e){this.callBase(e),e&&"refresh"!==e.changeType||this._updateSelectAllValue()},_renderSelectAllCheckBox:function(e,n){var i,l=this,o=l.getController("selection");return i=(0,t.default)("<div>").appendTo(e).addClass(b),l.setAria("label",m.default.format("dxDataGrid-ariaSelectAll"),e),l.getController("editorFactory").createEditor(i,(0,a.extend)({},n,{parentType:"headerRow",dataType:"boolean",value:o.isSelectAll(),editorOptions:{visible:l.option("selection.allowSelectAll")||!1!==o.isSelectAll()},tabIndex:l.option("useLegacyKeyboardNavigation")?-1:l.option("tabIndex")||0,setValue:function(e,t){var n=l.option("selection.allowSelectAll");t.component.option("visible",n||!1!==t.component.option("value")),t.event&&o.isSelectAll()!==e&&(t.value&&!n?t.component.option("value",!1):t.value?o.selectAll():o.deselectAll(),t.event.preventDefault())}})),i},_attachSelectAllCheckBoxClickEvent:function(e){i.default.on(e,f.default.name,this.createAction(function(e){var n=e.event;(0,t.default)(n.target).closest("."+b).length||i.default.trigger((0,t.default)(n.currentTarget).children("."+b),f.default.name),n.preventDefault()}))}},rowsView:{renderSelectCheckBoxContainer:function(e,t){"data"!==t.rowType||t.row.isNewRow?(0,s.setEmptyText)(e):(e.addClass(w),this._attachCheckBoxClickEvent(e),this.setAria("label",m.default.format("dxDataGrid-ariaSelectRow"),e),this._renderSelectCheckBox(e,t))},_renderSelectCheckBox:function(e,n){var l=(0,t.default)("<div>").addClass(b).appendTo(e);return this.getController("editorFactory").createEditor(l,(0,a.extend)({},n.column,{parentType:"dataRow",dataType:"boolean",lookup:null,value:n.value,tabIndex:-1,setValue:function(t,n){n&&n.event&&"keydown"===n.event.type&&i.default.trigger(e,f.default.name,n)},row:n.row})),l},_attachCheckBoxClickEvent:function(e){i.default.on(e,f.default.name,this.createAction(function(e){var n=this.getController("selection"),i=e.event,l=this.getRowIndex((0,t.default)(i.currentTarget).closest("."+k));l>=0&&(n.startSelectionWithCheckboxes(),n.changeItemSelection(l,{shift:i.shiftKey}),(0,t.default)(i.target).closest("."+b).length&&this.getController("data").updateItems({changeType:"updateSelection",itemIndexes:[l]}))}))},_update:function(e){var n=this,i=n.getTableElements();"updateSelection"===e.changeType?i.length>0&&((0,r.each)(i,function(i,l){(0,r.each)(e.itemIndexes||[],function(i,o){var s,c;e.items[o]&&(s=n._getRowElements((0,t.default)(l)).eq(o)).length&&(c=e.items[o].isSelected,s.toggleClass(I,void 0!==c&&c).find("."+b).dxCheckBox("option","value",c),n.setAria("selected",c,s))})}),n._updateCheckboxesClass()):n.callBase(e)},_createTable:function(){var e=this,t=e.option("selection.mode"),n=e.callBase.apply(e,arguments);return"none"!==t&&("onLongTap"!==e.option(D)&&h.default.touch||i.default.on(n,(0,g.addNamespace)(S.default.name,"dxDataGridRowsView"),"."+B,e.createAction(function(t){W(e.component,t.event),t.event.stopPropagation()})),i.default.on(n,"mousedown selectstart",e.createAction(function(e){var t=e.event;t.shiftKey&&t.preventDefault()}))),n},_createRow:function(e){var t,n=this.callBase(e);return e&&((t=!!e.isSelected)&&n.addClass(I),this.setAria("selected",t,n)),n},_rowClick:function(e){var n=e.event,i=(0,t.default)(n.target).closest("."+K).length;this.isClickableElement((0,t.default)(n.target))||(i||"multiple"===this.option(T)&&"always"===this.option(D)||this.getController("selection").changeItemSelection(e.rowIndex,{control:n.ctrlKey||n.metaKey,shift:n.shiftKey})&&(n.preventDefault(),e.handled=!0),this.callBase(e))},isClickableElement:function(e){return!!e.closest("."+R).length},_renderCore:function(e){this.callBase(e),this._updateCheckboxesClass()},_updateCheckboxesClass:function(){var e=this.getTableElements(),n=this.getController("selection"),i=n.isSelectColumnVisible()&&!n.isSelectionWithCheckboxes();(0,r.each)(e,function(e,n){(0,t.default)(n).toggleClass(A,i)})}}}}};
},{"../../core/renderer":"qxFQ","../../events/core/events_engine":"oNrb","../data_grid/ui.data_grid.core":"aFu5","./ui.grid_core.utils":"kk68","../../core/utils/type":"Mw4w","../../core/utils/iterator":"FHcO","../../core/utils/extend":"ac8T","../../core/utils/support":"eZC7","../../events/click":"RTmy","../../localization/message":"Njcj","../../events/utils":"cNvJ","../../events/hold":"zW3q","../selection/selection":"FLm2","../../core/utils/deferred":"g5TB"}],"ubdI":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=d(e),n=require("./ui.tree_list.core"),i=d(n),l=require("../../core/utils/common"),o=require("../grid_core/ui.grid_core.selection"),s=d(o),r=require("../widget/ui.errors"),c=d(r),a=require("../../core/utils/extend");function d(e){return e&&e.__esModule?e:{default:e}}var u="dx-treelist-select-all",h="dx-cell-focus-disabled",y="dx-select-checkbox",f=s.default.extenders.views.rowsView._rowClick,S=s.default.extenders.controllers.data._handleDataChanged,p=function(e,t){return!!e.filter(function(e){return e===t}).length};i.default.registerModule("selection",(0,a.extend)(!0,{},s.default,{defaultOptions:function(){return(0,a.extend)(!0,s.default.defaultOptions(),{selection:{showCheckBoxesMode:"always",recursive:!1}})},extenders:{controllers:{data:{_handleDataChanged:function(e){var t=this.getController("selection");!t.isRecursiveSelection()||e&&"updateSelectionState"===e.changeType||t.updateSelectionState({selectedItemKeys:this.option("selectedRowKeys")}),S.apply(this,arguments)},loadDescendants:function(){var e=this,t=e.callBase.apply(e,arguments),n=e.getController("selection");return n.isRecursiveSelection()&&t.done(function(){n.updateSelectionState({selectedItemKeys:e.option("selectedRowKeys")})}),t}},selection:{init:function(){this.callBase.apply(this,arguments),this._selectionStateByKey={}},_getSelectionConfig:function(){var e=this,t=arguments,n=this.callBase.apply(this,arguments),i=n.plainItems;return n.plainItems=function(n){return n?e._dataController.getCachedStoreData()||[]:i.apply(e,t).map(function(e){return e.data})},n.isItemSelected=function(t){var n=e._dataController.keyOf(t);return e.isRowSelected(n)},n.isSelectableItem=function(){return!0},n.getItemData=function(e){return e},n},renderSelectCheckBoxContainer:function(e,t){var n=this.component.getView("rowsView");e.addClass(h);var i=n._renderSelectCheckBox(e,{value:t.row.isSelected,row:t.row,column:t.column});n._attachCheckBoxClickEvent(i)},_updateSelectColumn:l.noop,_getVisibleNodeKeys:function(e){var t=this.component,n=t.getRootNode(),l={},o=[];return n&&i.default.foreachNodes(n.children,function(n){return void 0!==n.key&&(n.visible||e)&&o.push(n.key),!e&&t.isRowExpanded(n.key,l)}),o},isSelectAll:function(){var e=this.component,t=this._getVisibleNodeKeys(),n=t.filter(function(t){return e.isRowSelected(t)});return n.length?n.length===t.length||void 0:!!t.some(function(t){return void 0===e.isRowSelected(t)})&&void 0},selectAll:function(){var e=this,t=e.isRecursiveSelection(),n=e._getVisibleNodeKeys(t).filter(function(t){return!e.isRowSelected(t)});return e.selectRows(n,!0)},deselectAll:function(){var e=this.isRecursiveSelection(),t=this._getVisibleNodeKeys(e);return this.deselectRows(t)},selectedItemKeys:function(e,t,n,i){var o=this,s=o.option("selectedRowKeys"),r=this.isRecursiveSelection()&&o._normalizeSelectionArgs({keys:e||[]},!n);return r&&!(0,l.equalByValue)(r.selectedRowKeys,s)?(o._isSelectionNormalizing=!0,this.callBase(r.selectedRowKeys,!1,!1,!1).always(function(){o._isSelectionNormalizing=!1}).done(function(e){r.selectedRowsData=e,o._fireSelectionChanged(r)})):this.callBase(e,t,n,i)},changeItemSelection:function(e,t){if(this.isRecursiveSelection()&&!t.shift){var n=this._dataController.getKeyByRowIndex(e);return this.selectedItemKeys(n,!0,this.isRowSelected(n))}return this.callBase.apply(this,arguments)},_updateParentSelectionState:function(e,t){var n=this,i=t,l=e.parent;l&&(l.children.length>1&&(!1===t?i=!!l.children.some(function(e,t,i){return n._selectionStateByKey[e.key]})&&void 0:!0===t&&(i=!l.children.some(function(e){return!n._selectionStateByKey[e.key]})||void 0)),this._selectionStateByKey[l.key]=i,l.parent&&l.parent.level>=0&&this._updateParentSelectionState(l,i))},_updateChildrenSelectionState:function(e,t){var n=this,i=e.children;i&&i.forEach(function(e){n._selectionStateByKey[e.key]=t,e.children.length>0&&n._updateChildrenSelectionState(e,t)})},_updateSelectionStateCore:function(e,t){for(var n,i=this._dataController,l=0;l<e.length;l++)this._selectionStateByKey[e[l]]=t,(n=i.getNodeByKey(e[l]))&&(this._updateParentSelectionState(n,t),this._updateChildrenSelectionState(n,t))},_getSelectedParentKeys:function(e,t,n){for(var i,l=this._dataController.getNodeByKey(e),o=l&&l.parent,s=[];o&&o.level>=0;){if(s.unshift(o.key),n?!p(t,o.key)&&this.isRowSelected(o.key):t.indexOf(o.key)>=0){i=o,s=this._getSelectedParentKeys(i.key,t,n).concat(s);break}if(n)break;o=o.parent}return i&&s||[]},_getSelectedChildKeys:function(e,t){var n=this,l=[];return e&&i.default.foreachNodes(e.children,function(e){var i=t.indexOf(e.key);return i<0&&l.push(e.key),i>0||i<0&&void 0===n._selectionStateByKey[e.key]}),l},_normalizeParentKeys:function(e,t){var n,i,l,o=[e],s=this._getSelectedParentKeys(e,t.selectedRowKeys);s.length&&((o=o.concat(s)).forEach(function(e){(n=t.selectedRowKeys.indexOf(e))>=0&&t.selectedRowKeys.splice(n,1)}),l=this._dataController.getNodeByKey(s[0]),i=this._getSelectedChildKeys(l,o),t.selectedRowKeys=t.selectedRowKeys.concat(i))},_normalizeChildrenKeys:function(e,t){var n,i=this,l=i._dataController.getNodeByKey(e);l&&l.children.forEach(function(e){(n=t.selectedRowKeys.indexOf(e.key))>=0&&t.selectedRowKeys.splice(n,1),i._normalizeChildrenKeys(e.key,t)})},_normalizeSelectedRowKeysCore:function(e,t,n){var i,l=this;e.forEach(function(e){l.isRowSelected(e)!==n&&(l._normalizeChildrenKeys(e,t),i=t.selectedRowKeys.indexOf(e),n?(i<0&&t.selectedRowKeys.push(e),t.currentSelectedRowKeys.push(e)):(i>=0&&t.selectedRowKeys.splice(i,1),t.currentDeselectedRowKeys.push(e),l._normalizeParentKeys(e,t)))})},_normalizeSelectionArgs:function(e,t){var n,i=Array.isArray(e.keys)?e.keys:[e.keys],l=this.option("selectedRowKeys")||[];return i.length&&(n={currentSelectedRowKeys:[],currentDeselectedRowKeys:[],selectedRowKeys:l.slice(0)},this._normalizeSelectedRowKeysCore(i,n,t)),n},_updateSelectedItems:function(e){this.updateSelectionState(e),this.callBase(e)},_fireSelectionChanged:function(){this._isSelectionNormalizing||this.callBase.apply(this,arguments)},_isModeLeavesOnly:function(e){return"leavesOnly"===e||!0===e},_getAllSelectedRowKeys:function(e){var t=this,n=[];return e.forEach(function(e){var i=n.length,l=t._getSelectedParentKeys(e,n,!0),o=t._dataController.getChildNodeKeys(e);n.splice.apply(n,[i,0].concat(l)),n.push(e),n=n.concat(o)}),n},_getParentSelectedRowKeys:function(e){var t=this,n=[];return e.forEach(function(i){!t._getSelectedParentKeys(i,e).length&&n.push(i)}),n},_getLeafSelectedRowKeys:function(e){var t=[],n=this._dataController;return e.forEach(function(e){var i=n.getNodeByKey(e);i&&!i.hasChildren&&t.push(e)}),t},isRecursiveSelection:function(){var e=this.option("selection.mode"),t=this.option("selection.recursive");return"multiple"===e&&t},updateSelectionState:function(e){var t=e.removedItemKeys||[],n=e.selectedItemKeys||[];this._updateSelectionStateCore(t,!1),this._updateSelectionStateCore(n,!0)},isRowSelected:function(e){var t=this.callBase.apply(this,arguments),n=this.isRecursiveSelection();return!t&&n?e in this._selectionStateByKey&&this._selectionStateByKey[e]:t},getSelectedRowKeys:function(e){if(!this._dataController)return[];!0===e&&c.default.log("W0002","dxTreeList","getSelectedRowKeys(leavesOnly)","18.1","Use the 'getSelectedRowKeys(mode)' method with a string parameter instead");var t=this.callBase.apply(this,arguments);return e&&(this.isRecursiveSelection()&&(t=this._getAllSelectedRowKeys(t)),"all"!==e&&("excludeRecursive"===e?t=this._getParentSelectedRowKeys(t):this._isModeLeavesOnly(e)&&(t=this._getLeafSelectedRowKeys(t)))),t},getSelectedRowsData:function(e){var t=this._dataController,n=this.getSelectedRowKeys(e)||[],i=[];return n.forEach(function(e){var n=t.getNodeByKey(e);n&&i.push(n.data)}),i},refresh:function(){return this._selectionStateByKey={},this.callBase.apply(this,arguments)}}},views:{columnHeadersView:{_processTemplate:function(e,t){var n=this,i=this.callBase(e,t),l=n._columnsController.getFirstDataColumnIndex();return i&&"header"===t.rowType&&t.column.index===l?{render:function(e){"multiple"===n.option("selection.mode")&&n.renderSelectAll(e.container,e.model),i.render(e)}}:i},renderSelectAll:function(e,t){e.addClass(u),this._renderSelectAllCheckBox(e)},_isSortableElement:function(e){return this.callBase(e)&&!e.closest("."+y).length}},rowsView:{_renderExpandIcon:function(e,t){var n=this.callBase(e,t);return"multiple"===this.option("selection.mode")&&this.getController("selection").renderSelectCheckBoxContainer(n,t),n},_rowClick:function(e){var n=(0,t.default)(e.event.target);this.isExpandIcon(n)?this.callBase.apply(this,arguments):f.apply(this,arguments)}}}}}));
},{"../../core/renderer":"qxFQ","./ui.tree_list.core":"O4Kv","../../core/utils/common":"GcQA","../grid_core/ui.grid_core.selection":"lRtL","../widget/ui.errors":"RFsS","../../core/utils/extend":"ac8T"}],"sf3v":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=d(e),i=require("../../core/dom_adapter"),a=d(i),r=require("../../core/utils/type"),n=require("../../core/utils/data"),l=require("../../core/utils/iterator"),s=require("./ui.grid_core.utils"),h=require("../../localization/message"),o=d(h),c=require("../../data/query"),u=d(c);function d(e){return e&&e.__esModule?e:{default:e}}var f="search-panel",p="search-text",g="header-panel",x=700;function m(e){return(0,r.isDefined)(e.allowSearch)?e.allowSearch:e.allowFiltering}function T(e,t){var i=e.lookup;return e.parseValue?i?e.parseValue.call(i,t):e.parseValue(t):t}module.exports={defaultOptions:function(){return{searchPanel:{visible:!1,width:160,placeholder:o.default.format("dxDataGrid-searchPanelPlaceholder"),highlightSearchText:!0,highlightCaseSensitive:!1,text:"",searchVisibleColumnsOnly:!1}}},extenders:{controllers:{data:{publicMethods:function(){return this.callBase().concat(["searchByText"])},_calculateAdditionalFilter:function(){var e=this.callBase(),t=function(e,t){var i,a,r,l,h=e._columnsController.getColumns(),o=e.option("searchPanel.searchVisibleColumnsOnly"),c=[];if(!t)return null;function d(e){var t,i,r=(0,n.compileGetter)(l.valueExpr);for(t=0;t<e.length;t++)i=r(e[t]),c.push(a.createFilterExpression(i,null,"search"))}for(i=0;i<h.length;i++)a=h[i],o&&!a.visible||m(a)&&a.calculateFilterExpression&&(l=a.lookup,r=T(a,t),l&&l.items?(0,u.default)(l.items).filter(a.createFilterExpression.call({dataField:l.displayExpr,dataType:l.dataType,calculateFilterExpression:a.calculateFilterExpression},r,null,"search")).enumerate().done(d):void 0!==r&&c.push(a.createFilterExpression(r,null,"search")));return(0,s.combineFilters)(c,"or")}(this,this.option("searchPanel.text"));return(0,s.combineFilters)([e,t])},searchByText:function(e){this.option("searchPanel.text",e)},optionChanged:function(e){switch(e.fullName){case"searchPanel.text":case"searchPanel":this._applyFilter(),e.handled=!0;break;default:this.callBase(e)}}}},views:{headerPanel:function(){var e=function(e){return e.option("searchPanel")};return{_getToolbarItems:function(){var e=this.callBase();return this._prepareSearchItem(e)},_prepareSearchItem:function(i){var a=this,r=a.getController("data"),n=e(a);if(n&&n.visible){var l={template:function(e,i,l){var s=(0,t.default)("<div>").addClass(a.addWidgetPrefix(f)).appendTo(l);a.getController("editorFactory").createEditor(s,{width:n.width,placeholder:n.placeholder,parentType:"searchPanel",value:a.option("searchPanel.text"),updateValueTimeout:x,setValue:function(e){r.searchByText(e)},editorOptions:{inputAttr:{"aria-label":o.default.format("dxDataGrid-ariaSearchInGrid")}}}),a.resize()},name:"searchPanel",location:"after",locateInMenu:"never",sortIndex:40};i.push(l)}return i},getSearchTextEditor:function(){var e=this,i=e.element(),a=i.find("."+e.addWidgetPrefix(f)).filter(function(){return(0,t.default)(this).closest("."+e.addWidgetPrefix(g)).is(i)});return a.length?a.dxTextBox("instance"):null},isVisible:function(){var t=e(this);return this.callBase()||t&&t.visible},optionChanged:function(e){if("searchPanel"===e.name){if("searchPanel.text"===e.fullName){var t=this.getSearchTextEditor();t&&t.option("value",e.value)}else this._invalidate();e.handled=!0}else this.callBase(e)}}}(),rowsView:{init:function(){this.callBase.apply(this,arguments),this._searchParams=[]},_getFormattedSearchText:function(e,t){var i=T(e,t),a=(0,s.getFormatOptionsByColumn)(e,"search");return(0,s.formatValue)(i,a)},_getStringNormalizer:function(){var e=this.option("searchPanel.highlightCaseSensitive");return function(t){return e?t:t.toLowerCase()}},_findHighlightingTextNodes:function(e,i,a){var r,n,l=i.parent(),s=this._getStringNormalizer(),h=s(a);return l.length?e&&(e.groupIndex>=0&&!e.showWhenGrouped?r=i:(n=this._columnsController.getVisibleIndex(e.index),r=l.children("td").eq(n).find("*"))):l=(0,t.default)("<div>").append(i),r=(r=r&&r.length?r:l.find("*")).filter(function(e,i){for(var a=(0,t.default)(i).contents(),r=0;r<a.length;r++){var n=a.get(r);return 3===n.nodeType&&s(n.textContent||n.nodeValue).indexOf(h)>-1}})},_highlightSearchTextCore:function(e,i){var r=(0,t.default)("<span>").addClass(this.addWidgetPrefix(p)),n=e.text(),l=e[0],s=this._getStringNormalizer(),h=s(n).indexOf(s(i));if(h>=0)return l.textContent?l.textContent=n.substr(0,h):l.nodeValue=n.substr(0,h),e.after(r.text(n.substr(h,i.length))),e=(0,t.default)(a.default.createTextNode(n.substr(h+i.length))).insertAfter(r),this._highlightSearchTextCore(e,i)},_highlightSearchText:function(e,i,a){var r=this,n=this._getStringNormalizer(),s=r.option("searchPanel.text");if(i&&a&&(s=s&&r._getFormattedSearchText(a,s)),s&&r.option("searchPanel.highlightSearchText")){var h=r._findHighlightingTextNodes(a,e,s);(0,l.each)(h,function(e,a){(0,l.each)((0,t.default)(a).contents(),function(e,a){i?n((0,t.default)(a).text())===n(s)&&(0,t.default)(this).replaceWith((0,t.default)("<span>").addClass(r.addWidgetPrefix(p)).text((0,t.default)(a).text())):r._highlightSearchTextCore((0,t.default)(a),s)})})}},_renderCore:function(){this.callBase.apply(this,arguments),this.option("rowTemplate")&&(this.option("templatesRenderAsynchronously")?(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(function(){this._highlightSearchText(this._getTableElement())}.bind(this))):this._highlightSearchText(this._getTableElement()))},_updateCell:function(e,t){var i=t.column,a="string"!==(i.lookup&&i.lookup.dataType||i.dataType);m(i)&&(this.option("templatesRenderAsynchronously")?(this._searchParams.length||(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(function(){this._searchParams.forEach(function(e){this._highlightSearchText.apply(this,e)}.bind(this)),this._searchParams=[]}.bind(this))),this._searchParams.push([e,a,i])):this._highlightSearchText(e,a,i)),this.callBase(e,t)},dispose:function(){clearTimeout(this._highlightTimer),this.callBase()}}}}};
},{"../../core/renderer":"qxFQ","../../core/dom_adapter":"RRDy","../../core/utils/type":"Mw4w","../../core/utils/data":"YLhW","../../core/utils/iterator":"FHcO","./ui.grid_core.utils":"kk68","../../localization/message":"Njcj","../../data/query":"TnO4"}],"Vwoy":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),r=t(e),u=require("../grid_core/ui.grid_core.search"),i=t(u);function t(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("search",i.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.search":"sf3v"}],"lGTF":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=I(e),i=require("../../core/dom_adapter"),n=I(i),o=require("../../events/core/events_engine"),s=I(o),l=require("./ui.grid_core.modules"),r=I(l),a=require("./ui.grid_core.utils"),d=require("../../core/utils/type"),u=require("../../core/utils/array"),c=require("../widget/selectors"),h=require("../widget/ui.keyboard_processor"),g=I(h),f=require("../../events/utils"),_=I(f),C=require("../../events/pointer"),w=I(C),p=require("../../core/utils/common"),x=require("../shared/accessibility"),v=require("../../core/utils/browser"),m=I(v);function I(e){return e&&e.__esModule?e:{default:e}}var y="rowsview",E="edit-form",F="group-footer",b="dx-row",V="dx-data-row",R="dx-group-row",P="edit-form-item",N="dx-master-detail-row",T="dx-freespace-row",k="dx-virtual-row",K="dx-master-detail-cell",D="dx-editor-cell",H="dx-edit-row",A="dx-dropdowneditor-overlay",S="dx-command-expand",B="dx-command-select",M="[class^=dx-command]",O="dx-cell-focus-disabled",L="dxDateBox",q="dx-state-focused",$="dx-widget",W="delete",G="input:not([type='hidden']), textarea, a, select, [tabindex]",U="row",j="form",z="batch",J="cell",Q="row",X="cell";function Y(e){return e&&e.hasClass(R)}function Z(e){return e&&e.hasClass(N)}function ee(e){return e&&!Y(e)&&!Z(e)}function te(e){return!e||e.hasClass(T)||e.hasClass(k)}function ie(e){return e.length&&"TD"===e[0].tagName}function ne(e,t){return!e._isRowEditMode()&&t&&t.hasClass(D)}function oe(e){return(0,d.isDefined)(e)&&e.length>0}var se=r.default.ViewController.inherit({init:function(){var e=this;e.isKeyboardEnabled()&&(e._dataController=e.getController("data"),e._selectionController=e.getController("selection"),e._editingController=e.getController("editing"),e._headerPanel=e.getView("headerPanel"),e._columnsController=e.getController("columns"),e.getController("editorFactory").focused.add(function(t){e.setupFocusedView(),e._isNeedScroll&&t.is(":visible")&&e._focusedView&&e._focusedView.getScrollable&&(e._focusedView._scrollToElement(t),e._isNeedScroll=!1)}),e._fastEditingStarted=!1,e._focusedCellPosition={},e._canceledCellPosition=null,e._initViewHandlers(),e._documentClickHandler=e.createAction(function(i){var n=(0,t.default)(i.event.target),o=e._isEventInCurrentGrid(i.event)&&n.closest("."+e.addWidgetPrefix(y)).length,s=n.closest("."+A).length;o||s||e._resetFocusedCell()}),e.createAction("onKeyDown"),s.default.on(n.default.getDocument(),_.default.addNamespace(w.default.down,"dxDataGridKeyboardNavigation"),e._documentClickHandler))},_initViewHandlers:function(){var e=this,i=e.createAction(e._clickHandler),n=e.getView("rowsView");n.renderCompleted.add(function(o){var l=n.element(),r=!o||"refresh"===o.changeType,a=e._focusedView&&e._focusedView.name===n.name,d=o&&("append"===o.changeType||"prepend"===o.changeType),u="."+b+" > td, ."+b,c=(0,t.default)(":focus"),h=!c.length||c.closest(l).length||m.default.msie&&c.is("body");s.default.off(l,_.default.addNamespace(w.default.up,"dxDataGridKeyboardNavigation"),i),s.default.on(l,_.default.addNamespace(w.default.up,"dxDataGridKeyboardNavigation"),u,i),e._initKeyDownProcessor(e,l,e._keyDownHandler),a&&h&&(e._isNeedFocus?!d:e._isHiddenFocus&&r)&&e._updateFocus(!0)})},_initKeyDownProcessor:function(e,t,i){this._keyDownProcessor&&(this._keyDownProcessor.dispose(),this._keyDownProcessor=null),this._keyDownProcessor=new g.default({element:t,context:e,handler:i})},dispose:function(){this.callBase(),this._focusedView=null,this._keyDownProcessor&&this._keyDownProcessor.dispose(),s.default.off(n.default.getDocument(),_.default.addNamespace(w.default.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler)},optionChanged:function(e){switch(e.name){case"keyboardNavigation":case"useLegacyKeyboardNavigation":e.handled=!0;break;default:this.callBase(e)}},isRowFocusType:function(){return this.focusType===Q},isCellFocusType:function(){return this.focusType===X},setRowFocusType:function(){this.option("focusedRowEnabled")&&(this.focusType=Q)},setCellFocusType:function(){this.focusType=X},_keyDownHandler:function(e){var t,i=this._editingController.isEditing(),n=!0,o=e.originalEvent;if(t=this._processOnKeyDown(e),!o.isDefaultPrevented()&&(this._isNeedFocus=!0,this._isNeedScroll=!0,this._updateFocusedCellPosition(this._getCellElementFromTarget(o.target)),!t)){switch(e.keyName){case"leftArrow":case"rightArrow":this._leftRightKeysHandler(e,i);break;case"upArrow":case"downArrow":e.ctrl?(0,x.selectView)("rowsView",this,o):this._upDownKeysHandler(e,i);break;case"pageUp":case"pageDown":this._pageUpDownKeyHandler(e);break;case"space":this._spaceKeyHandler(e,i);break;case"A":e.ctrl?this._ctrlAKeyHandler(e,i):this._beginFastEditing(e.originalEvent);break;case"tab":this._tabKeyHandler(e,i);break;case"enter":this._enterKeyHandler(e,i);break;case"escape":this._escapeKeyHandler(e,i);break;case"F":e.ctrl?this._ctrlFKeyHandler(e):this._beginFastEditing(e.originalEvent);break;case"F2":this._f2KeyHandler();break;case"del":case"backspace":this._isFastEditingAllowed()&&!this._isFastEditingStarted()&&this._beginFastEditing(o,!0);break;default:this._beginFastEditing(o)||(this._isNeedFocus=!1,this._isNeedScroll=!1,n=!1)}n&&o.stopPropagation()}},_processOnKeyDown:function(e){var t=e.originalEvent,i={handled:!1,event:t};return this.executeAction("onKeyDown",i),e.ctrl=t.ctrlKey,e.alt=t.altKey,e.shift=t.shiftKey,!!i.handled},_leftRightKeysHandler:function(e,t){var i=this.getVisibleRowIndex(),n=e.originalEvent,o=this._focusedView&&this._focusedView.getRow(i),s=this._getDirectionCodeByKey(e.keyName),l=this._isFastEditingStarted();if((!t||l)&&ee(o)){this.setCellFocusType(),l&&this._editingController.closeEditCell();var r=this._getNextCell(s);oe(r)&&this._arrowKeysHandlerFocusCell(n,r),n&&n.preventDefault()}},_upDownKeysHandler:function(e,t){var i,n=this.getVisibleRowIndex(),o=this._focusedView&&this._focusedView.getRow(n),s=e.originalEvent,l="upArrow"===e.keyName,r=this._dataController.dataSource(),a=this._isFastEditingStarted();(!t||a)&&o&&!Z(o)&&(a&&this._editingController.closeEditCell(),this._navigateNextCell(s,e.keyName)||this._isVirtualScrolling()&&l&&r&&!r.isLoading()&&(i=o.outerHeight(),n=this._focusedCellPosition.rowIndex-1,this._scrollBy(-i,n,s)),s&&s.preventDefault())},_pageUpDownKeyHandler:function(e){var t=this._dataController.pageIndex(),i=this._dataController.pageCount(),n=this.option("paging.enabled"),o="pageUp"===e.keyName,s=o?-1:1,l=this.getView("rowsView").getScrollable();n&&!this._isVirtualScrolling()?(o?t>0:t<i-1)&&!this._isVirtualScrolling()&&(this._dataController.pageIndex(t+s),e.originalEvent.preventDefault()):l&&l._container().height()<l.$content().height()&&(this._scrollBy(l._container().height()*s),e.originalEvent.preventDefault())},_spaceKeyHandler:function(e,i){var n,o=this.getVisibleRowIndex(),s=(0,t.default)(e.originalEvent&&e.originalEvent.target);this.option("selection")&&"none"!==this.option("selection").mode&&!i?(n="row"===this._getElementType(s)&&this.isRowFocusType()&&ee(s),s.hasClass(B)&&"onClick"===this.option("selection.showCheckBoxesMode")&&this._selectionController.startSelectionWithCheckboxes(),(n||s.parent().hasClass(V)||s.hasClass(this.addWidgetPrefix(y)))&&(this._selectionController.changeItemSelection(o,{shift:e.shift,control:e.ctrl}),e.originalEvent.preventDefault())):this._beginFastEditing(e.originalEvent)},_ctrlAKeyHandler:function(e,t){!t&&e.ctrl&&!e.alt&&"multiple"===this.option("selection.mode")&&this.option("selection.allowSelectAll")&&(this._selectionController.selectAll(),e.originalEvent.preventDefault())},_tabKeyHandler:function(e,i){var n=this.option("editing"),o=e.shift?"previous":"next",s=!e.shift&&this._isLastValidCell(this._focusedCellPosition)||e.shift&&this._isFirstValidCell(this._focusedCellPosition),l=e.originalEvent.target,r=this._focusedView&&this._focusedView.element();if(!this._handleTabKeyOnMasterDetailCell(l,o)){if((0,t.default)(r).addClass(q),n&&l&&!s)if((0,t.default)(l).hasClass(this.addWidgetPrefix(y))&&this._resetFocusedCell(),i){if(!this._editingCellTabHandler(e,o))return}else this._targetCellTabHandler(e,o)&&(s=!0);s?(this.getController("editorFactory").loseFocus(),this._editingController.isEditing()&&!this._isRowEditMode()&&(this._resetFocusedCell(),this._editingController.closeEditCell())):e.originalEvent.preventDefault()}},_editingCellTabHandler:function(e,t){var i,n,o,s=this.option("editing"),l=e.originalEvent.target,r=this._getCellElementFromTarget(l),a=e.originalEvent,d=this._getElementType(l);if(r.is(M))return!this._targetCellTabHandler(e,t);if(this._updateFocusedCellPosition(r),!(r=this._getNextCellByTabKey(a,t,d))||this._handleTabKeyOnMasterDetailCell(r,t))return!1;if(i=this._columnsController.getVisibleColumns()[this.getView("rowsView").getCellIndex(r)],n=this._dataController.items()[this._getRowIndex(r&&r.parent())],i.allowEditing){var u=!n||"data"===n.rowType;o=s.allowUpdating?u:n&&n.isNewRow}return o||this._editingController.closeEditCell(),this._focusCell(r)&&(!this._isRowEditMode()&&o?this._editingController.editCell(this.getVisibleRowIndex(),this._focusedCellPosition.columnIndex):this._focusInteractiveElement(r,e.shift)),!0},_targetCellTabHandler:function(e,i){var n,o=e.originalEvent,s=o.target,l=this._getCellElementFromTarget(s),r=this._getInteractiveElement(l,!e.shift),a=!1;if(!ne(this,l)&&r.length&&s!==r.get(0))a=!0;else{if(void 0===this._focusedCellPosition.rowIndex&&(0,t.default)(s).hasClass(b)&&this._updateFocusedCellPosition((0,t.default)(s).children().first()),n=this._getElementType(s),this.isRowFocusType()&&(this.setCellFocusType(),"row"===n&&ee((0,t.default)(s))&&(s=this.getFirstValidCellInRow((0,t.default)(s)),n=this._getElementType(s))),!(l=this._getNextCellByTabKey(o,i,n)))return!1;if(!(l=this._checkNewLineTransition(o,l)))return!1;this._focusCell(l),ne(this,l)||this._focusInteractiveElement(l,e.shift)}return a},_getNextCellByTabKey:function(e,t,i){var n=this._getNextCell(t,i),o=n&&this._fireFocusedCellChanging(e,n,!0);if(o&&!o.cancel)return o.$newCellElement&&(n=o.$newCellElement),n},_checkNewLineTransition:function(e,t){var i=this.getVisibleRowIndex(),n=t.parent();if(i!==this._getRowIndex(n)){var o=this._getCellPosition(t),s=this._fireFocusedRowChanging(e,n);if(s.cancel)return;s.rowIndexChanged&&(this.setFocusedColumnIndex(o.columnIndex),t=this._getFocusedCell())}return t},_enterKeyHandler:function(e,t){var i=this._getFocusedCell(),n=this.getVisibleRowIndex(),o=this._focusedView&&this._focusedView.getRow(n);if(this.option("grouping.allowCollapsing")&&Y(o)||this.option("masterDetail.enabled")&&i&&i.hasClass(S)){var s=this._dataController.getKeyByRowIndex(n),l=this._dataController.items()[n];void 0!==s&&l&&l.data&&!l.data.isContinuation&&this._dataController.changeRowExpand(s)}else this._processEnterKeyForDataCell(e,t)},_processEnterKeyForDataCell:function(e,t){var i=this._getEnterKeyDirection(e),n=this._allowEditingOnEnterKey();t||!n&&i?(this._handleEnterKeyEditingCell(e.originalEvent),"next"===i||"previous"===i?this._targetCellTabHandler(e,i):"upArrow"!==i&&"downArrow"!==i||this._navigateNextCell(e.originalEvent,i)):n&&this._startEditing(e)},_getEnterKeyDirection:function(e){var t=this.option("keyboardNavigation.enterKeyDirection"),i=e.shift;return"column"===t?i?"upArrow":"downArrow":"row"===t?i?"previous":"next":void 0},_handleEnterKeyEditingCell:function(e){var i=e.target,n=this._getCellElementFromTarget(i),o=this._isRowEditMode();this._updateFocusedCellPosition(n),o?(this._focusEditFormCell(n),setTimeout(this._editingController.saveEditData.bind(this._editingController))):(s.default.trigger((0,t.default)(i),"change"),this._editingController.closeEditCell(),e.preventDefault())},_escapeKeyHandler:function(e,t){var i=this._getCellElementFromTarget(e.originalEvent.target);t&&(this._updateFocusedCellPosition(i),this._isRowEditMode()?(this._focusEditFormCell(i),this._editingController.cancelEditData()):"cell"===this._editingController.getEditMode()?this._editingController.cancelEditData():this._editingController.closeEditCell(),e.originalEvent.preventDefault())},_ctrlFKeyHandler:function(e){if(this.option("searchPanel.visible")){var t=this._headerPanel.getSearchTextEditor();t&&(t.focus(),e.originalEvent.preventDefault())}},_f2KeyHandler:function(){var e=this._editingController.isEditing(),t=this.getVisibleRowIndex(),i=this._focusedView&&this._focusedView.getRow(t);!e&&ee(i)&&this._startEditing()},_navigateNextCell:function(e,t){var i=this._getNextCell(t);return!(!i||!this._isCellValid(i))&&this._arrowKeysHandlerFocusCell(e,i,!0)},_arrowKeysHandlerFocusCell:function(e,t,i){var n=this._fireFocusChangingEvents(e,t,i,!0);return t=n.$newCellElement,!(n.cancel||!this._isCellValid(t))&&(this._focus(t,!n.isHighlighted),!0)},_beginFastEditing:function(e,t){if(!this._isFastEditingAllowed()||e.altKey||e.ctrlKey||this._editingController.isEditing())return!1;if(t)this._startEditing(e,W);else{var i=e.key,n=e.keyCode||e.which,o=i||n&&String.fromCharCode(n);!o||1!==o.length&&o!==W||this._startEditing(e,o)}return!0},_clickHandler:function(e){var i=e.event,n=(0,t.default)(i.currentTarget),o=this.getView("rowsView"),s=o&&o.element(),l=n.parent(),r=l.hasClass(H),a=(0,t.default)(i.target).is(G);this._isEventInCurrentGrid(i)&&this._isCellValid(n,!a)?(n=this._isInsideEditForm(n)?(0,t.default)(i.target):n,this._focusView(),(0,t.default)(s).removeClass(q),l.hasClass(T)?(this._updateFocusedCellPosition(n),this._focusedView.element().attr("tabindex",0),this._focusedView.focus()):this._isMasterDetailCell(n)||r?this._updateFocusedCellPosition(n):this._clickTargetCellHandler(i,n)):n.is("td")&&this._resetFocusedCell()},_isEventInCurrentGrid:function(e){return(0,a.isElementInCurrentGrid)(this,(0,t.default)(e.target))},_clickTargetCellHandler:function(e,i){var n,o=this.getView("rowsView").getCellIndex(i),s=this._columnsController.getVisibleColumns()[o],l=this._isCellEditMode();if(this.setCellFocusType(),i=(n=this._fireFocusChangingEvents(e,i,!0)).$newCellElement,n.cancel)this.setRowFocusType(),this.setFocusedRowIndex(n.prevRowIndex),i=this._getFocusedCell(),this._editingController.isEditing()&&l&&this._editingController.closeEditCell();else{if(n.resetFocusedRow)return void this.getController("focus")._resetFocusedRow();if(n.rowIndexChanged&&(i=this._getFocusedCell()),n.isHighlighted||l||this.setRowFocusType(),this._updateFocusedCellPosition(i),this._allowRowUpdating()&&l&&s&&s.allowEditing)this._isNeedFocus=!1,this._isHiddenFocus=!1;else{var r=e&&(0,t.default)(e.target),a=r&&r.not(i).is(G),d=!n.isHighlighted||a;this._focus(i,d,a)}}},_allowRowUpdating:function(){var e=this.getVisibleRowIndex(),t=this._dataController.items()[e];return this._editingController.allowUpdating({row:t},"click")},focus:function(e){var i,n=this.option("focusedRowEnabled"),o=ie((0,t.default)(e));e||(i=".dx-datagrid-rowsview .dx-row[tabindex]",n||(i+=", .dx-datagrid-rowsview .dx-row > td[tabindex]"),e=this.component.$element().find(i).first()),e&&this._focusElement((0,t.default)(e),o)},getFocusedView:function(){return this._focusedView},setupFocusedView:function(){this.isKeyboardEnabled()&&!(0,d.isDefined)(this._focusedView)&&this._focusView()},_focusElement:function(e,i){var n=(0,t.default)(this._getRowsViewElement()),o=e.closest(n),s=this.isRowFocusType(),l={};!o.length||ie(e)&&!this._isCellValid(e)||(this._focusView(),this._isNeedFocus=!0,this._isNeedScroll=!0,(ie(e)||Y(e))&&(this.setCellFocusType(),e=(l=this._fireFocusChangingEvents(null,e,!1,i)).$newCellElement,s&&!l.isHighlighted&&this.setRowFocusType()),this._focus(e,!l.isHighlighted),this._focusInteractiveElement(e))},_getFocusedViewByElement:function(e){var i=this.getFocusedView(),n=i&&(0,t.default)(i.element());return e&&0!==e.closest(n).length},_focusView:function(){this._focusedView=this.getView("rowsView")},_focusInteractiveElement:function(e,t){if(e){var i=this._getInteractiveElement(e,t);(0,a.focusAndSelectElement)(this,i)}},_focus:function(e,t,i){var n=e&&e.is("td")?e.parent():e;if(!n||!te(n)){var o,l=this._getFocusedCell(),r=this._focusedView,a=r&&r.element();this._isHiddenFocus=t,Y(n)||this.isRowFocusType()?(o=n,r&&this.setFocusedRowIndex(this._getRowIndex(n))):ie(e)&&(o=e,this._updateFocusedCellPosition(e)),l&&l.is("td")&&l.not(o).removeAttr("tabIndex"),o&&(s.default.one(o,"blur",function(){return o.removeClass(O)}),i||(this._applyTabIndexToElement(o),s.default.trigger(o,"focus")),t?(a&&a.find("."+O+"[tabIndex]").not(o).removeClass(O).removeAttr("tabIndex"),o.addClass(O)):(a&&a.find("."+O+":not(."+K+")").removeClass(O),this.getController("editorFactory").focus(o)))}},_updateFocus:function(e){var t=this;setTimeout(function(){var i=t._getFocusedCell(),n=t._editingController.isEditing();if(i&&(!t._isMasterDetailCell(i)||t._isRowEditMode())){if(t._hasSkipRow(i.parent())){var o=t._focusedCellPosition&&t._focusedCellPosition.rowIndex>0?"upArrow":"downArrow";i=t._getNextCell(o)}if(oe(i)){if(e&&!n&&t._checkCellOverlapped(i))return;i.is("td")||i.hasClass(t.addWidgetPrefix(P))?(t.getController("editorFactory").focus()?t._focus(i):t._isCellEditMode()?t._focus(i,t._isHiddenFocus):t._isHiddenFocus&&t._focus(i,!0),n&&t._focusInteractiveElement.bind(t)(i)):s.default.trigger(i,"focus")}}})},_checkCellOverlapped:function(e){var t=e.offset(),i=!1;return this.component.getScrollable&&this.component.getScrollable()&&(t.left<0?i=e.width()+t.left<=0:t.top<0&&(i=e.height()+t.top<=0)),i},_getFocusedCell:function(){return(0,t.default)(this._getCell(this._focusedCellPosition))},_updateFocusedCellPosition:function(e,t){var i=this._getCellPosition(e,t);return i&&(!e.length||i.rowIndex>=0&&i.columnIndex>=0)&&this.setFocusedCellPosition(i.rowIndex,i.columnIndex),i},_getCellPosition:function(e,t){var i,n,o=oe(e)&&e.closest("tr");if(oe(o)&&this._focusedView)return i=this._getRowIndex(o),n=this._focusedView.getCellIndex(e,i),t&&(n="previous"===t?n-1:n+1,n=this._applyColumnIndexBoundaries(n)),{rowIndex:i,columnIndex:n}},_focusCell:function(e){if(this._isCellValid(e))return this._focus(e),!0},_focusEditFormCell:function(e){e.hasClass(K)&&this.getController("editorFactory").focus(e,!0)},_resetFocusedCell:function(){var e=this._getFocusedCell();e&&e.removeAttr("tabIndex"),this._focusedView&&this._focusedView.renderFocusState&&this._focusedView.renderFocusState(),this._isNeedFocus=!1,this._isNeedScroll=!1,this._focusedCellPosition={}},restoreFocusableElement:function(e,t){var i,n,o=(0,d.isDefined)(e),l=this.getView("rowsView"),r=l.element(),a=this._focusedCellPosition.columnIndex,u=this._dataController.getRowIndexOffset();e=o?e:l.getTopVisibleItemIndex()+u,o?(n=l.getRow(e-u),!(i=this._fireFocusedRowChanging(t,n)).cancel&&i.rowIndexChanged&&(e=i.newRowIndex)):(this.getController("editorFactory").loseFocus(),this._applyTabIndexToElement(r),s.default.trigger(r,"focus")),o&&i.cancel||this.setFocusedCellPosition(e,a),o&&this._updateFocus()},_getNewPositionByCode:function(e,t,i){var n=e.columnIndex,o=e.rowIndex;if(void 0===e.rowIndex&&"next"===i)return{columnIndex:0,rowIndex:0};switch(i){case"nextInRow":case"next":n<this._getVisibleColumnCount()-1&&!this._isLastValidCell({columnIndex:n,rowIndex:o})&&"row"!==t?n++:this._isLastRow(o)||"next"!==i||(n=0,o++);break;case"previousInRow":case"previous":n>0&&!this._isFirstValidCell({columnIndex:n,rowIndex:o})&&"row"!==t?n--:o>0&&"previous"===i&&(o--,n=this._getVisibleColumnCount()-1);break;case"upArrow":o=o>0?o-1:o;break;case"downArrow":o=this._isLastRow(o)?o:o+1}return{columnIndex:n,rowIndex:o}},setFocusedCellPosition:function(e,t){this.setFocusedRowIndex(e),this.setFocusedColumnIndex(t)},setFocusedRowIndex:function(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.rowIndex=e},setFocusedColumnIndex:function(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.columnIndex=e},getVisibleRowIndex:function(){return this._focusedCellPosition?this._focusedCellPosition.rowIndex?this._focusedCellPosition.rowIndex-this._dataController.getRowIndexOffset():this._focusedCellPosition.rowIndex:null},getVisibleColumnIndex:function(){return this._focusedCellPosition&&(0,d.isDefined)(this._focusedCellPosition.columnIndex)?this._focusedCellPosition.columnIndex:-1},getFocusedColumnIndex:function(){return this._focusedCellPosition?this._focusedCellPosition.columnIndex:null},_applyColumnIndexBoundaries:function(e){var t=this._getVisibleColumnCount();return e<0?e=0:e>=t&&(e=t-1),e},_isCellByPositionValid:function(e){var i=(0,t.default)(this._getCell(e));return this._isCellValid(i)},_isLastRow:function(e){return this._isVirtualScrolling()?e>=this._dataController.totalItemsCount()-1:e===this.getController("data").items().length-1},_isFirstValidCell:function(e){var t=!1;return 0===e.rowIndex&&e.columnIndex>=0&&(t=t||!this._haveValidCellBeforePosition(e)),t},_haveValidCellBeforePosition:function(e){for(var t=e.columnIndex,i=!1;t>0&&!i;){var n={columnIndex:--t,rowIndex:e.rowIndex};i=this._isCellByPositionValid(n)}return i},_isLastValidCell:function(e){var t=e.columnIndex>=0?e.columnIndex+1:0,i=e.rowIndex,n={columnIndex:t,rowIndex:i},o=this.component.getVisibleRows(),s=o&&o[i];return!!this._isLastRow(i)&&(!!(s&&"group"===s.rowType&&e.columnIndex>0)||(e.columnIndex===this._getVisibleColumnCount()-1||!this._isCellByPositionValid(n)&&this._isLastValidCell(n)))},_isCellValid:function(e,t){if(oe(e)){var i=this.getView("rowsView"),n=e.parent(),o=this._columnsController.getVisibleColumns(),s=i.getCellIndex(e),l=o[s],r=this._getVisibleColumnCount(),a=this._editingController,u=Z(n),c=l&&l.showWhenGrouped,h=l&&!e.hasClass(S)&&ee(n);if(this._isMasterDetailCell(e))return!0;if(r>s&&(!u&&l&&(!(0,d.isDefined)(l.groupIndex)||c&&h)||parseInt(e.attr("colspan"))>1)){var g=this._dataController.items(),f=i.getRowIndex(n),_=g[f],C=a&&this._isCellEditMode()&&a.isEditing(),w=a&&a.isEditRow(f),p=w||C;return l.command?this._isLegacyNavigation()?!p&&"expand"===l.command:C?!l.command:w?"select"!==l.command:!p:(!C||!_||"data"===_.rowType)&&(!p||l.allowEditing||t)}}},getFirstValidCellInRow:function(e,t){for(var i,n,o=e.find("> td"),s=t=t||0;s<o.length;++s)if(i=o.eq(s),this._isCellValid(i)){n=i;break}return n},_getNextCell:function(e,i,n){var o,s,l,r,a=n||this._focusedCellPosition,d=this.isRowFocusType(),c=d||(0,u.inArray)(e,["next","previous"])>-1,h="previous"===e?this._isFirstValidCell(a):this._isLastValidCell(a);if(this._focusedView&&a){if(s=this._getNewPositionByCode(a,i,e),oe(l=(0,t.default)(this._getCell(s)))&&!this._isCellValid(l)&&this._isCellInRow(s,c)&&!h&&(l=d?this.getFirstValidCellInRow(l.parent(),s.columnIndex):this._getNextCell(e,"cell",s)),r=oe(l)&&l.parent(),this._hasSkipRow(r)){if(o=this._getRowIndex(r),this._isLastRow(o))return null;l=this._getNextCell(e,"row",{columnIndex:a.columnIndex,rowIndex:o})}return oe(l)?l:null}return null},_startEditing:function(e,t){var i=this._focusedCellPosition,n=this.getVisibleRowIndex(),o=this._dataController.items()[n],s=this._columnsController.getVisibleColumns()[i.columnIndex];this._editingController.allowUpdating({row:o})&&s&&s.allowEditing&&(this._isRowEditMode()?this._editingController.editRow(n):i&&this._startEditingCell(e,t))},_startEditingCell:function(e,t){var i,n=this,o=this.getVisibleRowIndex(),s=this._focusedCellPosition.columnIndex;if(this._fastEditingStarted=(0,d.isDefined)(t),i=this._editingController.editCell(o,s),this._isFastEditingStarted())if(!0===i)n._editingCellHandler(e,t);else if(i&&i.done){var l=t!==W?t:"";i.done(function(){return n._editingCellHandler(e,l)})}},_editingCellHandler:function(e,t){var i=this._getFocusedCell().find(".dx-texteditor-input").eq(0),n=_.default.createEvent(e,{type:"keydown",target:i.get(0)}),o=_.default.createEvent(e,{type:"keypress",target:i.get(0)}),l=_.default.createEvent(e,{type:"input",target:i.get(0)});s.default.trigger(i,n),n.isDefaultPrevented()||(s.default.trigger(i,o),o.isDefaultPrevented()||setTimeout(function(){i.val(t);var e=i.closest("."+$);s.default.off(e,"focusout"),s.default.one(e,"focusout",function(){s.default.trigger(i,"change")}),s.default.trigger(i,l)}))},_fireFocusChangingEvents:function(e,i,n,o){var s={},l=this._getCellPosition(i)||{};return this.isCellFocusType()&&((s=this._fireFocusedCellChanging(e,i,o)).cancel||(l.columnIndex=s.newColumnIndex,l.rowIndex=s.newRowIndex,o=s.isHighlighted,i=(0,t.default)(this._getCell(l)))),!s.cancel&&n&&i&&((s=this._fireFocusedRowChanging(e,i.parent())).cancel||(l.rowIndex=s.newRowIndex,s.isHighlighted=o)),s.$newCellElement=(0,t.default)(this._getCell(l)),s.$newCellElement.length||(s.$newCellElement=i),s},_fireFocusedCellChanging:function(e,i,n){var o=this.option("focusedColumnIndex"),s=this.option("focusedRowIndex"),l=this._getCellPosition(i),r=l?l.columnIndex:-1,a=l?l.rowIndex:-1,d={cellElement:i,prevColumnIndex:o,prevRowIndex:s,newColumnIndex:r,newRowIndex:a,rows:this.getController("data").getVisibleRows(),columns:this.getController("columns").getVisibleColumns(),event:e,isHighlighted:n||!1,cancel:!1};return this._canceledCellPosition=null,this.executeAction("onFocusedCellChanging",d),d.newColumnIndex===r&&d.newRowIndex===a||(d.$newCellElement=(0,t.default)(this._getCell({columnIndex:d.newColumnIndex,rowIndex:d.newRowIndex}))),d.cancel&&(this._canceledCellPosition={rowIndex:a,columnIndex:r}),d},_fireFocusedCellChanged:function(e,t,i){var n=this.getController("data"),o=this.getView("rowsView").getCellIndex(e),s=this._getRowIndex(e&&e.parent()),l=Math.min(s-n.getRowIndexOffset(),n.items().length-1),r=this.getController("editing").isEditCell(l,o),a=n.items()[l];r||t===o&&i===s||(n=this.getController("data"),this.executeAction("onFocusedCellChanged",{cellElement:e,columnIndex:o,rowIndex:s,row:a,column:this.getController("columns").getVisibleColumns()[o]}))},_fireFocusedRowChanging:function(e,t){var i=this._getRowIndex(t),n=this.getController("data"),o=this.option("focusedRowIndex"),s=n.loadingOperationTypes(),l={rowElement:t,prevRowIndex:o,newRowIndex:i,event:e,rows:this.getController("data").getVisibleRows(),cancel:!1};return!n||n.isLoading()&&(s.reload||s.paging)?(l.cancel=!0,l):(this.option("focusedRowEnabled")&&(this.executeAction("onFocusedRowChanging",l),l.cancel||l.newRowIndex===i||(l.resetFocusedRow=l.newRowIndex<0,l.resetFocusedRow||this.setFocusedRowIndex(l.newRowIndex),l.rowIndexChanged=!0)),l)},_fireFocusedRowChanged:function(e){var t,i,n=this.option("focusedRowIndex");this.option("focusedRowEnabled")&&(n>=0&&(i=this.getController("data"),t=n>=0&&i.getVisibleRows()[n-i.getRowIndexOffset()]),this.executeAction("onFocusedRowChanged",{rowElement:e,rowIndex:n,row:t}))},_isRowEditMode:function(){var e=this.getController("editing").getEditMode();return e===U||e===j},_isCellEditMode:function(){var e=this.getController("editing").getEditMode();return e===J||e===z},_isFastEditingAllowed:function(){return this._isCellEditMode()&&this.option("keyboardNavigation.editOnKeyPress")},_getInteractiveElement:function(e,t){var i=e.find(G).filter(":visible");return t?i.last():i.first()},_applyTabIndexToElement:function(e){var t=this.option("tabIndex");e.attr("tabIndex",(0,d.isDefined)(t)?t:0)},_getCell:function(e){if(this._focusedView&&e)return this._focusedView.getCell({rowIndex:e.rowIndex-this._dataController.getRowIndexOffset(),columnIndex:e.columnIndex})},_getRowIndex:function(e){var t=this._focusedView,i=-1;return t&&(i=t.getRowIndex(e)),i>=0&&(i+=this._dataController.getRowIndexOffset()),i},_hasSkipRow:function(e){var t=e&&e.get(0);return t&&("none"===t.style.display||e.hasClass(this.addWidgetPrefix(F))||Z(e)&&!e.hasClass(this.addWidgetPrefix(E)))},_allowEditingOnEnterKey:function(){return"startEdit"===this.option("keyboardNavigation.enterKeyAction")},_isLegacyNavigation:function(){return this.option("useLegacyKeyboardNavigation")},_getDirectionCodeByKey:function(e){return this.option("rtlEnabled")?"leftArrow"===e?"nextInRow":"previousInRow":"leftArrow"===e?"previousInRow":"nextInRow"},_isVirtualScrolling:function(){var e=this.option("scrolling.mode");return"virtual"===e||"infinite"===e},_scrollBy:function(e,t,i){var n=this,o=this.getView("rowsView").getScrollable();if(n._focusedCellPosition){o.on("scroll",function e(){o.off("scroll",e),setTimeout(n.restoreFocusableElement.bind(n,t,i))})}o.scrollBy({left:0,top:e})},_isInsideEditForm:function(e){return(0,t.default)(e).closest("."+this.addWidgetPrefix(E)).length>0},_isMasterDetailCell:function(e){var i=(0,t.default)(e).closest("."+K),n=i.closest("."+this.getWidgetContainerClass()).parent();return i.length&&n.is(this.component.$element())},_processNextCellInMasterDetail:function(e){!this._isInsideEditForm(e)&&e&&this._applyTabIndexToElement(e)},_handleTabKeyOnMasterDetailCell:function(e,i){if(this._isMasterDetailCell(e)){this._updateFocusedCellPosition((0,t.default)(e),i);var n=this._getNextCell(i,"row");return this._processNextCellInMasterDetail(n),!0}return!1},_getElementType:function(e){return(0,t.default)(e).is("tr")?"row":"cell"},_isFastEditingStarted:function(){return this._isFastEditingAllowed()&&this._fastEditingStarted},_getVisibleColumnCount:function(){return this.getController("columns").getVisibleColumns().length},_isCellInRow:function(e,t){var i=e.columnIndex,n=this._getVisibleColumnCount();return t?i>=0&&i<=n-1:i>0&&i<n-1},_getCellElementFromTarget:function(e){return(0,t.default)(e).closest("."+b+"> td")},_getRowsViewElement:function(){var e=this.getView("rowsView");return e&&e.element()},isKeyboardEnabled:function(){return this.option("keyboardNavigation.enabled")},_processCanceledEditCellPosition:function(e,t){if(this._canceledCellPosition){var i=this._canceledCellPosition.rowIndex===e&&this._canceledCellPosition.columnIndex===t;return this._canceledCellPosition=null,i}}});module.exports={defaultOptions:function(){return{useLegacyKeyboardNavigation:!1,keyboardNavigation:{enabled:!0,enterKeyAction:"startEdit",enterKeyDirection:"none",editOnKeyPress:!1}}},controllers:{keyboardNavigation:se},extenders:{views:{rowsView:{_rowClick:function(e){this.getController("editing").getEditRowIndex()===e.rowIndex&&this.getController("keyboardNavigation").setCellFocusType(),this.callBase.apply(this,arguments)},renderFocusState:function(){var e,t=this._dataController,i=this.option("focusedRowIndex")||0,n=this.element();n&&!(0,c.focused)(n)&&n.attr("tabIndex",null),(i<0||i>=t.getVisibleRows().length)&&(i=0),e=this.getCellElements(i),this.getController("keyboardNavigation").isKeyboardEnabled()&&e&&this.updateFocusElementTabIndex(e)},updateFocusElementTabIndex:function(e){var t=e.eq(0).parent(),i=this.option("focusedColumnIndex"),n=this.option("tabIndex")||0;(!i||i<0)&&(i=0),Y(t)?t.attr("tabIndex",n):this._updateFocusedCellTabIndex(e,i)},_updateFocusedCellTabIndex:function(e,i){var n,o=this.option("tabIndex")||0,s=this.getController("keyboardNavigation"),l=s._focusedView,r=e?e.length:-1;if(s._focusedView=this,r>0){r<=i&&(i=r-1);for(var a=i;a<r;++a)if(n=(0,t.default)(e[a]),!s._isMasterDetailCell(n)&&s._isCellValid(n)&&ie(n)){n.attr("tabIndex",o),s.setCellFocusType();break}}s._focusedView=l},renderDelayedTemplates:function(e){this.callBase.apply(this,arguments),e&&e.repaintChangesOnly||this.renderFocusState()},_renderCore:function(e){this.callBase(e),e&&e.repaintChangesOnly||this.renderFocusState()},_editCellPrepared:function(e){var t=this._getEditorInstance(e),i=this.getController("keyboardNavigation"),n=i&&i._isFastEditingStarted();t&&n&&this._handleEditingNavigationMode(t),this.callBase.apply(this,arguments)},_handleEditingNavigationMode:function(e){["downArrow","upArrow"].forEach(function(t){var i=e._supportedKeys()[t];e.registerKeyHandler(t,function(t){if("true"===e._input().attr("aria-expanded"))return i&&i.call(e,t)})}),e.registerKeyHandler("leftArrow",p.noop),e.registerKeyHandler("rightArrow",p.noop),e.NAME===L&&e.option("useMaskBehavior")&&e.registerKeyHandler("enter",p.noop)},_getEditorInstance:function(e){var t=e.find(".dx-texteditor").eq(0);return(0,a.getWidgetInstance)(t)}}},controllers:{editing:{editCell:function(e,t){var i=this.getController("keyboardNavigation");if(i._processCanceledEditCellPosition(e,t))return!1;var n=this.callBase(e,t);return n&&i.setupFocusedView(),n},editRow:function(e){var t=this.getController("keyboardNavigation"),i=this.option("focusedColumnIndex"),n=this._columnsController.getVisibleColumns()[i];(n&&n.type||this.option("editing.mode")===j)&&t._resetFocusedCell(),this.callBase(e)},addRow:function(e){this.getController("keyboardNavigation").setupFocusedView(),this.callBase.apply(this,arguments)},getFocusedCellInRow:function(e){var t=this.getController("keyboardNavigation"),i=this.callBase(e);if(t.isKeyboardEnabled()&&t._focusedCellPosition.rowIndex===e){var n=t._getFocusedCell();oe(n)&&!n.hasClass("dx-command-edit")&&(i=n)}return i},_processCanceledEditingCell:function(){var e=this;this.closeEditCell().done(function(){e.getController("keyboardNavigation")._updateFocus()})},init:function(){this.callBase(),this._keyboardNavigationController=this.getController("keyboardNavigation")},closeEditCell:function(){return this.getController("keyboardNavigation")._fastEditingStarted=!1,this.callBase.apply(this,arguments)},_delayedInputFocus:function(){this._keyboardNavigationController._isNeedScroll=!0,this.callBase.apply(this,arguments)},_isEditingStart:function(){var e=this.getController("keyboardNavigation"),t=this.callBase.apply(this,arguments);if(t&&!e._isNeedFocus){var i=e._getFocusedCell();e._focus(i,!0)}return t}},data:{_correctRowIndices:function(e){var t=this.getController("keyboardNavigation"),i=this.getController("editorFactory"),n=t._focusedCellPosition;if(this.callBase.apply(this,arguments),n&&n.rowIndex>=0){var o=e(n.rowIndex);o&&(n.rowIndex+=o,i.focus(i.focus()))}}}}}};
},{"../../core/renderer":"qxFQ","../../core/dom_adapter":"RRDy","../../events/core/events_engine":"oNrb","./ui.grid_core.modules":"vXU0","./ui.grid_core.utils":"kk68","../../core/utils/type":"Mw4w","../../core/utils/array":"uivT","../widget/selectors":"m3d1","../widget/ui.keyboard_processor":"H8iu","../../events/utils":"cNvJ","../../events/pointer":"HDhW","../../core/utils/common":"GcQA","../shared/accessibility":"sH3F","../../core/utils/browser":"nlvS"}],"ZXUz":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),t=a(e),r=require("../grid_core/ui.grid_core.keyboard_navigation"),i=a(r),o=require("../../core/utils/extend");function a(e){return e&&e.__esModule?e:{default:e}}t.default.registerModule("keyboardNavigation",(0,o.extend)(!0,{},i.default,{extenders:{controllers:{keyboardNavigation:{_leftRightKeysHandler:function(e,t){var r,i,o=this.getVisibleRowIndex(),a=this._dataController;if(!e.ctrl)return this.callBase.apply(this,arguments);i=this._getDirectionCodeByKey(e.keyName),r=a.getKeyByRowIndex(o),"nextInRow"===i?a.expandRow(r):a.collapseRow(r)}}}}}));
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.keyboard_navigation":"lGTF","../../core/utils/extend":"ac8T"}],"dKAp":[function(require,module,exports) {
"use strict";var r=require("../../core/utils/extend");function n(r,o,e,a,f,s){s=s||[],(a=a||[])[e=e||0]=a[e]||0;var t=r[e],i=s[e]+1||0,c=0;if(t){for(var u=i;u<t.length;u++){var l=t[u],p=u+a[e],v=l.colspan||1;if(n(r,o,e+(l.rowspan||1),a,v,s),a[e]+=v-1,c+=v,l.rowspan)for(var h=e+1;h<e+l.rowspan;h++)a[h]=a[h]||0,a[h]+=l.colspan||1;if(!1===o(l,p,e,u))break;if(void 0!==f&&c>=f)break}s[e]=u}}function o(o,e,a){var f=[];n(o,function(n,o,s){var t,i=n,c=i.colspan||1,u=o+c-1>=e&&o<a;if(f[s]=f[s]||[],u)o<e?(t=c-(e-o),o=e):t=c,o+t>a&&(t=a-o),t!==c&&(i=(0,r.extend)({},i,{colspan:t})),f[s].push(i);else if(o>a)return!1});for(var s=0;s<f.length;s++)f[s]=f[s]||[];return f}exports.foreachColumnInfo=n,exports.createColumnsInfo=o;
},{"../../core/utils/extend":"ac8T"}],"fVSL":[function(require,module,exports) {
"use strict";var e=require("../../core/utils/window"),t=require("./ui.grid_core.virtual_columns_core"),i=50,n={_resizeCore:function(){this.callBase.apply(this,arguments),this._columnsController.resize()},_handleScroll:function(e){var t=this.getScrollable(),i=e.scrollOffset.left;this.callBase.apply(this,arguments),this.option("rtlEnabled")&&t&&(i=t.$content().width()-t.$element().width()-i),this._columnsController.setScrollPosition(i)}},o={_renderCore:function(){var e=this._scrollLeft;this.callBase.apply(this,arguments),this._columnsController.isVirtualMode()&&e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))}},s=function(){var n=function(e){return e.map(function(e){return e.visibleWidth||parseFloat(e.width)||i})};return{init:function(){this.callBase(),this._beginPageIndex=0,this._endPageIndex=0,this._position=0,this._virtualVisibleColumns={}},resetColumnsCache:function(){this.callBase(),this._virtualVisibleColumns={}},getBeginPageIndex:function(e){for(var t=this.getVisibleColumns(void 0,!0),i=n(t),o=0,s=0;s<i.length;s++){if(o>=e)return Math.floor(s/this.getColumnPageSize());o+=i[s]}return 0},getTotalWidth:function(){var e=this.option("width");return"number"==typeof e?e:this.getController("resizing")._lastWidth||this.component.$element().outerWidth()},getEndPageIndex:function(e){var t=this.getVisibleColumns(void 0,!0),i=n(t),o=0;e+=this.getTotalWidth();for(var s=0;s<i.length;s++){if(o>=e)return Math.ceil(s/this.getColumnPageSize());o+=i[s]}return Math.ceil(i.length/this.getColumnPageSize())},getColumnPageSize:function(){return this.option("scrolling.columnPageSize")},_fireColumnsChanged:function(){var e=new Date;this.columnsChanged.fire({optionNames:{all:!0,length:1},changeTypes:{columns:!0,length:1}}),this._renderTime=new Date-e},setScrollPosition:function(e){var t=this,i=t.option("scrolling.columnRenderingThreshold");t._renderTime>i?(clearTimeout(t._changedTimeout),t._changedTimeout=setTimeout(function(){t._setScrollPositionCore(e)},t.option("scrolling.timeout"))):t._setScrollPositionCore(e)},isVirtualMode:function(){return(0,e.hasWindow)()&&"virtual"===this.option("scrolling.columnRenderingMode")},resize:function(){this._setScrollPositionCore(this._position)},_setScrollPositionCore:function(e){if(this.isVirtualMode()){var t=this.getBeginPageIndex(e),i=this.getEndPageIndex(e),n=e<this._position?this._beginPageIndex>t:this._endPageIndex<i;this._position=e,n&&(this._beginPageIndex=t,this._endPageIndex=i,this._fireColumnsChanged())}},getFixedColumns:function(e,t){var i=this.callBase(e);if(this.isVirtualMode()&&!t&&i.length){var n=i.map(function(e){return e.command}).indexOf("transparent");return i[n].colspan=this.getVisibleColumns().length-this.callBase().length+1,i}return i},getVisibleColumns:function(e,i){if(i||!this.isVirtualMode())return this.callBase(e);this._beginPageIndex||this._endPageIndex||(this._beginPageIndex=this.getBeginPageIndex(this._position),this._endPageIndex=this.getEndPageIndex(this._position));var o=this._beginPageIndex,s=this._endPageIndex,l=e+"-"+o+"-"+s;if(this._virtualVisibleColumns[l])return this._virtualVisibleColumns[l];var r=this.callBase(),a=this.getRowCount(),h=this.getColumnPageSize(),u=o*h,c=s*h,g=this.getFixedColumns(void 0,!0),d=g.map(function(e){return e.command}).indexOf("transparent"),m=g.length?d:0,f=r.slice(0,m),_=r.slice(m,u),p=n(_).reduce(function(e,t){return e+t},0);p||(u=0);var C=g.length?g.length-d-1:0,v=r.slice(r.length-C),P=r.slice(c,r.length-C),x=n(P).reduce(function(e,t){return e+t},0);if(x||(c=r.length),a>1&&"number"==typeof e){for(var I=[],b=0;b<a;b++)I.push(this.callBase(b));f=(0,t.createColumnsInfo)(I,0,f.length)[e]||[],v=(0,t.createColumnsInfo)(I,r.length-v.length,r.length)[e]||[],r=(0,t.createColumnsInfo)(I,u,c)[e]||[]}else r=r.slice(u,c);return p&&(r.unshift({command:"virtual",width:p}),r=f.concat(r)),x&&(r.push({command:"virtual",width:x}),r=r.concat(v)),this._virtualVisibleColumns[l]=r,r},dispose:function(){clearTimeout(this._changedTimeout),this.callBase.apply(this,arguments)}}}();module.exports={defaultOptions:function(){return{scrolling:{columnRenderingMode:"standard",columnPageSize:5,columnRenderingThreshold:300}}},extenders:{controllers:{columns:s},views:{columnHeadersView:o,footerView:o,rowsView:n}}};
},{"../../core/utils/window":"NXH3","./ui.grid_core.virtual_columns_core":"dKAp"}],"VarS":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),r=t(e),u=require("../grid_core/ui.grid_core.virtual_columns"),i=t(u);function t(e){return e&&e.__esModule?e:{default:e}}r.default.registerModule("virtualColumns",i.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.virtual_columns":"fVSL"}],"zidA":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),o=l(e),t=require("./ui.grid_core.modules"),n=l(t),i=require("../../core/utils/iterator"),s=require("./ui.grid_core.utils"),r=require("../../core/utils/common"),a=require("../../core/utils/type"),d=require("../../core/utils/deferred");function l(e){return e&&e.__esModule?e:{default:e}}var c="dx-row-focused",u=".dx-row."+c,f="table",h="dx-cell-focus-disabled";exports.FocusController=n.default.ViewController.inherit({init:function(){this._dataController=this.getController("data"),this._keyboardController=this.getController("keyboardNavigation"),this.component._optionsByReference.focusedRowKey=!0},optionChanged:function(e){"focusedRowIndex"===e.name?(this._focusRowByIndex(e.value),e.handled=!0):"focusedRowKey"===e.name?(this._focusRowByKey(e.value),e.handled=!0):"focusedColumnIndex"===e.name?e.handled=!0:"focusedRowEnabled"===e.name?e.handled=!0:"autoNavigateToFocusedRow"===e.name?e.handled=!0:this.callBase(e)},_focusRowByIndex:function(e){this.option("focusedRowEnabled")&&((e=void 0!==e?e:this.option("focusedRowIndex"))<0?this.option("autoNavigateToFocusedRow")&&this._resetFocusedRow():this._focusRowByIndexCore(e))},_focusRowByIndexCore:function(e){var o=this,t=this.getController("data"),n=t.pageSize(),i=function(){if(o._isValidFocusedRowIndex(e)){var n=Math.min(e-t.getRowIndexOffset(),t.items().length-1),i=t.getKeyByRowIndex(n);void 0===i||o.isRowFocused(i)||o.option("focusedRowKey",i)}};if(n>=0)if(this._isLocalRowIndex(e))i();else{var s=Math.floor(e/t.pageSize());(0,d.when)(t.pageIndex(s),t.waitReady()).done(function(){i()})}},_isLocalRowIndex:function(e){var o=this.getController("data");if(this.getController("keyboardNavigation")._isVirtualScrolling()){var t=Math.floor(e/o.pageSize()),n=o.virtualItemsCount(),i=n?n.begin:-1,s=o.getVisibleRows().length+o.getRowIndexOffset(),r=Math.ceil(s/o.pageSize());return i<=e&&r>t}return!0},_setFocusedRowKeyByIndex:function(e){var o=this.getController("data");if(this._isValidFocusedRowIndex(e)){var t=Math.min(e-o.getRowIndexOffset(),o.items().length-1),n=o.getKeyByRowIndex(t);void 0===n||this.isRowFocused(n)||this.option("focusedRowKey",n)}},_focusRowByKey:function(e){void 0===e?this._resetFocusedRow():this._navigateToRow(e,!0)},_resetFocusedRow:function(){void 0===this.option("focusedRowKey")&&this.option("focusedRowIndex")<0||(this.option("focusedRowKey",void 0),this.getController("keyboardNavigation").setFocusedRowIndex(-1),this.option("focusedRowIndex",-1),this.getController("data").updateItems({changeType:"updateFocusedRow",focusedRowKey:void 0}))},_isValidFocusedRowIndex:function(e){var o=this.getController("data").getVisibleRows()[e];return!o||"data"===o.rowType||"group"===o.rowType},publicMethods:function(){return["navigateToRow","isRowFocused"]},navigateToRow:function(e){this.option("autoNavigateToFocusedRow")||this.option("focusedRowIndex",-1),this._navigateToRow(e)},_navigateToRow:function(e,o){var t=this,n=this.getController("data"),i=t.option("autoNavigateToFocusedRow"),s=new d.Deferred;if(void 0===e||!n.dataSource())return s.reject().promise();var r=t._getFocusedRowIndexByKey(e),a=n.getDataSource().paginate();return!i&&o||!a||r>=0?t._navigateTo(e,s,o):n.getPageIndexByKey(e).done(function(i){i<0?s.resolve(-1):i===n.pageIndex()?n.reload().done(function(){t.isRowFocused(e)?s.resolve(t._getFocusedRowIndexByKey(e)):t._navigateToVisibleRow(e,s,o)}).fail(s.reject):n.pageIndex(i).done(function(){t._navigateTo(e,s,o)}).fail(s.reject)}).fail(s.reject),s.promise()},_navigateTo:function(e,o,t){var n=this.getController("data").getRowIndexByKey(e),i="virtual"===this.option("scrolling.rowRenderingMode");this.option("autoNavigateToFocusedRow")&&i&&n<0?this._navigateToVirtualRow(e,o,t):this._navigateToVisibleRow(e,o,t)},_navigateToVisibleRow:function(e,o,t){if(t)this._triggerUpdateFocusedRow(e,o);else{var n=this.getView("rowsView"),i=this.getController("data").getRowIndexByKey(e),s=n.getRow(i);n.scrollToElementVertically(s)}},_navigateToVirtualRow:function(e,o,t){var n=this,i=this.getController("data"),r=i._rowsScrollController,a=(0,s.getIndexByKey)(e,i.items(!0)),d=n.getView("rowsView").getScrollable();if(r&&d&&a>=0){var l=a+i.getRowIndexOffset()-i.getRowIndexDelta(),c=r.getItemOffset(l);t&&n.component.on("contentReady",function t(){n.component.off("contentReady",t),n._triggerUpdateFocusedRow(e,o)}),d.scrollTo({y:c})}},_triggerUpdateFocusedRow:function(e,o){var t=this.getController("data"),n=this._getFocusedRowIndexByKey(e);if(this._isValidFocusedRowIndex(n)){if(this.getController("keyboardNavigation").setFocusedRowIndex(n),this.option("focusedRowEnabled"))t.updateItems({changeType:"updateFocusedRow",focusedRowKey:e});else{var i=t.getRowIndexByKey(e),s=this.getView("rowsView");s.scrollToElementVertically(s.getRow(i))}o&&o.resolve(n)}else o&&o.resolve(-1)},_getFocusedRowIndexByKey:function(e){var o=this.getController("data"),t=o.getRowIndexByKey(e);return t>=0?t+o.getRowIndexOffset():-1},_focusRowByKeyOrIndex:function(){var e=this,o=this.option("focusedRowKey"),t=this.option("focusedRowIndex"),n=this.getController("keyboardNavigation"),i=this.getController("data");if(void 0!==o){var s=i.getRowIndexByKey(o);s>=0?(n._isVirtualScrolling()&&(t=s+i.getRowIndexOffset()),n.setFocusedRowIndex(t),this._triggerUpdateFocusedRow(o)):this._navigateToRow(o,!0).done(function(o){t>=0&&o<0&&e._focusRowByIndex()})}else t>=0&&this.getController("focus")._focusRowByIndex(t)},isRowFocused:function(e){if(void 0!==this.option("focusedRowKey"))return(0,r.equalByValue)(e,this.option("focusedRowKey"))},updateFocusedRow:function(e){var t,n,s=this,r=s._dataController.getRowIndexByKey(e.focusedRowKey),a=s.getView("rowsView");(0,i.each)(a.getTableElements(),function(i,a){n=(0,o.default)(a),s._clearPreviousFocusedRow(n,r);var d=0===i;t=s._prepareFocusedRow(e.items[r],n,r),d&&s.getController("keyboardNavigation")._fireFocusedRowChanged(t)})},_clearPreviousFocusedRow:function(e,t){var n=this,i=e.find(u).filter(function(t,i){var s=(0,o.default)(i).closest("."+n.addWidgetPrefix(f));return e.is(s)});i.removeClass(c).removeClass(h).removeAttr("tabindex"),i.children("td").removeAttr("tabindex"),0!==t&&(0,o.default)(this.getView("rowsView").getRowElement(0)).removeClass(h).removeAttr("tabIndex")},_prepareFocusedRow:function(e,t,n){var i,s=this.option("tabindex")||0,r=this.getView("rowsView");return!e||"data"!==e.rowType&&"group"!==e.rowType||((i=(0,o.default)(r._getRowElements(t).eq(n))).addClass(c).attr("tabindex",s),r.scrollToElementVertically(i)),i}}),module.exports={defaultOptions:function(){return{focusedRowEnabled:!1,autoNavigateToFocusedRow:!0,focusedRowKey:void 0,focusedRowIndex:-1,focusedColumnIndex:-1}},controllers:{focus:exports.FocusController},extenders:{controllers:{keyboardNavigation:{init:function(){var e=this.option("focusedRowIndex"),o=this.option("focusedColumnIndex");this.createAction("onFocusedRowChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedRowChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanged",{excludeValidators:["disabled","readOnly"]}),this.callBase(),this.setRowFocusType(),this._focusedCellPosition={},(0,a.isDefined)(e)&&(this._focusedCellPosition.rowIndex=this.option("focusedRowIndex")),(0,a.isDefined)(o)&&(this._focusedCellPosition.columnIndex=this.option("focusedColumnIndex"))},setFocusedRowIndex:function(e){this.callBase(e);var o=this.getController("data").getVisibleRows()[e];o&&o.isNewRow||this.option("focusedRowIndex",e)},setFocusedColumnIndex:function(e){this.callBase(e),this.option("focusedColumnIndex",e)},_escapeKeyHandler:function(e,o){!o&&this.option("focusedRowEnabled")?this.isCellFocusType()&&(this.setRowFocusType(),this._focus(this._getCellElementFromTarget(e.originalEvent.target),!0)):this.callBase(e,o)},_updateFocusedCellPosition:function(e,o){var t=this.option("focusedRowIndex"),n=this.option("focusedColumnIndex");this.callBase(e,o)&&this._fireFocusedCellChanged(e,n,t)}},editorFactory:{renderFocusOverlay:function(e,o){var t,n=this.getController("keyboardNavigation"),i=this.option("focusedRowEnabled"),s=this.getController("editing"),r="row"===n._getElementType(e);i&&n.isRowFocusType()&&!s.isEditing()?i&&r&&!e.hasClass(c)&&(t=n.getFirstValidCellInRow(e),n.focus(t)):this.callBase(e,o)}},columns:{getSortDataSourceParameters:function(e,o){var t=this,n=this.callBase.apply(this,arguments),i=this.getController("data"),s=i._dataSource,r=i.store(),a=r&&r.key(),d=s&&s.remoteOperations()||{},l=Object.keys(d).every(function(e){return!d[e]});if(a&&(this.option("focusedRowEnabled")&&!1!==this.option("autoNavigateToFocusedRow")||o)){var c=(a=Array.isArray(a)?a:[a]).filter(function(e){return!t.columnOption(e,"sortOrder")});c.length&&(n=n||[],l?n.push({selector:s.getDataIndexGetter(),desc:!1}):c.forEach(function(e){return n.push({selector:e,desc:!1})}))}return n}},data:{_applyChange:function(e){if(!e||"updateFocusedRow"!==e.changeType)return this.callBase.apply(this,arguments)},_fireChanged:function(e){var o=void 0;this.option("focusedRowEnabled")&&this._dataSource&&((o="update"===e.changeType&&e.repaintChangesOnly&&e.changeTypes&&e.changeTypes.indexOf("remove")>=0)&&this.callBase(e),("refresh"===e.changeType||o)&&this.processUpdateFocusedRow());o||this.callBase(e)},processUpdateFocusedRow:function(){var e=this._prevPageIndex,o=this.pageIndex(),t=this._prevRenderingPageIndex||0,n=this._rowsScrollController?this._rowsScrollController.pageIndex():0,i=this._dataSource.operationTypes()||{},s=this.getController("focus"),r=i.reload,a=this.getController("keyboardNavigation")._isVirtualScrolling(),d=this.option("focusedRowKey"),l=void 0!==e&&e!==o,c=n!==t,u=this.option("autoNavigateToFocusedRow");this._prevPageIndex=o,this._prevRenderingPageIndex=n,r&&void 0!==d?s._navigateToRow(d,!0).done(function(e){e<0&&s._focusRowByIndex()}):l?u?!a&&this.option("focusedRowIndex")>=0&&s._focusRowByIndex():this.option("focusedRowIndex",-1):c||s._focusRowByKeyOrIndex()},getPageIndexByKey:function(e){var o=this,t=new d.Deferred;return o.getGlobalRowIndexByKey(e).done(function(e){t.resolve(e>=0?Math.floor(e/o.pageSize()):-1)}).fail(t.reject),t.promise()},getGlobalRowIndexByKey:function(e){return this._dataSource.group()?this._calculateGlobalRowIndexByGroupedData(e):this._calculateGlobalRowIndexByFlatData(e)},_calculateGlobalRowIndexByFlatData:function(e,o,t){var n=this,i=new d.Deferred,s=n._dataSource,r=n._generateFilterByKey(e);return s.load({filter:n._concatWithCombinedFilter(r),skip:0,take:1}).done(function(a){a.length>0?(r=n._generateOperationFilterByKey(e,a[0],t),s.load({filter:n._concatWithCombinedFilter(r,o),skip:0,take:1,requireTotalCount:!0}).done(function(e,o){i.resolve(o.totalCount)})):i.resolve(-1)}),i.promise()},_concatWithCombinedFilter:function(e,o){var t=this.getCombinedFilter();return(0,s.combineFilters)([e,t,o])},_generateBooleanFilter:function(e,o,t){var n=void 0;return!1===o?n=[e,"=",!!t.desc||null]:(!0===o?!t.desc:t.desc)&&(n=[e,"<>",o]),n},_generateOperationFilterByKey:function(e,o,t){var n,i=this,s=i._dataSource,r=i._generateFilterByKey(e,"<"),d=i._columnsController.getSortDataSourceParameters(!s.remoteOperations().filtering,!0);if(t){var l=i._columnsController.getGroupDataSourceParameters(!s.remoteOperations().filtering);l&&(d=d?l.concat(d):l)}return d&&d.slice().reverse().forEach(function(e){var t,s,d=e.selector;s=(t="function"==typeof d?d:i._columnsController.columnOption(d,"selector"))?t(o):o[d],r=[[d,"=",s],"and",r],null===s||(0,a.isBoolean)(s)?(n=i._generateBooleanFilter(d,s,e))&&(r=[n,"or",r]):r=[[d,e.desc?">":"<",s],"or",r]}),r},_generateFilterByKey:function(e,o){var t,n=this._dataSource.key(),i=[];if(o||(o="="),Array.isArray(n))for(var s=0;s<n.length;++s)(t=e[n[s]])&&(i.length>0&&i.push("and"),i.push([n[s],o,t]));else i=[n,o,e];return i}}},views:{rowsView:{_createRow:function(e){var o=this.callBase(e);return this.option("focusedRowEnabled")&&e&&this.getController("focus").isRowFocused(e.key)&&o.addClass(c),o},_checkRowKeys:function(e){if(this.callBase.apply(this,arguments),this.option("focusedRowEnabled")&&this.option("dataSource")){var o=this._dataController.store();o&&!o.key()&&this._dataController.fireError("E1042","Row focusing")}},_update:function(e){"updateFocusedRow"===e.changeType?this.option("focusedRowEnabled")&&this.getController("focus").updateFocusedRow(e):this.callBase(e)},updateFocusElementTabIndex:function(e){this.option("focusedRowEnabled")?this._setFocusedRowElementTabIndex():this.callBase(e)},_setFocusedRowElementTabIndex:function(){var e=this,t=e.option("focusedRowKey"),n=e.option("tabIndex")||0,i=e._dataController.getRowIndexByKey(t),s=e.option("focusedColumnIndex"),r=e._findRowElementForTabIndex();if(r&&(e._scrollToFocusOnResize=e._scrollToFocusOnResize||function(){(r=e._findRowElementForTabIndex())&&(e.scrollToElementVertically(r),e.resizeCompleted.remove(e._scrollToFocusOnResize))},(0,o.default)(r).attr("tabIndex",n),i>=0)){s<0&&(s=0),i+=e.getController("data").getRowIndexOffset(),e.getController("keyboardNavigation").setFocusedCellPosition(i,s);var a=e.component.getController("data")._dataSource,d=a&&a.operationTypes();d&&!d.paging&&(e.resizeCompleted.remove(e._scrollToFocusOnResize),e.resizeCompleted.add(e._scrollToFocusOnResize))}},_findRowElementForTabIndex:function(){var e=this.option("focusedRowKey"),t=this._dataController.getRowIndexByKey(e);return(0,o.default)(this.getRowElement(t>=0?t:0))},scrollToElementVertically:function(e){var o=this.getScrollable();if(o){var t=o.getScrollElementPosition(e,"vertical");o.scrollTo({top:t})}}}}}};
},{"../../core/renderer":"qxFQ","./ui.grid_core.modules":"vXU0","../../core/utils/iterator":"FHcO","./ui.grid_core.utils":"kk68","../../core/utils/common":"GcQA","../../core/utils/type":"Mw4w","../../core/utils/deferred":"g5TB"}],"wv8y":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.core"),t=a(e),r=require("../../core/utils/extend"),n=require("../../core/utils/deferred"),o=require("../grid_core/ui.grid_core.focus"),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r=-1;return e.forEach(function(e,n){t(e)&&(r=n)}),r}t.default.registerModule("focus",(0,r.extend)(!0,{},i.default,{extenders:{controllers:{data:{changeRowExpand:function(e){return this.option("focusedRowEnabled")&&this.isRowExpanded(e)&&this._isFocusedRowInside(e)&&this.option("focusedRowKey",e),this.callBase.apply(this,arguments)},_isFocusedRowInside:function(e){for(var t=this.option("focusedRowKey"),r=this.getRowIndexByKey(t),n=r>=0&&this.getVisibleRows()[r],o=n&&n.node.parent;o;){if(o.key===e)return!0;o=o.parent}return!1},getParentKey:function(e){var t=this._dataSource,r=this.getNodeByKey(e),o=new n.Deferred;return r?o.resolve(r.parent?r.parent.key:void 0):t.load({filter:[t.getKeyExpr(),"=",e]}).done(function(e){var r=e[0];r?o.resolve(t.parentKeyOf(r)):o.reject()}).fail(o.reject),o.promise()},expandAscendants:function(e){var t=this,r=t._dataSource,o=new n.Deferred;return t.getParentKey(e).done(function(e){r&&void 0!==e&&e!==t.option("rootValue")?(r._isNodesInitializing=!0,t.expandRow(e),r._isNodesInitializing=!1,t.expandAscendants(e).done(o.resolve).fail(o.reject)):o.resolve()}).fail(o.reject),o.promise()},getPageIndexByKey:function(e){var t=this,r=t._dataSource,o=new n.Deferred;return t.expandAscendants(e).done(function(){r.load({filter:t.getCombinedFilter(),sort:t.getController("columns").getSortDataSourceParameters(!r.remoteOperations().sorting),parentIds:[]}).done(function(r){var n=s(r,function(r){return t.keyOf(r.data)===e}),i=t.pageIndex();n>=0&&(i=Math.floor(n/t.pageSize())),o.resolve(i)}).fail(o.reject)}).fail(o.reject),o.promise()}}}}}));
},{"./ui.tree_list.core":"O4Kv","../../core/utils/extend":"ac8T","../../core/utils/deferred":"g5TB","../grid_core/ui.grid_core.focus":"zidA"}],"Y6Za":[function(require,module,exports) {
"use strict";var e=require("../../core/renderer"),t=a(e),n=require("../../core/utils/extend"),o=require("../sortable"),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var r="dx-command-drag",l="dx-cell-focus-disabled",d="drag-icon",s="rowsview",u="dx-sortable-without-handle",g={init:function(){this.callBase.apply(this,arguments),this._updateHandleColumn()},_allowReordering:function(){var e=this.option("rowDragging");return!(!e||!(e.allowReordering||e.allowDropInsideItem||e.group))},_updateHandleColumn:function(){var e=this.option("rowDragging"),t=this._allowReordering(),n=this._columnsController,o=t&&e.showDragIcons;n&&n.addCommandColumn({type:"drag",command:"drag",visibleIndex:-2,alignment:"center",cssClass:r,width:"auto",cellTemplate:this._getHandleTemplate(),visible:o}),n.columnOption("type:drag","visible",o)},_renderContent:function(){var e=this.option("rowDragging"),t=this._allowReordering(),o=this.callBase.apply(this,arguments);return t&&o.length&&(this._sortable=this._createComponent(o,i.default,(0,n.extend)({component:this.component,contentTemplate:null,filter:"> table > tbody > .dx-row:not(.dx-freespace-row):not(.dx-virtual-row)",dragTemplate:this._getDraggableRowTemplate(),handle:e.showDragIcons&&"."+r,dropFeedbackMode:"indicate"},e,{onDragStart:function(t){var n=t.component.getVisibleRows()[t.fromIndex];t.itemData=n&&n.data;var o=n&&"data"===n.rowType;t.cancel=!o;var i=e.onDragStart;i&&i(t)}})),o.toggleClass(u,!e.showDragIcons)),o},_getDraggableGridOptions:function(e){var n=this.option(),o=this.getColumns(),i=(0,t.default)(this.getRowElement(e.rowIndex));return{dataSource:[{id:1,parentId:0}],showBorders:!0,showColumnHeaders:!1,scrolling:{useNative:!1,showScrollbar:!1},pager:{visible:!1},loadingTimeout:void 0,columnFixing:n.columnFixing,columnAutoWidth:n.columnAutoWidth,showColumnLines:n.showColumnLines,columns:o.map(function(e){return{width:e.width||e.visibleWidth,fixed:e.fixed,fixedPosition:e.fixedPosition}}),onRowPrepared:function(e){var n=e.component.getView("rowsView");(0,t.default)(e.rowElement).replaceWith(i.eq(n._isFixedTableRendering?1:0).clone())}}},_getDraggableRowTemplate:function(){var e=this;return function(n){var o=e.component.$element(),i=(0,t.default)("<div>").width(o.width()),a=e._dataController.items(),r=a&&a[n.fromIndex],l=e._getDraggableGridOptions(r);return e._createComponent(i,e.component.NAME,l),i.find(".dx-gridbase-container").children(":not(."+e.addWidgetPrefix(s)+")").hide(),i}},_getHandleTemplate:function(){var e=this;return function(n,o){return(0,t.default)(n).addClass(l),(0,t.default)("<span>").addClass(e.addWidgetPrefix(d))}},optionChanged:function(e){"rowDragging"===e.name&&(this._updateHandleColumn(),this._invalidate(!0,!0),e.handled=!0),this.callBase.apply(this,arguments)}};module.exports={defaultOptions:function(){return{rowDragging:{showDragIcons:!0,dropFeedbackMode:"indicate",allowReordering:!1,allowDropInsideItem:!1}}},extenders:{views:{rowsView:g}}};
},{"../../core/renderer":"qxFQ","../../core/utils/extend":"ac8T","../sortable":"q1DR"}],"R1X9":[function(require,module,exports) {
"use strict";var r=require("./ui.tree_list.core"),e=t(r),i=require("../grid_core/ui.grid_core.row_dragging"),u=t(i);function t(r){return r&&r.__esModule?r:{default:r}}e.default.registerModule("rowDragging",u.default);
},{"./ui.tree_list.core":"O4Kv","../grid_core/ui.grid_core.row_dragging":"Y6Za"}],"yHHA":[function(require,module,exports) {
"use strict";var e=require("./ui.tree_list.base"),i=r(e);function r(e){return e&&e.__esModule?e:{default:e}}require("./ui.tree_list.state_storing"),require("./ui.tree_list.column_chooser"),require("./ui.tree_list.master_detail"),require("./ui.tree_list.editing"),require("./ui.tree_list.validating"),require("./ui.tree_list.virtual_scrolling"),require("./ui.tree_list.filter_row"),require("./ui.tree_list.header_filter"),require("./ui.tree_list.filter_sync"),require("./ui.tree_list.filter_builder"),require("./ui.tree_list.filter_panel"),require("./ui.tree_list.pager"),require("./ui.tree_list.columns_resizing_reordering"),require("./ui.tree_list.column_fixing"),require("./ui.tree_list.adaptivity"),require("./ui.tree_list.selection"),require("./ui.tree_list.search"),require("./ui.tree_list.keyboard_navigation"),require("./ui.tree_list.virtual_columns"),require("./ui.tree_list.focus"),require("./ui.tree_list.row_dragging"),module.exports=i.default;
},{"./ui.tree_list.base":"d6pG","./ui.tree_list.state_storing":"Kgav","./ui.tree_list.column_chooser":"jjGA","./ui.tree_list.master_detail":"u0hC","./ui.tree_list.editing":"I5pL","./ui.tree_list.validating":"TOoh","./ui.tree_list.virtual_scrolling":"UQkJ","./ui.tree_list.filter_row":"CUs7","./ui.tree_list.header_filter":"SzSb","./ui.tree_list.filter_sync":"e4vO","./ui.tree_list.filter_builder":"qVZ7","./ui.tree_list.filter_panel":"MRfX","./ui.tree_list.pager":"bZlc","./ui.tree_list.columns_resizing_reordering":"XHvS","./ui.tree_list.column_fixing":"D9UA","./ui.tree_list.adaptivity":"is7q","./ui.tree_list.selection":"ubdI","./ui.tree_list.search":"Vwoy","./ui.tree_list.keyboard_navigation":"ZXUz","./ui.tree_list.virtual_columns":"VarS","./ui.tree_list.focus":"wv8y","./ui.tree_list.row_dragging":"R1X9"}],"BlEh":[function(require,module,exports) {
"use strict";module.exports=require("./tree_list/ui.tree_list"),module.exports.default=module.exports;
},{"./tree_list/ui.tree_list":"yHHA"}],"Asjh":[function(require,module,exports) {
"use strict";var _="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=_;
},{}],"wVGV":[function(require,module,exports) {
"use strict";var e=require("./lib/ReactPropTypesSecret");function r(){}function t(){}t.resetWarningCache=r,module.exports=function(){function n(r,t,n,o,a,p){if(p!==e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function o(){return n}n.isRequired=n;var a={array:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:r};return a.PropTypes=a,a};
},{"./lib/ReactPropTypesSecret":"Asjh"}],"D9Od":[function(require,module,exports) {
var r,e;module.exports=require("./factoryWithThrowingShims")();
},{"./factoryWithThrowingShims":"wVGV"}],"Mg9v":[function(require,module,exports) {
"use strict";var e=require("./events/core/events_engine");exports.on=e.on,exports.one=e.one,exports.off=e.off,exports.trigger=e.trigger,exports.triggerHandler=e.triggerHandler,exports.Event=e.Event;
},{"./events/core/events_engine":"oNrb"}],"AqNv":[function(require,module,exports) {
"use strict";function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(e){return e}).join(".")}function t(e){var t=e.split("[");return 1===t.length?{isCollectionItem:!1,name:e}:{isCollectionItem:!0,name:t[0],index:Number(t[1].slice(0,-1))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeNameParts=e,exports.parseOptionName=t;
},{}],"Mbcb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,n=require("./utils");function t(e,n){var t={};return{templates:t,options:i(e,t,n)}}function i(e,n,t){for(var o={},a=0,s=Object.keys(e.predefinedOptions);a<s.length;a++){o[y=s[a]]=e.predefinedOptions[y]}for(var l=0,f=Object.keys(e.configs);l<f.length;l++){o[y=f[l]]=i(e.configs[y],n,t)}for(var p=0,u=Object.keys(e.configCollections);p<u.length;p++){o[y=u[p]]=e.configCollections[y].map(function(e){return i(e,n,t)})}if(!t)for(var c=0,m=Object.keys(e.initialOptions);c<m.length;c++){o[y=m[c]]=e.initialOptions[y]}for(var v=0,g=Object.keys(e.options);v<g.length;v++){var y;o[y=g[v]]=e.options[y]}return r(e,o,n),o}function r(e,t,i){e.templates.map(function(r){if(r.isAnonymous){var o=n.mergeNameParts(e.fullName,r.optionName);t[r.optionName]=o,i[o]=r}else i[r.optionName]=r})}function o(r,s){var l=s.shift();if(!l)return{value:t(r,!0).options,type:e.Complex};var f=n.parseOptionName(l);if(f.isCollectionItem){var p=r.configCollections[f.name];if(!p)return;var u=p[f.index];if(!u)return;return o(u,s)}var c=r.configs[f.name];if(c)return o(c,s);var m=r.configCollections[f.name];if(m){if(0!==s.length)return;return{value:m.map(function(e){return i(e,{},!0)}),type:e.Array}}var v=r.options[f.name];return v?a(v,s):void 0}function a(n,t){if(n){var i=t.shift();return i?a(n[i],t):{value:n,type:e.Simple}}}exports.buildConfig=t,exports.buildNode=i,exports.buildTemplates=r,function(e){e[e.Simple=0]="Simple",e[e.Complex=1]="Complex",e[e.Array=2]="Array"}(e||(e={})),exports.ValueType=e,exports.findValue=o;
},{"./utils":"AqNv"}],"wNoY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./tree"),o=require("./utils");function t(e,o){var t={options:{},removedOptions:[],templates:{},addRemovedValues:function(e,o,t){l(e,o,t,this.removedOptions)}};return n(e,o,t),t}function n(t,l,a){if(l){a.addRemovedValues(t.options,l.options,t.fullName),a.addRemovedValues(t.configCollections,l.configCollections,t.fullName),a.addRemovedValues(t.configs,l.configs,t.fullName),i(t,l,a);for(var r=0,f=Object.keys(t.configs);r<f.length;r++){var u=f[r];n(t.configs[u],l.configs[u],a)}for(var c=0,m=Object.keys(t.options);c<m.length;c++){u=m[c];t.options[u]!==l.options[u]&&(a.options[o.mergeNameParts(t.fullName,u)]=t.options[u])}s(t,l,a)}else a.options[t.fullName]=e.buildNode(t,a.templates,!0)}function s(t,n,s){var l={},i={},a={},r={};e.buildTemplates(t,l,i),e.buildTemplates(n,a,r),s.addRemovedValues(l,a,t.fullName);for(var f=0,u=Object.keys(l);f<u.length;f++){l[d=u[f]]!==a[d]&&(s.options[o.mergeNameParts(t.fullName,d)]=l[d])}for(var c=0,m=Object.keys(i);c<m.length;c++){var d,g=i[d=m[c]],p=r[d];p&&g.content===p.content||(s.templates[d]=g)}}function l(e,t,n,s){for(var l=0,i=Object.keys(t).filter(function(o){return Object.keys(e).indexOf(o)<0});l<i.length;l++){var a=i[l];s.push(o.mergeNameParts(n,a))}}function i(t,s,l){for(var i=function(i){var a=t.configCollections[i],r=s.configCollections[i]||[];if(!a||a.length!==r.length){var f=[];return a.map(function(o){var t=e.buildNode(o,l.templates,!0);f.push(t)}),l.options[o.mergeNameParts(t.fullName,i)]=f,"continue"}for(var u=0;u<a.length;u++)n(a[u],r[u],l)},a=0,r=Object.keys(t.configCollections);a<r.length;a++){i(r[a])}}exports.getChanges=t;
},{"./tree":"Mbcb","./utils":"AqNv"}],"pf9U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./configuration/comparer"),e=require("./configuration/tree"),i=require("./configuration/utils"),n=function(){function n(t){this._guards={},this._isUpdating=!1,this._templatesManager=t,this.onOptionChanged=this.onOptionChanged.bind(this),this._wrapOptionValue=this._wrapOptionValue.bind(this)}return n.prototype.setInstance=function(t,e){this._instance=t,this._currentConfig=e},n.prototype.getInitialOptions=function(t){for(var i=e.buildConfig(t,!1),n=0,s=Object.keys(i.templates);n<s.length;n++){var a=s[n];this._templatesManager.add(a,i.templates[a])}for(var o={},r=0,p=Object.keys(i.options);r<p.length;r++){o[a=p[r]]=this._wrapOptionValue(a,i.options[a])}return this._templatesManager.templatesCount>0&&(o.integrationOptions={templates:this._templatesManager.templates}),o},n.prototype.update=function(e){var i=this,n=t.getChanges(e,this._currentConfig);if(n.options||n.templates||n.removedOptions.length){this._instance.beginUpdate(),this._isUpdating=!0,n.removedOptions.forEach(function(t){i._resetOption(t)});for(var s=0,a=Object.keys(n.templates);s<a.length;s++){var o=a[s];this._templatesManager.add(o,n.templates[o])}this._templatesManager.templatesCount>0&&this._setValue("integrationOptions",{templates:this._templatesManager.templates});for(var r=0,p=Object.keys(n.options);r<p.length;r++){o=p[r];this._setValue(o,n.options[o])}this._isUpdating=!1,this._instance.endUpdate(),this._currentConfig=e}},n.prototype.onOptionChanged=function(t){if(!this._isUpdating){var n=e.findValue(this._currentConfig,t.fullName.split("."));if(n){var s=n.value;if(n.type===e.ValueType.Complex)for(var a=0,o=Object.keys(s);a<o.length;a++){var r=o[a];null!==s[r]&&void 0!==s[r]&&s[r]!==t.value[r]&&this._setGuard(i.mergeNameParts(t.fullName,r),s[r])}else{if(null==s||s===t.value)return;this._setGuard(t.fullName,s)}}}},n.prototype.dispose=function(){for(var t=0,e=Object.keys(this._guards);t<e.length;t++){var i=e[t];window.clearTimeout(this._guards[i]),delete this._guards[i]}},n.prototype._wrapOptionValue=function(t,e){var i=this;return"on"===t.substr(0,2)&&"function"==typeof e?function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];i._isUpdating||e.apply(void 0,t)}:e},n.prototype._setGuard=function(t,e){var i=this;if(void 0===this._guards[t]){var n=window.setTimeout(function(){i._setValue(t,e),window.clearTimeout(n),delete i._guards[t]});this._guards[t]=n}},n.prototype._resetOption=function(t){this._instance.resetOption(t)},n.prototype._setValue=function(t,e){this._guards[t]&&(window.clearTimeout(this._guards[t]),delete this._guards[t]),this._instance.option(t,this._wrapOptionValue(t,e))},n}();exports.OptionsManager=n;
},{"./configuration/comparer":"wNoY","./configuration/tree":"Mbcb","./configuration/utils":"AqNv"}],"vrRx":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var e={useLegacyTemplateEngine:!1};function r(r){e=t(t({},e),r)}function n(t){return e[t]}exports.getOption=n,exports.default=r;
},{}],"A3AC":[function(require,module,exports) {
"use strict";function e(){return Math.random().toString(36).substr(2)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateID=e;var t=function(){function e(){this._map=new Map}return e.prototype.set=function(e,t){var r=e.key1,n=e.key2,o=this._map.get(r);o||(o=new Map,this._map.set(r,o)),o.set(n,t)},e.prototype.get=function(e){var t=e.key1,r=e.key2,n=this._map.get(t);return n?n.get(r):void 0},e.prototype.delete=function(e){var t=e.key1,r=e.key2,n=this._map.get(t);n&&(n.delete(r),0===n.size&&this._map.delete(t))},e}();exports.DoubleKeyMap=t;
},{}],"pysU":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var t=require("devextreme/events"),n=require("react"),r=require("react-dom"),o=require("./component-base"),i=function(i){function p(e){var t=i.call(this,e)||this;return t._removalListenerRef=n.createRef(),t}return e(p,i),p.prototype.render=function(){return r.createPortal(n.createElement(n.Fragment,null,this.props.content,n.createElement("TABLE"===this.props.container.nodeName?"tbody":"span",{style:{display:"none"},ref:this._removalListenerRef})),this.props.container)},p.prototype.componentDidMount=function(){if(this.props.onRendered){var e=this.props.onRendered;setTimeout(function(){return e()})}this._subscribeOnRemove()},p.prototype.componentDidUpdate=function(){this._subscribeOnRemove()},p.prototype.componentWillUnmount=function(){var e=r.findDOMNode(this);e&&this.props.container.appendChild(e),this.props.container.appendChild(this._removalListenerRef.current)},p.prototype._subscribeOnRemove=function(){var e=this,n=this._removalListenerRef.current;n&&t.one(n,o.DX_REMOVE_EVENT,function(){e.props.onRemoved()})},p}(n.PureComponent);exports.TemplateWrapper=i;
},{"devextreme/events":"Mg9v","react":"n8MK","react-dom":"NKHc","./component-base":"RYEf"}],"ZjVS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("./helpers"),t=require("./template-wrapper");function n(n,a,d){var u=new r.DoubleKeyMap;return{render:function(i){var l,c=o(i.container),p={key1:i.model,key2:c},m=u.get(p);return m?l=m:(l=d?d(i.model):"__template_"+r.generateID(),void 0!==i.model&&u.set(p,l)),a.add(l,function(){var r={data:i.model,index:i.index},o=n();return e.createElement(t.TemplateWrapper,{content:o(r),container:c,onRemoved:function(){a.remove(l),u.delete({key1:i.model,key2:c})},onRendered:i.onRendered,key:l})}),c}}}function o(e){return e.get?e.get(0):e}exports.createDxTemplate=n;
},{"react":"n8MK","./helpers":"A3AC","./template-wrapper":"pysU"}],"GALb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("./config"),n=require("./dx-template");function r(e){if(t.getOption("useLegacyTemplateEngine")){var n=e.data;return n&&n.hasOwnProperty("key")&&(n.dxkey=n.key),n}return e}var i={component:function(t){return function(n){return n=r(n),e.createElement.bind(null,t())(n)}},render:function(e){return function(t){return r(t),e()(t.data,t.index)}},children:function(e){return function(){return e()}}},o=function(){function e(e){this._templates={},this._templatesContent={},this._templatesStore=e}return e.prototype.add=function(e,t){var r=this;this._templatesContent[e]=t.content;var o=i[t.type].bind(this,function(){return r._templatesContent[e]});this._templates[e]=n.createDxTemplate(o,this._templatesStore,t.keyFn)},Object.defineProperty(e.prototype,"templatesCount",{get:function(){return Object.keys(this._templates).length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"templates",{get:function(){return this._templates},enumerable:!0,configurable:!0}),e}();exports.default=o;
},{"react":"n8MK","./config":"vrRx","./dx-template":"ZjVS"}],"RaQa":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var t=require("devextreme/core/utils/common"),r=require("react"),n=function(n){function o(){var e=null!==n&&n.apply(this,arguments)||this;return e._updateScheduled=!1,e}return e(o,n),o.prototype.scheduleUpdate=function(){var e=this;this._updateScheduled||(this._updateScheduled=!0,t.deferUpdate(function(){e.forceUpdate(),e._updateScheduled=!1}))},o.prototype.render=function(){return r.createElement(r.Fragment,{},this.props.templatesStore.renderWrappers())},o}(r.PureComponent);exports.TemplatesRenderer=n;
},{"devextreme/core/utils/common":"GcQA","react":"n8MK"}],"FE9V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e){this._templates={},this._onTemplateAdded=e}return e.prototype.add=function(e,t){this._templates[e]=t,this._onTemplateAdded()},e.prototype.remove=function(e){delete this._templates[e]},e.prototype.renderWrappers=function(){var e=this;return Object.getOwnPropertyNames(this._templates).map(function(t){return e._templates[t]()})},e}();exports.TemplatesStore=e;
},{}],"xLGb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=["style","id"];exports.elementPropNames=e;var t="className";function r(e,t,r){var n={},s={},a={},c={};return(r=r||[]).forEach(function(e){c[e.component]=!0,c[e.render]=!0}),Object.keys(e).forEach(function(r){var u=t?t[r]:null;o(r)||(u?n[u]=e[r]:c[r]?a[r]=e[r]:s[r]=e[r])}),{options:s,defaults:n,templates:a}}function n(e){return e[t]}function o(r){return"children"===r||r===t||e.indexOf(r)>-1}exports.separateProps=r,exports.getClassName=n;
},{}],"uqCR":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(r,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])})(r,n)};return function(r,n){function t(){this.constructor=r}e(r,n),r.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}}();Object.defineProperty(exports,"__esModule",{value:!0});var r=require("prop-types"),n=require("react"),t=function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return e(n,r),n.prototype.render=function(){return null},n}(n.PureComponent);exports.Template=t;var o=function(e){return e.component||e.render||e.children?null:new Error("The Template component requires 'component' or 'render' property")};function p(e){if(e.type===t)return{name:e.props.name,render:e.props.render,component:e.props.component,children:e.props.children,keyFn:e.props.keyFn}}t.propTypes={name:r.string.isRequired,component:o,render:o,children:o},exports.findProps=p;
},{"prop-types":"D9Od","react":"n8MK"}],"s6tZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("../../template");function p(p,n){var o=p;if(!o||!o.type)return{type:e.Unknown};if(o.type===t.Template)return{type:e.Template,props:o.props};var r=o.type;if(r.OptionName){var i=r.OptionName,l=r.IsCollectionItem,s=n&&n[i];return s&&(l=s.isCollectionItem,s.optionName&&(i=s.optionName)),{type:e.Option,descriptor:{name:i,isCollection:l,templates:r.TemplateProps||[],initialValuesProps:r.DefaultsProps||{},predefinedValuesProps:r.PredefinedProps||{},expectedChildren:r.ExpectedChildren||{}},props:o.props}}return{type:e.Unknown}}!function(e){e[e.Option=0]="Option",e[e.Template=1]="Template",e[e.Unknown=2]="Unknown"}(e||(e={})),exports.ElementType=e,exports.getElementInfo=p;
},{"../../template":"uqCR"}],"Fpup":[function(require,module,exports) {
"use strict";function n(n,e,o){return"template"===e.tmplOption&&o?{optionName:e.tmplOption,isAnonymous:!0,type:"children",content:n.children,keyFn:n[e.keyFn]}:n[e.render]?{optionName:e.tmplOption,isAnonymous:!0,type:"render",content:n[e.render],keyFn:n[e.keyFn]}:n[e.component]?{optionName:e.tmplOption,isAnonymous:!0,type:"component",content:n[e.component],keyFn:n[e.keyFn]}:null}function e(n){return n.name?n.component?{optionName:n.name,isAnonymous:!1,type:"component",content:n.component,keyFn:n.keyFn}:n.render?{optionName:n.name,isAnonymous:!1,type:"render",content:n.render,keyFn:n.keyFn}:{optionName:n.name,isAnonymous:!1,type:"children",content:n.children,keyFn:n.keyFn}:null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAnonymousTemplate=n,exports.getNamedTemplate=e;
},{}],"hVzv":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),r=require("../../widget-config"),n=require("./element"),s=require("../utils"),i=require("./templates");function o(t,r){return p({type:n.ElementType.Option,descriptor:e({name:"",isCollection:!1},t),props:r},"")}function p(e,t){for(var n=e.descriptor.isCollection?t:s.mergeNameParts(t,e.descriptor.name),o=r.separateProps(e.props,e.descriptor.initialValuesProps,e.descriptor.templates),p=a(e,n),l=0,c=e.descriptor.templates;l<c.length;l++){var d=c[l],u=i.getAnonymousTemplate(e.props,d,t.length>0&&p.hasTranscludedContent);u&&p.templates.push(u)}return{fullName:n,predefinedOptions:e.descriptor.predefinedValuesProps,initialOptions:o.defaults,options:o.options,templates:p.templates,configCollections:p.configCollections,configs:p.configs}}function a(e,r){var o=[],a={},l={},c=!1;return t.Children.map(e.props.children,function(t){var d=n.getElementInfo(t,e.descriptor.expectedChildren);if(d.type!==n.ElementType.Unknown)if(d.type!==n.ElementType.Template)if(d.descriptor.isCollection){var u=a[d.descriptor.name];u||(u=[],a[d.descriptor.name]=u);var m=p(d,s.mergeNameParts(r,d.descriptor.name)+"["+u.length+"]");u.push(m)}else{var f=p(d,r);l[d.descriptor.name]=f}else{var g=i.getNamedTemplate(d.props);g&&o.push(g)}else c=!0}),{configs:l,configCollections:a,templates:o,hasTranscludedContent:c}}exports.buildConfigTree=o;
},{"react":"n8MK","../../widget-config":"xLGb","./element":"s6tZ","../utils":"AqNv","./templates":"Fpup"}],"RYEf":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),t=this&&this.__assign||function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("devextreme/events"),r=require("react"),s=require("./options-manager"),i=require("./templates-manager"),o=require("./templates-renderer"),a=require("./templates-store"),p=require("./widget-config"),l=require("./configuration/react/tree"),u="dxremove";exports.DX_REMOVE_EVENT=u;var c=function(c){function _(e){var t=c.call(this,e)||this;return t._templateProps=[],t._setTemplatesRendererRef=t._setTemplatesRendererRef.bind(t),t._createWidget=t._createWidget.bind(t),t._templatesStore=new a.TemplatesStore(function(){t._templatesRendererRef&&t._templatesRendererRef.scheduleUpdate()}),t._templatesManager=new i.default(t._templatesStore),t._optionsManager=new s.OptionsManager(t._templatesManager),t}return e(_,c),_.prototype.render=function(){return r.createElement("div",this._getElementProps(),this.renderChildren(),r.createElement(o.TemplatesRenderer,{templatesStore:this._templatesStore,ref:this._setTemplatesRendererRef}))},_.prototype.componentDidMount=function(){this._updateCssClasses(null,this.props)},_.prototype.componentDidUpdate=function(e){this._updateCssClasses(e,this.props);var t=this._getConfig();this._optionsManager.update(t),this._templatesRendererRef&&this._templatesRendererRef.scheduleUpdate()},_.prototype.componentWillUnmount=function(){this._instance&&(n.triggerHandler(this._element,u),this._instance.dispose()),this._optionsManager.dispose()},_.prototype.renderChildren=function(){return this.props.children},_.prototype._createWidget=function(e){e=e||this._element;var n=this._getConfig();this._instance=new this._WidgetClass(e,t({templatesRenderAsynchronously:!0},this._optionsManager.getInitialOptions(n))),this._optionsManager.setInstance(this._instance,n),this._instance.on("optionChanged",this._optionsManager.onOptionChanged)},_.prototype._getConfig=function(){return l.buildConfigTree({templates:this._templateProps,initialValuesProps:this._defaults,predefinedValuesProps:{},expectedChildren:this._expectedChildren},this.props)},_.prototype._setTemplatesRendererRef=function(e){this._templatesRendererRef=e},_.prototype._getElementProps=function(){var e=this,t={ref:function(t){return e._element=t}};return p.elementPropNames.forEach(function(n){n in e.props&&(t[n]=e.props[n])}),t},_.prototype._updateCssClasses=function(e,t){var n,r,s=e?p.getClassName(e):void 0,i=p.getClassName(t);if(s!==i){var o;if(s)(o=s.split(" ").filter(function(e){return e})).length&&(n=this._element.classList).remove.apply(n,o);if(i)(o=i.split(" ").filter(function(e){return e})).length&&(r=this._element.classList).add.apply(r,o)}},_}(r.PureComponent);exports.ComponentBase=c;
},{"devextreme/events":"Mg9v","react":"n8MK","./options-manager":"pf9U","./templates-manager":"GALb","./templates-renderer":"RaQa","./templates-store":"FE9V","./widget-config":"xLGb","./configuration/react/tree":"hVzv"}],"D1xe":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./component-base"),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.prototype.componentDidMount=function(){var t=this.props.onMounted;t?t(this._createWidget):this._createWidget()},n}(e.ComponentBase);exports.ExtensionComponent=n;
},{"./component-base":"RYEf"}],"gysY":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),n=require("./component-base"),o=require("./extension-component"),r=function(n){function r(t){var e=n.call(this,t)||this;return e._extensionCreators=[],e._registerExtension=e._registerExtension.bind(e),e}return t(r,n),r.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this),this._createWidget(),this._createExtensions()},r.prototype.renderChildren=function(){var t=this;return e.Children.map(this.props.children,function(n){return n&&o.ExtensionComponent.isPrototypeOf(n.type)?e.cloneElement(n,{onMounted:t._registerExtension}):n})},r.prototype._registerExtension=function(t){this._extensionCreators.push(t)},r.prototype._createExtensions=function(){var t=this;this._extensionCreators.forEach(function(e){return e(t._element)})},r}(n.ComponentBase);exports.Component=r;
},{"react":"n8MK","./component-base":"RYEf","./extension-component":"D1xe"}],"hZUb":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("./configuration/react/element"),n=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return t(o,n),o.prototype.render=function(){var t=e.Children.map(this.props.children,function(t){return r.getElementInfo(t).type===r.ElementType.Option?t:null});return e.createElement(e.Fragment,{},t)},o}(e.PureComponent);exports.default=n;
},{"react":"n8MK","./configuration/react/element":"s6tZ"}],"H3hC":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var t=require("devextreme/ui/tree_list"),n=require("prop-types"),o=require("./core/component"),i=require("./core/nested-option"),l=function(n){function o(){var e=null!==n&&n.apply(this,arguments)||this;return e._WidgetClass=t.default,e._defaults={defaultColumns:"columns",defaultExpandedRowKeys:"expandedRowKeys",defaultFilterPanel:"filterPanel",defaultFilterValue:"filterValue",defaultFocusedColumnIndex:"focusedColumnIndex",defaultFocusedRowIndex:"focusedRowIndex",defaultFocusedRowKey:"focusedRowKey",defaultPaging:"paging",defaultSearchPanel:"searchPanel",defaultSelectedRowKeys:"selectedRowKeys"},e._expectedChildren={column:{optionName:"columns",isCollectionItem:!0},columnChooser:{optionName:"columnChooser",isCollectionItem:!1},columnFixing:{optionName:"columnFixing",isCollectionItem:!1},editing:{optionName:"editing",isCollectionItem:!1},filterBuilder:{optionName:"filterBuilder",isCollectionItem:!1},filterBuilderPopup:{optionName:"filterBuilderPopup",isCollectionItem:!1},filterPanel:{optionName:"filterPanel",isCollectionItem:!1},filterRow:{optionName:"filterRow",isCollectionItem:!1},headerFilter:{optionName:"headerFilter",isCollectionItem:!1},keyboardNavigation:{optionName:"keyboardNavigation",isCollectionItem:!1},loadPanel:{optionName:"loadPanel",isCollectionItem:!1},pager:{optionName:"pager",isCollectionItem:!1},paging:{optionName:"paging",isCollectionItem:!1},remoteOperations:{optionName:"remoteOperations",isCollectionItem:!1},rowDragging:{optionName:"rowDragging",isCollectionItem:!1},scrolling:{optionName:"scrolling",isCollectionItem:!1},searchPanel:{optionName:"searchPanel",isCollectionItem:!1},selection:{optionName:"selection",isCollectionItem:!1},sorting:{optionName:"sorting",isCollectionItem:!1},stateStoring:{optionName:"stateStoring",isCollectionItem:!1},treeListHeaderFilter:{optionName:"headerFilter",isCollectionItem:!1}},e}return e(o,n),Object.defineProperty(o.prototype,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),o}(o.Component);exports.TreeList=l,l.propTypes={accessKey:n.string,activeStateEnabled:n.bool,allowColumnReordering:n.bool,allowColumnResizing:n.bool,autoExpandAll:n.bool,autoNavigateToFocusedRow:n.bool,cacheEnabled:n.bool,cellHintEnabled:n.bool,columnAutoWidth:n.bool,columnChooser:n.object,columnFixing:n.object,columnHidingEnabled:n.bool,columnMinWidth:n.number,columnResizingMode:n.oneOf(["nextColumn","widget"]),columns:n.array,columnWidth:n.number,customizeColumns:n.func,dataSource:n.oneOfType([n.array,n.object,n.string]),dataStructure:n.oneOf(["plain","tree"]),dateSerializationFormat:n.string,disabled:n.bool,editing:n.object,elementAttr:n.object,errorRowEnabled:n.bool,expandedRowKeys:n.array,expandNodesOnFiltering:n.bool,filterBuilder:n.object,filterBuilderPopup:n.object,filterMode:n.oneOf(["fullBranch","withAncestors","matchOnly"]),filterPanel:n.object,filterRow:n.object,filterSyncEnabled:n.bool,filterValue:n.oneOfType([n.array,n.func,n.string]),focusedColumnIndex:n.number,focusedRowEnabled:n.bool,focusedRowIndex:n.number,focusStateEnabled:n.bool,hasItemsExpr:n.oneOfType([n.func,n.string]),headerFilter:n.object,height:n.oneOfType([n.func,n.number,n.string]),highlightChanges:n.bool,hint:n.string,hoverStateEnabled:n.bool,itemsExpr:n.oneOfType([n.func,n.string]),keyboardNavigation:n.object,keyExpr:n.oneOfType([n.func,n.string]),loadPanel:n.object,noDataText:n.string,onAdaptiveDetailRowPreparing:n.func,onCellClick:n.oneOfType([n.func,n.string]),onCellDblClick:n.func,onCellHoverChanged:n.func,onCellPrepared:n.func,onContentReady:n.func,onContextMenuPreparing:n.func,onDataErrorOccurred:n.func,onDisposing:n.func,onEditingStart:n.func,onEditorPrepared:n.func,onEditorPreparing:n.func,onFocusedCellChanged:n.func,onFocusedCellChanging:n.func,onFocusedRowChanged:n.func,onFocusedRowChanging:n.func,onInitialized:n.func,onInitNewRow:n.func,onKeyDown:n.func,onNodesInitialized:n.func,onOptionChanged:n.func,onRowClick:n.oneOfType([n.func,n.string]),onRowCollapsed:n.func,onRowCollapsing:n.func,onRowDblClick:n.func,onRowExpanded:n.func,onRowExpanding:n.func,onRowInserted:n.func,onRowInserting:n.func,onRowPrepared:n.func,onRowRemoved:n.func,onRowRemoving:n.func,onRowUpdated:n.func,onRowUpdating:n.func,onRowValidating:n.func,onSelectionChanged:n.func,onToolbarPreparing:n.func,pager:n.object,paging:n.object,parentIdExpr:n.oneOfType([n.func,n.string]),remoteOperations:n.object,renderAsync:n.bool,repaintChangesOnly:n.bool,rowAlternationEnabled:n.bool,rowDragging:n.object,rtlEnabled:n.bool,scrolling:n.object,searchPanel:n.object,selectedRowKeys:n.array,selection:n.object,showBorders:n.bool,showColumnHeaders:n.bool,showColumnLines:n.bool,showRowLines:n.bool,sorting:n.object,stateStoring:n.object,tabIndex:n.number,twoWayBindingEnabled:n.bool,visible:n.bool,width:n.oneOfType([n.func,n.number,n.string]),wordWrapEnabled:n.bool};var r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="animation",n.ExpectedChildren={hide:{optionName:"hide",isCollectionItem:!1},show:{optionName:"show",isCollectionItem:!1}},n}(i.default);exports.Animation=r;var a=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="validationRules",n.IsCollectionItem=!0,n.PredefinedProps={type:"async"},n}(i.default);exports.AsyncRule=a;var u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="at",n}(i.default);exports.At=u;var p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="boundaryOffset",n}(i.default);exports.BoundaryOffset=p;var s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="buttons",n.IsCollectionItem=!0,n.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],n}(i.default);exports.Button=s;var m=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="items",n.IsCollectionItem=!0,n.ExpectedChildren={buttonOptions:{optionName:"buttonOptions",isCollectionItem:!1}},n.PredefinedProps={itemType:"button"},n}(i.default);exports.ButtonItem=m;var c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="buttonOptions",n.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],n}(i.default);exports.ButtonOptions=c;var d=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="colCountByScreen",n}(i.default);exports.ColCountByScreen=d;var f=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="collision",n}(i.default);exports.Collision=f;var h=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="columns",n.IsCollectionItem=!0,n.DefaultsProps={defaultFilterValue:"filterValue",defaultFilterValues:"filterValues",defaultSelectedFilterOperation:"selectedFilterOperation",defaultSortIndex:"sortIndex",defaultSortOrder:"sortOrder",defaultVisible:"visible",defaultVisibleIndex:"visibleIndex"},n.ExpectedChildren={AsyncRule:{optionName:"validationRules",isCollectionItem:!0},button:{optionName:"buttons",isCollectionItem:!0},columnHeaderFilter:{optionName:"headerFilter",isCollectionItem:!1},columnLookup:{optionName:"lookup",isCollectionItem:!1},CompareRule:{optionName:"validationRules",isCollectionItem:!0},CustomRule:{optionName:"validationRules",isCollectionItem:!0},EmailRule:{optionName:"validationRules",isCollectionItem:!0},format:{optionName:"format",isCollectionItem:!1},formItem:{optionName:"formItem",isCollectionItem:!1},headerFilter:{optionName:"headerFilter",isCollectionItem:!1},lookup:{optionName:"lookup",isCollectionItem:!1},NumericRule:{optionName:"validationRules",isCollectionItem:!0},PatternRule:{optionName:"validationRules",isCollectionItem:!0},RangeRule:{optionName:"validationRules",isCollectionItem:!0},RequiredRule:{optionName:"validationRules",isCollectionItem:!0},StringLengthRule:{optionName:"validationRules",isCollectionItem:!0},validationRule:{optionName:"validationRules",isCollectionItem:!0}},n.TemplateProps=[{tmplOption:"cellTemplate",render:"cellRender",component:"cellComponent",keyFn:"cellKeyFn"},{tmplOption:"editCellTemplate",render:"editCellRender",component:"editCellComponent",keyFn:"editCellKeyFn"},{tmplOption:"headerCellTemplate",render:"headerCellRender",component:"headerCellComponent",keyFn:"headerCellKeyFn"}],n}(i.default);exports.Column=h;var C=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="columnChooser",n}(i.default);exports.ColumnChooser=C;var y=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="columnFixing",n.ExpectedChildren={columnFixingTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},n}(i.default);exports.ColumnFixing=y;var I=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="texts",n}(i.default);exports.ColumnFixingTexts=I;var N=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="headerFilter",n}(i.default);exports.ColumnHeaderFilter=N;var x=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="lookup",n}(i.default);exports.ColumnLookup=x;var O=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="validationRules",n.IsCollectionItem=!0,n.PredefinedProps={type:"compare"},n}(i.default);exports.CompareRule=O;var g=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="cursorOffset",n}(i.default);exports.CursorOffset=g;var b=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="customOperations",n.IsCollectionItem=!0,n.TemplateProps=[{tmplOption:"editorTemplate",render:"editorRender",component:"editorComponent",keyFn:"editorKeyFn"}],n}(i.default);exports.CustomOperation=b;var v=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="validationRules",n.IsCollectionItem=!0,n.PredefinedProps={type:"custom"},n}(i.default);exports.CustomRule=v;var R=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="editing",n.ExpectedChildren={editingTexts:{optionName:"texts",isCollectionItem:!1},form:{optionName:"form",isCollectionItem:!1},popup:{optionName:"popup",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},n}(i.default);exports.Editing=R;var P=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="texts",n}(i.default);exports.EditingTexts=P;var F=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="validationRules",n.IsCollectionItem=!0,n.PredefinedProps={type:"email"},n}(i.default);exports.EmailRule=F;var T=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="items",n.IsCollectionItem=!0,n.PredefinedProps={itemType:"empty"},n}(i.default);exports.EmptyItem=T;var w=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="fields",n.IsCollectionItem=!0,n.ExpectedChildren={fieldLookup:{optionName:"lookup",isCollectionItem:!1},format:{optionName:"format",isCollectionItem:!1},lookup:{optionName:"lookup",isCollectionItem:!1}},n.TemplateProps=[{tmplOption:"editorTemplate",render:"editorRender",component:"editorComponent",keyFn:"editorKeyFn"}],n}(i.default);exports.Field=w;var k=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="lookup",n}(i.default);exports.FieldLookup=k;var E=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="filterBuilder",n.DefaultsProps={defaultValue:"value"},n.ExpectedChildren={customOperation:{optionName:"customOperations",isCollectionItem:!0},field:{optionName:"fields",isCollectionItem:!0},filterOperationDescriptions:{optionName:"filterOperationDescriptions",isCollectionItem:!1},groupOperationDescriptions:{optionName:"groupOperationDescriptions",isCollectionItem:!1}},n}(i.default);exports.FilterBuilder=E;var S=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="filterBuilderPopup",n.DefaultsProps={defaultHeight:"height",defaultPosition:"position",defaultVisible:"visible",defaultWidth:"width"},n.TemplateProps=[{tmplOption:"contentTemplate",render:"contentRender",component:"contentComponent",keyFn:"contentKeyFn"},{tmplOption:"titleTemplate",render:"titleRender",component:"titleComponent",keyFn:"titleKeyFn"}],n}(i.default);exports.FilterBuilderPopup=S;var D=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="filterOperationDescriptions",n}(i.default);exports.FilterOperationDescriptions=D;var K=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="filterPanel",n.DefaultsProps={defaultFilterEnabled:"filterEnabled"},n.ExpectedChildren={filterPanelTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},n}(i.default);exports.FilterPanel=K;var B=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="texts",n}(i.default);exports.FilterPanelTexts=B;var j=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="filterRow",n.ExpectedChildren={operationDescriptions:{optionName:"operationDescriptions",isCollectionItem:!1}},n}(i.default);exports.FilterRow=j;var L=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="form",n.DefaultsProps={defaultFormData:"formData"},n.ExpectedChildren={ButtonItem:{optionName:"items",isCollectionItem:!0},colCountByScreen:{optionName:"colCountByScreen",isCollectionItem:!1},EmptyItem:{optionName:"items",isCollectionItem:!0},GroupItem:{optionName:"items",isCollectionItem:!0},item:{optionName:"items",isCollectionItem:!0},SimpleItem:{optionName:"items",isCollectionItem:!0},TabbedItem:{optionName:"items",isCollectionItem:!0}},n}(i.default);exports.Form=L;var _=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="format",n}(i.default);exports.Format=_;var H=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="formItem",n.ExpectedChildren={AsyncRule:{optionName:"validationRules",isCollectionItem:!0},CompareRule:{optionName:"validationRules",isCollectionItem:!0},CustomRule:{optionName:"validationRules",isCollectionItem:!0},EmailRule:{optionName:"validationRules",isCollectionItem:!0},label:{optionName:"label",isCollectionItem:!1},NumericRule:{optionName:"validationRules",isCollectionItem:!0},PatternRule:{optionName:"validationRules",isCollectionItem:!0},RangeRule:{optionName:"validationRules",isCollectionItem:!0},RequiredRule:{optionName:"validationRules",isCollectionItem:!0},StringLengthRule:{optionName:"validationRules",isCollectionItem:!0},validationRule:{optionName:"validationRules",isCollectionItem:!0}},n.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],n}(i.default);exports.FormItem=H;var V=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="items",n.IsCollectionItem=!0,n.ExpectedChildren={colCountByScreen:{optionName:"colCountByScreen",isCollectionItem:!1}},n.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],n.PredefinedProps={itemType:"group"},n}(i.default);exports.GroupItem=V;var A=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="groupOperationDescriptions",n}(i.default);exports.GroupOperationDescriptions=A;var q=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="headerFilter",n}(i.default);exports.HeaderFilter=q;var z=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="hide",n}(i.default);exports.Hide=z;var W=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="items",n.IsCollectionItem=!0,n.TemplateProps=[{tmplOption:"tabTemplate",render:"tabRender",component:"tabComponent",keyFn:"tabKeyFn"},{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],n}(i.default);exports.Item=W;var M=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="keyboardNavigation",n}(i.default);exports.KeyboardNavigation=M;var G=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="label",n}(i.default);exports.Label=G;var U=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="loadPanel",n}(i.default);exports.LoadPanel=U;var J=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="lookup",n}(i.default);exports.Lookup=J;var Q=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="my",n}(i.default);exports.My=Q;var X=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="validationRules",n.IsCollectionItem=!0,n.PredefinedProps={type:"numeric"},n}(i.default);exports.NumericRule=X;var Y=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="offset",n}(i.default);exports.Offset=Y;var Z=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="operationDescriptions",n}(i.default);exports.OperationDescriptions=Z;var $=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="pager",n}(i.default);exports.Pager=$;var ee=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="paging",n.DefaultsProps={defaultPageIndex:"pageIndex",defaultPageSize:"pageSize"},n}(i.default);exports.Paging=ee;var te=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="validationRules",n.IsCollectionItem=!0,n.PredefinedProps={type:"pattern"},n}(i.default);exports.PatternRule=te;var ne=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="popup",n.DefaultsProps={defaultHeight:"height",defaultPosition:"position",defaultVisible:"visible",defaultWidth:"width"},n.ExpectedChildren={animation:{optionName:"animation",isCollectionItem:!1},position:{optionName:"position",isCollectionItem:!1},toolbarItem:{optionName:"toolbarItems",isCollectionItem:!0}},n.TemplateProps=[{tmplOption:"contentTemplate",render:"contentRender",component:"contentComponent",keyFn:"contentKeyFn"},{tmplOption:"titleTemplate",render:"titleRender",component:"titleComponent",keyFn:"titleKeyFn"}],n}(i.default);exports.Popup=ne;var oe=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="position",n.ExpectedChildren={at:{optionName:"at",isCollectionItem:!1},boundaryOffset:{optionName:"boundaryOffset",isCollectionItem:!1},collision:{optionName:"collision",isCollectionItem:!1},my:{optionName:"my",isCollectionItem:!1},offset:{optionName:"offset",isCollectionItem:!1}},n}(i.default);exports.Position=oe;var ie=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="validationRules",n.IsCollectionItem=!0,n.PredefinedProps={type:"range"},n}(i.default);exports.RangeRule=ie;var le=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="remoteOperations",n}(i.default);exports.RemoteOperations=le;var re=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="validationRules",n.IsCollectionItem=!0,n.PredefinedProps={type:"required"},n}(i.default);exports.RequiredRule=re;var ae=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="rowDragging",n.ExpectedChildren={cursorOffset:{optionName:"cursorOffset",isCollectionItem:!1}},n.TemplateProps=[{tmplOption:"dragTemplate",render:"dragRender",component:"dragComponent",keyFn:"dragKeyFn"}],n}(i.default);exports.RowDragging=ae;var ue=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="scrolling",n}(i.default);exports.Scrolling=ue;var pe=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="searchPanel",n.DefaultsProps={defaultText:"text"},n}(i.default);exports.SearchPanel=pe;var se=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="selection",n}(i.default);exports.Selection=se;var me=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="show",n}(i.default);exports.Show=me;var ce=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="items",n.IsCollectionItem=!0,n.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],n.PredefinedProps={itemType:"simple"},n}(i.default);exports.SimpleItem=ce;var de=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="sorting",n}(i.default);exports.Sorting=de;var fe=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="stateStoring",n}(i.default);exports.StateStoring=fe;var he=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="validationRules",n.IsCollectionItem=!0,n.PredefinedProps={type:"stringLength"},n}(i.default);exports.StringLengthRule=he;var Ce=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="tabs",n.IsCollectionItem=!0,n.ExpectedChildren={colCountByScreen:{optionName:"colCountByScreen",isCollectionItem:!1}},n.TemplateProps=[{tmplOption:"tabTemplate",render:"tabRender",component:"tabComponent",keyFn:"tabKeyFn"},{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],n}(i.default);exports.Tab=Ce;var ye=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="items",n.IsCollectionItem=!0,n.ExpectedChildren={tab:{optionName:"tabs",isCollectionItem:!0},tabPanelOptions:{optionName:"tabPanelOptions",isCollectionItem:!1}},n.PredefinedProps={itemType:"tabbed"},n}(i.default);exports.TabbedItem=ye;var Ie=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="tabPanelOptions",n.DefaultsProps={defaultItems:"items",defaultSelectedIndex:"selectedIndex",defaultSelectedItem:"selectedItem",defaultSelectedItemKeys:"selectedItemKeys",defaultSelectedItems:"selectedItems"},n.ExpectedChildren={item:{optionName:"items",isCollectionItem:!0},tabPanelOptionsItem:{optionName:"items",isCollectionItem:!0}},n.TemplateProps=[{tmplOption:"itemTemplate",render:"itemRender",component:"itemComponent",keyFn:"itemKeyFn"},{tmplOption:"itemTitleTemplate",render:"itemTitleRender",component:"itemTitleComponent",keyFn:"itemTitleKeyFn"}],n}(i.default);exports.TabPanelOptions=Ie;var Ne=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="items",n.IsCollectionItem=!0,n.TemplateProps=[{tmplOption:"tabTemplate",render:"tabRender",component:"tabComponent",keyFn:"tabKeyFn"},{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],n}(i.default);exports.TabPanelOptionsItem=Ne;var xe=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="texts",n}(i.default);exports.Texts=xe;var Oe=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="toolbarItems",n.IsCollectionItem=!0,n.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],n}(i.default);exports.ToolbarItem=Oe;var ge=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="headerFilter",n.ExpectedChildren={texts:{optionName:"texts",isCollectionItem:!1},treeListHeaderFilterTexts:{optionName:"texts",isCollectionItem:!1}},n}(i.default);exports.TreeListHeaderFilter=ge;var be=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="texts",n}(i.default);exports.TreeListHeaderFilterTexts=be;var ve=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.OptionName="validationRules",n.IsCollectionItem=!0,n.PredefinedProps={type:"required"},n}(i.default);exports.ValidationRule=ve,exports.default=l;
},{"devextreme/ui/tree_list":"BlEh","prop-types":"D9Od","./core/component":"gysY","./core/nested-option":"hZUb"}],"lY9v":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("react")),t=require("devextreme-react/tree-list");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,o){return t&&l(e.prototype,t),o&&l(e,o),e}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(o){function n(e){var t;return a(this,n),(t=u(this,s(n).call(this,e))).state={selectors:e.selectors||[],focusedRowKey:1,selectedRowInput:[],selectedRowOutput:"",selectedRowName:"",selectedRowSelector:""},t.onFocusRowChange=t.onFocusRowChange.bind(i(t)),t.refreshAll=t.refreshAll.bind(i(t)),t.refreshLatestSelectedSelector=t.refreshLatestSelectedSelector.bind(i(t)),t}return d(n,e.Component),c(n,[{key:"componentDidMount",value:function(){var e=this;chrome.runtime.onMessageExternal.addListener(function(t,o,n){e.setState({selectedRowOutput:t.data.output})})}},{key:"onFocusRowChange",value:function(e){if(e.row&&e.row.data){var t=e.row.data,o=t.name,n=t.selector.dependencies,r=o||"",a=(void 0===n?[]:n).map(function(e){return e.selectorName||"anonymous"});if(r){var l="__RESELECT_TOOLS__.evaluateSelector('".concat(r,"', '").concat(chrome.runtime.id,"')");this.setState({focusedRowKey:e.component.option("focusedRowKey"),selectedRowName:r,selectedRowInput:a,selectedRowSelector:""},function(){chrome&&chrome.devtools.inspectedWindow.eval(l,function(e,t){t?console.log(t):console.log("RESELECT_TOOLS_EXTENSION - requested output value for': ".concat(r," "))})})}else this.setState({focusedRowKey:e.component.option("focusedRowKey")})}}},{key:"refreshAll",value:function(){var e=this;chrome&&chrome.devtools.inspectedWindow.eval("__RESELECT_TOOLS__.getAllGoodSelectorsTableData()",function(t,o){e.setState({selectors:t})})}},{key:"refreshLatestSelectedSelector",value:function(){if(this.state.selectedRowName.length>0){var e="__RESELECT_TOOLS__.evaluateSelector('".concat(this.state.selectedRowName,"', '").concat(chrome.runtime.id,"')");if(chrome)chrome.devtools.inspectedWindow.eval(e)}}},{key:"getTotalRecomputation",value:function(e){var t=this;return e.length>0?e.reduce(function(e,o){return e+o.recomputations+t.getTotalRecomputation(o.dependencies)},0):0}},{key:"render",value:function(){var o=this.state.selectors,n=this.state,r=n.focusedRowKey,a=n.selectedRowOutput,l=n.selectedRowInput;return o.length>0?e.default.createElement("div",{className:"App",style:{backgroundColor:"white",width:"100%"}},e.default.createElement("div",{className:"app-controls app-controls-fixed"},e.default.createElement("button",{className:"app-control-button",onClick:this.refreshAll},"  Refresh All")),e.default.createElement("div",{className:"app-container"},e.default.createElement("div",{className:"dx-viewport"},e.default.createElement(t.TreeList,{id:"selectors",dataSource:o,focusedRowKey:r,focusedRowEnabled:!0,showRowLines:!0,showBorders:!0,columnAutoWidth:!1,autoExpandAll:!1,itemsExpr:"dependencies",dataStructure:"tree",onFocusedRowChanged:this.onFocusRowChange},e.default.createElement(t.Scrolling,{mode:"standard"}),e.default.createElement(t.Paging,{enabled:!0,defaultPageSize:10}),e.default.createElement(t.Pager,{showPageSizeSelector:!0,allowedPageSizes:[10,20,50,100],showInfo:!0}),e.default.createElement(t.SearchPanel,{visible:!0}),e.default.createElement(t.Column,{dataField:"name",caption:"Name"}),e.default.createElement(t.Column,{dataField:"recomputations",dataType:"Recomputations",hidingPriority:2}))),e.default.createElement("div",{className:"details"},e.default.createElement("div",{className:"info"},e.default.createElement("h3",null,"Input: "),e.default.createElement("pre",null,JSON.stringify(l,null,2)),e.default.createElement("h3",null,"Output: "),e.default.createElement("pre",null,JSON.stringify(a,null,2))),e.default.createElement("div",{className:"info"},e.default.createElement("h3",null,"Total Recomputations:"),e.default.createElement("p",null,this.getTotalRecomputation(o))),e.default.createElement("div",{className:"app-controls"},e.default.createElement("button",{className:"app-control-button",onClick:this.refreshLatestSelectedSelector},"  Refresh Selector"))))):"Loading..."}}]),n}();exports.default=p;
},{"react":"n8MK","devextreme-react/tree-list":"H3hC"}],"iMte":[function(require,module,exports) {

},{}],"Focm":[function(require,module,exports) {
"use strict";var e=l(require("react")),t=l(require("react-dom")),r=l(require("./App"));function l(e){return e&&e.__esModule?e:{default:e}}require("./style.css"),chrome.devtools.inspectedWindow.eval("window.__RESELECT_TOOLS__.getAllGoodSelectorsTableData()",function(l){t.default.render(e.default.createElement(r.default,{selectors:l}),document.getElementById("panel"))});
},{"react":"n8MK","react-dom":"NKHc","./App":"lY9v","./style.css":"iMte"}]},{},["Focm"], null)
//# sourceMappingURL=/panel.js.map